var v3=Object.defineProperty;var JR=n=>{throw TypeError(n)};var _3=(n,e,t)=>e in n?v3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var mr=(n,e,t)=>_3(n,typeof e!="symbol"?e+"":e,t),RE=(n,e,t)=>e.has(n)||JR("Cannot "+t);var te=(n,e,t)=>(RE(n,e,"read from private field"),t?t.call(n):e.get(n)),dt=(n,e,t)=>e.has(n)?JR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),He=(n,e,t,r)=>(RE(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Wt=(n,e,t)=>(RE(n,e,"access private method"),t);var rx=(n,e,t,r)=>({set _(s){He(n,e,s,t)},get _(){return te(n,e,r)}});function b3(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var IE={exports:{}},P_={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR;function w3(){if(XR)return P_;XR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var u in s)u!=="key"&&(a[u]=s[u])}else a=s;return s=a.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:a}}return P_.Fragment=e,P_.jsx=t,P_.jsxs=t,P_}var ZR;function x3(){return ZR||(ZR=1,IE.exports=w3()),IE.exports}var g=x3(),Ny=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},S3={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},Wd,eA,XO,E3=(XO=class{constructor(){dt(this,Wd,S3);dt(this,eA,!1)}setTimeoutProvider(n){He(this,Wd,n)}setTimeout(n,e){return te(this,Wd).setTimeout(n,e)}clearTimeout(n){te(this,Wd).clearTimeout(n)}setInterval(n,e){return te(this,Wd).setInterval(n,e)}clearInterval(n){te(this,Wd).clearInterval(n)}},Wd=new WeakMap,eA=new WeakMap,XO),pm=new E3;function T3(n){setTimeout(n,0)}var Dm=typeof window>"u"||"Deno"in globalThis;function xi(){}function C3(n,e){return typeof n=="function"?n(e):n}function zT(n){return typeof n=="number"&&n>=0&&n!==1/0}function cD(n,e){return Math.max(n+(e||0)-Date.now(),0)}function rf(n,e){return typeof n=="function"?n(e):n}function io(n,e){return typeof n=="function"?n(e):n}function eI(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:l,stale:u}=n;if(l){if(r){if(e.queryHash!==tA(l,e.options))return!1}else if(!gb(e.queryKey,l))return!1}if(t!=="all"){const f=e.isActive();if(t==="active"&&!f||t==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function tI(n,e){const{exact:t,status:r,predicate:s,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(Pm(e.options.mutationKey)!==Pm(a))return!1}else if(!gb(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function tA(n,e){return((e==null?void 0:e.queryKeyHashFn)||Pm)(n)}function Pm(n){return JSON.stringify(n,(e,t)=>qT(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function gb(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>gb(n[t],e[t])):!1}var A3=Object.prototype.hasOwnProperty;function uD(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=nI(n)&&nI(e);if(!r&&!(qT(n)&&qT(e)))return e;const a=(r?n:Object.keys(n)).length,l=r?e:Object.keys(e),u=l.length,f=r?new Array(u):{};let m=0;for(let y=0;y<u;y++){const _=r?y:l[y],b=n[_],E=e[_];if(b===E){f[_]=b,(r?y<a:A3.call(n,_))&&m++;continue}if(b===null||E===null||typeof b!="object"||typeof E!="object"){f[_]=E;continue}const T=uD(b,E,t+1);f[_]=T,T===b&&m++}return a===u&&m===a?n:f}function zx(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function nI(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function qT(n){if(!rI(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!rI(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function rI(n){return Object.prototype.toString.call(n)==="[object Object]"}function R3(n){return new Promise(e=>{pm.setTimeout(e,n)})}function WT(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?uD(n,e):e}function I3(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function N3(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var nA=Symbol();function dD(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===nA?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function rA(n,e){return typeof n=="function"?n(...e):!!n}function k3(n,e,t){let r=!1,s;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?t():s.addEventListener("abort",t,{once:!0})),s)}),n}var wm,Hd,Zg,ZO,O3=(ZO=class extends Ny{constructor(){super();dt(this,wm);dt(this,Hd);dt(this,Zg);He(this,Zg,e=>{if(!Dm&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){te(this,Hd)||this.setEventListener(te(this,Zg))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,Hd))==null||e.call(this),He(this,Hd,void 0))}setEventListener(e){var t;He(this,Zg,e),(t=te(this,Hd))==null||t.call(this),He(this,Hd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){te(this,wm)!==e&&(He(this,wm,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof te(this,wm)=="boolean"?te(this,wm):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},wm=new WeakMap,Hd=new WeakMap,Zg=new WeakMap,ZO),sA=new O3;function HT(){let n,e;const t=new Promise((s,a)=>{n=s,e=a});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}var D3=T3;function P3(){let n=[],e=0,t=u=>{u()},r=u=>{u()},s=D3;const a=u=>{e?n.push(u):s(()=>{t(u)})},l=()=>{const u=n;n=[],u.length&&s(()=>{r(()=>{u.forEach(f=>{t(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||l()}return f},batchCalls:u=>(...f)=>{a(()=>{u(...f)})},schedule:a,setNotifyFunction:u=>{t=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var us=P3(),ey,$d,ty,eD,M3=(eD=class extends Ny{constructor(){super();dt(this,ey,!0);dt(this,$d);dt(this,ty);He(this,ty,e=>{if(!Dm&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){te(this,$d)||this.setEventListener(te(this,ty))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,$d))==null||e.call(this),He(this,$d,void 0))}setEventListener(e){var t;He(this,ty,e),(t=te(this,$d))==null||t.call(this),He(this,$d,e(this.setOnline.bind(this)))}setOnline(e){te(this,ey)!==e&&(He(this,ey,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return te(this,ey)}},ey=new WeakMap,$d=new WeakMap,ty=new WeakMap,eD),qx=new M3;function j3(n){return Math.min(1e3*2**n,3e4)}function fD(n){return(n??"online")==="online"?qx.isOnline():!0}var $T=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function hD(n){let e=!1,t=0,r;const s=HT(),a=()=>s.status!=="pending",l=C=>{var N;if(!a()){const M=new $T(C);b(M),(N=n.onCancel)==null||N.call(n,M)}},u=()=>{e=!0},f=()=>{e=!1},m=()=>sA.isFocused()&&(n.networkMode==="always"||qx.isOnline())&&n.canRun(),y=()=>fD(n.networkMode)&&n.canRun(),_=C=>{a()||(r==null||r(),s.resolve(C))},b=C=>{a()||(r==null||r(),s.reject(C))},E=()=>new Promise(C=>{var N;r=M=>{(a()||m())&&C(M)},(N=n.onPause)==null||N.call(n)}).then(()=>{var C;r=void 0,a()||(C=n.onContinue)==null||C.call(n)}),T=()=>{if(a())return;let C;const N=t===0?n.initialPromise:void 0;try{C=N??n.fn()}catch(M){C=Promise.reject(M)}Promise.resolve(C).then(_).catch(M=>{var K;if(a())return;const B=n.retry??(Dm?0:3),U=n.retryDelay??j3,Y=typeof U=="function"?U(t,M):U,W=B===!0||typeof B=="number"&&t<B||typeof B=="function"&&B(t,M);if(e||!W){b(M);return}t++,(K=n.onFail)==null||K.call(n,t,M),R3(Y).then(()=>m()?void 0:E()).then(()=>{e?b(M):T()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:u,continueRetry:f,canStart:y,start:()=>(y()?T():E().then(T),s)}}var xm,tD,mD=(tD=class{constructor(){dt(this,xm)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zT(this.gcTime)&&He(this,xm,pm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Dm?1/0:300*1e3))}clearGcTimeout(){te(this,xm)&&(pm.clearTimeout(te(this,xm)),He(this,xm,void 0))}},xm=new WeakMap,tD),Sm,ny,so,Em,_s,qb,Tm,Qo,iu,nD,L3=(nD=class extends mD{constructor(t){super();dt(this,Qo);dt(this,Sm);dt(this,ny);dt(this,so);dt(this,Em);dt(this,_s);dt(this,qb);dt(this,Tm);He(this,Tm,!1),He(this,qb,t.defaultOptions),this.setOptions(t.options),this.observers=[],He(this,Em,t.client),He(this,so,te(this,Em).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,He(this,Sm,iI(this.options)),this.state=t.state??te(this,Sm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=te(this,_s))==null?void 0:t.promise}setOptions(t){if(this.options={...te(this,qb),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=iI(this.options);r.data!==void 0&&(this.setState(sI(r.data,r.dataUpdatedAt)),He(this,Sm,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,so).remove(this)}setData(t,r){const s=WT(this.state.data,t,this.options);return Wt(this,Qo,iu).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){Wt(this,Qo,iu).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=te(this,_s))==null?void 0:s.promise;return(a=te(this,_s))==null||a.cancel(t),r?r.then(xi).catch(xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,Sm))}isActive(){return this.observers.some(t=>io(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rf(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!cD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,_s))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=te(this,_s))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),te(this,so).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(te(this,_s)&&(te(this,Tm)?te(this,_s).cancel({revert:!0}):te(this,_s).cancelRetry()),this.scheduleGc()),te(this,so).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wt(this,Qo,iu).call(this,{type:"invalidate"})}async fetch(t,r){var m,y,_,b,E,T,C,N,M,B,U,Y;if(this.state.fetchStatus!=="idle"&&((m=te(this,_s))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(te(this,_s))return te(this,_s).continueRetry(),te(this,_s).promise}if(t&&this.setOptions(t),!this.options.queryFn){const W=this.observers.find(K=>K.options.queryFn);W&&this.setOptions(W.options)}const s=new AbortController,a=W=>{Object.defineProperty(W,"signal",{enumerable:!0,get:()=>(He(this,Tm,!0),s.signal)})},l=()=>{const W=dD(this.options,r),D=(()=>{const P={client:te(this,Em),queryKey:this.queryKey,meta:this.meta};return a(P),P})();return He(this,Tm,!1),this.options.persister?this.options.persister(W,D,this):W(D)},f=(()=>{const W={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:te(this,Em),state:this.state,fetchFn:l};return a(W),W})();(y=this.options.behavior)==null||y.onFetch(f,this),He(this,ny,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((_=f.fetchOptions)==null?void 0:_.meta))&&Wt(this,Qo,iu).call(this,{type:"fetch",meta:(b=f.fetchOptions)==null?void 0:b.meta}),He(this,_s,hD({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,onCancel:W=>{W instanceof $T&&W.revert&&this.setState({...te(this,ny),fetchStatus:"idle"}),s.abort()},onFail:(W,K)=>{Wt(this,Qo,iu).call(this,{type:"failed",failureCount:W,error:K})},onPause:()=>{Wt(this,Qo,iu).call(this,{type:"pause"})},onContinue:()=>{Wt(this,Qo,iu).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const W=await te(this,_s).start();if(W===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(W),(T=(E=te(this,so).config).onSuccess)==null||T.call(E,W,this),(N=(C=te(this,so).config).onSettled)==null||N.call(C,W,this.state.error,this),W}catch(W){if(W instanceof $T){if(W.silent)return te(this,_s).promise;if(W.revert){if(this.state.data===void 0)throw W;return this.state.data}}throw Wt(this,Qo,iu).call(this,{type:"error",error:W}),(B=(M=te(this,so).config).onError)==null||B.call(M,W,this),(Y=(U=te(this,so).config).onSettled)==null||Y.call(U,this.state.data,W,this),W}finally{this.scheduleGc()}}},Sm=new WeakMap,ny=new WeakMap,so=new WeakMap,Em=new WeakMap,_s=new WeakMap,qb=new WeakMap,Tm=new WeakMap,Qo=new WeakSet,iu=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...pD(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...sI(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return He(this,ny,t.manual?a:void 0),a;case"error":const l=t.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),us.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),te(this,so).notify({query:this,type:"updated",action:t})})},nD);function pD(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function sI(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iI(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Hi,ln,Wb,wi,Cm,ry,au,Gd,Hb,sy,iy,Am,Rm,Yd,ay,jn,Y_,GT,YT,KT,QT,JT,XT,ZT,gD,rD,V3=(rD=class extends Ny{constructor(e,t){super();dt(this,jn);dt(this,Hi);dt(this,ln);dt(this,Wb);dt(this,wi);dt(this,Cm);dt(this,ry);dt(this,au);dt(this,Gd);dt(this,Hb);dt(this,sy);dt(this,iy);dt(this,Am);dt(this,Rm);dt(this,Yd);dt(this,ay,new Set);this.options=t,He(this,Hi,e),He(this,Gd,null),He(this,au,HT()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,ln).addObserver(this),aI(te(this,ln),this.options)?Wt(this,jn,Y_).call(this):this.updateResult(),Wt(this,jn,QT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return eC(te(this,ln),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return eC(te(this,ln),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Wt(this,jn,JT).call(this),Wt(this,jn,XT).call(this),te(this,ln).removeObserver(this)}setOptions(e){const t=this.options,r=te(this,ln);if(this.options=te(this,Hi).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof io(this.options.enabled,te(this,ln))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Wt(this,jn,ZT).call(this),te(this,ln).setOptions(this.options),t._defaulted&&!zx(this.options,t)&&te(this,Hi).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,ln),observer:this});const s=this.hasListeners();s&&oI(te(this,ln),r,this.options,t)&&Wt(this,jn,Y_).call(this),this.updateResult(),s&&(te(this,ln)!==r||io(this.options.enabled,te(this,ln))!==io(t.enabled,te(this,ln))||rf(this.options.staleTime,te(this,ln))!==rf(t.staleTime,te(this,ln)))&&Wt(this,jn,GT).call(this);const a=Wt(this,jn,YT).call(this);s&&(te(this,ln)!==r||io(this.options.enabled,te(this,ln))!==io(t.enabled,te(this,ln))||a!==te(this,Yd))&&Wt(this,jn,KT).call(this,a)}getOptimisticResult(e){const t=te(this,Hi).getQueryCache().build(te(this,Hi),e),r=this.createResult(t,e);return U3(this,r)&&(He(this,wi,r),He(this,ry,this.options),He(this,Cm,te(this,ln).state)),r}getCurrentResult(){return te(this,wi)}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t==null||t(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&te(this,au).status==="pending"&&te(this,au).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){te(this,ay).add(e)}getCurrentQuery(){return te(this,ln)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=te(this,Hi).defaultQueryOptions(e),r=te(this,Hi).getQueryCache().build(te(this,Hi),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return Wt(this,jn,Y_).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,wi)))}createResult(e,t){var L;const r=te(this,ln),s=this.options,a=te(this,wi),l=te(this,Cm),u=te(this,ry),m=e!==r?e.state:te(this,Wb),{state:y}=e;let _={...y},b=!1,E;if(t._optimisticResults){const V=this.hasListeners(),q=!V&&aI(e,t),J=V&&oI(e,r,t,s);(q||J)&&(_={..._,...pD(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:T,errorUpdatedAt:C,status:N}=_;E=_.data;let M=!1;if(t.placeholderData!==void 0&&E===void 0&&N==="pending"){let V;a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData)?(V=a.data,M=!0):V=typeof t.placeholderData=="function"?t.placeholderData((L=te(this,iy))==null?void 0:L.state.data,te(this,iy)):t.placeholderData,V!==void 0&&(N="success",E=WT(a==null?void 0:a.data,V,t),b=!0)}if(t.select&&E!==void 0&&!M)if(a&&E===(l==null?void 0:l.data)&&t.select===te(this,Hb))E=te(this,sy);else try{He(this,Hb,t.select),E=t.select(E),E=WT(a==null?void 0:a.data,E,t),He(this,sy,E),He(this,Gd,null)}catch(V){He(this,Gd,V)}te(this,Gd)&&(T=te(this,Gd),E=te(this,sy),C=Date.now(),N="error");const B=_.fetchStatus==="fetching",U=N==="pending",Y=N==="error",W=U&&B,K=E!==void 0,P={status:N,fetchStatus:_.fetchStatus,isPending:U,isSuccess:N==="success",isError:Y,isInitialLoading:W,isLoading:W,data:E,dataUpdatedAt:_.dataUpdatedAt,error:T,errorUpdatedAt:C,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:B,isRefetching:B&&!U,isLoadingError:Y&&!K,isPaused:_.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:Y&&K,isStale:iA(e,t),refetch:this.refetch,promise:te(this,au),isEnabled:io(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const V=P.data!==void 0,q=P.status==="error"&&!V,J=de=>{q?de.reject(P.error):V&&de.resolve(P.data)},$=()=>{const de=He(this,au,P.promise=HT());J(de)},Ee=te(this,au);switch(Ee.status){case"pending":e.queryHash===r.queryHash&&J(Ee);break;case"fulfilled":(q||P.data!==Ee.value)&&$();break;case"rejected":(!q||P.error!==Ee.reason)&&$();break}}return P}updateResult(){const e=te(this,wi),t=this.createResult(te(this,ln),this.options);if(He(this,Cm,te(this,ln).state),He(this,ry,this.options),te(this,Cm).data!==void 0&&He(this,iy,te(this,ln)),zx(t,e))return;He(this,wi,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!te(this,ay).size)return!0;const l=new Set(a??te(this,ay));return this.options.throwOnError&&l.add("error"),Object.keys(te(this,wi)).some(u=>{const f=u;return te(this,wi)[f]!==e[f]&&l.has(f)})};Wt(this,jn,gD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Wt(this,jn,QT).call(this)}},Hi=new WeakMap,ln=new WeakMap,Wb=new WeakMap,wi=new WeakMap,Cm=new WeakMap,ry=new WeakMap,au=new WeakMap,Gd=new WeakMap,Hb=new WeakMap,sy=new WeakMap,iy=new WeakMap,Am=new WeakMap,Rm=new WeakMap,Yd=new WeakMap,ay=new WeakMap,jn=new WeakSet,Y_=function(e){Wt(this,jn,ZT).call(this);let t=te(this,ln).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(xi)),t},GT=function(){Wt(this,jn,JT).call(this);const e=rf(this.options.staleTime,te(this,ln));if(Dm||te(this,wi).isStale||!zT(e))return;const r=cD(te(this,wi).dataUpdatedAt,e)+1;He(this,Am,pm.setTimeout(()=>{te(this,wi).isStale||this.updateResult()},r))},YT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,ln)):this.options.refetchInterval)??!1},KT=function(e){Wt(this,jn,XT).call(this),He(this,Yd,e),!(Dm||io(this.options.enabled,te(this,ln))===!1||!zT(te(this,Yd))||te(this,Yd)===0)&&He(this,Rm,pm.setInterval(()=>{(this.options.refetchIntervalInBackground||sA.isFocused())&&Wt(this,jn,Y_).call(this)},te(this,Yd)))},QT=function(){Wt(this,jn,GT).call(this),Wt(this,jn,KT).call(this,Wt(this,jn,YT).call(this))},JT=function(){te(this,Am)&&(pm.clearTimeout(te(this,Am)),He(this,Am,void 0))},XT=function(){te(this,Rm)&&(pm.clearInterval(te(this,Rm)),He(this,Rm,void 0))},ZT=function(){const e=te(this,Hi).getQueryCache().build(te(this,Hi),this.options);if(e===te(this,ln))return;const t=te(this,ln);He(this,ln,e),He(this,Wb,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},gD=function(e){us.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(te(this,wi))}),te(this,Hi).getQueryCache().notify({query:te(this,ln),type:"observerResultsUpdated"})})},rD);function B3(n,e){return io(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function aI(n,e){return B3(n,e)||n.state.data!==void 0&&eC(n,e,e.refetchOnMount)}function eC(n,e,t){if(io(e.enabled,n)!==!1&&rf(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&iA(n,e)}return!1}function oI(n,e,t,r){return(n!==e||io(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&iA(n,t)}function iA(n,e){return io(e.enabled,n)!==!1&&n.isStaleByTime(rf(e.staleTime,n))}function U3(n,e){return!zx(n.getCurrentResult(),e)}function lI(n){return{onFetch:(e,t)=>{var y,_,b,E,T;const r=e.options,s=(b=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:b.direction,a=((E=e.state.data)==null?void 0:E.pages)||[],l=((T=e.state.data)==null?void 0:T.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const m=async()=>{let C=!1;const N=U=>{k3(U,()=>e.signal,()=>C=!0)},M=dD(e.options,e.fetchOptions),B=async(U,Y,W)=>{if(C)return Promise.reject();if(Y==null&&U.pages.length)return Promise.resolve(U);const D=(()=>{const q={client:e.client,queryKey:e.queryKey,pageParam:Y,direction:W?"backward":"forward",meta:e.options.meta};return N(q),q})(),P=await M(D),{maxPages:L}=e.options,V=W?N3:I3;return{pages:V(U.pages,P,L),pageParams:V(U.pageParams,Y,L)}};if(s&&a.length){const U=s==="backward",Y=U?F3:cI,W={pages:a,pageParams:l},K=Y(r,W);u=await B(W,K,U)}else{const U=n??a.length;do{const Y=f===0?l[0]??r.initialPageParam:cI(r,u);if(f>0&&Y==null)break;u=await B(u,Y),f++}while(f<U)}return u};e.options.persister?e.fetchFn=()=>{var C,N;return(N=(C=e.options).persister)==null?void 0:N.call(C,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=m}}}function cI(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function F3(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var $b,Jl,Qs,Im,Xl,Ld,sD,z3=(sD=class extends mD{constructor(t){super();dt(this,Xl);dt(this,$b);dt(this,Jl);dt(this,Qs);dt(this,Im);He(this,$b,t.client),this.mutationId=t.mutationId,He(this,Qs,t.mutationCache),He(this,Jl,[]),this.state=t.state||yD(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){te(this,Jl).includes(t)||(te(this,Jl).push(t),this.clearGcTimeout(),te(this,Qs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){He(this,Jl,te(this,Jl).filter(r=>r!==t)),this.scheduleGc(),te(this,Qs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){te(this,Jl).length||(this.state.status==="pending"?this.scheduleGc():te(this,Qs).remove(this))}continue(){var t;return((t=te(this,Im))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var u,f,m,y,_,b,E,T,C,N,M,B,U,Y,W,K,D,P;const r=()=>{Wt(this,Xl,Ld).call(this,{type:"continue"})},s={client:te(this,$b),meta:this.options.meta,mutationKey:this.options.mutationKey};He(this,Im,hD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(L,V)=>{Wt(this,Xl,Ld).call(this,{type:"failed",failureCount:L,error:V})},onPause:()=>{Wt(this,Xl,Ld).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,Qs).canRun(this)}));const a=this.state.status==="pending",l=!te(this,Im).canStart();try{if(a)r();else{Wt(this,Xl,Ld).call(this,{type:"pending",variables:t,isPaused:l}),te(this,Qs).config.onMutate&&await te(this,Qs).config.onMutate(t,this,s);const V=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,t,s));V!==this.state.context&&Wt(this,Xl,Ld).call(this,{type:"pending",context:V,variables:t,isPaused:l})}const L=await te(this,Im).start();return await((y=(m=te(this,Qs).config).onSuccess)==null?void 0:y.call(m,L,t,this.state.context,this,s)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,L,t,this.state.context,s)),await((T=(E=te(this,Qs).config).onSettled)==null?void 0:T.call(E,L,null,this.state.variables,this.state.context,this,s)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,L,null,t,this.state.context,s)),Wt(this,Xl,Ld).call(this,{type:"success",data:L}),L}catch(L){try{await((B=(M=te(this,Qs).config).onError)==null?void 0:B.call(M,L,t,this.state.context,this,s))}catch(V){Promise.reject(V)}try{await((Y=(U=this.options).onError)==null?void 0:Y.call(U,L,t,this.state.context,s))}catch(V){Promise.reject(V)}try{await((K=(W=te(this,Qs).config).onSettled)==null?void 0:K.call(W,void 0,L,this.state.variables,this.state.context,this,s))}catch(V){Promise.reject(V)}try{await((P=(D=this.options).onSettled)==null?void 0:P.call(D,void 0,L,t,this.state.context,s))}catch(V){Promise.reject(V)}throw Wt(this,Xl,Ld).call(this,{type:"error",error:L}),L}finally{te(this,Qs).runNext(this)}}},$b=new WeakMap,Jl=new WeakMap,Qs=new WeakMap,Im=new WeakMap,Xl=new WeakSet,Ld=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),us.batch(()=>{te(this,Jl).forEach(s=>{s.onMutationUpdate(t)}),te(this,Qs).notify({mutation:this,type:"updated",action:t})})},sD);function yD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ou,Jo,Gb,iD,q3=(iD=class extends Ny{constructor(e={}){super();dt(this,ou);dt(this,Jo);dt(this,Gb);this.config=e,He(this,ou,new Set),He(this,Jo,new Map),He(this,Gb,0)}build(e,t,r){const s=new z3({client:e,mutationCache:this,mutationId:++rx(this,Gb)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){te(this,ou).add(e);const t=ix(e);if(typeof t=="string"){const r=te(this,Jo).get(t);r?r.push(e):te(this,Jo).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,ou).delete(e)){const t=ix(e);if(typeof t=="string"){const r=te(this,Jo).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&te(this,Jo).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ix(e);if(typeof t=="string"){const r=te(this,Jo).get(t),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=ix(e);if(typeof t=="string"){const s=(r=te(this,Jo).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){us.batch(()=>{te(this,ou).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,ou).clear(),te(this,Jo).clear()})}getAll(){return Array.from(te(this,ou))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tI(t,r))}findAll(e={}){return this.getAll().filter(t=>tI(e,t))}notify(e){us.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return us.batch(()=>Promise.all(e.map(t=>t.continue().catch(xi))))}},ou=new WeakMap,Jo=new WeakMap,Gb=new WeakMap,iD);function ix(n){var e;return(e=n.options.scope)==null?void 0:e.id}var lu,Kd,$i,cu,_u,Tx,tC,aD,W3=(aD=class extends Ny{constructor(t,r){super();dt(this,_u);dt(this,lu);dt(this,Kd);dt(this,$i);dt(this,cu);He(this,lu,t),this.setOptions(r),this.bindMethods(),Wt(this,_u,Tx).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=te(this,lu).defaultMutationOptions(t),zx(this.options,r)||te(this,lu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:te(this,$i),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Pm(r.mutationKey)!==Pm(this.options.mutationKey)?this.reset():((s=te(this,$i))==null?void 0:s.state.status)==="pending"&&te(this,$i).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=te(this,$i))==null||t.removeObserver(this)}onMutationUpdate(t){Wt(this,_u,Tx).call(this),Wt(this,_u,tC).call(this,t)}getCurrentResult(){return te(this,Kd)}reset(){var t;(t=te(this,$i))==null||t.removeObserver(this),He(this,$i,void 0),Wt(this,_u,Tx).call(this),Wt(this,_u,tC).call(this)}mutate(t,r){var s;return He(this,cu,r),(s=te(this,$i))==null||s.removeObserver(this),He(this,$i,te(this,lu).getMutationCache().build(te(this,lu),this.options)),te(this,$i).addObserver(this),te(this,$i).execute(t)}},lu=new WeakMap,Kd=new WeakMap,$i=new WeakMap,cu=new WeakMap,_u=new WeakSet,Tx=function(){var r;const t=((r=te(this,$i))==null?void 0:r.state)??yD();He(this,Kd,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},tC=function(t){us.batch(()=>{var r,s,a,l,u,f,m,y;if(te(this,cu)&&this.hasListeners()){const _=te(this,Kd).variables,b=te(this,Kd).context,E={client:te(this,lu),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(s=(r=te(this,cu)).onSuccess)==null||s.call(r,t.data,_,b,E)}catch(T){Promise.reject(T)}try{(l=(a=te(this,cu)).onSettled)==null||l.call(a,t.data,null,_,b,E)}catch(T){Promise.reject(T)}}else if((t==null?void 0:t.type)==="error"){try{(f=(u=te(this,cu)).onError)==null||f.call(u,t.error,_,b,E)}catch(T){Promise.reject(T)}try{(y=(m=te(this,cu)).onSettled)==null||y.call(m,void 0,t.error,_,b,E)}catch(T){Promise.reject(T)}}}this.listeners.forEach(_=>{_(te(this,Kd))})})},aD),Zl,oD,H3=(oD=class extends Ny{constructor(e={}){super();dt(this,Zl);this.config=e,He(this,Zl,new Map)}build(e,t,r){const s=t.queryKey,a=t.queryHash??tA(s,t);let l=this.get(a);return l||(l=new L3({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){te(this,Zl).has(e.queryHash)||(te(this,Zl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=te(this,Zl).get(e.queryHash);t&&(e.destroy(),t===e&&te(this,Zl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){us.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,Zl).get(e)}getAll(){return[...te(this,Zl).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>eI(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>eI(e,r)):t}notify(e){us.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){us.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){us.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zl=new WeakMap,oD),Or,Qd,Jd,oy,ly,Xd,cy,uy,lD,$3=(lD=class{constructor(n={}){dt(this,Or);dt(this,Qd);dt(this,Jd);dt(this,oy);dt(this,ly);dt(this,Xd);dt(this,cy);dt(this,uy);He(this,Or,n.queryCache||new H3),He(this,Qd,n.mutationCache||new q3),He(this,Jd,n.defaultOptions||{}),He(this,oy,new Map),He(this,ly,new Map),He(this,Xd,0)}mount(){rx(this,Xd)._++,te(this,Xd)===1&&(He(this,cy,sA.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,Or).onFocus())})),He(this,uy,qx.subscribe(async n=>{n&&(await this.resumePausedMutations(),te(this,Or).onOnline())})))}unmount(){var n,e;rx(this,Xd)._--,te(this,Xd)===0&&((n=te(this,cy))==null||n.call(this),He(this,cy,void 0),(e=te(this,uy))==null||e.call(this),He(this,uy,void 0))}isFetching(n){return te(this,Or).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return te(this,Qd).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=te(this,Or).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=te(this,Or).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(rf(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return te(this,Or).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=te(this,Or).get(r.queryHash),a=s==null?void 0:s.state.data,l=C3(e,a);if(l!==void 0)return te(this,Or).build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return us.batch(()=>te(this,Or).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=te(this,Or).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=te(this,Or);us.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=te(this,Or);return us.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=us.batch(()=>te(this,Or).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(xi).catch(xi)}invalidateQueries(n,e={}){return us.batch(()=>(te(this,Or).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=us.batch(()=>te(this,Or).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,t);return t.throwOnError||(a=a.catch(xi)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(xi)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=te(this,Or).build(this,e);return t.isStaleByTime(rf(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(xi).catch(xi)}fetchInfiniteQuery(n){return n.behavior=lI(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(xi).catch(xi)}ensureInfiniteQueryData(n){return n.behavior=lI(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return qx.isOnline()?te(this,Qd).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Or)}getMutationCache(){return te(this,Qd)}getDefaultOptions(){return te(this,Jd)}setDefaultOptions(n){He(this,Jd,n)}setQueryDefaults(n,e){te(this,oy).set(Pm(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...te(this,oy).values()],t={};return e.forEach(r=>{gb(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){te(this,ly).set(Pm(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...te(this,ly).values()],t={};return e.forEach(r=>{gb(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...te(this,Jd).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=tA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===nA&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...te(this,Jd).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){te(this,Or).clear(),te(this,Qd).clear()}},Or=new WeakMap,Qd=new WeakMap,Jd=new WeakMap,oy=new WeakMap,ly=new WeakMap,Xd=new WeakMap,cy=new WeakMap,uy=new WeakMap,lD),NE={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uI;function G3(){if(uI)return Mt;uI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function E(Q){return Q===null||typeof Q!="object"?null:(Q=b&&Q[b]||Q["@@iterator"],typeof Q=="function"?Q:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function M(Q,ye,Ce){this.props=Q,this.context=ye,this.refs=N,this.updater=Ce||T}M.prototype.isReactComponent={},M.prototype.setState=function(Q,ye){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ye,"setState")},M.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function B(){}B.prototype=M.prototype;function U(Q,ye,Ce){this.props=Q,this.context=ye,this.refs=N,this.updater=Ce||T}var Y=U.prototype=new B;Y.constructor=U,C(Y,M.prototype),Y.isPureReactComponent=!0;var W=Array.isArray;function K(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function L(Q,ye,Ce){var Ne=Ce.ref;return{$$typeof:n,type:Q,key:ye,ref:Ne!==void 0?Ne:null,props:Ce}}function V(Q,ye){return L(Q.type,ye,Q.props)}function q(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function J(Q){var ye={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(Ce){return ye[Ce]})}var $=/\/+/g;function Ee(Q,ye){return typeof Q=="object"&&Q!==null&&Q.key!=null?J(""+Q.key):ye.toString(36)}function de(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(K,K):(Q.status="pending",Q.then(function(ye){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ye)},function(ye){Q.status==="pending"&&(Q.status="rejected",Q.reason=ye)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function X(Q,ye,Ce,Ne,Ue){var nt=typeof Q;(nt==="undefined"||nt==="boolean")&&(Q=null);var Ae=!1;if(Q===null)Ae=!0;else switch(nt){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(Q.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=Q._init,X(Ae(Q._payload),ye,Ce,Ne,Ue)}}if(Ae)return Ue=Ue(Q),Ae=Ne===""?"."+Ee(Q,0):Ne,W(Ue)?(Ce="",Ae!=null&&(Ce=Ae.replace($,"$&/")+"/"),X(Ue,ye,Ce,"",function(yt){return yt})):Ue!=null&&(q(Ue)&&(Ue=V(Ue,Ce+(Ue.key==null||Q&&Q.key===Ue.key?"":(""+Ue.key).replace($,"$&/")+"/")+Ae)),ye.push(Ue)),1;Ae=0;var it=Ne===""?".":Ne+":";if(W(Q))for(var ct=0;ct<Q.length;ct++)Ne=Q[ct],nt=it+Ee(Ne,ct),Ae+=X(Ne,ye,Ce,nt,Ue);else if(ct=E(Q),typeof ct=="function")for(Q=ct.call(Q),ct=0;!(Ne=Q.next()).done;)Ne=Ne.value,nt=it+Ee(Ne,ct++),Ae+=X(Ne,ye,Ce,nt,Ue);else if(nt==="object"){if(typeof Q.then=="function")return X(de(Q),ye,Ce,Ne,Ue);throw ye=String(Q),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function ce(Q,ye,Ce){if(Q==null)return Q;var Ne=[],Ue=0;return X(Q,Ne,"","",function(nt){return ye.call(Ce,nt,Ue++)}),Ne}function se(Q){if(Q._status===-1){var ye=Q._result;ye=ye(),ye.then(function(Ce){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=Ce)},function(Ce){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=Ce)}),Q._status===-1&&(Q._status=0,Q._result=ye)}if(Q._status===1)return Q._result.default;throw Q._result}var Pe=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ye=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ye))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},_e={map:ce,forEach:function(Q,ye,Ce){ce(Q,function(){ye.apply(this,arguments)},Ce)},count:function(Q){var ye=0;return ce(Q,function(){ye++}),ye},toArray:function(Q){return ce(Q,function(ye){return ye})||[]},only:function(Q){if(!q(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return Mt.Activity=_,Mt.Children=_e,Mt.Component=M,Mt.Fragment=t,Mt.Profiler=s,Mt.PureComponent=U,Mt.StrictMode=r,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return D.H.useMemoCache(Q)}},Mt.cache=function(Q){return function(){return Q.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(Q,ye,Ce){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var Ne=C({},Q.props),Ue=Q.key;if(ye!=null)for(nt in ye.key!==void 0&&(Ue=""+ye.key),ye)!P.call(ye,nt)||nt==="key"||nt==="__self"||nt==="__source"||nt==="ref"&&ye.ref===void 0||(Ne[nt]=ye[nt]);var nt=arguments.length-2;if(nt===1)Ne.children=Ce;else if(1<nt){for(var Ae=Array(nt),it=0;it<nt;it++)Ae[it]=arguments[it+2];Ne.children=Ae}return L(Q.type,Ue,Ne)},Mt.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:a,_context:Q},Q},Mt.createElement=function(Q,ye,Ce){var Ne,Ue={},nt=null;if(ye!=null)for(Ne in ye.key!==void 0&&(nt=""+ye.key),ye)P.call(ye,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ue[Ne]=ye[Ne]);var Ae=arguments.length-2;if(Ae===1)Ue.children=Ce;else if(1<Ae){for(var it=Array(Ae),ct=0;ct<Ae;ct++)it[ct]=arguments[ct+2];Ue.children=it}if(Q&&Q.defaultProps)for(Ne in Ae=Q.defaultProps,Ae)Ue[Ne]===void 0&&(Ue[Ne]=Ae[Ne]);return L(Q,nt,Ue)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(Q){return{$$typeof:u,render:Q}},Mt.isValidElement=q,Mt.lazy=function(Q){return{$$typeof:y,_payload:{_status:-1,_result:Q},_init:se}},Mt.memo=function(Q,ye){return{$$typeof:m,type:Q,compare:ye===void 0?null:ye}},Mt.startTransition=function(Q){var ye=D.T,Ce={};D.T=Ce;try{var Ne=Q(),Ue=D.S;Ue!==null&&Ue(Ce,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(K,Pe)}catch(nt){Pe(nt)}finally{ye!==null&&Ce.types!==null&&(ye.types=Ce.types),D.T=ye}},Mt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Mt.use=function(Q){return D.H.use(Q)},Mt.useActionState=function(Q,ye,Ce){return D.H.useActionState(Q,ye,Ce)},Mt.useCallback=function(Q,ye){return D.H.useCallback(Q,ye)},Mt.useContext=function(Q){return D.H.useContext(Q)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(Q,ye){return D.H.useDeferredValue(Q,ye)},Mt.useEffect=function(Q,ye){return D.H.useEffect(Q,ye)},Mt.useEffectEvent=function(Q){return D.H.useEffectEvent(Q)},Mt.useId=function(){return D.H.useId()},Mt.useImperativeHandle=function(Q,ye,Ce){return D.H.useImperativeHandle(Q,ye,Ce)},Mt.useInsertionEffect=function(Q,ye){return D.H.useInsertionEffect(Q,ye)},Mt.useLayoutEffect=function(Q,ye){return D.H.useLayoutEffect(Q,ye)},Mt.useMemo=function(Q,ye){return D.H.useMemo(Q,ye)},Mt.useOptimistic=function(Q,ye){return D.H.useOptimistic(Q,ye)},Mt.useReducer=function(Q,ye,Ce){return D.H.useReducer(Q,ye,Ce)},Mt.useRef=function(Q){return D.H.useRef(Q)},Mt.useState=function(Q){return D.H.useState(Q)},Mt.useSyncExternalStore=function(Q,ye,Ce){return D.H.useSyncExternalStore(Q,ye,Ce)},Mt.useTransition=function(){return D.H.useTransition()},Mt.version="19.2.4",Mt}var dI;function Zm(){return dI||(dI=1,NE.exports=G3()),NE.exports}var I=Zm();const Ve=L1(I),aA=b3({__proto__:null,default:Ve},[I]);var vD=I.createContext(void 0),Iu=n=>{const e=I.useContext(vD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Y3=({client:n,children:e})=>(I.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),g.jsx(vD.Provider,{value:n,children:e})),_D=I.createContext(!1),K3=()=>I.useContext(_D);_D.Provider;function Q3(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var J3=I.createContext(Q3()),X3=()=>I.useContext(J3),Z3=(n,e,t)=>{const r=t!=null&&t.state.error&&typeof n.throwOnError=="function"?rA(n.throwOnError,[t.state.error,t]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||r)&&(e.isReset()||(n.retryOnMount=!1))},eV=n=>{I.useEffect(()=>{n.clearReset()},[n])},tV=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||rA(t,[n.error,r])),nV=n=>{if(n.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},rV=(n,e)=>n.isLoading&&n.isFetching&&!e,sV=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,fI=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function iV(n,e,t){var b,E,T,C;const r=K3(),s=X3(),a=Iu(),l=a.defaultQueryOptions(n);(E=(b=a.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||E.call(b,l);const u=a.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",nV(l),Z3(l,s,u),eV(s);const f=!a.getQueryCache().get(l.queryHash),[m]=I.useState(()=>new e(a,l)),y=m.getOptimisticResult(l),_=!r&&n.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(N=>{const M=_?m.subscribe(us.batchCalls(N)):xi;return m.updateResult(),M},[m,_]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),I.useEffect(()=>{m.setOptions(l)},[l,m]),sV(l,y))throw fI(l,m,s);if(tV({result:y,errorResetBoundary:s,throwOnError:l.throwOnError,query:u,suspense:l.suspense}))throw y.error;if((C=(T=a.getDefaultOptions().queries)==null?void 0:T._experimental_afterQuery)==null||C.call(T,l,y),l.experimental_prefetchInRender&&!Dm&&rV(y,r)){const N=f?fI(l,m,s):u==null?void 0:u.promise;N==null||N.catch(xi).finally(()=>{m.updateResult()})}return l.notifyOnChangeProps?y:m.trackResult(y)}function $l(n,e){return iV(n,V3)}function ds(n,e){const t=Iu(),[r]=I.useState(()=>new W3(t,n));I.useEffect(()=>{r.setOptions(n)},[r,n]);const s=I.useSyncExternalStore(I.useCallback(l=>r.subscribe(us.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=I.useCallback((l,u)=>{r.mutate(l,u).catch(xi)},[r]);if(s.error&&rA(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const nC=new WeakMap,aV=new WeakMap,Wx={current:[]};let kE=!1,ob=0;const K_=new Set,ax=new Map;function bD(n){for(const e of n){if(Wx.current.includes(e))continue;Wx.current.push(e),e.recompute();const t=aV.get(e);if(t)for(const r of t){const s=nC.get(r);s!=null&&s.length&&bD(s)}}}function oV(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function lV(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function wD(n){if(ob>0&&!ax.has(n)&&ax.set(n,n.prevState),K_.add(n),!(ob>0)&&!kE)try{for(kE=!0;K_.size>0;){const e=Array.from(K_);K_.clear();for(const t of e){const r=ax.get(t)??t.prevState;t.prevState=r,oV(t)}for(const t of e){const r=nC.get(t);r&&(Wx.current.push(t),bD(r))}for(const t of e){const r=nC.get(t);if(r)for(const s of r)lV(s)}}}finally{kE=!1,Wx.current=[],ax.clear()}}function cV(n){ob++;try{n()}finally{if(ob--,ob===0){const e=K_.values().next().value;e&&wD(e)}}}function uV(n){return typeof n=="function"}class dV{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var s,a;this.listeners.add(r);const l=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,r,this);return()=>{this.listeners.delete(r),l==null||l()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,r,s;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):uV(e)?this.state=e(this.prevState):this.state=e,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),wD(this)}}const sf="__TSR_index",hI="popstate",mI="beforeunload";function fV(n){let e=n.getLocation();const t=new Set,r=l=>{e=n.getLocation(),t.forEach(u=>u({location:e,action:l}))},s=l=>{n.notifyOnIndexChange??!0?r(l):e=n.getLocation()},a=async({task:l,navigateOpts:u,...f})=>{var b,E;if((u==null?void 0:u.ignoreBlocker)??!1){l();return}const y=((b=n.getBlockers)==null?void 0:b.call(n))??[],_=f.type==="PUSH"||f.type==="REPLACE";if(typeof document<"u"&&y.length&&_)for(const T of y){const C=Hx(f.path,f.state);if(await T.blockerFn({currentLocation:e,nextLocation:C,action:f.type})){(E=n.onBlocked)==null||E.call(n);return}}l()};return{get location(){return e},get length(){return n.getLength()},subscribers:t,subscribe:l=>(t.add(l),()=>{t.delete(l)}),push:(l,u,f)=>{const m=e.state[sf];u=pI(m+1,u),a({task:()=>{n.pushState(l,u),r({type:"PUSH"})},navigateOpts:f,type:"PUSH",path:l,state:u})},replace:(l,u,f)=>{const m=e.state[sf];u=pI(m,u),a({task:()=>{n.replaceState(l,u),r({type:"REPLACE"})},navigateOpts:f,type:"REPLACE",path:l,state:u})},go:(l,u)=>{a({task:()=>{n.go(l),s({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{a({task:()=>{n.back((l==null?void 0:l.ignoreBlocker)??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{n.forward((l==null?void 0:l.ignoreBlocker)??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>e.state[sf]!==0,createHref:l=>n.createHref(l),block:l=>{var f;if(!n.setBlockers)return()=>{};const u=((f=n.getBlockers)==null?void 0:f.call(n))??[];return n.setBlockers([...u,l]),()=>{var y,_;const m=((y=n.getBlockers)==null?void 0:y.call(n))??[];(_=n.setBlockers)==null||_.call(n,m.filter(b=>b!==l))}},flush:()=>{var l;return(l=n.flush)==null?void 0:l.call(n)},destroy:()=>{var l;return(l=n.destroy)==null?void 0:l.call(n)},notify:r}}function pI(n,e){e||(e={});const t=oA();return{...e,key:t,__TSR_key:t,[sf]:n}}function hV(n){var P,L;const e=typeof document<"u"?window:void 0,t=e.history.pushState,r=e.history.replaceState;let s=[];const a=()=>s,l=V=>s=V,u=(V=>V),f=(()=>Hx(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!((P=e.history.state)!=null&&P.__TSR_key)&&!((L=e.history.state)!=null&&L.key)){const V=oA();e.history.replaceState({[sf]:0,key:V,__TSR_key:V},"")}let m=f(),y,_=!1,b=!1,E=!1,T=!1;const C=()=>m;let N,M;const B=()=>{N&&(D._ignoreSubscribers=!0,(N.isPush?e.history.pushState:e.history.replaceState)(N.state,"",N.href),D._ignoreSubscribers=!1,N=void 0,M=void 0,y=void 0)},U=(V,q,J)=>{const $=u(q);M||(y=m),m=Hx(q,J),N={href:$,state:J,isPush:(N==null?void 0:N.isPush)||V==="push"},M||(M=Promise.resolve().then(()=>B()))},Y=V=>{m=f(),D.notify({type:V})},W=async()=>{if(b){b=!1;return}const V=f(),q=V.state[sf]-m.state[sf],J=q===1,$=q===-1,Ee=!J&&!$||_;_=!1;const de=Ee?"GO":$?"BACK":"FORWARD",X=Ee?{type:"GO",index:q}:{type:$?"BACK":"FORWARD"};if(E)E=!1;else{const ce=a();if(typeof document<"u"&&ce.length){for(const se of ce)if(await se.blockerFn({currentLocation:m,nextLocation:V,action:de})){b=!0,e.history.go(1),D.notify(X);return}}}m=f(),D.notify(X)},K=V=>{if(T){T=!1;return}let q=!1;const J=a();if(typeof document<"u"&&J.length)for(const $ of J){const Ee=$.enableBeforeUnload??!0;if(Ee===!0){q=!0;break}if(typeof Ee=="function"&&Ee()===!0){q=!0;break}}if(q)return V.preventDefault(),V.returnValue=""},D=fV({getLocation:C,getLength:()=>e.history.length,pushState:(V,q)=>U("push",V,q),replaceState:(V,q)=>U("replace",V,q),back:V=>(V&&(E=!0),T=!0,e.history.back()),forward:V=>{V&&(E=!0),T=!0,e.history.forward()},go:V=>{_=!0,e.history.go(V)},createHref:V=>u(V),flush:B,destroy:()=>{e.history.pushState=t,e.history.replaceState=r,e.removeEventListener(mI,K,{capture:!0}),e.removeEventListener(hI,W)},onBlocked:()=>{y&&m!==y&&(m=y)},getBlockers:a,setBlockers:l,notifyOnIndexChange:!1});return e.addEventListener(mI,K,{capture:!0}),e.addEventListener(hI,W),e.history.pushState=function(...V){const q=t.apply(e.history,V);return D._ignoreSubscribers||Y("PUSH"),q},e.history.replaceState=function(...V){const q=r.apply(e.history,V);return D._ignoreSubscribers||Y("REPLACE"),q},D}function mV(n){let e=n.replace(/[\x00-\x1f\x7f]/g,"");return e.startsWith("//")&&(e="/"+e.replace(/^\/+/,"")),e}function Hx(n,e){const t=mV(n),r=t.indexOf("#"),s=t.indexOf("?"),a=oA();return{href:t,pathname:t.substring(0,r>0?s>0?Math.min(r,s):r:s>0?s:t.length),hash:r>-1?t.substring(r):"",search:s>-1?t.slice(s,r===-1?void 0:r):"",state:e||{[sf]:0,key:a,__TSR_key:a}}}function oA(){return(Math.random()+1).toString(36).substring(7)}const pV=!1;function lb(n){let e;return cV(()=>{e=n()}),e}function yb(n){return n[n.length-1]}function gV(n){return typeof n=="function"}function Zd(n,e){return gV(n)?n(e):n}const yV=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable;function Sa(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=e,s=_I(n)&&_I(r);if(!s&&!($x(n)&&$x(r)))return r;const a=s?n:yI(n);if(!a)return r;const l=s?r:yI(r);if(!l)return r;const u=a.length,f=l.length,m=s?new Array(f):{};let y=0;for(let _=0;_<f;_++){const b=s?_:l[_],E=n[b],T=r[b];if(E===T){m[b]=E,(s?_<u:yV.call(n,b))&&y++;continue}if(E===null||T===null||typeof E!="object"||typeof T!="object"){m[b]=T;continue}const C=Sa(E,T,t+1);m[b]=C,C===E&&y++}return u===f&&y===u?n:m}function yI(n){const e=Object.getOwnPropertyNames(n);for(const s of e)if(!gI.call(n,s))return!1;const t=Object.getOwnPropertySymbols(n);if(t.length===0)return e;const r=e;for(const s of t){if(!gI.call(n,s))return!1;r.push(s)}return r}function $x(n){if(!vI(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!vI(t)||!t.hasOwnProperty("isPrototypeOf"))}function vI(n){return Object.prototype.toString.call(n)==="[object Object]"}function _I(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Nm(n,e,t){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let r=0,s=n.length;r<s;r++)if(!Nm(n[r],e[r],t))return!1;return!0}if($x(n)&&$x(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0;if(t!=null&&t.partial){for(const l in e)if((!r||e[l]!==void 0)&&!Nm(n[l],e[l],t))return!1;return!0}let s=0;if(!r)s=Object.keys(n).length;else for(const l in n)n[l]!==void 0&&s++;let a=0;for(const l in e)if((!r||e[l]!==void 0)&&(a++,a>s||!Nm(n[l],e[l],t)))return!1;return s===a}return!1}function dy(n){let e,t;const r=new Promise((s,a)=>{e=s,t=a});return r.status="pending",r.resolve=s=>{r.status="resolved",r.value=s,e(s),n==null||n(s)},r.reject=s=>{r.status="rejected",t(s)},r}function zg(n){return!!(n&&typeof n=="object"&&typeof n.then=="function")}function vV(n){return n.replace(/[\x00-\x1f\x7f]/g,"")}function bI(n){let e;try{e=decodeURI(n)}catch{e=n.replaceAll(/%[0-9A-F]{2}/gi,t=>{try{return decodeURI(t)}catch{return t}})}return vV(e)}const xD=["http:","https:","mailto:","tel:"];function Gx(n){if(!n)return!1;try{const e=new URL(n);return!xD.includes(e.protocol)}catch{return!1}}function M_(n){if(!n)return{path:n,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(n)&&!n.startsWith("//"))return{path:n,handledProtocolRelativeURL:!1};const e=/%25|%5C/gi;let t=0,r="",s;for(;(s=e.exec(n))!==null;)r+=bI(n.slice(t,s.index))+s[0],t=e.lastIndex;r=r+bI(t?n.slice(t):n);let a=!1;return r.startsWith("//")&&(a=!0,r="/"+r.replace(/^\/+/,"")),{path:r,handledProtocolRelativeURL:a}}function _V(n){return/\s|[^\u0000-\u007F]/.test(n)?n.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):n}var bV="Invariant failed";function bu(n,e){if(!n)throw new Error(bV)}function Yx(n){const e=new Map;let t,r;const s=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,r&&(r.next=a,a.prev=r)):(a.next.prev=void 0,t=a.next,a.next=void 0,r&&(a.prev=r,r.next=a)),r=a)};return{get(a){const l=e.get(a);if(l)return s(l),l.value},set(a,l){if(e.size>=n&&t){const f=t;e.delete(f.key),f.next&&(t=f.next,f.next.prev=void 0),f===r&&(r=void 0)}const u=e.get(a);if(u)u.value=l,s(u);else{const f={key:a,value:l,prev:r};r&&(r.next=f),r=f,t||(t=f),e.set(a,f)}},clear(){e.clear(),t=void 0,r=void 0}}}const fy=0,Mm=1,jm=2,vb=3,gm=4,SD=5;function wV(n){const e=n.indexOf("{");if(e===-1)return null;const t=n.indexOf("}",e);return t===-1||e+1>=n.length?null:[e,t]}function lA(n,e,t=new Uint16Array(6)){const r=n.indexOf("/",e),s=r===-1?n.length:r,a=n.substring(e,s);if(!a||!a.includes("$"))return t[0]=fy,t[1]=e,t[2]=e,t[3]=s,t[4]=s,t[5]=s,t;if(a==="$"){const u=n.length;return t[0]=jm,t[1]=e,t[2]=e,t[3]=u,t[4]=u,t[5]=u,t}if(a.charCodeAt(0)===36)return t[0]=Mm,t[1]=e,t[2]=e+1,t[3]=s,t[4]=s,t[5]=s,t;const l=wV(a);if(l){const[u,f]=l,m=a.charCodeAt(u+1);if(m===45){if(u+2<a.length&&a.charCodeAt(u+2)===36){const y=u+3,_=f;if(y<_)return t[0]=vb,t[1]=e+u,t[2]=e+y,t[3]=e+_,t[4]=e+f+1,t[5]=s,t}}else if(m===36){const y=u+1,_=u+2;return _===f?(t[0]=jm,t[1]=e+u,t[2]=e+y,t[3]=e+_,t[4]=e+f+1,t[5]=n.length,t):(t[0]=Mm,t[1]=e+u,t[2]=e+_,t[3]=e+f,t[4]=e+f+1,t[5]=s,t)}}return t[0]=fy,t[1]=e,t[2]=e,t[3]=s,t[4]=s,t[5]=s,t}function V1(n,e,t,r,s,a,l){var f,m,y,_,b,E,T,C,N,M,B,U,Y;l==null||l(t);let u=r;{const W=t.fullPath??t.from,K=W.length,D=((f=t.options)==null?void 0:f.caseSensitive)??n,P=!!((y=(m=t.options)==null?void 0:m.params)!=null&&y.parse&&((b=(_=t.options)==null?void 0:_.skipRouteOnParseError)!=null&&b.params));for(;u<K;){const V=lA(W,u,e);let q;const J=u,$=V[5];switch(u=$+1,a++,V[0]){case fy:{const de=W.substring(V[2],V[3]);if(D){const X=(E=s.static)==null?void 0:E.get(de);if(X)q=X;else{s.static??(s.static=new Map);const ce=ym(t.fullPath??t.from);ce.parent=s,ce.depth=a,q=ce,s.static.set(de,ce)}}else{const X=de.toLowerCase(),ce=(T=s.staticInsensitive)==null?void 0:T.get(X);if(ce)q=ce;else{s.staticInsensitive??(s.staticInsensitive=new Map);const se=ym(t.fullPath??t.from);se.parent=s,se.depth=a,q=se,s.staticInsensitive.set(X,se)}}break}case Mm:{const de=W.substring(J,V[1]),X=W.substring(V[4],$),ce=D&&!!(de||X),se=de?ce?de:de.toLowerCase():void 0,Pe=X?ce?X:X.toLowerCase():void 0,_e=!P&&((C=s.dynamic)==null?void 0:C.find(Q=>!Q.skipOnParamError&&Q.caseSensitive===ce&&Q.prefix===se&&Q.suffix===Pe));if(_e)q=_e;else{const Q=DE(Mm,t.fullPath??t.from,ce,se,Pe);q=Q,Q.depth=a,Q.parent=s,s.dynamic??(s.dynamic=[]),s.dynamic.push(Q)}break}case vb:{const de=W.substring(J,V[1]),X=W.substring(V[4],$),ce=D&&!!(de||X),se=de?ce?de:de.toLowerCase():void 0,Pe=X?ce?X:X.toLowerCase():void 0,_e=!P&&((N=s.optional)==null?void 0:N.find(Q=>!Q.skipOnParamError&&Q.caseSensitive===ce&&Q.prefix===se&&Q.suffix===Pe));if(_e)q=_e;else{const Q=DE(vb,t.fullPath??t.from,ce,se,Pe);q=Q,Q.parent=s,Q.depth=a,s.optional??(s.optional=[]),s.optional.push(Q)}break}case jm:{const de=W.substring(J,V[1]),X=W.substring(V[4],$),ce=D&&!!(de||X),se=de?ce?de:de.toLowerCase():void 0,Pe=X?ce?X:X.toLowerCase():void 0,_e=DE(jm,t.fullPath??t.from,ce,se,Pe);q=_e,_e.parent=s,_e.depth=a,s.wildcard??(s.wildcard=[]),s.wildcard.push(_e)}}s=q}if(P&&t.children&&!t.isRoot&&t.id&&t.id.charCodeAt(t.id.lastIndexOf("/")+1)===95){const V=ym(t.fullPath??t.from);V.kind=SD,V.parent=s,a++,V.depth=a,s.pathless??(s.pathless=[]),s.pathless.push(V),s=V}const L=(t.path||!t.children)&&!t.isRoot;if(L&&W.endsWith("/")){const V=ym(t.fullPath??t.from);V.kind=gm,V.parent=s,a++,V.depth=a,s.index=V,s=V}s.parse=((B=(M=t.options)==null?void 0:M.params)==null?void 0:B.parse)??null,s.skipOnParamError=P,s.parsingPriority=((Y=(U=t.options)==null?void 0:U.skipRouteOnParseError)==null?void 0:Y.priority)??0,L&&!s.route&&(s.route=t,s.fullPath=t.fullPath??t.from)}if(t.children)for(const W of t.children)V1(n,e,W,u,s,a,l)}function OE(n,e){if(n.skipOnParamError&&!e.skipOnParamError)return-1;if(!n.skipOnParamError&&e.skipOnParamError)return 1;if(n.skipOnParamError&&e.skipOnParamError&&(n.parsingPriority||e.parsingPriority))return e.parsingPriority-n.parsingPriority;if(n.prefix&&e.prefix&&n.prefix!==e.prefix){if(n.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(n.prefix))return 1}if(n.suffix&&e.suffix&&n.suffix!==e.suffix){if(n.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(n.suffix))return 1}return n.prefix&&!e.prefix?-1:!n.prefix&&e.prefix?1:n.suffix&&!e.suffix?-1:!n.suffix&&e.suffix?1:n.caseSensitive&&!e.caseSensitive?-1:!n.caseSensitive&&e.caseSensitive?1:0}function Bd(n){var e,t,r;if(n.pathless)for(const s of n.pathless)Bd(s);if(n.static)for(const s of n.static.values())Bd(s);if(n.staticInsensitive)for(const s of n.staticInsensitive.values())Bd(s);if((e=n.dynamic)!=null&&e.length){n.dynamic.sort(OE);for(const s of n.dynamic)Bd(s)}if((t=n.optional)!=null&&t.length){n.optional.sort(OE);for(const s of n.optional)Bd(s)}if((r=n.wildcard)!=null&&r.length){n.wildcard.sort(OE);for(const s of n.wildcard)Bd(s)}}function ym(n){return{kind:fy,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function DE(n,e,t,r,s){return{kind:n,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:t,prefix:r,suffix:s}}function xV(n,e){const t=ym("/"),r=new Uint16Array(6);for(const s of n)V1(!1,r,s,1,t,0);Bd(t),e.masksTree=t,e.flatCache=Yx(1e3)}function SV(n,e){n||(n="/");const t=e.flatCache.get(n);if(t)return t;const r=cA(n,e.masksTree);return e.flatCache.set(n,r),r}function EV(n,e,t,r,s){n||(n="/"),r||(r="/");const a=e?`case\0${n}`:n;let l=s.singleCache.get(a);if(!l){l=ym("/");const u=new Uint16Array(6);V1(e,u,{from:n},1,l,0),s.singleCache.set(a,l)}return cA(r,l,t)}function TV(n,e,t=!1){const r=t?n:`nofuzz\0${n}`,s=e.matchCache.get(r);if(s!==void 0)return s;n||(n="/");let a;try{a=cA(n,e.segmentTree,t)}catch(l){if(l instanceof URIError)a=null;else throw l}return a&&(a.branch=RV(a.route)),e.matchCache.set(r,a),a}function CV(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function AV(n,e=!1,t){const r=ym(n.fullPath),s=new Uint16Array(6),a={},l={};let u=0;return V1(e,s,n,1,r,0,m=>{if(t==null||t(m,u),bu(!(m.id in a),`Duplicate routes found with id: ${String(m.id)}`),a[m.id]=m,u!==0&&m.path){const y=CV(m.fullPath);(!l[y]||m.fullPath.endsWith("/"))&&(l[y]=m)}u++}),Bd(r),{processedTree:{segmentTree:r,singleCache:Yx(1e3),matchCache:Yx(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:l}}function cA(n,e,t=!1){const r=n.split("/"),s=NV(n,r,e,t);if(!s)return null;const[a]=ED(n,r,s);return{route:s.node.route,rawParams:a,parsedParams:s.parsedParams}}function ED(n,e,t){var y,_,b,E,T,C,N,M,B,U;const r=IV(t.node);let s=null;const a={};let l=((y=t.extract)==null?void 0:y.part)??0,u=((_=t.extract)==null?void 0:_.node)??0,f=((b=t.extract)==null?void 0:b.path)??0,m=((E=t.extract)==null?void 0:E.segment)??0;for(;u<r.length;l++,u++,f++,m++){const Y=r[u];if(Y.kind===gm)break;if(Y.kind===SD){m--,l--,f--;continue}const W=e[l],K=f;if(W&&(f+=W.length),Y.kind===Mm){s??(s=t.node.fullPath.split("/"));const D=s[m],P=((T=Y.prefix)==null?void 0:T.length)??0;if(D.charCodeAt(P)===123){const V=((C=Y.suffix)==null?void 0:C.length)??0,q=D.substring(P+2,D.length-V-1),J=W.substring(P,W.length-V);a[q]=decodeURIComponent(J)}else{const V=D.substring(1);a[V]=decodeURIComponent(W)}}else if(Y.kind===vb){if(t.skipped&1<<u){l--,f=K-1;continue}s??(s=t.node.fullPath.split("/"));const D=s[m],P=((N=Y.prefix)==null?void 0:N.length)??0,L=((M=Y.suffix)==null?void 0:M.length)??0,V=D.substring(P+3,D.length-L-1),q=Y.suffix||Y.prefix?W.substring(P,W.length-L):W;q&&(a[V]=decodeURIComponent(q))}else if(Y.kind===jm){const D=Y,P=n.substring(K+(((B=D.prefix)==null?void 0:B.length)??0),n.length-(((U=D.suffix)==null?void 0:U.length)??0)),L=decodeURIComponent(P);a["*"]=L,a._splat=L;break}}return t.rawParams&&Object.assign(a,t.rawParams),[a,{part:l,node:u,path:f,segment:m}]}function RV(n){const e=[n];for(;n.parentRoute;)n=n.parentRoute,e.push(n);return e.reverse(),e}function IV(n){const e=Array(n.depth+1);do e[n.depth]=n,n=n.parent;while(n);return e}function NV(n,e,t,r){if(n==="/"&&t.index)return{node:t.index,skipped:0};const s=!yb(e),a=s&&n!=="/",l=e.length-(s?1:0),u=[{node:t,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let f=null,m=null,y=null;for(;u.length;){const _=u.pop(),{node:b,index:E,skipped:T,depth:C,statics:N,dynamics:M,optionals:B}=_;let{extract:U,rawParams:Y,parsedParams:W}=_;if(b.skipOnParamError){if(!PE(n,e,_))continue;Y=_.rawParams,U=_.extract,W=_.parsedParams}r&&b.route&&b.kind!==gm&&j_(m,_)&&(m=_);const K=E===l;if(K&&(b.route&&!a&&j_(y,_)&&(y=_),!b.optional&&!b.wildcard&&!b.index&&!b.pathless))continue;const D=K?void 0:e[E];let P;if(K&&b.index){const L={node:b.index,index:E,skipped:T,depth:C+1,statics:N,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W};let V=!0;if(b.index.skipOnParamError&&(PE(n,e,L)||(V=!1)),V){if(N===l&&!M&&!B&&!T)return L;j_(y,L)&&(y=L)}}if(b.wildcard&&j_(f,_))for(const L of b.wildcard){const{prefix:V,suffix:q}=L;if(V&&(K||!(L.caseSensitive?D:P??(P=D.toLowerCase())).startsWith(V)))continue;if(q){if(K)continue;const $=e.slice(E).join("/").slice(-q.length);if((L.caseSensitive?$:$.toLowerCase())!==q)continue}const J={node:L,index:l,skipped:T,depth:C,statics:N,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W};if(!(L.skipOnParamError&&!PE(n,e,J))){f=J;break}}if(b.optional){const L=T|1<<C,V=C+1;for(let q=b.optional.length-1;q>=0;q--){const J=b.optional[q];u.push({node:J,index:E,skipped:L,depth:V,statics:N,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W})}if(!K)for(let q=b.optional.length-1;q>=0;q--){const J=b.optional[q],{prefix:$,suffix:Ee}=J;if($||Ee){const de=J.caseSensitive?D:P??(P=D.toLowerCase());if($&&!de.startsWith($)||Ee&&!de.endsWith(Ee))continue}u.push({node:J,index:E+1,skipped:T,depth:V,statics:N,dynamics:M,optionals:B+1,extract:U,rawParams:Y,parsedParams:W})}}if(!K&&b.dynamic&&D)for(let L=b.dynamic.length-1;L>=0;L--){const V=b.dynamic[L],{prefix:q,suffix:J}=V;if(q||J){const $=V.caseSensitive?D:P??(P=D.toLowerCase());if(q&&!$.startsWith(q)||J&&!$.endsWith(J))continue}u.push({node:V,index:E+1,skipped:T,depth:C+1,statics:N,dynamics:M+1,optionals:B,extract:U,rawParams:Y,parsedParams:W})}if(!K&&b.staticInsensitive){const L=b.staticInsensitive.get(P??(P=D.toLowerCase()));L&&u.push({node:L,index:E+1,skipped:T,depth:C+1,statics:N+1,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W})}if(!K&&b.static){const L=b.static.get(D);L&&u.push({node:L,index:E+1,skipped:T,depth:C+1,statics:N+1,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W})}if(b.pathless){const L=C+1;for(let V=b.pathless.length-1;V>=0;V--){const q=b.pathless[V];u.push({node:q,index:E,skipped:T,depth:L,statics:N,dynamics:M,optionals:B,extract:U,rawParams:Y,parsedParams:W})}}}if(y&&f)return j_(f,y)?y:f;if(y)return y;if(f)return f;if(r&&m){let _=m.index;for(let E=0;E<m.index;E++)_+=e[E].length;const b=_===n.length?"/":n.slice(_);return m.rawParams??(m.rawParams={}),m.rawParams["**"]=decodeURIComponent(b),m}return null}function PE(n,e,t){try{const[r,s]=ED(n,e,t);t.rawParams=r,t.extract=s;const a=t.node.parse(r);return t.parsedParams=Object.assign({},t.parsedParams,a),!0}catch{return null}}function j_(n,e){return n?e.statics>n.statics||e.statics===n.statics&&(e.dynamics>n.dynamics||e.dynamics===n.dynamics&&(e.optionals>n.optionals||e.optionals===n.optionals&&((e.node.kind===gm)>(n.node.kind===gm)||e.node.kind===gm==(n.node.kind===gm)&&e.depth>n.depth))):!0}function Cx(n){return uA(n.filter(e=>e!==void 0).join("/"))}function uA(n){return n.replace(/\/{2,}/g,"/")}function TD(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function du(n){const e=n.length;return e>1&&n[e-1]==="/"?n.replace(/\/{1,}$/,""):n}function CD(n){return du(TD(n))}function Kx(n,e){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${e}/`?n.slice(0,-1):n}function kV(n,e,t){return Kx(n,t)===Kx(e,t)}function OV({base:n,to:e,trailingSlash:t="never",cache:r}){const s=e.startsWith("/"),a=!s&&e===".";let l;if(r){l=s?e:a?n:n+"\0"+e;const _=r.get(l);if(_)return _}let u;if(a)u=n.split("/");else if(s)u=e.split("/");else{for(u=n.split("/");u.length>1&&yb(u)==="";)u.pop();const _=e.split("/");for(let b=0,E=_.length;b<E;b++){const T=_[b];T===""?b?b===E-1&&u.push(T):u=[T]:T===".."?u.pop():T==="."||u.push(T)}}u.length>1&&(yb(u)===""?t==="never"&&u.pop():t==="always"&&u.push(""));let f,m="";for(let _=0;_<u.length;_++){_>0&&(m+="/");const b=u[_];if(!b)continue;f=lA(b,0,f);const E=f[0];if(E===fy){m+=b;continue}const T=f[5],C=b.substring(0,f[1]),N=b.substring(f[4],T),M=b.substring(f[2],f[3]);E===Mm?m+=C||N?`${C}{$${M}}${N}`:`$${M}`:E===jm?m+=C||N?`${C}{$}${N}`:"$":m+=`${C}{-$${M}}${N}`}m=uA(m);const y=m||"/";return l&&r&&r.set(l,y),y}function DV(n){const e=new Map(n.map(s=>[encodeURIComponent(s),s])),t=Array.from(e.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),r=new RegExp(t,"g");return s=>s.replace(r,a=>e.get(a)??a)}function ME(n,e,t){const r=e[n];return typeof r!="string"?r:n==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(r)?r:r.split("/").map(s=>wI(s,t)).join("/"):wI(r,t)}function jE({path:n,params:e,decoder:t,...r}){let s=!1;const a={};if(!n||n==="/")return{interpolatedPath:"/",usedParams:a,isMissingParams:s};if(!n.includes("$"))return{interpolatedPath:n,usedParams:a,isMissingParams:s};const l=n.length;let u=0,f,m="";for(;u<l;){const _=u;f=lA(n,_,f);const b=f[5];if(u=b+1,_===b)continue;const E=f[0];if(E===fy){m+="/"+n.substring(_,b);continue}if(E===jm){const T=e._splat;a._splat=T,a["*"]=T;const C=n.substring(_,f[1]),N=n.substring(f[4],b);if(!T){s=!0,(C||N)&&(m+="/"+C+N);continue}const M=ME("_splat",e,t);m+="/"+C+M+N;continue}if(E===Mm){const T=n.substring(f[2],f[3]);!s&&!(T in e)&&(s=!0),a[T]=e[T];const C=n.substring(_,f[1]),N=n.substring(f[4],b),M=ME(T,e,t)??"undefined";m+="/"+C+M+N;continue}if(E===vb){const T=n.substring(f[2],f[3]),C=e[T];if(C==null)continue;a[T]=C;const N=n.substring(_,f[1]),M=n.substring(f[4],b),B=ME(T,e,t)??"";m+="/"+N+B+M;continue}}return n.endsWith("/")&&(m+="/"),{usedParams:a,interpolatedPath:m||"/",isMissingParams:s}}function wI(n,e){const t=encodeURIComponent(n);return(e==null?void 0:e(t))??t}function Oa(n){return!!(n!=null&&n.isNotFound)}function PV(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const rC="tsr-scroll-restoration-v1_3",MV=(n,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{n(...r),t=null},e))}};function jV(){const n=PV();if(!n)return null;const e=n.getItem(rC);let t=e?JSON.parse(e):{};return{state:t,set:r=>{t=Zd(r,t)||t;try{n.setItem(rC,JSON.stringify(t))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const ox=jV(),LV=n=>n.state.__TSR_key||n.href;function VV(n){const e=[];let t;for(;t=n.parentNode;)e.push(`${n.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,n)+1})`),n=t;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qx=!1;function BV({storageKey:n,key:e,behavior:t,shouldScrollRestoration:r,scrollToTopSelectors:s,location:a}){var m,y;let l;try{l=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(_){console.error(_);return}const u=e||((m=window.history.state)==null?void 0:m.__TSR_key),f=l[u];Qx=!0;e:{if(r&&f&&Object.keys(f).length>0){for(const E in f){const T=f[E];if(E==="window")window.scrollTo({top:T.scrollY,left:T.scrollX,behavior:t});else if(E){const C=document.querySelector(E);C&&(C.scrollLeft=T.scrollX,C.scrollTop=T.scrollY)}}break e}const _=(a??window.location).hash.split("#",2)[1];if(_){const E=((y=window.history.state)==null?void 0:y.__hashScrollIntoViewOptions)??!0;if(E){const T=document.getElementById(_);T&&T.scrollIntoView(E)}break e}const b={top:0,left:0,behavior:t};if(window.scrollTo(b),s)for(const E of s){if(E==="window")continue;const T=typeof E=="function"?E():document.querySelector(E);T&&T.scrollTo(b)}}Qx=!1}function UV(n,e){if(!ox||((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),n.isScrollRestorationSetup||!ox))return;n.isScrollRestorationSetup=!0,Qx=!1;const r=n.options.getScrollRestorationKey||LV;window.history.scrollRestoration="manual";const s=a=>{if(Qx||!n.isScrollRestoring)return;let l="";if(a.target===document||a.target===window)l="window";else{const f=a.target.getAttribute("data-scroll-restoration-id");f?l=`[data-scroll-restoration-id="${f}"]`:l=VV(a.target)}const u=r(n.state.location);ox.set(f=>{const m=f[u]||(f[u]={}),y=m[l]||(m[l]={});if(l==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(l){const _=document.querySelector(l);_&&(y.scrollX=_.scrollLeft||0,y.scrollY=_.scrollTop||0)}return f})};typeof document<"u"&&document.addEventListener("scroll",MV(s,100),!0),n.subscribe("onRendered",a=>{const l=r(a.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation})||(BV({storageKey:rC,key:l,behavior:n.options.scrollRestorationBehavior,shouldScrollRestoration:n.isScrollRestoring,scrollToTopSelectors:n.options.scrollToTopSelectors,location:n.history.location}),n.isScrollRestoring&&ox.set(u=>(u[l]||(u[l]={}),u)))})}function FV(n){if(typeof document<"u"&&document.querySelector){const e=n.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&n.state.location.hash!==""){const t=document.getElementById(n.state.location.hash);t&&t.scrollIntoView(e)}}}function zV(n,e=String){const t=new URLSearchParams;for(const r in n){const s=n[r];s!==void 0&&t.set(r,e(s))}return t.toString()}function LE(n){return n?n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n:""}function qV(n){const e=new URLSearchParams(n),t={};for(const[r,s]of e.entries()){const a=t[r];a==null?t[r]=LE(s):Array.isArray(a)?a.push(LE(s)):t[r]=[a,LE(s)]}return t}const WV=$V(JSON.parse),HV=GV(JSON.stringify,JSON.parse);function $V(n){return e=>{e[0]==="?"&&(e=e.substring(1));const t=qV(e);for(const r in t){const s=t[r];if(typeof s=="string")try{t[r]=n(s)}catch{}}return t}}function GV(n,e){const t=typeof e=="function";function r(s){if(typeof s=="object"&&s!==null)try{return n(s)}catch{}else if(t&&typeof s=="string")try{return e(s),n(s)}catch{}return s}return s=>{const a=zV(s,r);return a?`?${a}`:""}}const ao="__root__";function YV(n){if(n.statusCode=n.statusCode||n.code||307,!n._builtLocation&&typeof n.href=="string"&&Gx(n.href))throw new Error(`Redirect blocked: unsafe protocol in href "${n.href}". Only ${xD.join(", ")} protocols are allowed.`);if(!n._builtLocation&&!n.reloadDocument&&typeof n.href=="string")try{new URL(n.href),n.reloadDocument=!0}catch{}const e=new Headers(n.headers);n.href&&e.get("Location")===null&&e.set("Location",n.href);const t=new Response(null,{status:n.statusCode,headers:e});if(t.options=n,n.throw)throw t;return t}function lo(n){return n instanceof Response&&!!n.options}const Ax=n=>{var e;if(!n.rendered)return n.rendered=!0,(e=n.onReady)==null?void 0:e.call(n)},B1=(n,e)=>!!(n.preload&&!n.router.state.matches.some(t=>t.id===e)),qg=(n,e,t=!0)=>{const r={...n.router.options.context??{}},s=t?e:e-1;for(let a=0;a<=s;a++){const l=n.matches[a];if(!l)continue;const u=n.router.getMatch(l.id);u&&Object.assign(r,u.__routeContext,u.__beforeLoadContext)}return r},AD=(n,e,t)=>{var l;const r=n.router.routesById[e.routeId??""]??n.router.routeTree;!r.options.notFoundComponent&&((l=n.router.options)!=null&&l.defaultNotFoundComponent)&&(r.options.notFoundComponent=n.router.options.defaultNotFoundComponent);const s=t==="BEFORE_LOAD"&&r.parentRoute;s||bu(r.options.notFoundComponent);const a=n.matches.find(u=>u.routeId===r.id);bu(a,"Could not find match for route: "+r.id),n.updateMatch(a.id,u=>({...u,status:"notFound",error:e,isFetching:!1})),s&&(e.routeId=r.parentRoute.id,AD(n,e,t))},ef=(n,e,t,r)=>{var s,a,l;if(!(!lo(t)&&!Oa(t))){if(lo(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(e){(s=e._nonReactive.beforeLoadPromise)==null||s.resolve(),(a=e._nonReactive.loaderPromise)==null||a.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const u=lo(t)?"redirected":"notFound";e._nonReactive.error=t,n.updateMatch(e.id,f=>({...f,status:u,context:qg(n,e.index),isFetching:!1,error:t})),Oa(t)&&!t.routeId&&(t.routeId=e.routeId),(l=e._nonReactive.loadPromise)==null||l.resolve()}throw lo(t)?(n.rendered=!0,t.options._fromLocation=n.location,t.redirectHandled=!0,t=n.router.resolveRedirect(t),t):(AD(n,t,r),t)}},RD=(n,e)=>!!n.router.getMatch(e)._nonReactive.dehydrated,L_=(n,e,t,r)=>{var u,f;const{id:s,routeId:a}=n.matches[e],l=n.router.looseRoutesById[a];if(t instanceof Promise)throw t;t.routerCode=r,n.firstBadMatchIndex??(n.firstBadMatchIndex=e),ef(n,n.router.getMatch(s),t,r);try{(f=(u=l.options).onError)==null||f.call(u,t)}catch(m){t=m,ef(n,n.router.getMatch(s),t,r)}n.updateMatch(s,m=>{var y,_;return(y=m._nonReactive.beforeLoadPromise)==null||y.resolve(),m._nonReactive.beforeLoadPromise=void 0,(_=m._nonReactive.loadPromise)==null||_.resolve(),{...m,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},ID=(n,e,t,r)=>{var l;if(r._nonReactive.pendingTimeout!==void 0)return;const s=t.options.pendingMs??n.router.options.defaultPendingMs;if(!!(n.onReady&&!B1(n,e)&&(t.options.loader||t.options.beforeLoad||OD(t))&&typeof s=="number"&&s!==1/0&&(t.options.pendingComponent??((l=n.router.options)==null?void 0:l.defaultPendingComponent)))){const u=setTimeout(()=>{Ax(n)},s);r._nonReactive.pendingTimeout=u}},KV=(n,e,t)=>{const r=n.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;ID(n,e,t,r);const s=()=>{const a=n.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&ef(n,a,a.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(s):s()},QV=(n,e,t,r)=>{const s=n.router.getMatch(e),a=s._nonReactive.loadPromise;s._nonReactive.loadPromise=dy(()=>{a==null||a.resolve()});const{paramsError:l,searchError:u}=s;l&&L_(n,t,l,"PARSE_PARAMS"),u&&L_(n,t,u,"VALIDATE_SEARCH"),ID(n,e,r,s);const f=new AbortController;let m=!1;const y=()=>{m||(m=!0,n.updateMatch(e,Y=>({...Y,isFetching:"beforeLoad",fetchCount:Y.fetchCount+1,abortController:f})))},_=()=>{var Y;(Y=s._nonReactive.beforeLoadPromise)==null||Y.resolve(),s._nonReactive.beforeLoadPromise=void 0,n.updateMatch(e,W=>({...W,isFetching:!1}))};if(!r.options.beforeLoad){lb(()=>{y(),_()});return}s._nonReactive.beforeLoadPromise=dy();const b={...qg(n,t,!1),...s.__routeContext},{search:E,params:T,cause:C}=s,N=B1(n,e),M={search:E,abortController:f,params:T,preload:N,context:b,location:n.location,navigate:Y=>n.router.navigate({...Y,_fromLocation:n.location}),buildLocation:n.router.buildLocation,cause:N?"preload":C,matches:n.matches,routeId:r.id,...n.router.options.additionalContext},B=Y=>{if(Y===void 0){lb(()=>{y(),_()});return}(lo(Y)||Oa(Y))&&(y(),L_(n,t,Y,"BEFORE_LOAD")),lb(()=>{y(),n.updateMatch(e,W=>({...W,__beforeLoadContext:Y})),_()})};let U;try{if(U=r.options.beforeLoad(M),zg(U))return y(),U.catch(Y=>{L_(n,t,Y,"BEFORE_LOAD")}).then(B)}catch(Y){y(),L_(n,t,Y,"BEFORE_LOAD")}B(U)},JV=(n,e)=>{const{id:t,routeId:r}=n.matches[e],s=n.router.looseRoutesById[r],a=()=>u(),l=()=>QV(n,t,e,s),u=()=>{if(RD(n,t))return;const f=KV(n,t,s);return zg(f)?f.then(l):l()};return a()},XV=(n,e,t)=>{var a,l,u,f,m,y;const r=n.router.getMatch(e);if(!r||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const s={ssr:n.router.options.ssr,matches:n.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([(l=(a=t.options).head)==null?void 0:l.call(a,s),(f=(u=t.options).scripts)==null?void 0:f.call(u,s),(y=(m=t.options).headers)==null?void 0:y.call(m,s)]).then(([_,b,E])=>{const T=_==null?void 0:_.meta,C=_==null?void 0:_.links,N=_==null?void 0:_.scripts,M=_==null?void 0:_.styles;return{meta:T,links:C,headScripts:N,headers:E,scripts:b,styles:M}})},ND=(n,e,t,r)=>{const s=n.matchPromises[t-1],{params:a,loaderDeps:l,abortController:u,cause:f}=n.router.getMatch(e),m=qg(n,t),y=B1(n,e);return{params:a,deps:l,preload:!!y,parentMatchPromise:s,abortController:u,context:m,location:n.location,navigate:_=>n.router.navigate({..._,_fromLocation:n.location}),cause:y?"preload":f,route:r,...n.router.options.additionalContext}},xI=async(n,e,t,r)=>{var s,a,l,u,f,m,y;try{const _=n.router.getMatch(e);try{(!(pV??n.router.isServer)||_.ssr===!0)&&kD(r);const b=(a=(s=r.options).loader)==null?void 0:a.call(s,ND(n,e,t,r)),E=r.options.loader&&zg(b);if(!!(E||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||_._nonReactive.minPendingPromise)&&n.updateMatch(e,N=>({...N,isFetching:"loader"})),r.options.loader){const N=E?await b:b;ef(n,n.router.getMatch(e),N),N!==void 0&&n.updateMatch(e,M=>({...M,loaderData:N}))}r._lazyPromise&&await r._lazyPromise;const C=_._nonReactive.minPendingPromise;C&&await C,r._componentsPromise&&await r._componentsPromise,n.updateMatch(e,N=>({...N,error:void 0,context:qg(n,t),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(b){let E=b;if((E==null?void 0:E.name)==="AbortError"){if(_.abortController.signal.aborted){(l=_._nonReactive.loaderPromise)==null||l.resolve(),_._nonReactive.loaderPromise=void 0;return}n.updateMatch(e,C=>({...C,status:C.status==="pending"?"success":C.status,isFetching:!1,context:qg(n,t)}));return}const T=_._nonReactive.minPendingPromise;T&&await T,Oa(b)&&await((f=(u=r.options.notFoundComponent)==null?void 0:u.preload)==null?void 0:f.call(u)),ef(n,n.router.getMatch(e),b);try{(y=(m=r.options).onError)==null||y.call(m,b)}catch(C){E=C,ef(n,n.router.getMatch(e),C)}n.updateMatch(e,C=>({...C,error:E,context:qg(n,t),status:"error",isFetching:!1}))}}catch(_){const b=n.router.getMatch(e);b&&(b._nonReactive.loaderPromise=void 0),ef(n,b,_)}},ZV=async(n,e)=>{var y,_;async function t(b,E,T,C){const N=Date.now()-E.updatedAt,M=b?C.options.preloadStaleTime??n.router.options.defaultPreloadStaleTime??3e4:C.options.staleTime??n.router.options.defaultStaleTime??0,B=C.options.shouldReload,U=typeof B=="function"?B(ND(n,r,e,C)):B,{status:Y,invalid:W}=T;a=Y==="success"&&(W||(U??N>M)),b&&C.options.preload===!1||(a&&!n.sync?(l=!0,(async()=>{var K,D;try{await xI(n,r,e,C);const P=n.router.getMatch(r);(K=P._nonReactive.loaderPromise)==null||K.resolve(),(D=P._nonReactive.loadPromise)==null||D.resolve(),P._nonReactive.loaderPromise=void 0}catch(P){lo(P)&&await n.router.navigate(P.options)}})()):(Y!=="success"||a&&n.sync)&&await xI(n,r,e,C))}const{id:r,routeId:s}=n.matches[e];let a=!1,l=!1;const u=n.router.looseRoutesById[s];if(!RD(n,r)){const b=n.router.getMatch(r),E=B1(n,r);if(b._nonReactive.loaderPromise){if(b.status==="success"&&!n.sync&&!b.preload)return b;await b._nonReactive.loaderPromise;const T=n.router.getMatch(r),C=T._nonReactive.error||T.error;C&&ef(n,T,C),T.status==="pending"&&await t(E,b,T,u)}else{const T=E&&!n.router.state.matches.some(N=>N.id===r),C=n.router.getMatch(r);C._nonReactive.loaderPromise=dy(),T!==C.preload&&n.updateMatch(r,N=>({...N,preload:T})),await t(E,b,C,u)}}const f=n.router.getMatch(r);l||((y=f._nonReactive.loaderPromise)==null||y.resolve(),(_=f._nonReactive.loadPromise)==null||_.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,l||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const m=l?f.isFetching:!1;return m!==f.isFetching||f.invalid!==!1?(n.updateMatch(r,b=>({...b,isFetching:m,invalid:!1})),n.router.getMatch(r)):f};async function SI(n){const e=Object.assign(n,{matchPromises:[]});e.router.state.matches.some(t=>t._forcePending)&&Ax(e);try{for(let u=0;u<e.matches.length;u++){const f=JV(e,u);zg(f)&&await f}const t=e.firstBadMatchIndex??e.matches.length;for(let u=0;u<t;u++)e.matchPromises.push(ZV(e,u));const s=(await Promise.allSettled(e.matchPromises)).filter(u=>u.status==="rejected").map(u=>u.reason);let a;for(const u of s){if(lo(u))throw u;!a&&Oa(u)&&(a=u)}for(const u of e.matches){const{id:f,routeId:m}=u,y=e.router.looseRoutesById[m];try{const _=XV(e,f,y);if(_){const b=await _;e.updateMatch(f,E=>({...E,...b}))}}catch(_){console.error(`Error executing head for route ${m}:`,_)}}if(a)throw a;const l=Ax(e);zg(l)&&await l}catch(t){if(Oa(t)&&!e.preload){const r=Ax(e);throw zg(r)&&await r,t}if(lo(t))throw t}return e.matches}async function kD(n){if(!n._lazyLoaded&&n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(e=>{const{id:t,...r}=e.options;Object.assign(n.options,r),n._lazyLoaded=!0,n._lazyPromise=void 0}):n._lazyLoaded=!0),!n._componentsLoaded&&n._componentsPromise===void 0){const e=()=>{var r;const t=[];for(const s of DD){const a=(r=n.options[s])==null?void 0:r.preload;a&&t.push(a())}if(t.length)return Promise.all(t).then(()=>{n._componentsLoaded=!0,n._componentsPromise=void 0});n._componentsLoaded=!0,n._componentsPromise=void 0};n._componentsPromise=n._lazyPromise?n._lazyPromise.then(e):e()}return n._componentsPromise}function OD(n){var e;for(const t of DD)if((e=n.options[t])!=null&&e.preload)return!0;return!1}const DD=["component","errorComponent","pendingComponent","notFoundComponent"];function e6(n){return{input:({url:e})=>{for(const t of n)e=sC(t,e);return e},output:({url:e})=>{for(let t=n.length-1;t>=0;t--)e=PD(n[t],e);return e}}}function t6(n){const e=CD(n.basepath),t=`/${e}`,r=`${t}/`,s=n.caseSensitive?t:t.toLowerCase(),a=n.caseSensitive?r:r.toLowerCase();return{input:({url:l})=>{const u=n.caseSensitive?l.pathname:l.pathname.toLowerCase();return u===s?l.pathname="/":u.startsWith(a)&&(l.pathname=l.pathname.slice(t.length)),l},output:({url:l})=>(l.pathname=Cx(["/",e,l.pathname]),l)}}function sC(n,e){var r;const t=(r=n==null?void 0:n.input)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function PD(n,e){var r;const t=(r=n==null?void 0:n.output)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function km(n){const e=n.resolvedLocation,t=n.location,r=(e==null?void 0:e.pathname)!==t.pathname,s=(e==null?void 0:e.href)!==t.href,a=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:s,hashChanged:a}}class n6{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var b;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,s=this.basepath??(r==null?void 0:r.basepath)??"/",a=this.basepath===void 0,l=r==null?void 0:r.rewrite;if(this.options={...r,...t},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=DV(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=hV()),this.origin=this.options.origin,this.origin||(window!=null&&window.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let E;this.resolvePathCache=Yx(1e3),E=this.buildRouteTree(),this.setRoutes(E)}!this.__store&&this.latestLocation&&(this.__store=new dV(s6(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(E=>!["redirected"].includes(E.status))}}}),UV(this));let u=!1;const f=this.options.basepath??"/",m=this.options.rewrite;if(a||s!==f||l!==m){this.basepath=f;const E=[],T=CD(f);T&&T!=="/"&&E.push(t6({basepath:f})),m&&E.push(m),this.rewrite=E.length===0?void 0:E.length===1?E[0]:e6(E),this.history&&this.updateLatestLocation(),u=!0}u&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((b=window.CSS)==null?void 0:b.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const t=AV(this.routeTree,this.options.caseSensitive,(r,s)=>{r.init({originalIndex:s})});return this.options.routeMasks&&xV(this.options.routeMasks,t.processedTree),t},this.subscribe=(t,r)=>{const s={eventType:t,fn:r};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const s=({pathname:f,search:m,hash:y,href:_,state:b})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(f)){const B=this.options.parseSearch(m),U=this.options.stringifySearch(B);return{href:f+U+y,publicHref:_,pathname:M_(f).path,external:!1,searchStr:U,search:Sa(r==null?void 0:r.search,B),hash:M_(y.slice(1)).path,state:Sa(r==null?void 0:r.state,b)}}const E=new URL(_,this.origin),T=sC(this.rewrite,E),C=this.options.parseSearch(T.search),N=this.options.stringifySearch(C);return T.search=N,{href:T.href.replace(T.origin,""),publicHref:_,pathname:M_(T.pathname).path,external:!!this.rewrite&&T.origin!==this.origin,searchStr:N,search:Sa(r==null?void 0:r.search,C),hash:M_(T.hash.slice(1)).path,state:Sa(r==null?void 0:r.state,b)}},a=s(t),{__tempLocation:l,__tempKey:u}=a.state;if(l&&(!u||u===this.tempLocationKey)){const f=s(l);return f.state.key=a.state.key,f.state.__TSR_key=a.state.__TSR_key,delete f.state.__tempLocation,{...f,maskedLocation:a}}return a},this.resolvePathWithBase=(t,r)=>OV({base:t,to:uA(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(t,r,s)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},s):this.matchRoutesInternal(t,r),this.getMatchedRoutes=t=>i6({pathname:t,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const t=this.state.matches.filter(a=>a.status==="pending"),r=this.state.matches.filter(a=>a.isFetching==="loader");new Set([...this.state.pendingMatches??[],...t,...r]).forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=t=>{const r=(a={})=>{var $,Ee;const l=a._fromLocation||this.pendingBuiltLocation||this.latestLocation,u=this.matchRoutesLightweight(l);a.from;const f=a.unsafeRelative==="path"?l.pathname:a.from??u.fullPath,m=this.resolvePathWithBase(f,"."),y=u.search,_={...u.params},b=a.to?this.resolvePathWithBase(m,`${a.to}`):this.resolvePathWithBase(m,"."),E=a.params===!1||a.params===null?{}:(a.params??!0)===!0?_:Object.assign(_,Zd(a.params,_)),T=jE({path:b,params:E,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,C=this.getMatchedRoutes(T);let N=C.matchedRoutes;(C.foundRoute?C.foundRoute.path!=="/"&&C.routeParams["**"]:du(T))&&this.options.notFoundRoute&&(N=[...N,this.options.notFoundRoute]);let B=!1;if(Object.keys(E).length>0)for(const de of N){const X=(($=de.options.params)==null?void 0:$.stringify)??de.options.stringifyParams;X&&(B=!0,Object.assign(E,X(E)))}const U=t.leaveParams?b:M_(B?jE({path:b,params:E,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:T).path;let Y=y;if(t._includeValidateSearch&&((Ee=this.options.search)!=null&&Ee.strict)){const de={};N.forEach(X=>{if(X.options.validateSearch)try{Object.assign(de,Rx(X.options.validateSearch,{...de,...Y}))}catch{}}),Y=de}Y=a6({search:Y,dest:a,destRoutes:N,_includeValidateSearch:t._includeValidateSearch}),Y=Sa(y,Y);const W=this.options.stringifySearch(Y),K=a.hash===!0?l.hash:a.hash?Zd(a.hash,l.hash):void 0,D=K?`#${K}`:"";let P=a.state===!0?l.state:a.state?Zd(a.state,l.state):{};P=Sa(l.state,P);const L=`${U}${W}${D}`;let V,q,J=!1;if(this.rewrite){const de=new URL(L,this.origin),X=PD(this.rewrite,de);V=de.href.replace(de.origin,""),X.origin!==this.origin?(q=X.href,J=!0):q=X.pathname+X.search+X.hash}else V=_V(L),q=V;return{publicHref:q,href:V,pathname:U,search:Y,searchStr:W,state:P,hash:K??"",external:J,unmaskOnReload:a.unmaskOnReload}},s=(a={},l)=>{const u=r(a);let f=l?r(l):void 0;if(!f){const m={};if(this.options.routeMasks){const y=SV(u.pathname,this.processedTree);if(y){Object.assign(m,y.rawParams);const{from:_,params:b,...E}=y.route,T=b===!1||b===null?{}:(b??!0)===!0?m:Object.assign(m,Zd(b,m));l={from:t.from,...E,params:T},f=r(l)}}}return f&&(u.maskedLocation=f),u};return t.mask?s(t,{from:t.from,...t.mask}):s(t)},this.commitLocation=async({viewTransition:t,ignoreBlocker:r,...s})=>{const a=()=>{const f=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];f.forEach(y=>{s.state[y]=this.latestLocation.state[y]});const m=Nm(s.state,this.latestLocation.state);return f.forEach(y=>{delete s.state[y]}),m},l=du(this.latestLocation.href)===du(s.href),u=this.commitLocationPromise;if(this.commitLocationPromise=dy(()=>{u==null||u.resolve()}),l&&a())this.load();else{let{maskedLocation:f,hashScrollIntoView:m,...y}=s;f&&(y={...f,state:{...f.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[s.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:r})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:s,viewTransition:a,ignoreBlocker:l,href:u,...f}={})=>{if(u){const _=this.history.location.state.__TSR_index,b=Hx(u,{__TSR_index:t?_:_+1}),E=new URL(b.pathname,this.origin),T=sC(this.rewrite,E);f.to=T.pathname,f.search=this.options.parseSearch(b.search),f.hash=b.hash.slice(1)}const m=this.buildLocation({...f,_includeValidateSearch:!0});this.pendingBuiltLocation=m;const y=this.commitLocation({...m,viewTransition:a,replace:t,resetScroll:r,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===m&&(this.pendingBuiltLocation=void 0)}),y},this.navigate=async({to:t,reloadDocument:r,href:s,publicHref:a,...l})=>{var f;let u=!1;if(s)try{new URL(`${s}`),u=!0}catch{}if(u&&!r&&(r=!0),r){if(t!==void 0||!s){const y=this.buildLocation({to:t,...l});s=s??y.publicHref,a=a??y.publicHref}const m=!u&&a?a:s;if(Gx(m))return Promise.resolve();if(!l.ignoreBlocker){const y=this.history,_=((f=y.getBlockers)==null?void 0:f.call(y))??[];for(const b of _)if(b!=null&&b.blockerFn&&await b.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(m):window.location.href=m,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:t,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const t=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:r.cachedMatches.filter(s=>!t.some(a=>a.id===s.id))}))},this.load=async t=>{let r,s,a;for(a=new Promise(u=>{this.startTransition(async()=>{var f;try{this.beforeLoad();const m=this.latestLocation,y=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...km({resolvedLocation:y,location:m})}),this.emit({type:"onBeforeLoad",...km({resolvedLocation:y,location:m})}),await SI({router:this,sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:m,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let _=[],b=[],E=[];lb(()=>{this.__store.setState(T=>{const C=T.matches,N=T.pendingMatches||T.matches;return _=C.filter(M=>!N.some(B=>B.id===M.id)),b=N.filter(M=>!C.some(B=>B.id===M.id)),E=N.filter(M=>C.some(B=>B.id===M.id)),{...T,isLoading:!1,loadedAt:Date.now(),matches:N,pendingMatches:void 0,cachedMatches:[...T.cachedMatches,..._.filter(M=>M.status!=="error"&&M.status!=="notFound")]}}),this.clearExpiredCache()}),[[_,"onLeave"],[b,"onEnter"],[E,"onStay"]].forEach(([T,C])=>{T.forEach(N=>{var M,B;(B=(M=this.looseRoutesById[N.routeId].options)[C])==null||B.call(M,N)})})})})}})}catch(m){lo(m)?(r=m,this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):Oa(m)&&(s=m),this.__store.setState(y=>({...y,statusCode:r?r.status:s?404:y.matches.some(_=>_.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&((f=this.commitLocationPromise)==null||f.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),u()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(u=>u.status==="error")&&(l=500),l!==void 0&&this.__store.setState(u=>({...u,statusCode:l}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,l=this.state.resolvedLocation,u=typeof r.types=="function"?r.types(km({resolvedLocation:l,location:a})):r.types;if(u===!1){t();return}s={update:t,types:u}}else s=t;document.startViewTransition(s)}else t()},this.updateMatch=(t,r)=>{this.startTransition(()=>{var a;const s=(a=this.state.pendingMatches)!=null&&a.some(l=>l.id===t)?"pendingMatches":this.state.matches.some(l=>l.id===t)?"matches":this.state.cachedMatches.some(l=>l.id===t)?"cachedMatches":"";s&&this.__store.setState(l=>{var u;return{...l,[s]:(u=l[s])==null?void 0:u.map(f=>f.id===t?r(f):f)}})})},this.getMatch=t=>{var s;const r=a=>a.id===t;return this.state.cachedMatches.find(r)??((s=this.state.pendingMatches)==null?void 0:s.find(r))??this.state.matches.find(r)},this.invalidate=t=>{const r=s=>{var a;return((a=t==null?void 0:t.filter)==null?void 0:a.call(t,s))??!0?{...s,invalid:!0,...t!=null&&t.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s};return this.__store.setState(s=>{var a;return{...s,matches:s.matches.map(r),cachedMatches:s.cachedMatches.map(r),pendingMatches:(a=s.pendingMatches)==null?void 0:a.map(r)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.getParsedLocationHref=t=>t.publicHref||"/",this.resolveRedirect=t=>{const r=t.headers.get("Location");if(!t.options.href||t.options._builtLocation){const s=t.options._builtLocation??this.buildLocation(t.options),a=this.getParsedLocationHref(s);t.options.href=a,t.headers.set("Location",a)}else if(r)try{const s=new URL(r);if(this.origin&&s.origin===this.origin){const a=s.pathname+s.search+s.hash;t.options.href=a,t.headers.set("Location",a)}}catch{}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(a=>!r(a))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const s=this.looseRoutesById[r.routeId];if(!s.options.loader)return!0;const a=(r.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=a};this.clearCache({filter:t})},this.loadRouteChunk=kD,this.preloadRoute=async t=>{const r=this.buildLocation(t);let s=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...a,...this.state.cachedMatches.map(u=>u.id)]);lb(()=>{s.forEach(u=>{l.has(u.id)||this.__store.setState(f=>({...f,cachedMatches:[...f.cachedMatches,u]}))})});try{return s=await SI({router:this,matches:s,location:r,preload:!0,updateMatch:(u,f)=>{a.has(u)?s=s.map(m=>m.id===u?f(m):m):this.updateMatch(u,f)}}),s}catch(u){if(lo(u))return u.options.reloadDocument?void 0:await this.preloadRoute({...u.options,_fromLocation:r});Oa(u)||console.error(u);return}},this.matchRoute=(t,r)=>{const s={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},a=this.buildLocation(s);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const u=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,f=EV(a.pathname,(r==null?void 0:r.caseSensitive)??!1,(r==null?void 0:r.fuzzy)??!1,u.pathname,this.processedTree);return!f||t.params&&!Nm(f.rawParams,t.params,{partial:!0})?!1:(r==null?void 0:r.includeSearch)??!0?Nm(u.search,a.search,{partial:!0})?f.rawParams:!1:f.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??HV,parseSearch:e.parseSearch??WV}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:e,routesByPath:t,processedTree:r}){this.routesById=e,this.routesByPath=t,this.processedTree=r;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(e){return(e==null?void 0:e.id)?e.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(e,t){var b,E;const r=this.getMatchedRoutes(e.pathname),{foundRoute:s,routeParams:a,parsedParams:l}=r;let{matchedRoutes:u}=r,f=!1;(s?s.path!=="/"&&a["**"]:du(e.pathname))&&(this.options.notFoundRoute?u=[...u,this.options.notFoundRoute]:f=!0);const m=f?l6(this.options.notFoundMode,u):void 0,y=new Array(u.length),_=new Map(this.state.matches.map(T=>[T.routeId,T]));for(let T=0;T<u.length;T++){const C=u[T],N=y[T-1];let M,B,U;{const X=(N==null?void 0:N.search)??e.search,ce=(N==null?void 0:N._strictSearch)??void 0;try{const se=Rx(C.options.validateSearch,{...X})??void 0;M={...X,...se},B={...ce,...se},U=void 0}catch(se){let Pe=se;if(se instanceof Jx||(Pe=new Jx(se.message,{cause:se})),t!=null&&t.throwOnError)throw Pe;M=X,B={},U=Pe}}const Y=((E=(b=C.options).loaderDeps)==null?void 0:E.call(b,{search:M}))??"",W=Y?JSON.stringify(Y):"",{interpolatedPath:K,usedParams:D}=jE({path:C.fullPath,params:a,decoder:this.pathParamsDecoder,server:this.isServer}),P=C.id+K+W,L=this.getMatch(P),V=_.get(C.id),q=(L==null?void 0:L._strictParams)??D;let J;if(!L)try{EI(C,D,l,q)}catch(X){if(Oa(X)||lo(X)?J=X:J=new r6(X.message,{cause:X}),t!=null&&t.throwOnError)throw J}Object.assign(a,q);const $=V?"stay":"enter";let Ee;if(L)Ee={...L,cause:$,params:(V==null?void 0:V.params)??a,_strictParams:q,search:Sa(V?V.search:L.search,M),_strictSearch:B};else{const X=C.options.loader||C.options.beforeLoad||C.lazyFn||OD(C)?"pending":"success";Ee={id:P,ssr:C.options.ssr,index:T,routeId:C.id,params:(V==null?void 0:V.params)??a,_strictParams:q,pathname:K,updatedAt:Date.now(),search:V?Sa(V.search,M):M,_strictSearch:B,searchError:void 0,status:X,isFetching:!1,error:void 0,paramsError:J,__routeContext:void 0,_nonReactive:{loadPromise:dy()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:$,loaderDeps:V?Sa(V.loaderDeps,Y):Y,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:C.options.staticData||{},fullPath:C.fullPath}}t!=null&&t.preload||(Ee.globalNotFound=m===C.id),Ee.searchError=U;const de=this.getParentContext(N);Ee.context={...de,...Ee.__routeContext,...Ee.__beforeLoadContext},y[T]=Ee}for(let T=0;T<y.length;T++){const C=y[T],N=this.looseRoutesById[C.routeId],M=this.getMatch(C.id),B=_.get(C.routeId);if(C.params=B?Sa(B.params,a):a,!M){const U=y[T-1],Y=this.getParentContext(U);if(N.options.context){const W={deps:C.loaderDeps,params:C.params,context:Y??{},location:e,navigate:K=>this.navigate({...K,_fromLocation:e}),buildLocation:this.buildLocation,cause:C.cause,abortController:C.abortController,preload:!!C.preload,matches:y,routeId:N.id};C.__routeContext=N.options.context(W)??void 0}C.context={...Y,...C.__routeContext,...C.__beforeLoadContext}}}return y}matchRoutesLightweight(e){const{matchedRoutes:t,routeParams:r,parsedParams:s}=this.getMatchedRoutes(e.pathname),a=yb(t),l={...e.search};for(const y of t)try{Object.assign(l,Rx(y.options.validateSearch,l))}catch{}const u=yb(this.state.matches),f=u&&u.routeId===a.id&&e.pathname===this.state.location.pathname;let m;if(f)m=u.params;else{const y={...r};for(const _ of t)try{EI(_,r,s??{},y)}catch{}m=y}return{matchedRoutes:t,fullPath:a.fullPath,search:l,params:m}}}class Jx extends Error{}class r6 extends Error{}function s6(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Rx(n,e){if(n==null)return{};if("~standard"in n){const t=n["~standard"].validate(e);if(t instanceof Promise)throw new Jx("Async validation not supported");if(t.issues)throw new Jx(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in n?n.parse(e):typeof n=="function"?n(e):{}}function i6({pathname:n,routesById:e,processedTree:t}){const r={},s=du(n);let a,l;const u=TV(s,t,!0);return u&&(a=u.route,Object.assign(r,u.rawParams),l=Object.assign({},u.parsedParams)),{matchedRoutes:(u==null?void 0:u.branch)||[e[ao]],routeParams:r,foundRoute:a,parsedParams:l}}function a6({search:n,dest:e,destRoutes:t,_includeValidateSearch:r}){return o6(t)(n,e,r??!1)}function o6(n){var s;const e={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const a of n){if("search"in a.options)(s=a.options.search)!=null&&s.middlewares&&e.middlewares.push(...a.options.search.middlewares);else if(a.options.preSearchFilters||a.options.postSearchFilters){const l=({search:u,next:f})=>{let m=u;"preSearchFilters"in a.options&&a.options.preSearchFilters&&(m=a.options.preSearchFilters.reduce((_,b)=>b(_),u));const y=f(m);return"postSearchFilters"in a.options&&a.options.postSearchFilters?a.options.postSearchFilters.reduce((_,b)=>b(_),y):y};e.middlewares.push(l)}if(a.options.validateSearch){const l=({search:u,next:f})=>{const m=f(u);if(!e._includeValidateSearch)return m;try{return{...m,...Rx(a.options.validateSearch,m)??void 0}}catch{return m}};e.middlewares.push(l)}}const t=({search:a})=>{const l=e.dest;return l.search?l.search===!0?a:Zd(l.search,a):{}};e.middlewares.push(t);const r=(a,l,u)=>{if(a>=u.length)return l;const f=u[a];return f({search:l,next:y=>r(a+1,y,u)})};return function(l,u,f){return e.dest=u,e._includeValidateSearch=f,r(0,l,e.middlewares)}}function l6(n,e){if(n!=="root")for(let t=e.length-1;t>=0;t--){const r=e[t];if(r.children)return r.id}return ao}function EI(n,e,t,r){var a;const s=((a=n.options.params)==null?void 0:a.parse)??n.options.parseParams;if(s)if(n.options.skipRouteOnParseError)for(const l in e)l in t&&(r[l]=t[l]);else{const l=s(r);Object.assign(r,l)}}const c6="Error preloading route! ";class MD{constructor(e){if(this.init=t=>{var m,y;this.originalIndex=t.originalIndex;const r=this.options,s=!(r!=null&&r.path)&&!(r!=null&&r.id);this.parentRoute=(y=(m=this.options).getParentRoute)==null?void 0:y.call(m),s?this._path=ao:this.parentRoute||bu(!1);let a=s?ao:r==null?void 0:r.path;a&&a!=="/"&&(a=TD(a));const l=(r==null?void 0:r.id)||a;let u=s?ao:Cx([this.parentRoute.id===ao?"":this.parentRoute.id,l]);a===ao&&(a="/"),u!==ao&&(u=Cx(["/",u]));const f=u===ao?"/":Cx([this.parentRoute.fullPath,a]);this._path=a,this._id=u,this._fullPath=f,this._to=du(f)},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.redirect=t=>YV({from:this.fullPath,...t}),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class u6 extends MD{constructor(e){super(e)}}const lx=typeof window<"u"?I.useLayoutEffect:I.useEffect;function VE(n){const e=I.useRef({value:n,prev:null}),t=e.current.value;return n!==t&&(e.current={value:n,prev:t}),e.current.prev}function d6(n,e,t={},r={}){I.useEffect(()=>{if(!n.current||r.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([a])=>{e(a)},t);return s.observe(n.current),()=>{s.disconnect()}},[e,t,r.disabled,n])}function f6(n){const e=I.useRef(null);return I.useImperativeHandle(n,()=>e.current,[]),e}function dA(n){const e=n.errorComponent??fA;return g.jsx(h6,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:t,reset:r})=>t?I.createElement(e,{error:t,reset:r}):n.children})}class h6 extends I.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function fA({error:n}){const[e,t]=I.useState(!1);return g.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[g.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),g.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),g.jsx("div",{style:{height:".25rem"}}),e?g.jsx("div",{children:g.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?g.jsx("code",{children:n.message}):null})}):null]})}function m6({children:n,fallback:e=null}){return jD()?g.jsx(Ve.Fragment,{children:n}):g.jsx(Ve.Fragment,{children:e})}function jD(){return Ve.useSyncExternalStore(p6,()=>!0,()=>!1)}function p6(){return()=>{}}var BE={exports:{}},UE={},FE={exports:{}},zE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI;function g6(){if(TI)return zE;TI=1;var n=Zm();function e(_,b){return _===b&&(_!==0||1/_===1/b)||_!==_&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(_,b){var E=b(),T=r({inst:{value:E,getSnapshot:b}}),C=T[0].inst,N=T[1];return a(function(){C.value=E,C.getSnapshot=b,f(C)&&N({inst:C})},[_,E,b]),s(function(){return f(C)&&N({inst:C}),_(function(){f(C)&&N({inst:C})})},[_]),l(E),E}function f(_){var b=_.getSnapshot;_=_.value;try{var E=b();return!t(_,E)}catch{return!0}}function m(_,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return zE.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,zE}var CI;function y6(){return CI||(CI=1,FE.exports=g6()),FE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AI;function v6(){if(AI)return UE;AI=1;var n=Zm(),e=y6();function t(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,u=n.useMemo,f=n.useDebugValue;return UE.useSyncExternalStoreWithSelector=function(m,y,_,b,E){var T=a(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=u(function(){function M(K){if(!B){if(B=!0,U=K,K=b(K),E!==void 0&&C.hasValue){var D=C.value;if(E(D,K))return Y=D}return Y=K}if(D=Y,r(U,K))return D;var P=b(K);return E!==void 0&&E(D,P)?(U=K,D):(U=K,Y=P)}var B=!1,U,Y,W=_===void 0?null:_;return[function(){return M(y())},W===null?void 0:function(){return M(W())}]},[y,_,b,E]);var N=s(m,T[0],T[1]);return l(function(){C.hasValue=!0,C.value=N},[N]),f(N),N},UE}var RI;function _6(){return RI||(RI=1,BE.exports=v6()),BE.exports}var b6=_6();function w6(n,e=r=>r,t={}){const r=t.equal??x6;return b6.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,r)}function x6(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,s]of n)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();const t=II(n);if(t.length!==II(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function II(n){return Object.keys(n).concat(Object.getOwnPropertySymbols(n))}const qE=I.createContext(null);function LD(){return typeof document>"u"?qE:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=qE,qE)}function ho(n){const e=I.useContext(LD());return n==null||n.warn,e}function co(n){const e=ho({warn:(n==null?void 0:n.router)===void 0}),t=(n==null?void 0:n.router)||e,r=I.useRef(void 0);return w6(t.__store,s=>{if(n!=null&&n.select){if(n.structuralSharing??t.options.defaultStructuralSharing){const a=Sa(r.current,n.select(s));return r.current=a,a}return n.select(s)}return s})}const U1=I.createContext(void 0),S6=I.createContext(void 0);function uc(n){const e=I.useContext(n.from?S6:U1);return co({select:r=>{const s=r.matches.find(a=>n.from?n.from===a.routeId:a.id===e);if(bu(!((n.shouldThrow??!0)&&!s),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),s!==void 0)return n.select?n.select(s):s},structuralSharing:n.structuralSharing})}function hA(n){return uc({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.loaderData):e.loaderData})}function mA(n){const{select:e,...t}=n;return uc({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function F1(n){return uc({from:n.from,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,strict:n.strict,select:e=>{const t=n.strict===!1?e.params:e._strictParams;return n.select?n.select(t):t}})}function z1(n){return uc({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.search):e.search})}function ep(n){const e=ho();return I.useCallback(t=>e.navigate({...t,from:t.from??(n==null?void 0:n.from)}),[n==null?void 0:n.from,e])}var WE={exports:{}},Ys={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI;function E6(){if(NI)return Ys;NI=1;var n=Zm();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ys.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ys.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return a(f,m,null,y)},Ys.flushSync=function(f){var m=l.T,y=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=m,r.p=y,r.d.f()}},Ys.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Ys.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Ys.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=u(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:E}):y==="script"&&r.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ys.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=u(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Ys.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=u(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ys.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=u(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Ys.requestFormReset=function(f){r.d.r(f)},Ys.unstable_batchedUpdates=function(f,m){return f(m)},Ys.useFormState=function(f,m,y){return l.H.useFormState(f,m,y)},Ys.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ys.version="19.2.4",Ys}var kI;function VD(){if(kI)return WE.exports;kI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),WE.exports=E6(),WE.exports}var ky=VD();const T6=L1(ky);function C6(n,e){const t=ho(),r=f6(e),{activeProps:s,inactiveProps:a,activeOptions:l,to:u,preload:f,preloadDelay:m,hashScrollIntoView:y,replace:_,startTransition:b,resetScroll:E,viewTransition:T,children:C,target:N,disabled:M,style:B,className:U,onClick:Y,onFocus:W,onMouseEnter:K,onMouseLeave:D,onTouchStart:P,ignoreBlocker:L,params:V,search:q,hash:J,state:$,mask:Ee,reloadDocument:de,unsafeRelative:X,from:ce,_fromLocation:se,...Pe}=n,_e=jD(),Q=co({select:cn=>cn.location.search,structuralSharing:!0}),ye=n.from,Ce=I.useMemo(()=>({...n,from:ye}),[t,Q,ye,n._fromLocation,n.hash,n.to,n.search,n.params,n.state,n.mask,n.unsafeRelative]),Ne=I.useMemo(()=>t.buildLocation({...Ce}),[t,Ce]),Ue=Ne.maskedLocation?Ne.maskedLocation.publicHref:Ne.publicHref,nt=Ne.maskedLocation?Ne.maskedLocation.external:Ne.external,Ae=I.useMemo(()=>O6(Ue,nt,t.history,M),[M,nt,Ue,t.history]),it=I.useMemo(()=>{if(Ae!=null&&Ae.external)return Gx(Ae.href)?void 0:Ae.href;if(!D6(u)&&!(typeof u!="string"||u.indexOf(":")===-1))try{return new URL(u),Gx(u)?void 0:u}catch{}},[u,Ae]),ct=co({select:cn=>{if(it)return!1;if(l!=null&&l.exact){if(!kV(cn.location.pathname,Ne.pathname,t.basepath))return!1}else{const Hn=Kx(cn.location.pathname,t.basepath),Bn=Kx(Ne.pathname,t.basepath);if(!(Hn.startsWith(Bn)&&(Hn.length===Bn.length||Hn[Bn.length]==="/")))return!1}return((l==null?void 0:l.includeSearch)??!0)&&!Nm(cn.location.search,Ne.search,{partial:!(l!=null&&l.exact),ignoreUndefined:!(l!=null&&l.explicitUndefined)})?!1:l!=null&&l.includeHash?_e&&cn.location.hash===Ne.hash:!0}}),yt=ct?Zd(s,{})??A6:HE,vt=ct?HE:Zd(a,{})??HE,_t=[U,yt.className,vt.className].filter(Boolean).join(" "),Wn=(B||yt.style||vt.style)&&{...B,...yt.style,...vt.style},[Zt,pr]=I.useState(!1),$r=I.useRef(!1),Nn=n.reloadDocument||it?!1:f??t.options.defaultPreload,Ds=m??t.options.defaultPreloadDelay??0,en=I.useCallback(()=>{t.preloadRoute({...Ce}).catch(cn=>{console.warn(cn),console.warn(c6)})},[t,Ce]),Vn=I.useCallback(cn=>{cn!=null&&cn.isIntersecting&&en()},[en]);d6(r,Vn,k6,{disabled:!!M||Nn!=="viewport"}),I.useEffect(()=>{$r.current||!M&&Nn==="render"&&(en(),$r.current=!0)},[M,en,Nn]);const lr=cn=>{const Hn=cn.currentTarget.getAttribute("target"),Bn=N!==void 0?N:Hn;if(!M&&!P6(cn)&&!cn.defaultPrevented&&(!Bn||Bn==="_self")&&cn.button===0){cn.preventDefault(),ky.flushSync(()=>{pr(!0)});const ja=t.subscribe("onResolved",()=>{ja(),pr(!1)});t.navigate({...Ce,replace:_,resetScroll:E,hashScrollIntoView:y,startTransition:b,viewTransition:T,ignoreBlocker:L})}};if(it)return{...Pe,ref:r,href:it,...C&&{children:C},...N&&{target:N},...M&&{disabled:M},...B&&{style:B},...U&&{className:U},...Y&&{onClick:Y},...W&&{onFocus:W},...K&&{onMouseEnter:K},...D&&{onMouseLeave:D},...P&&{onTouchStart:P}};const Ci=cn=>{M||Nn&&en()},Ai=Ci,gr=cn=>{if(!(M||!Nn))if(!Ds)en();else{const Hn=cn.target;if(V_.has(Hn))return;const Bn=setTimeout(()=>{V_.delete(Hn),en()},Ds);V_.set(Hn,Bn)}},ns=cn=>{if(M||!Nn||!Ds)return;const Hn=cn.target,Bn=V_.get(Hn);Bn&&(clearTimeout(Bn),V_.delete(Hn))};return{...Pe,...yt,...vt,href:Ae==null?void 0:Ae.href,ref:r,onClick:B_([Y,lr]),onFocus:B_([W,Ci]),onMouseEnter:B_([K,gr]),onMouseLeave:B_([D,ns]),onTouchStart:B_([P,Ai]),disabled:!!M,target:N,...Wn&&{style:Wn},..._t&&{className:_t},...M&&R6,...ct&&I6,..._e&&Zt&&N6}}const HE={},A6={className:"active"},R6={role:"link","aria-disabled":!0},I6={"data-status":"active","aria-current":"page"},N6={"data-transitioning":"transitioning"},V_=new WeakMap,k6={rootMargin:"100px"},B_=n=>e=>{for(const t of n)if(t){if(e.defaultPrevented)return;t(e)}};function O6(n,e,t,r){if(!r)return e?{href:n,external:!0}:{href:t.createHref(n)||"/",external:!1}}function D6(n){if(typeof n!="string")return!1;const e=n.charCodeAt(0);return e===47?n.charCodeAt(1)!==47:e===46}const _b=I.forwardRef((n,e)=>{const{_asChild:t,...r}=n,{type:s,...a}=C6(r,e),l=typeof r.children=="function"?r.children({isActive:a["data-status"]==="active"}):r.children;if(!t){const{disabled:u,...f}=a;return I.createElement("a",f,l)}return I.createElement(t,a,l)});function P6(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}let M6=class extends MD{constructor(e){super(e),this.useMatch=t=>uc({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>uc({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>z1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>F1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>mA({...t,from:this.id}),this.useLoaderData=t=>hA({...t,from:this.id}),this.useNavigate=()=>ep({from:this.fullPath}),this.Link=Ve.forwardRef((t,r)=>g.jsx(_b,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function j6(n){return new M6(n)}class L6 extends u6{constructor(e){super(e),this.useMatch=t=>uc({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>uc({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>z1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>F1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>mA({...t,from:this.id}),this.useLoaderData=t=>hA({...t,from:this.id}),this.useNavigate=()=>ep({from:this.fullPath}),this.Link=Ve.forwardRef((t,r)=>g.jsx(_b,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function V6(n){return new L6(n)}function wu(n){return typeof n=="object"?new OI(n,{silent:!0}).createRoute(n):new OI(n,{silent:!0}).createRoute}class OI{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const s=j6(r);return s.isRoot=!1,s},this.silent=t==null?void 0:t.silent}}class DI{constructor(e){this.useMatch=t=>uc({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>uc({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>z1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>F1({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>mA({...t,from:this.options.id}),this.useLoaderData=t=>hA({...t,from:this.options.id}),this.useNavigate=()=>{const t=ho();return ep({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function PI(n){return typeof n=="object"?new DI(n):e=>new DI({id:n,...e})}function B6(){const n=ho(),e=I.useRef({router:n,mounted:!1}),[t,r]=I.useState(!1),{hasPendingMatches:s,isLoading:a}=co({select:_=>({isLoading:_.isLoading,hasPendingMatches:_.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),l=VE(a),u=a||t||s,f=VE(u),m=a||s,y=VE(m);return n.startTransition=_=>{r(!0),I.startTransition(()=>{_(),r(!1)})},I.useEffect(()=>{const _=n.history.subscribe(n.load),b=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return du(n.latestLocation.publicHref)!==du(b.publicHref)&&n.commitLocation({...b,replace:!0}),()=>{_()}},[n,n.history]),lx(()=>{if(typeof window<"u"&&n.ssr||e.current.router===n&&e.current.mounted)return;e.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(b){console.error(b)}})()},[n]),lx(()=>{l&&!a&&n.emit({type:"onLoad",...km(n.state)})},[l,n,a]),lx(()=>{y&&!m&&n.emit({type:"onBeforeRouteMount",...km(n.state)})},[m,y,n]),lx(()=>{if(f&&!u){const _=km(n.state);n.emit({type:"onResolved",..._}),n.__store.setState(b=>({...b,status:"idle",resolvedLocation:b.location})),_.hrefChanged&&FV(n)}},[u,f,n]),null}function U6(n){const e=co({select:t=>`not-found-${t.location.pathname}-${t.status}`});return g.jsx(dA,{getResetKey:()=>e,onCatch:(t,r)=>{var s;if(Oa(t))(s=n.onCatch)==null||s.call(n,t,r);else throw t},errorComponent:({error:t})=>{var r;if(Oa(t))return(r=n.fallback)==null?void 0:r.call(n,t);throw t},children:n.children})}function F6(){return g.jsx("p",{children:"Not Found"})}function Mg(n){return g.jsx(g.Fragment,{children:n.children})}function BD(n,e,t){return e.options.notFoundComponent?g.jsx(e.options.notFoundComponent,{...t}):n.options.defaultNotFoundComponent?g.jsx(n.options.defaultNotFoundComponent,{...t}):g.jsx(F6,{})}function z6(){return ho().isScrollRestoring,null}const UD=I.memo(function({matchId:e}){var C,N;const t=ho(),r=co({select:M=>{var Y;const B=M.matches.findIndex(W=>W.id===e),U=M.matches[B];return bu(U),{routeId:U.routeId,ssr:U.ssr,_displayPending:U._displayPending,resetKey:M.loadedAt,parentRouteId:(Y=M.matches[B-1])==null?void 0:Y.routeId}},structuralSharing:!0}),s=t.routesById[r.routeId],a=s.options.pendingComponent??t.options.defaultPendingComponent,l=a?g.jsx(a,{}):null,u=s.options.errorComponent??t.options.defaultErrorComponent,f=s.options.onCatch??t.options.defaultOnCatch,m=s.isRoot?s.options.notFoundComponent??((C=t.options.notFoundRoute)==null?void 0:C.options.component):s.options.notFoundComponent,y=r.ssr===!1||r.ssr==="data-only",_=(!s.isRoot||s.options.wrapInSuspense||y)&&(s.options.wrapInSuspense??a??(((N=s.options.errorComponent)==null?void 0:N.preload)||y))?I.Suspense:Mg,b=u?dA:Mg,E=m?U6:Mg,T=s.isRoot?s.options.shellComponent??Mg:Mg;return g.jsxs(T,{children:[g.jsx(U1.Provider,{value:e,children:g.jsx(_,{fallback:l,children:g.jsx(b,{getResetKey:()=>r.resetKey,errorComponent:u||fA,onCatch:(M,B)=>{if(Oa(M))throw M;f==null||f(M,B)},children:g.jsx(E,{fallback:M=>{if(!m||M.routeId&&M.routeId!==r.routeId||!M.routeId&&!s.isRoot)throw M;return I.createElement(m,M)},children:y||r._displayPending?g.jsx(m6,{fallback:l,children:g.jsx(MI,{matchId:e})}):g.jsx(MI,{matchId:e})})})})}),r.parentRouteId===ao&&t.options.scrollRestoration?g.jsxs(g.Fragment,{children:[g.jsx(q6,{}),g.jsx(z6,{})]}):null]})});function q6(){const n=ho(),e=I.useRef(void 0);return g.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...km(n.state)}),e.current=n.latestLocation)}},n.latestLocation.state.__TSR_key)}const MI=I.memo(function({matchId:e}){var f,m,y,_;const t=ho(),{match:r,key:s,routeId:a}=co({select:b=>{const E=b.matches.find(B=>B.id===e),T=E.routeId,C=t.routesById[T].options.remountDeps??t.options.defaultRemountDeps,N=C==null?void 0:C({routeId:T,loaderDeps:E.loaderDeps,params:E._strictParams,search:E._strictSearch});return{key:N?JSON.stringify(N):void 0,routeId:T,match:{id:E.id,status:E.status,error:E.error,invalid:E.invalid,_forcePending:E._forcePending,_displayPending:E._displayPending}}},structuralSharing:!0}),l=t.routesById[a],u=I.useMemo(()=>{const b=l.options.component??t.options.defaultComponent;return b?g.jsx(b,{},s):g.jsx(pA,{})},[s,l.options.component,t.options.defaultComponent]);if(r._displayPending)throw(f=t.getMatch(r.id))==null?void 0:f._nonReactive.displayPendingPromise;if(r._forcePending)throw(m=t.getMatch(r.id))==null?void 0:m._nonReactive.minPendingPromise;if(r.status==="pending"){const b=l.options.pendingMinMs??t.options.defaultPendingMinMs;if(b){const E=t.getMatch(r.id);if(E&&!E._nonReactive.minPendingPromise){const T=dy();E._nonReactive.minPendingPromise=T,setTimeout(()=>{T.resolve(),E._nonReactive.minPendingPromise=void 0},b)}}throw(y=t.getMatch(r.id))==null?void 0:y._nonReactive.loadPromise}if(r.status==="notFound")return bu(Oa(r.error)),BD(t,l,r.error);if(r.status==="redirected")throw bu(lo(r.error)),(_=t.getMatch(r.id))==null?void 0:_._nonReactive.loadPromise;if(r.status==="error")throw r.error;return u}),pA=I.memo(function(){const e=ho(),t=I.useContext(U1),r=co({select:m=>{var y;return(y=m.matches.find(_=>_.id===t))==null?void 0:y.routeId}}),s=e.routesById[r],a=co({select:m=>{const _=m.matches.find(b=>b.id===t);return bu(_),_.globalNotFound}}),l=co({select:m=>{var b;const y=m.matches,_=y.findIndex(E=>E.id===t);return(b=y[_+1])==null?void 0:b.id}}),u=e.options.defaultPendingComponent?g.jsx(e.options.defaultPendingComponent,{}):null;if(a)return BD(e,s,void 0);if(!l)return null;const f=g.jsx(UD,{matchId:l});return r===ao?g.jsx(I.Suspense,{fallback:u,children:f}):f});function W6(){const n=ho(),t=n.routesById[ao].options.pendingComponent??n.options.defaultPendingComponent,r=t?g.jsx(t,{}):null,s=typeof document<"u"&&n.ssr?Mg:I.Suspense,a=g.jsxs(s,{fallback:r,children:[g.jsx(B6,{}),g.jsx(H6,{})]});return n.options.InnerWrap?g.jsx(n.options.InnerWrap,{children:a}):a}function H6(){const n=ho(),e=co({select:s=>{var a;return(a=s.matches[0])==null?void 0:a.id}}),t=co({select:s=>s.loadedAt}),r=e?g.jsx(UD,{matchId:e}):null;return g.jsx(U1.Provider,{value:e,children:n.options.disableGlobalCatchBoundary?r:g.jsx(dA,{getResetKey:()=>t,errorComponent:fA,onCatch:s=>{s.message||s.toString()},children:r})})}const $6=n=>new G6(n);class G6 extends n6{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=wu,globalThis.createLazyFileRoute=PI):typeof window<"u"&&(window.createFileRoute=wu,window.createLazyFileRoute=PI);function Y6({router:n,children:e,...t}){Object.keys(t).length>0&&n.update({...n.options,...t,context:{...n.options.context,...t.context}});const r=LD(),s=g.jsx(r.Provider,{value:n,children:e});return n.options.Wrap?g.jsx(n.options.Wrap,{children:s}):s}function K6({router:n,...e}){return g.jsx(Y6,{router:n,...e,children:g.jsx(W6,{})})}var $E={exports:{}},U_={},GE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI;function Q6(){return jI||(jI=1,(function(n){function e(X,ce){var se=X.length;X.push(ce);e:for(;0<se;){var Pe=se-1>>>1,_e=X[Pe];if(0<s(_e,ce))X[Pe]=ce,X[se]=_e,se=Pe;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var ce=X[0],se=X.pop();if(se!==ce){X[0]=se;e:for(var Pe=0,_e=X.length,Q=_e>>>1;Pe<Q;){var ye=2*(Pe+1)-1,Ce=X[ye],Ne=ye+1,Ue=X[Ne];if(0>s(Ce,se))Ne<_e&&0>s(Ue,Ce)?(X[Pe]=Ue,X[Ne]=se,Pe=Ne):(X[Pe]=Ce,X[ye]=se,Pe=ye);else if(Ne<_e&&0>s(Ue,se))X[Pe]=Ue,X[Ne]=se,Pe=Ne;else break e}}return ce}function s(X,ce){var se=X.sortIndex-ce.sortIndex;return se!==0?se:X.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],m=[],y=1,_=null,b=3,E=!1,T=!1,C=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function Y(X){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=X)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function W(X){if(C=!1,Y(X),!T)if(t(f)!==null)T=!0,K||(K=!0,J());else{var ce=t(m);ce!==null&&de(W,ce.startTime-X)}}var K=!1,D=-1,P=5,L=-1;function V(){return N?!0:!(n.unstable_now()-L<P)}function q(){if(N=!1,K){var X=n.unstable_now();L=X;var ce=!0;try{e:{T=!1,C&&(C=!1,B(D),D=-1),E=!0;var se=b;try{t:{for(Y(X),_=t(f);_!==null&&!(_.expirationTime>X&&V());){var Pe=_.callback;if(typeof Pe=="function"){_.callback=null,b=_.priorityLevel;var _e=Pe(_.expirationTime<=X);if(X=n.unstable_now(),typeof _e=="function"){_.callback=_e,Y(X),ce=!0;break t}_===t(f)&&r(f),Y(X)}else r(f);_=t(f)}if(_!==null)ce=!0;else{var Q=t(m);Q!==null&&de(W,Q.startTime-X),ce=!1}}break e}finally{_=null,b=se,E=!1}ce=void 0}}finally{ce?J():K=!1}}}var J;if(typeof U=="function")J=function(){U(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Ee=$.port2;$.port1.onmessage=q,J=function(){Ee.postMessage(null)}}else J=function(){M(q,0)};function de(X,ce){D=M(function(){X(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var se=b;b=ce;try{return X()}finally{b=se}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var se=b;b=X;try{return ce()}finally{b=se}},n.unstable_scheduleCallback=function(X,ce,se){var Pe=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Pe+se:Pe):se=Pe,X){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=se+_e,X={id:y++,callback:ce,priorityLevel:X,startTime:se,expirationTime:_e,sortIndex:-1},se>Pe?(X.sortIndex=se,e(m,X),t(f)===null&&X===t(m)&&(C?(B(D),D=-1):C=!0,de(W,se-Pe))):(X.sortIndex=_e,e(f,X),T||E||(T=!0,K||(K=!0,J()))),X},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(X){var ce=b;return function(){var se=b;b=ce;try{return X.apply(this,arguments)}finally{b=se}}}})(YE)),YE}var LI;function J6(){return LI||(LI=1,GE.exports=Q6()),GE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function X6(){if(VI)return U_;VI=1;var n=J6(),e=Zm(),t=VD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(a(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,h=o;;){var w=c.return;if(w===null)break;var S=w.alternate;if(S===null){if(h=w.return,h!==null){c=h;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===c)return f(w),i;if(S===h)return f(w),o;S=S.sibling}throw Error(r(188))}if(c.return!==h.return)c=w,h=S;else{for(var k=!1,F=w.child;F;){if(F===c){k=!0,c=w,h=S;break}if(F===h){k=!0,h=w,c=S;break}F=F.sibling}if(!k){for(F=S.child;F;){if(F===c){k=!0,c=S,h=w;break}if(F===h){k=!0,h=S,c=w;break}F=F.sibling}if(!k)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function y(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=y(i),o!==null)return o;i=i.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),U=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=q&&i[q]||i["@@iterator"],typeof i=="function"?i:null)}var $=Symbol.for("react.client.reference");function Ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===$?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case W:return"Suspense";case K:return"SuspenseList";case L:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case U:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case Y:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:Ee(i.type)||"Memo";case P:o=i._payload,i=i._init;try{return Ee(i(o))}catch{}}return null}var de=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Pe=[],_e=-1;function Q(i){return{current:i}}function ye(i){0>_e||(i.current=Pe[_e],Pe[_e]=null,_e--)}function Ce(i,o){_e++,Pe[_e]=i.current,i.current=o}var Ne=Q(null),Ue=Q(null),nt=Q(null),Ae=Q(null);function it(i,o){switch(Ce(nt,o),Ce(Ue,i),Ce(Ne,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Gh(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Gh(o),i=$s(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ye(Ne),Ce(Ne,i)}function ct(){ye(Ne),ye(Ue),ye(nt)}function yt(i){i.memoizedState!==null&&Ce(Ae,i);var o=Ne.current,c=$s(o,i.type);o!==c&&(Ce(Ue,i),Ce(Ne,c))}function vt(i){Ue.current===i&&(ye(Ne),ye(Ue)),Ae.current===i&&(ye(Ae),Nd._currentValue=se)}var _t,Wn;function Zt(i){if(_t===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);_t=o&&o[1]||"",Wn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+i+Wn}var pr=!1;function $r(i,o){if(!i||pr)return"";pr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ve){var me=ve}Reflect.construct(i,[],Se)}else{try{Se.call()}catch(ve){me=ve}i.call(Se.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Se=i())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),k=S[0],F=S[1];if(k&&F){var ee=k.split(`
`),he=F.split(`
`);for(w=h=0;h<ee.length&&!ee[h].includes("DetermineComponentFrameRoot");)h++;for(;w<he.length&&!he[w].includes("DetermineComponentFrameRoot");)w++;if(h===ee.length||w===he.length)for(h=ee.length-1,w=he.length-1;1<=h&&0<=w&&ee[h]!==he[w];)w--;for(;1<=h&&0<=w;h--,w--)if(ee[h]!==he[w]){if(h!==1||w!==1)do if(h--,w--,0>w||ee[h]!==he[w]){var we=`
`+ee[h].replace(" at new "," at ");return i.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",i.displayName)),we}while(1<=h&&0<=w);break}}}finally{pr=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Zt(c):""}function Nn(i,o){switch(i.tag){case 26:case 27:case 5:return Zt(i.type);case 16:return Zt("Lazy");case 13:return i.child!==o&&o!==null?Zt("Suspense Fallback"):Zt("Suspense");case 19:return Zt("SuspenseList");case 0:case 15:return $r(i.type,!1);case 11:return $r(i.type.render,!1);case 1:return $r(i.type,!0);case 31:return Zt("Activity");default:return""}}function Ds(i){try{var o="",c=null;do o+=Nn(i,c),c=i,i=i.return;while(i);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var en=Object.prototype.hasOwnProperty,Vn=n.unstable_scheduleCallback,lr=n.unstable_cancelCallback,Ci=n.unstable_shouldYield,Ai=n.unstable_requestPaint,gr=n.unstable_now,ns=n.unstable_getCurrentPriorityLevel,cn=n.unstable_ImmediatePriority,Hn=n.unstable_UserBlockingPriority,Bn=n.unstable_NormalPriority,ja=n.unstable_LowPriority,fl=n.unstable_IdlePriority,hl=n.log,ml=n.unstable_setDisableYieldValue,xs=null,yr=null;function hs(i){if(typeof hl=="function"&&ml(i),yr&&typeof yr.setStrictMode=="function")try{yr.setStrictMode(xs,i)}catch{}}var Yn=Math.clz32?Math.clz32:wc,yo=Math.log,pl=Math.LN2;function wc(i){return i>>>=0,i===0?32:31-(yo(i)/pl|0)|0}var mt=256,Ft=262144,We=4194304;function Nt(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Xn(i,o,c){var h=i.pendingLanes;if(h===0)return 0;var w=0,S=i.suspendedLanes,k=i.pingedLanes;i=i.warmLanes;var F=h&134217727;return F!==0?(h=F&~S,h!==0?w=Nt(h):(k&=F,k!==0?w=Nt(k):c||(c=F&~i,c!==0&&(w=Nt(c))))):(F=h&~S,F!==0?w=Nt(F):k!==0?w=Nt(k):c||(c=h&~i,c!==0&&(w=Nt(c)))),w===0?0:o!==0&&o!==w&&(o&S)===0&&(S=w&-w,c=o&-o,S>=c||S===32&&(c&4194048)!==0)?o:w}function Tt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function kf(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var i=We;return We<<=1,(We&62914560)===0&&(We=4194304),i}function Ri(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function Qi(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Sc(i,o,c,h,w,S){var k=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var F=i.entanglements,ee=i.expirationTimes,he=i.hiddenUpdates;for(c=k&~c;0<c;){var we=31-Yn(c),Se=1<<we;F[we]=0,ee[we]=-1;var me=he[we];if(me!==null)for(he[we]=null,we=0;we<me.length;we++){var ve=me[we];ve!==null&&(ve.lane&=-536870913)}c&=~Se}h!==0&&vo(i,h,0),S!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=S&~(k&~o))}function vo(i,o,c){i.pendingLanes|=o,i.suspendedLanes&=~o;var h=31-Yn(o);i.entangledLanes|=o,i.entanglements[h]=i.entanglements[h]|1073741824|c&261930}function Of(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var h=31-Yn(c),w=1<<h;w&o|i[h]&o&&(i[h]|=o),c&=~w}}function Ec(i,o){var c=o&-o;return c=(c&42)!==0?1:Tc(c),(c&(i.suspendedLanes|o))!==0?0:c}function Tc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _o(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ap(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:J0(i.type))}function Ji(i,o){var c=ce.p;try{return ce.p=i,o()}finally{ce.p=c}}var Xi=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Xi,Gr="__reactProps$"+Xi,La="__reactContainer$"+Xi,Cc="__reactEvents$"+Xi,Jy="__reactListeners$"+Xi,op="__reactHandles$"+Xi,lp="__reactResources$"+Xi,Va="__reactMarker$"+Xi;function Ou(i){delete i[Cr],delete i[Gr],delete i[Cc],delete i[Jy],delete i[op]}function Ba(i){var o=i[Cr];if(o)return o;for(var c=i.parentNode;c;){if(o=c[La]||c[Cr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=P0(i);i!==null;){if(c=i[Cr])return c;i=P0(i)}return o}i=c,c=i.parentNode}return null}function Ss(i){if(i=i[Cr]||i[La]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ti(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ni(i){var o=i[lp];return o||(o=i[lp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ar(i){i[Va]=!0}var Df=new Set,Pf={};function Zi(i,o){ea(i,o),ea(i+"Capture",o)}function ea(i,o){for(Pf[i]=o,i=0;i<o.length;i++)Df.add(o[i])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mf={},jf={};function cp(i){return en.call(jf,i)?!0:en.call(Mf,i)?!1:Du.test(i)?jf[i]=!0:(Mf[i]=!0,!1)}function Pu(i,o,c){if(cp(o))if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+c)}}function Ps(i,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+c)}}function vr(i,o,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(o,c,""+h)}}function Lr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ua(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lf(i,o,c){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,S=h.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(k){c=""+k,S.call(this,k)}}),Object.defineProperty(i,o,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(k){c=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function vn(i){if(!i._valueTracker){var o=Ua(i)?"checked":"value";i._valueTracker=Lf(i,o,""+i[o])}}function Fa(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return i&&(h=Ua(i)?i.checked?"true":"false":i.value),i=h,i!==c?(o.setValue(i),!0):!1}function ta(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ac=/[\n"\\]/g;function Es(i){return i.replace(Ac,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Rc(i,o,c,h,w,S,k,F){i.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.type=k:i.removeAttribute("type"),o!=null?k==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Lr(o)):i.value!==""+Lr(o)&&(i.value=""+Lr(o)):k!=="submit"&&k!=="reset"||i.removeAttribute("value"),o!=null?Vf(i,k,Lr(o)):c!=null?Vf(i,k,Lr(c)):h!=null&&i.removeAttribute("value"),w==null&&S!=null&&(i.defaultChecked=!!S),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?i.name=""+Lr(F):i.removeAttribute("name")}function Mu(i,o,c,h,w,S,k,F){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){vn(i);return}c=c!=null?""+Lr(c):"",o=o!=null?""+Lr(o):c,F||o===i.value||(i.value=o),i.defaultValue=o}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=F?i.checked:!!h,i.defaultChecked=!!h,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(i.name=k),vn(i)}function Vf(i,o,c){o==="number"&&ta(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function bo(i,o,c,h){if(i=i.options,o){o={};for(var w=0;w<c.length;w++)o["$"+c[w]]=!0;for(c=0;c<i.length;c++)w=o.hasOwnProperty("$"+i[c].value),i[c].selected!==w&&(i[c].selected=w),w&&h&&(i[c].defaultSelected=!0)}else{for(c=""+Lr(c),o=null,w=0;w<i.length;w++){if(i[w].value===c){i[w].selected=!0,h&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function ju(i,o,c){if(o!=null&&(o=""+Lr(o),o!==i.value&&(i.value=o),c==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=c!=null?""+Lr(c):""}function za(i,o,c,h){if(o==null){if(h!=null){if(c!=null)throw Error(r(92));if(de(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),o=c}c=Lr(o),i.defaultValue=c,h=i.textContent,h===c&&h!==""&&h!==null&&(i.value=h),vn(i)}function Vr(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Bf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lu(i,o,c){var h=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":h?i.setProperty(o,c):typeof c!="number"||c===0||Bf.has(o)?o==="float"?i.cssFloat=c:i[o]=(""+c).trim():i[o]=c+"px"}function Uf(i,o,c){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var w in o)h=o[w],o.hasOwnProperty(w)&&c[w]!==h&&Lu(i,w,h)}else for(var S in o)o.hasOwnProperty(S)&&Lu(i,S,o[S])}function Ic(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nc(i){return wo.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function na(){}var zf=null;function Ii(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var xo=null,qa=null;function kc(i){var o=Ss(i);if(o&&(i=o.stateNode)){var c=i[Gr]||null;e:switch(i=o.stateNode,o.type){case"input":if(Rc(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Es(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==i&&h.form===i.form){var w=h[Gr]||null;if(!w)throw Error(r(90));Rc(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<c.length;o++)h=c[o],h.form===i.form&&Fa(h)}break e;case"textarea":ju(i,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&bo(i,!!c.multiple,o,!1)}}}var Vu=!1;function gl(i,o,c){if(Vu)return i(o,c);Vu=!0;try{var h=i(o);return h}finally{if(Vu=!1,(xo!==null||qa!==null)&&(sg(),xo&&(o=xo,i=qa,qa=xo=null,kc(o),i)))for(o=0;o<i.length;o++)kc(i[o])}}function ri(i,o){var c=i.stateNode;if(c===null)return null;var h=c[Gr]||null;if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=!1;if(Ni)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){Oc=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{Oc=!1}var Wa=null,qf=null,mn=null;function _n(){if(mn)return mn;var i,o=qf,c=o.length,h,w="value"in Wa?Wa.value:Wa.textContent,S=w.length;for(i=0;i<c&&o[i]===w[i];i++);var k=c-i;for(h=1;h<=k&&o[c-h]===w[S-h];h++);return mn=w.slice(i,1<h?1-h:void 0)}function Dc(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function So(){return!0}function ra(){return!1}function rs(i){function o(c,h,w,S,k){this._reactName=c,this._targetInst=w,this.type=h,this.nativeEvent=S,this.target=k,this.currentTarget=null;for(var F in i)i.hasOwnProperty(F)&&(c=i[F],this[F]=c?c(S):S[F]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?So:ra,this.isPropagationStopped=ra,this}return _(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),o}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=rs(Eo),To=_({},Eo,{view:0,detail:0}),Wf=rs(To),Zn,yl,ms,Pc=_({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ms&&(ms&&i.type==="mousemove"?(Zn=i.screenX-ms.screenX,yl=i.screenY-ms.screenY):yl=Zn=0,ms=i),Zn)},movementY:function(i){return"movementY"in i?i.movementY:yl}}),Mc=rs(Pc),Yr=_({},Pc,{dataTransfer:0}),Hf=rs(Yr),$f=_({},To,{relatedTarget:0}),vl=rs($f),Bu=_({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Gf=rs(Bu),jc=_({},Eo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ps=rs(jc),up=_({},Eo,{data:0}),_r=rs(up),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=sa[i])?!!o[i]:!1}function $a(){return Lc}var zt=_({},To,{key:function(i){if(i.key){var o=dp[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Dc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Yf[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(i){return i.type==="keypress"?Dc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Dc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ia=rs(zt),Uu=_({},Pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Co=rs(Uu),v=_({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),R=rs(v),O=_({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),G=rs(O),ue=_({},Pc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),pe=rs(ue),je=_({},Eo,{newState:0,oldState:0}),kt=rs(je),cr=[9,13,27,32],un=Ni&&"CompositionEvent"in window,$n=null;Ni&&"documentMode"in document&&($n=document.documentMode);var Ms=Ni&&"TextEvent"in window&&!$n,aa=Ni&&(!un||$n&&8<$n&&11>=$n),oa=" ",si=!1;function Ao(i,o){switch(i){case"keyup":return cr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Vc=!1;function ii(i,o){switch(i){case"compositionend":return Fu(o);case"keypress":return o.which!==32?null:(si=!0,oa);case"textInput":return i=o.data,i===oa&&si?null:i;default:return null}}function Xy(i,o){if(Vc)return i==="compositionend"||!un&&Ao(i,o)?(i=_n(),mn=qf=Wa=null,Vc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return aa&&o.locale!=="ko"?null:o.data;default:return null}}var Kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Kf[i.type]:o==="textarea"}function ev(i,o,c,h){xo?qa?qa.push(h):qa=[h]:xo=h,o=qh(o,"onChange"),0<o.length&&(c=new Ha("onChange","change",null,c,h),i.push({event:c,listeners:o}))}var Qf=null,Jf=null;function MS(i){T0(i,0)}function fp(i){var o=ti(i);if(Fa(o))return i}function fw(i,o){if(i==="change")return o}var Bc=!1;if(Ni){var tv;if(Ni){var nv="oninput"in document;if(!nv){var hp=document.createElement("div");hp.setAttribute("oninput","return;"),nv=typeof hp.oninput=="function"}tv=nv}else tv=!1;Bc=tv&&(!document.documentMode||9<document.documentMode)}function rv(){Qf&&(Qf.detachEvent("onpropertychange",Ro),Jf=Qf=null)}function Ro(i){if(i.propertyName==="value"&&fp(Jf)){var o=[];ev(o,Jf,i,Ii(i)),gl(MS,o)}}function mp(i,o,c){i==="focusin"?(rv(),Qf=o,Jf=c,Qf.attachEvent("onpropertychange",Ro)):i==="focusout"&&rv()}function jS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fp(Jf)}function LS(i,o){if(i==="click")return fp(o)}function VS(i,o){if(i==="input"||i==="change")return fp(o)}function zu(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var sr=typeof Object.is=="function"?Object.is:zu;function qu(i,o){if(sr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var w=c[h];if(!en.call(o,w)||!sr(i[w],o[w]))return!1}return!0}function hw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mw(i,o){var c=hw(i);i=0;for(var h;c;){if(c.nodeType===3){if(h=i+c.textContent.length,i<=o&&h>=o)return{node:c,offset:o-i};i=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=hw(c)}}function pw(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?pw(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function gw(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ta(i.document);o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=ta(i.document)}return o}function sv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var Wu=Ni&&"documentMode"in document&&11>=document.documentMode,ie=null,be=null,ge=null,Ye=!1;function At(i,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ye||ie==null||ie!==ta(h)||(h=ie,"selectionStart"in h&&sv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ge&&qu(ge,h)||(ge=h,h=qh(be,"onSelect"),0<h.length&&(o=new Ha("onSelect","select",null,o,c),i.push({event:o,listeners:h}),o.target=ie)))}function Ht(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var er={animationend:Ht("Animation","AnimationEnd"),animationiteration:Ht("Animation","AnimationIteration"),animationstart:Ht("Animation","AnimationStart"),transitionrun:Ht("Transition","TransitionRun"),transitionstart:Ht("Transition","TransitionStart"),transitioncancel:Ht("Transition","TransitionCancel"),transitionend:Ht("Transition","TransitionEnd")},Tn={},pp={};Ni&&(pp=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Uc(i){if(Tn[i])return Tn[i];if(!er[i])return i;var o=er[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in pp)return Tn[i]=o[c];return i}var ai=Uc("animationend"),Xf=Uc("animationiteration"),yw=Uc("animationstart"),Hu=Uc("transitionrun"),gp=Uc("transitionstart"),yp=Uc("transitioncancel"),pn=Uc("transitionend"),vw=new Map,vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vp.push("scrollEnd");function js(i,o){vw.set(i,o),Zi(o,[i])}var _p=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ki=[],$u=0,Gu=0;function la(){for(var i=$u,o=Gu=$u=0;o<i;){var c=ki[o];ki[o++]=null;var h=ki[o];ki[o++]=null;var w=ki[o];ki[o++]=null;var S=ki[o];if(ki[o++]=null,h!==null&&w!==null){var k=h.pending;k===null?w.next=w:(w.next=k.next,k.next=w),h.pending=w}S!==0&&iv(c,w,S)}}function Fc(i,o,c,h){ki[$u++]=i,ki[$u++]=o,ki[$u++]=c,ki[$u++]=h,Gu|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function bp(i,o,c,h){return Fc(i,o,c,h),Zf(i)}function Ga(i,o){return Fc(i,null,null,o),Zf(i)}function iv(i,o,c){i.lanes|=c;var h=i.alternate;h!==null&&(h.lanes|=c);for(var w=!1,S=i.return;S!==null;)S.childLanes|=c,h=S.alternate,h!==null&&(h.childLanes|=c),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(w=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,w&&o!==null&&(w=31-Yn(c),i=S.hiddenUpdates,h=i[w],h===null?i[w]=[o]:h.push(o),o.lane=c|536870912),S):null}function Zf(i){if(50<jh)throw jh=0,s_=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Io={};function _w(i,o,c,h){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(i,o,c,h){return new _w(i,o,c,h)}function No(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Oi(i,o){var c=i.alternate;return c===null?(c=ss(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function bw(i,o){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,o=c.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function wp(i,o,c,h,w,S){var k=0;if(h=i,typeof i=="function")No(i)&&(k=1);else if(typeof i=="string")k=_E(i,c,Ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case L:return i=ss(31,c,o,w),i.elementType=L,i.lanes=S,i;case C:return zc(c.children,w,S,o);case N:k=8,w|=24;break;case M:return i=ss(12,c,o,w|2),i.elementType=M,i.lanes=S,i;case W:return i=ss(13,c,o,w),i.elementType=W,i.lanes=S,i;case K:return i=ss(19,c,o,w),i.elementType=K,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:k=10;break e;case B:k=9;break e;case Y:k=11;break e;case D:k=14;break e;case P:k=16,h=null;break e}k=29,c=Error(r(130,i===null?"null":typeof i,"")),h=null}return o=ss(k,c,o,w),o.elementType=i,o.type=h,o.lanes=S,o}function zc(i,o,c,h){return i=ss(7,i,h,o),i.lanes=c,i}function Yu(i,o,c){return i=ss(6,i,null,o),i.lanes=c,i}function eh(i){var o=ss(18,null,null,0);return o.stateNode=i,o}function th(i,o,c){return o=ss(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ww=new WeakMap;function oi(i,o){if(typeof i=="object"&&i!==null){var c=ww.get(i);return c!==void 0?c:(o={value:i,source:o,stack:Ds(o)},ww.set(i,o),o)}return{value:i,source:o,stack:Ds(o)}}var Ku=[],Qu=0,ur=null,Rr=0,Di=[],Pi=0,ko=null,Ya=1,Mi="";function li(i,o){Ku[Qu++]=Rr,Ku[Qu++]=ur,ur=i,Rr=o}function xp(i,o,c){Di[Pi++]=Ya,Di[Pi++]=Mi,Di[Pi++]=ko,ko=i;var h=Ya;i=Mi;var w=32-Yn(h)-1;h&=~(1<<w),c+=1;var S=32-Yn(o)+w;if(30<S){var k=w-w%5;S=(h&(1<<k)-1).toString(32),h>>=k,w-=k,Ya=1<<32-Yn(o)+w|c<<w|h,Mi=S+i}else Ya=1<<S|c<<w|h,Mi=i}function _l(i){i.return!==null&&(li(i,1),xp(i,1,0))}function qc(i){for(;i===ur;)ur=Ku[--Qu],Ku[Qu]=null,Rr=Ku[--Qu],Ku[Qu]=null;for(;i===ko;)ko=Di[--Pi],Di[Pi]=null,Mi=Di[--Pi],Di[Pi]=null,Ya=Di[--Pi],Di[Pi]=null}function Ju(i,o){Di[Pi++]=Ya,Di[Pi++]=Mi,Di[Pi++]=ko,Ya=o.id,Mi=o.overflow,ko=i}var Ir=null,bn=null,tn=!1,bl=null,ji=!1,av=Error(r(519));function wl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(oi(o,i)),av}function nh(i){var o=i.stateNode,c=i.type,h=i.memoizedProps;switch(o[Cr]=i,o[Gr]=h,c){case"dialog":Gt("cancel",o),Gt("close",o);break;case"iframe":case"object":case"embed":Gt("load",o);break;case"video":case"audio":for(c=0;c<zh.length;c++)Gt(zh[c],o);break;case"source":Gt("error",o);break;case"img":case"image":case"link":Gt("error",o),Gt("load",o);break;case"details":Gt("toggle",o);break;case"input":Gt("invalid",o),Mu(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Gt("invalid",o);break;case"textarea":Gt("invalid",o),za(o,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||h.suppressHydrationWarning===!0||R0(o.textContent,c)?(h.popover!=null&&(Gt("beforetoggle",o),Gt("toggle",o)),h.onScroll!=null&&Gt("scroll",o),h.onScrollEnd!=null&&Gt("scrollend",o),h.onClick!=null&&(o.onclick=na),o=!0):o=!1,o||wl(i,!0)}function Xu(i){for(Ir=i.return;Ir;)switch(Ir.tag){case 5:case 31:case 13:ji=!1;return;case 27:case 3:ji=!0;return;default:Ir=Ir.return}}function Wc(i){if(i!==Ir)return!1;if(!tn)return Xu(i),tn=!0,!1;var o=i.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||Bl(i.type,i.memoizedProps)),c=!c),c&&bn&&wl(i),Xu(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));bn=D0(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));bn=D0(i)}else o===27?(o=bn,bt(i.type)?(i=E_,E_=null,bn=i):bn=o):bn=Ir?qi(i.stateNode.nextSibling):null;return!0}function z(){bn=Ir=null,tn=!1}function xl(){var i=bl;return i!==null&&(qs===null?qs=i:qs.push.apply(qs,i),bl=null),i}function Sl(i){bl===null?bl=[i]:bl.push(i)}var Ls=Q(null),Ot=null,Oo=null;function El(i,o,c){Ce(Ls,o._currentValue),o._currentValue=c}function Do(i){i._currentValue=Ls.current,ye(Ls)}function Po(i,o,c){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===c)break;i=i.return}}function ov(i,o,c,h){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var S=w.dependencies;if(S!==null){var k=w.child;S=S.firstContext;e:for(;S!==null;){var F=S;S=w;for(var ee=0;ee<o.length;ee++)if(F.context===o[ee]){S.lanes|=c,F=S.alternate,F!==null&&(F.lanes|=c),Po(S.return,c,i),h||(k=null);break e}S=F.next}}else if(w.tag===18){if(k=w.return,k===null)throw Error(r(341));k.lanes|=c,S=k.alternate,S!==null&&(S.lanes|=c),Po(k,c,i),k=null}else k=w.child;if(k!==null)k.return=w;else for(k=w;k!==null;){if(k===i){k=null;break}if(w=k.sibling,w!==null){w.return=k.return,k=w;break}k=k.return}w=k}}function Zu(i,o,c,h){i=null;for(var w=o,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var k=w.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var F=w.type;sr(w.pendingProps.value,k.value)||(i!==null?i.push(F):i=[F])}}else if(w===Ae.current){if(k=w.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(Nd):i=[Nd])}w=w.return}i!==null&&ov(o,i,c,h),o.flags|=262144}function Sp(i){for(i=i.firstContext;i!==null;){if(!sr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hc(i){Ot=i,Oo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function is(i){return xw(Ot,i)}function Li(i,o){return Ot===null&&Hc(i),xw(i,o)}function xw(i,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},Oo===null){if(i===null)throw Error(r(308));Oo=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Oo=Oo.next=o;return c}var BS=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(c,h){i.push(h)}};this.abort=function(){o.aborted=!0,i.forEach(function(c){return c()})}},US=n.unstable_scheduleCallback,FS=n.unstable_NormalPriority,Nr={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ca(){return{controller:new BS,data:new Map,refCount:0}}function rh(i){i.refCount--,i.refCount===0&&US(FS,function(){i.controller.abort()})}var sh=null,lv=0,ed=0,td=null;function $c(i,o){if(sh===null){var c=sh=[];lv=0,ed=yi(),td={status:"pending",value:void 0,then:function(h){c.push(h)}}}return lv++,o.then(Sw,Sw),o}function Sw(){if(--lv===0&&sh!==null){td!==null&&(td.status="fulfilled");var i=sh;sh=null,ed=0,td=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function zS(i,o){var c=[],h={status:"pending",value:null,reason:null,then:function(w){c.push(w)}};return i.then(function(){h.status="fulfilled",h.value=o;for(var w=0;w<c.length;w++)(0,c[w])(o)},function(w){for(h.status="rejected",h.reason=w,w=0;w<c.length;w++)(0,c[w])(void 0)}),h}var Vi=X.S;X.S=function(i,o){o0=gr(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&$c(i,o),Vi!==null&&Vi(i,o)};var Gc=Q(null);function cv(){var i=Gc.current;return i!==null?i:Fn.pooledCache}function Ep(i,o){o===null?Ce(Gc,Gc.current):Ce(Gc,o.pool)}function Ew(){var i=cv();return i===null?null:{parent:Nr._currentValue,pool:i}}var nd=Error(r(460)),Tp=Error(r(474)),ih=Error(r(542)),Cp={then:function(){}};function Tw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ap(i,o,c){switch(c=i[c],c===void 0?i.push(o):c!==o&&(o.then(na,na),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,uv(i),i;default:if(typeof o.status=="string")o.then(na,na);else{if(i=Fn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(h){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=h}},function(h){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,uv(i),i}throw Ka=o,nd}}function ua(i){try{var o=i._init;return o(i._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ka=c,nd):c}}var Ka=null;function Cw(){if(Ka===null)throw Error(r(459));var i=Ka;return Ka=null,i}function uv(i){if(i===nd||i===ih)throw Error(r(483))}var rd=null,ci=0;function sd(i){var o=ci;return ci+=1,rd===null&&(rd=[]),Ap(rd,i,o)}function da(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Ts(i,o){throw o.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Aw(i){function o(oe,re){if(i){var fe=oe.deletions;fe===null?(oe.deletions=[re],oe.flags|=16):fe.push(re)}}function c(oe,re){if(!i)return null;for(;re!==null;)o(oe,re),re=re.sibling;return null}function h(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function w(oe,re){return oe=Oi(oe,re),oe.index=0,oe.sibling=null,oe}function S(oe,re,fe){return oe.index=fe,i?(fe=oe.alternate,fe!==null?(fe=fe.index,fe<re?(oe.flags|=67108866,re):fe):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function k(oe){return i&&oe.alternate===null&&(oe.flags|=67108866),oe}function F(oe,re,fe,xe){return re===null||re.tag!==6?(re=Yu(fe,oe.mode,xe),re.return=oe,re):(re=w(re,fe),re.return=oe,re)}function ee(oe,re,fe,xe){var ut=fe.type;return ut===C?we(oe,re,fe.props.children,xe,fe.key):re!==null&&(re.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&ua(ut)===re.type)?(re=w(re,fe.props),da(re,fe),re.return=oe,re):(re=wp(fe.type,fe.key,fe.props,null,oe.mode,xe),da(re,fe),re.return=oe,re)}function he(oe,re,fe,xe){return re===null||re.tag!==4||re.stateNode.containerInfo!==fe.containerInfo||re.stateNode.implementation!==fe.implementation?(re=th(fe,oe.mode,xe),re.return=oe,re):(re=w(re,fe.children||[]),re.return=oe,re)}function we(oe,re,fe,xe,ut){return re===null||re.tag!==7?(re=zc(fe,oe.mode,xe,ut),re.return=oe,re):(re=w(re,fe),re.return=oe,re)}function Se(oe,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Yu(""+re,oe.mode,fe),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return fe=wp(re.type,re.key,re.props,null,oe.mode,fe),da(fe,re),fe.return=oe,fe;case T:return re=th(re,oe.mode,fe),re.return=oe,re;case P:return re=ua(re),Se(oe,re,fe)}if(de(re)||J(re))return re=zc(re,oe.mode,fe,null),re.return=oe,re;if(typeof re.then=="function")return Se(oe,sd(re),fe);if(re.$$typeof===U)return Se(oe,Li(oe,re),fe);Ts(oe,re)}return null}function me(oe,re,fe,xe){var ut=re!==null?re.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return ut!==null?null:F(oe,re,""+fe,xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:return fe.key===ut?ee(oe,re,fe,xe):null;case T:return fe.key===ut?he(oe,re,fe,xe):null;case P:return fe=ua(fe),me(oe,re,fe,xe)}if(de(fe)||J(fe))return ut!==null?null:we(oe,re,fe,xe,null);if(typeof fe.then=="function")return me(oe,re,sd(fe),xe);if(fe.$$typeof===U)return me(oe,re,Li(oe,fe),xe);Ts(oe,fe)}return null}function ve(oe,re,fe,xe,ut){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return oe=oe.get(fe)||null,F(re,oe,""+xe,ut);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case E:return oe=oe.get(xe.key===null?fe:xe.key)||null,ee(re,oe,xe,ut);case T:return oe=oe.get(xe.key===null?fe:xe.key)||null,he(re,oe,xe,ut);case P:return xe=ua(xe),ve(oe,re,fe,xe,ut)}if(de(xe)||J(xe))return oe=oe.get(fe)||null,we(re,oe,xe,ut,null);if(typeof xe.then=="function")return ve(oe,re,fe,sd(xe),ut);if(xe.$$typeof===U)return ve(oe,re,fe,Li(re,xe),ut);Ts(re,xe)}return null}function Xe(oe,re,fe,xe){for(var ut=null,dn=null,rt=re,Bt=re=0,Qt=null;rt!==null&&Bt<fe.length;Bt++){rt.index>Bt?(Qt=rt,rt=null):Qt=rt.sibling;var fn=me(oe,rt,fe[Bt],xe);if(fn===null){rt===null&&(rt=Qt);break}i&&rt&&fn.alternate===null&&o(oe,rt),re=S(fn,re,Bt),dn===null?ut=fn:dn.sibling=fn,dn=fn,rt=Qt}if(Bt===fe.length)return c(oe,rt),tn&&li(oe,Bt),ut;if(rt===null){for(;Bt<fe.length;Bt++)rt=Se(oe,fe[Bt],xe),rt!==null&&(re=S(rt,re,Bt),dn===null?ut=rt:dn.sibling=rt,dn=rt);return tn&&li(oe,Bt),ut}for(rt=h(rt);Bt<fe.length;Bt++)Qt=ve(rt,oe,Bt,fe[Bt],xe),Qt!==null&&(i&&Qt.alternate!==null&&rt.delete(Qt.key===null?Bt:Qt.key),re=S(Qt,re,Bt),dn===null?ut=Qt:dn.sibling=Qt,dn=Qt);return i&&rt.forEach(function(Hl){return o(oe,Hl)}),tn&&li(oe,Bt),ut}function gt(oe,re,fe,xe){if(fe==null)throw Error(r(151));for(var ut=null,dn=null,rt=re,Bt=re=0,Qt=null,fn=fe.next();rt!==null&&!fn.done;Bt++,fn=fe.next()){rt.index>Bt?(Qt=rt,rt=null):Qt=rt.sibling;var Hl=me(oe,rt,fn.value,xe);if(Hl===null){rt===null&&(rt=Qt);break}i&&rt&&Hl.alternate===null&&o(oe,rt),re=S(Hl,re,Bt),dn===null?ut=Hl:dn.sibling=Hl,dn=Hl,rt=Qt}if(fn.done)return c(oe,rt),tn&&li(oe,Bt),ut;if(rt===null){for(;!fn.done;Bt++,fn=fe.next())fn=Se(oe,fn.value,xe),fn!==null&&(re=S(fn,re,Bt),dn===null?ut=fn:dn.sibling=fn,dn=fn);return tn&&li(oe,Bt),ut}for(rt=h(rt);!fn.done;Bt++,fn=fe.next())fn=ve(rt,oe,Bt,fn.value,xe),fn!==null&&(i&&fn.alternate!==null&&rt.delete(fn.key===null?Bt:fn.key),re=S(fn,re,Bt),dn===null?ut=fn:dn.sibling=fn,dn=fn);return i&&rt.forEach(function(AE){return o(oe,AE)}),tn&&li(oe,Bt),ut}function Pn(oe,re,fe,xe){if(typeof fe=="object"&&fe!==null&&fe.type===C&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case E:e:{for(var ut=fe.key;re!==null;){if(re.key===ut){if(ut=fe.type,ut===C){if(re.tag===7){c(oe,re.sibling),xe=w(re,fe.props.children),xe.return=oe,oe=xe;break e}}else if(re.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&ua(ut)===re.type){c(oe,re.sibling),xe=w(re,fe.props),da(xe,fe),xe.return=oe,oe=xe;break e}c(oe,re);break}else o(oe,re);re=re.sibling}fe.type===C?(xe=zc(fe.props.children,oe.mode,xe,fe.key),xe.return=oe,oe=xe):(xe=wp(fe.type,fe.key,fe.props,null,oe.mode,xe),da(xe,fe),xe.return=oe,oe=xe)}return k(oe);case T:e:{for(ut=fe.key;re!==null;){if(re.key===ut)if(re.tag===4&&re.stateNode.containerInfo===fe.containerInfo&&re.stateNode.implementation===fe.implementation){c(oe,re.sibling),xe=w(re,fe.children||[]),xe.return=oe,oe=xe;break e}else{c(oe,re);break}else o(oe,re);re=re.sibling}xe=th(fe,oe.mode,xe),xe.return=oe,oe=xe}return k(oe);case P:return fe=ua(fe),Pn(oe,re,fe,xe)}if(de(fe))return Xe(oe,re,fe,xe);if(J(fe)){if(ut=J(fe),typeof ut!="function")throw Error(r(150));return fe=ut.call(fe),gt(oe,re,fe,xe)}if(typeof fe.then=="function")return Pn(oe,re,sd(fe),xe);if(fe.$$typeof===U)return Pn(oe,re,Li(oe,fe),xe);Ts(oe,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,re!==null&&re.tag===6?(c(oe,re.sibling),xe=w(re,fe),xe.return=oe,oe=xe):(c(oe,re),xe=Yu(fe,oe.mode,xe),xe.return=oe,oe=xe),k(oe)):c(oe,re)}return function(oe,re,fe,xe){try{ci=0;var ut=Pn(oe,re,fe,xe);return rd=null,ut}catch(rt){if(rt===nd||rt===ih)throw rt;var dn=ss(29,rt,null,oe.mode);return dn.lanes=xe,dn.return=oe,dn}finally{}}}var Tl=Aw(!0),dv=Aw(!1),Bi=!1;function Qa(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rp(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Cl(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function fa(i,o,c){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(gn&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,o=Zf(i),iv(i,null,c),o}return Fc(i,h,o,c),Zf(i)}function ah(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Of(i,c)}}function Ip(i,o){var c=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var w=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var k={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?w=S=k:S=S.next=k,c=c.next}while(c!==null);S===null?w=S=o:S=S.next=o}else w=S=o;c={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}var Br=!1;function Yc(){if(Br){var i=td;if(i!==null)throw i}}function id(i,o,c,h){Br=!1;var w=i.updateQueue;Bi=!1;var S=w.firstBaseUpdate,k=w.lastBaseUpdate,F=w.shared.pending;if(F!==null){w.shared.pending=null;var ee=F,he=ee.next;ee.next=null,k===null?S=he:k.next=he,k=ee;var we=i.alternate;we!==null&&(we=we.updateQueue,F=we.lastBaseUpdate,F!==k&&(F===null?we.firstBaseUpdate=he:F.next=he,we.lastBaseUpdate=ee))}if(S!==null){var Se=w.baseState;k=0,we=he=ee=null,F=S;do{var me=F.lane&-536870913,ve=me!==F.lane;if(ve?(Kt&me)===me:(h&me)===me){me!==0&&me===ed&&(Br=!0),we!==null&&(we=we.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Xe=i,gt=F;me=o;var Pn=c;switch(gt.tag){case 1:if(Xe=gt.payload,typeof Xe=="function"){Se=Xe.call(Pn,Se,me);break e}Se=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=gt.payload,me=typeof Xe=="function"?Xe.call(Pn,Se,me):Xe,me==null)break e;Se=_({},Se,me);break e;case 2:Bi=!0}}me=F.callback,me!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=w.callbacks,ve===null?w.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:F.tag,payload:F.payload,callback:F.callback,next:null},we===null?(he=we=ve,ee=Se):we=we.next=ve,k|=me;if(F=F.next,F===null){if(F=w.shared.pending,F===null)break;ve=F,F=ve.next,ve.next=null,w.lastBaseUpdate=ve,w.shared.pending=null}}while(!0);we===null&&(ee=Se),w.baseState=ee,w.firstBaseUpdate=he,w.lastBaseUpdate=we,S===null&&(w.shared.lanes=0),Pl|=k,i.lanes=k,i.memoizedState=Se}}function ha(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Np(i,o){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)ha(c[i],o)}var Mo=Q(null),Ja=Q(0);function fv(i,o){i=_a,Ce(Ja,i),Ce(Mo,o),_a=i|o.baseLanes}function as(){Ce(Ja,_a),Ce(Mo,Mo.current)}function oh(){_a=Ja.current,ye(Mo),ye(Ja)}var ui=Q(null),Ui=null;function Al(i){var o=i.alternate;Ce(br,br.current&1),Ce(ui,i),Ui===null&&(o===null||Mo.current!==null||o.memoizedState!==null)&&(Ui=i)}function lh(i){Ce(br,br.current),Ce(ui,i),Ui===null&&(Ui=i)}function Rw(i){i.tag===22?(Ce(br,br.current),Ce(ui,i),Ui===null&&(Ui=i)):Fi()}function Fi(){Ce(br,br.current),Ce(ui,ui.current)}function Vs(i){ye(ui),Ui===i&&(Ui=null),ye(br)}var br=Q(0);function kp(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||mg(c)||Ed(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var di=0,Dt=null,On=null,dr=null,ch=!1,ad=!1,Kc=!1,Op=0,od=0,Rl=null,qS=0;function tr(){throw Error(r(321))}function Dp(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!sr(i[c],o[c]))return!1;return!0}function Pp(i,o,c,h,w,S){return di=S,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,X.H=i===null||i.memoizedState===null?Bw:qp,Kc=!1,S=c(h,w),Kc=!1,ad&&(S=uh(o,c,h,w)),hv(i),S}function hv(i){X.H=Nl;var o=On!==null&&On.next!==null;if(di=0,dr=On=Dt=null,ch=!1,od=0,Rl=null,o)throw Error(r(300));i===null||ir||(i=i.dependencies,i!==null&&Sp(i)&&(ir=!0))}function uh(i,o,c,h){Dt=i;var w=0;do{if(ad&&(Rl=null),od=0,ad=!1,25<=w)throw Error(r(301));if(w+=1,dr=On=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=vh,S=o(c,h)}while(ad);return S}function WS(){var i=X.H,o=i.useState()[0];return o=typeof o.then=="function"?cd(o):o,i=i.useState()[0],(On!==null?On.memoizedState:null)!==i&&(Dt.flags|=1024),o}function Mp(){var i=Op!==0;return Op=0,i}function jp(i,o,c){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~c}function mv(i){if(ch){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}ch=!1}di=0,dr=On=Dt=null,ad=!1,od=Op=0,Rl=null}function gs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Dt.memoizedState=dr=i:dr=dr.next=i,dr}function wr(){if(On===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=On.next;var o=dr===null?Dt.memoizedState:dr.next;if(o!==null)dr=o,On=i;else{if(i===null)throw Dt.alternate===null?Error(r(467)):Error(r(310));On=i,i={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},dr===null?Dt.memoizedState=dr=i:dr=dr.next=i}return dr}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cd(i){var o=od;return od+=1,Rl===null&&(Rl=[]),i=Ap(Rl,i,o),o=Dt,(dr===null?o.memoizedState:dr.next)===null&&(o=o.alternate,X.H=o===null||o.memoizedState===null?Bw:qp),i}function ud(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cd(i);if(i.$$typeof===U)return is(i)}throw Error(r(438,String(i)))}function pv(i){var o=null,c=Dt.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var h=Dt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=ld(),Dt.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(i),h=0;h<i;h++)c[h]=V;return o.index++,c}function ma(i,o){return typeof o=="function"?o(i):o}function Pt(i){var o=wr();return gv(o,On,i)}function gv(i,o,c){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var w=i.baseQueue,S=h.pending;if(S!==null){if(w!==null){var k=w.next;w.next=S.next,S.next=k}o.baseQueue=w=S,h.pending=null}if(S=i.baseState,w===null)i.memoizedState=S;else{o=w.next;var F=k=null,ee=null,he=o,we=!1;do{var Se=he.lane&-536870913;if(Se!==he.lane?(Kt&Se)===Se:(di&Se)===Se){var me=he.revertLane;if(me===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),Se===ed&&(we=!0);else if((di&me)===me){he=he.next,me===ed&&(we=!0);continue}else Se={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(F=ee=Se,k=S):ee=ee.next=Se,Dt.lanes|=me,Pl|=me;Se=he.action,Kc&&c(S,Se),S=he.hasEagerState?he.eagerState:c(S,Se)}else me={lane:Se,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(F=ee=me,k=S):ee=ee.next=me,Dt.lanes|=Se,Pl|=Se;he=he.next}while(he!==null&&he!==o);if(ee===null?k=S:ee.next=F,!sr(S,i.memoizedState)&&(ir=!0,we&&(c=td,c!==null)))throw c;i.memoizedState=S,i.baseState=k,i.baseQueue=ee,h.lastRenderedState=S}return w===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function yv(i){var o=wr(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var h=c.dispatch,w=c.pending,S=o.memoizedState;if(w!==null){c.pending=null;var k=w=w.next;do S=i(S,k.action),k=k.next;while(k!==w);sr(S,o.memoizedState)||(ir=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,h]}function dd(i,o,c){var h=Dt,w=wr(),S=tn;if(S){if(c===void 0)throw Error(r(407));c=c()}else c=o();var k=!sr((On||w).memoizedState,c);if(k&&(w.memoizedState=c,ir=!0),w=w.queue,mh(Nw.bind(null,h,w,i),[i]),w.getSnapshot!==o||k||dr!==null&&dr.memoizedState.tag&1){if(h.flags|=2048,hi(9,{destroy:void 0},Iw.bind(null,h,w,c,o),null),Fn===null)throw Error(r(349));S||(di&127)!==0||vv(h,o,c)}return c}function vv(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Dt.updateQueue,o===null?(o=ld(),Dt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Iw(i,o,c,h){o.value=c,o.getSnapshot=h,fi(o)&&kw(i)}function Nw(i,o,c){return c(function(){fi(o)&&kw(i)})}function fi(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!sr(i,c)}catch{return!0}}function kw(i){var o=Ga(i,2);o!==null&&Ws(o,i,2)}function fd(i){var o=gs();if(typeof i=="function"){var c=i;if(i=c(),Kc){hs(!0);try{c()}finally{hs(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:i},o}function Lp(i,o,c,h){return i.baseState=c,gv(i,On,typeof h=="function"?h:ma)}function Ow(i,o,c,h,w){if(gh(i))throw Error(r(485));if(i=o.action,i!==null){var S={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){S.listeners.push(k)}};X.T!==null?c(!0):S.isTransition=!1,h(S),c=o.pending,c===null?(S.next=o.pending=S,_v(o,S)):(S.next=c.next,o.pending=c.next=S)}}function _v(i,o){var c=o.action,h=o.payload,w=i.state;if(o.isTransition){var S=X.T,k={};X.T=k;try{var F=c(w,h),ee=X.S;ee!==null&&ee(k,F),Bs(i,o,F)}catch(he){dh(i,o,he)}finally{S!==null&&k.types!==null&&(S.types=k.types),X.T=S}}else try{S=c(w,h),Bs(i,o,S)}catch(he){dh(i,o,he)}}function Bs(i,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){jo(i,o,h)},function(h){return dh(i,o,h)}):jo(i,o,c)}function jo(i,o,c){o.status="fulfilled",o.value=c,bv(o),i.state=c,o=i.pending,o!==null&&(c=o.next,c===o?i.pending=null:(c=c.next,o.next=c,_v(i,c)))}function dh(i,o,c){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=c,bv(o),o=o.next;while(o!==h)}i.action=null}function bv(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function fh(i,o){return o}function wv(i,o){if(tn){var c=Fn.formState;if(c!==null){e:{var h=Dt;if(tn){if(bn){t:{for(var w=bn,S=ji;w.nodeType!==8;){if(!S){w=null;break t}if(w=qi(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){bn=qi(w.nextSibling),h=w.data==="F!";break e}}wl(h)}h=!1}h&&(o=c[0])}}return c=gs(),c.memoizedState=c.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:o},c.queue=h,c=Ov.bind(null,Dt,h),h.dispatch=c,h=fd(!1),S=md.bind(null,Dt,!1,h.queue),h=gs(),w={state:o,dispatch:null,action:i,pending:null},h.queue=w,c=Ow.bind(null,Dt,w,S,c),w.dispatch=c,h.memoizedState=i,[o,c,!1]}function Vp(i){var o=wr();return xv(o,On,i)}function xv(i,o,c){if(o=gv(i,o,fh)[0],i=Pt(ma)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=cd(o)}catch(k){throw k===nd?ih:k}else h=o;o=wr();var w=o.queue,S=w.dispatch;return c!==o.memoizedState&&(Dt.flags|=2048,hi(9,{destroy:void 0},Sv.bind(null,w,c),null)),[h,S,i]}function Sv(i,o){i.action=o}function Bp(i){var o=wr(),c=On;if(c!==null)return xv(o,c,i);wr(),o=o.memoizedState,c=wr();var h=c.queue.dispatch;return c.memoizedState=i,[o,h,!1]}function hi(i,o,c,h){return i={tag:i,create:c,deps:h,inst:o,next:null},o=Dt.updateQueue,o===null&&(o=ld(),Dt.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=i.next=i:(h=c.next,c.next=i,i.next=h,o.lastEffect=i),i}function Dw(){return wr().memoizedState}function pa(i,o,c,h){var w=gs();Dt.flags|=i,w.memoizedState=hi(1|o,{destroy:void 0},c,h===void 0?null:h)}function hh(i,o,c,h){var w=wr();h=h===void 0?null:h;var S=w.memoizedState.inst;On!==null&&h!==null&&Dp(h,On.memoizedState.deps)?w.memoizedState=hi(o,S,c,h):(Dt.flags|=i,w.memoizedState=hi(1|o,S,c,h))}function Ev(i,o){pa(8390656,8,i,o)}function mh(i,o){hh(2048,8,i,o)}function HS(i){Dt.flags|=4;var o=Dt.updateQueue;if(o===null)o=ld(),Dt.updateQueue=o,o.events=[i];else{var c=o.events;c===null?o.events=[i]:c.push(i)}}function Pw(i){var o=wr().memoizedState;return HS({ref:o,nextImpl:i}),function(){if((gn&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function Mw(i,o){return hh(4,2,i,o)}function Tv(i,o){return hh(4,4,i,o)}function Cv(i,o){if(typeof o=="function"){i=i();var c=o(i);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function jw(i,o,c){c=c!=null?c.concat([i]):null,hh(4,4,Cv.bind(null,o,i),c)}function Up(){}function Av(i,o){var c=wr();o=o===void 0?null:o;var h=c.memoizedState;return o!==null&&Dp(o,h[1])?h[0]:(c.memoizedState=[i,o],i)}function Cs(i,o){var c=wr();o=o===void 0?null:o;var h=c.memoizedState;if(o!==null&&Dp(o,h[1]))return h[0];if(h=i(),Kc){hs(!0);try{i()}finally{hs(!1)}}return c.memoizedState=[h,o],h}function zi(i,o,c){return c===void 0||(di&1073741824)!==0&&(Kt&261930)===0?i.memoizedState=o:(i.memoizedState=c,i=c0(),Dt.lanes|=i,Pl|=i,c)}function Lw(i,o,c,h){return sr(c,o)?c:Mo.current!==null?(i=zi(i,c,h),sr(i,o)||(ir=!0),i):(di&42)===0||(di&1073741824)!==0&&(Kt&261930)===0?(ir=!0,i.memoizedState=c):(i=c0(),Dt.lanes|=i,Pl|=i,o)}function Vw(i,o,c,h,w){var S=ce.p;ce.p=S!==0&&8>S?S:8;var k=X.T,F={};X.T=F,md(i,!1,o,c);try{var ee=w(),he=X.S;if(he!==null&&he(F,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var we=zS(ee,h);hd(i,o,we,gi(i))}else hd(i,o,h,gi(i))}catch(Se){hd(i,o,{then:function(){},status:"rejected",reason:Se},gi())}finally{ce.p=S,k!==null&&F.types!==null&&(k.types=F.types),X.T=k}}function Fp(){}function Il(i,o,c,h){if(i.tag!==5)throw Error(r(476));var w=Rv(i).queue;Vw(i,w,o,se,c===null?Fp:function(){return Iv(i),c(h)})}function Rv(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:se},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:c},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Iv(i){var o=Rv(i);o.next===null&&(o=i.alternate.memoizedState),hd(i,o.next.queue,{},gi())}function Nv(){return is(Nd)}function kv(){return wr().memoizedState}function Qc(){return wr().memoizedState}function ph(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var c=gi();i=Cl(c);var h=fa(o,i,c);h!==null&&(Ws(h,o,c),ah(h,o,c)),o={cache:ca()},i.payload=o;return}o=o.return}}function $S(i,o,c){var h=gi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gh(i)?yh(o,c):(c=bp(i,o,c,h),c!==null&&(Ws(c,i,h),zp(c,o,h)))}function Ov(i,o,c){var h=gi();hd(i,o,c,h)}function hd(i,o,c,h){var w={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(gh(i))yh(o,w);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var k=o.lastRenderedState,F=S(k,c);if(w.hasEagerState=!0,w.eagerState=F,sr(F,k))return Fc(i,o,w,0),Fn===null&&la(),!1}catch{}finally{}if(c=bp(i,o,w,h),c!==null)return Ws(c,i,h),zp(c,o,h),!0}return!1}function md(i,o,c,h){if(h={lane:2,revertLane:yi(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gh(i)){if(o)throw Error(r(479))}else o=bp(i,c,h,2),o!==null&&Ws(o,i,2)}function gh(i){var o=i.alternate;return i===Dt||o!==null&&o===Dt}function yh(i,o){ad=ch=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function zp(i,o,c){if((c&4194048)!==0){var h=o.lanes;h&=i.pendingLanes,c|=h,o.lanes=c,Of(i,c)}}var Nl={readContext:is,use:ud,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useLayoutEffect:tr,useInsertionEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useSyncExternalStore:tr,useId:tr,useHostTransitionStatus:tr,useFormState:tr,useActionState:tr,useOptimistic:tr,useMemoCache:tr,useCacheRefresh:tr};Nl.useEffectEvent=tr;var Bw={readContext:is,use:ud,useCallback:function(i,o){return gs().memoizedState=[i,o===void 0?null:o],i},useContext:is,useEffect:Ev,useImperativeHandle:function(i,o,c){c=c!=null?c.concat([i]):null,pa(4194308,4,Cv.bind(null,o,i),c)},useLayoutEffect:function(i,o){return pa(4194308,4,i,o)},useInsertionEffect:function(i,o){pa(4,2,i,o)},useMemo:function(i,o){var c=gs();o=o===void 0?null:o;var h=i();if(Kc){hs(!0);try{i()}finally{hs(!1)}}return c.memoizedState=[h,o],h},useReducer:function(i,o,c){var h=gs();if(c!==void 0){var w=c(o);if(Kc){hs(!0);try{c(o)}finally{hs(!1)}}}else w=o;return h.memoizedState=h.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},h.queue=i,i=i.dispatch=$S.bind(null,Dt,i),[h.memoizedState,i]},useRef:function(i){var o=gs();return i={current:i},o.memoizedState=i},useState:function(i){i=fd(i);var o=i.queue,c=Ov.bind(null,Dt,o);return o.dispatch=c,[i.memoizedState,c]},useDebugValue:Up,useDeferredValue:function(i,o){var c=gs();return zi(c,i,o)},useTransition:function(){var i=fd(!1);return i=Vw.bind(null,Dt,i.queue,!0,!1),gs().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,c){var h=Dt,w=gs();if(tn){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Fn===null)throw Error(r(349));(Kt&127)!==0||vv(h,o,c)}w.memoizedState=c;var S={value:c,getSnapshot:o};return w.queue=S,Ev(Nw.bind(null,h,S,i),[i]),h.flags|=2048,hi(9,{destroy:void 0},Iw.bind(null,h,S,c,o),null),c},useId:function(){var i=gs(),o=Fn.identifierPrefix;if(tn){var c=Mi,h=Ya;c=(h&~(1<<32-Yn(h)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Op++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=qS++,o="_"+o+"r_"+c.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Nv,useFormState:wv,useActionState:wv,useOptimistic:function(i){var o=gs();o.memoizedState=o.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=md.bind(null,Dt,!0,c),c.dispatch=o,[i,o]},useMemoCache:pv,useCacheRefresh:function(){return gs().memoizedState=ph.bind(null,Dt)},useEffectEvent:function(i){var o=gs(),c={impl:i};return o.memoizedState=c,function(){if((gn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},qp={readContext:is,use:ud,useCallback:Av,useContext:is,useEffect:mh,useImperativeHandle:jw,useInsertionEffect:Mw,useLayoutEffect:Tv,useMemo:Cs,useReducer:Pt,useRef:Dw,useState:function(){return Pt(ma)},useDebugValue:Up,useDeferredValue:function(i,o){var c=wr();return Lw(c,On.memoizedState,i,o)},useTransition:function(){var i=Pt(ma)[0],o=wr().memoizedState;return[typeof i=="boolean"?i:cd(i),o]},useSyncExternalStore:dd,useId:kv,useHostTransitionStatus:Nv,useFormState:Vp,useActionState:Vp,useOptimistic:function(i,o){var c=wr();return Lp(c,On,i,o)},useMemoCache:pv,useCacheRefresh:Qc};qp.useEffectEvent=Pw;var vh={readContext:is,use:ud,useCallback:Av,useContext:is,useEffect:mh,useImperativeHandle:jw,useInsertionEffect:Mw,useLayoutEffect:Tv,useMemo:Cs,useReducer:yv,useRef:Dw,useState:function(){return yv(ma)},useDebugValue:Up,useDeferredValue:function(i,o){var c=wr();return On===null?zi(c,i,o):Lw(c,On.memoizedState,i,o)},useTransition:function(){var i=yv(ma)[0],o=wr().memoizedState;return[typeof i=="boolean"?i:cd(i),o]},useSyncExternalStore:dd,useId:kv,useHostTransitionStatus:Nv,useFormState:Bp,useActionState:Bp,useOptimistic:function(i,o){var c=wr();return On!==null?Lp(c,On,i,o):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:pv,useCacheRefresh:Qc};vh.useEffectEvent=Pw;function Wp(i,o,c,h){o=i.memoizedState,c=c(h,o),c=c==null?o:_({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var _h={enqueueSetState:function(i,o,c){i=i._reactInternals;var h=gi(),w=Cl(h);w.payload=o,c!=null&&(w.callback=c),o=fa(i,w,h),o!==null&&(Ws(o,i,h),ah(o,i,h))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var h=gi(),w=Cl(h);w.tag=1,w.payload=o,c!=null&&(w.callback=c),o=fa(i,w,h),o!==null&&(Ws(o,i,h),ah(o,i,h))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=gi(),h=Cl(c);h.tag=2,o!=null&&(h.callback=o),o=fa(i,h,c),o!==null&&(Ws(o,i,c),ah(o,i,c))}};function Uw(i,o,c,h,w,S,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,S,k):o.prototype&&o.prototype.isPureReactComponent?!qu(c,h)||!qu(w,S):!0}function Dv(i,o,c,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==i&&_h.enqueueReplaceState(o,o.state,null)}function As(i,o){var c=o;if("ref"in o){c={};for(var h in o)h!=="ref"&&(c[h]=o[h])}if(i=i.defaultProps){c===o&&(c=_({},c));for(var w in i)c[w]===void 0&&(c[w]=i[w])}return c}function Pv(i){_p(i)}function Mv(i){console.error(i)}function Fw(i){_p(i)}function bh(i,o){try{var c=i.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function zw(i,o,c){try{var h=i.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function jv(i,o,c){return c=Cl(c),c.tag=3,c.payload={element:null},c.callback=function(){bh(i,o)},c}function Xa(i){return i=Cl(i),i.tag=3,i}function Hp(i,o,c,h){var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var S=h.value;i.payload=function(){return w(S)},i.callback=function(){zw(o,c,h)}}var k=c.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(i.callback=function(){zw(o,c,h),typeof w!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function Lv(i,o,c,h,w){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=c.alternate,o!==null&&Zu(o,c,w,!0),c=ui.current,c!==null){switch(c.tag){case 31:case 13:return Ui===null?ig():c.alternate===null&&ar===0&&(ar=3),c.flags&=-257,c.flags|=65536,c.lanes=w,h===Cp?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([h]):o.add(h),f_(i,h,w)),!1;case 22:return c.flags|=65536,h===Cp?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([h]):c.add(h)),f_(i,h,w)),!1}throw Error(r(435,c.tag))}return f_(i,h,w),ig(),!1}if(tn)return o=ui.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,h!==av&&(i=Error(r(422),{cause:h}),Sl(oi(i,c)))):(h!==av&&(o=Error(r(423),{cause:h}),Sl(oi(o,c))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,h=oi(h,c),w=jv(i.stateNode,h,w),Ip(i,w),ar!==4&&(ar=2)),!1;var S=Error(r(520),{cause:h});if(S=oi(S,c),Ph===null?Ph=[S]:Ph.push(S),ar!==4&&(ar=2),o===null)return!0;h=oi(h,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,i=w&-w,c.lanes|=i,i=jv(c.stateNode,h,i),Ip(c,i),!1;case 1:if(o=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ml===null||!Ml.has(S))))return c.flags|=65536,w&=-w,c.lanes|=w,w=Xa(w),Hp(w,i,c,h),Ip(c,w),!1}c=c.return}while(c!==null);return!1}var wh=Error(r(461)),ir=!1;function fr(i,o,c,h){o.child=i===null?dv(o,null,c,h):Tl(o,i.child,c,h)}function pt(i,o,c,h,w){c=c.render;var S=o.ref;if("ref"in h){var k={};for(var F in h)F!=="ref"&&(k[F]=h[F])}else k=h;return Hc(o),h=Pp(i,o,c,k,S,w),F=Mp(),i!==null&&!ir?(jp(i,o,w),Za(i,o,w)):(tn&&F&&_l(o),o.flags|=1,fr(i,o,h,w),o.child)}function xh(i,o,c,h,w){if(i===null){var S=c.type;return typeof S=="function"&&!No(S)&&S.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=S,$p(i,o,S,h,w)):(i=wp(c.type,null,h,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!Jp(i,w)){var k=S.memoizedProps;if(c=c.compare,c=c!==null?c:qu,c(k,h)&&i.ref===o.ref)return Za(i,o,w)}return o.flags|=1,i=Oi(S,h),i.ref=o.ref,i.return=o,o.child=i}function $p(i,o,c,h,w){if(i!==null){var S=i.memoizedProps;if(qu(S,h)&&i.ref===o.ref)if(ir=!1,o.pendingProps=h=S,Jp(i,w))(i.flags&131072)!==0&&(ir=!0);else return o.lanes=i.lanes,Za(i,o,w)}return Kp(i,o,c,h,w)}function kl(i,o,c,h){var w=h.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|c:c,i!==null){for(h=o.child=i.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~S}else h=0,o.child=null;return Gp(i,o,S,c,h)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ep(o,S!==null?S.cachePool:null),S!==null?fv(o,S):as(),Rw(o);else return h=o.lanes=536870912,Gp(i,o,S!==null?S.baseLanes|c:c,c,h)}else S!==null?(Ep(o,S.cachePool),fv(o,S),Fi(),o.memoizedState=null):(i!==null&&Ep(o,null),as(),Fi());return fr(i,o,w,c),o.child}function Sh(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Gp(i,o,c,h,w){var S=cv();return S=S===null?null:{parent:Nr._currentValue,pool:S},o.memoizedState={baseLanes:c,cachePool:S},i!==null&&Ep(o,null),as(),Rw(o),i!==null&&Zu(i,o,h,!0),o.childLanes=w,null}function Eh(i,o){return o=Qp({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function os(i,o,c){return Tl(o,i.child,null,c),i=Eh(o,o.pendingProps),i.flags|=2,Vs(o),o.memoizedState=null,i}function GS(i,o,c){var h=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(tn){if(h.mode==="hidden")return i=Eh(o,h),o.lanes=536870912,Sh(null,i);if(lh(o),(i=bn)?(i=O0(i,ji),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ko!==null?{id:Ya,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},c=eh(i),c.return=o,o.child=c,Ir=o,bn=null)):i=null,i===null)throw wl(o);return o.lanes=536870912,null}return Eh(o,h)}var S=i.memoizedState;if(S!==null){var k=S.dehydrated;if(lh(o),w)if(o.flags&256)o.flags&=-257,o=os(i,o,c);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(ir||Zu(i,o,c,!1),w=(c&i.childLanes)!==0,ir||w){if(h=Fn,h!==null&&(k=Ec(h,c),k!==0&&k!==S.retryLane))throw S.retryLane=k,Ga(i,k),Ws(h,i,k),wh;ig(),o=os(i,o,c)}else i=S.treeContext,bn=qi(k.nextSibling),Ir=o,tn=!0,bl=null,ji=!1,i!==null&&Ju(o,i),o=Eh(o,h),o.flags|=4096;return o}return i=Oi(i.child,{mode:h.mode,children:h.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Yp(i,o){var c=o.ref;if(c===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(o.flags|=4194816)}}function Kp(i,o,c,h,w){return Hc(o),c=Pp(i,o,c,h,void 0,w),h=Mp(),i!==null&&!ir?(jp(i,o,w),Za(i,o,w)):(tn&&h&&_l(o),o.flags|=1,fr(i,o,c,w),o.child)}function qw(i,o,c,h,w,S){return Hc(o),o.updateQueue=null,c=uh(o,h,c,w),hv(i),h=Mp(),i!==null&&!ir?(jp(i,o,S),Za(i,o,S)):(tn&&h&&_l(o),o.flags|=1,fr(i,o,c,S),o.child)}function Vv(i,o,c,h,w){if(Hc(o),o.stateNode===null){var S=Io,k=c.contextType;typeof k=="object"&&k!==null&&(S=is(k)),S=new c(h,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=_h,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=h,S.state=o.memoizedState,S.refs={},Qa(o),k=c.contextType,S.context=typeof k=="object"&&k!==null?is(k):Io,S.state=o.memoizedState,k=c.getDerivedStateFromProps,typeof k=="function"&&(Wp(o,c,k,h),S.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(k=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),k!==S.state&&_h.enqueueReplaceState(S,S.state,null),id(o,h,S,w),Yc(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(i===null){S=o.stateNode;var F=o.memoizedProps,ee=As(c,F);S.props=ee;var he=S.context,we=c.contextType;k=Io,typeof we=="object"&&we!==null&&(k=is(we));var Se=c.getDerivedStateFromProps;we=typeof Se=="function"||typeof S.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,we||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(F||he!==k)&&Dv(o,S,h,k),Bi=!1;var me=o.memoizedState;S.state=me,id(o,h,S,w),Yc(),he=o.memoizedState,F||me!==he||Bi?(typeof Se=="function"&&(Wp(o,c,Se,h),he=o.memoizedState),(ee=Bi||Uw(o,c,ee,h,me,he,k))?(we||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=he),S.props=h,S.state=he,S.context=k,h=ee):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Rp(i,o),k=o.memoizedProps,we=As(c,k),S.props=we,Se=o.pendingProps,me=S.context,he=c.contextType,ee=Io,typeof he=="object"&&he!==null&&(ee=is(he)),F=c.getDerivedStateFromProps,(he=typeof F=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(k!==Se||me!==ee)&&Dv(o,S,h,ee),Bi=!1,me=o.memoizedState,S.state=me,id(o,h,S,w),Yc();var ve=o.memoizedState;k!==Se||me!==ve||Bi||i!==null&&i.dependencies!==null&&Sp(i.dependencies)?(typeof F=="function"&&(Wp(o,c,F,h),ve=o.memoizedState),(we=Bi||Uw(o,c,we,h,me,ve,ee)||i!==null&&i.dependencies!==null&&Sp(i.dependencies))?(he||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ve,ee),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ve,ee)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ve),S.props=h,S.state=ve,S.context=ee,h=we):(typeof S.componentDidUpdate!="function"||k===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),h=!1)}return S=h,Yp(i,o),h=(o.flags&128)!==0,S||h?(S=o.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&h?(o.child=Tl(o,i.child,null,w),o.child=Tl(o,null,c,w)):fr(i,o,c,w),o.memoizedState=S.state,i=o.child):i=Za(i,o,w),i}function Ww(i,o,c,h){return z(),o.flags|=256,fr(i,o,c,h),o.child}var Bv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uv(i){return{baseLanes:i,cachePool:Ew()}}function ga(i,o,c){return i=i!==null?i.childLanes&~c:0,o&&(i|=pi),i}function ys(i,o,c){var h=o.pendingProps,w=!1,S=(o.flags&128)!==0,k;if((k=S)||(k=i!==null&&i.memoizedState===null?!1:(br.current&2)!==0),k&&(w=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,i===null){if(tn){if(w?Al(o):Fi(),(i=bn)?(i=O0(i,ji),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:ko!==null?{id:Ya,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},c=eh(i),c.return=o,o.child=c,Ir=o,bn=null)):i=null,i===null)throw wl(o);return Ed(i)?o.lanes=32:o.lanes=536870912,null}var F=h.children;return h=h.fallback,w?(Fi(),w=o.mode,F=Qp({mode:"hidden",children:F},w),h=zc(h,w,c,null),F.return=o,h.return=o,F.sibling=h,o.child=F,h=o.child,h.memoizedState=Uv(c),h.childLanes=ga(i,k,c),o.memoizedState=Bv,Sh(null,h)):(Al(o),Th(o,F))}var ee=i.memoizedState;if(ee!==null&&(F=ee.dehydrated,F!==null)){if(S)o.flags&256?(Al(o),o.flags&=-257,o=Ch(i,o,c)):o.memoizedState!==null?(Fi(),o.child=i.child,o.flags|=128,o=null):(Fi(),F=h.fallback,w=o.mode,h=Qp({mode:"visible",children:h.children},w),F=zc(F,w,c,null),F.flags|=2,h.return=o,F.return=o,h.sibling=F,o.child=h,Tl(o,i.child,null,c),h=o.child,h.memoizedState=Uv(c),h.childLanes=ga(i,k,c),o.memoizedState=Bv,o=Sh(null,h));else if(Al(o),Ed(F)){if(k=F.nextSibling&&F.nextSibling.dataset,k)var he=k.dgst;k=he,h=Error(r(419)),h.stack="",h.digest=k,Sl({value:h,source:null,stack:null}),o=Ch(i,o,c)}else if(ir||Zu(i,o,c,!1),k=(c&i.childLanes)!==0,ir||k){if(k=Fn,k!==null&&(h=Ec(k,c),h!==0&&h!==ee.retryLane))throw ee.retryLane=h,Ga(i,h),Ws(k,i,h),wh;mg(F)||ig(),o=Ch(i,o,c)}else mg(F)?(o.flags|=192,o.child=i.child,o=null):(i=ee.treeContext,bn=qi(F.nextSibling),Ir=o,tn=!0,bl=null,ji=!1,i!==null&&Ju(o,i),o=Th(o,h.children),o.flags|=4096);return o}return w?(Fi(),F=h.fallback,w=o.mode,ee=i.child,he=ee.sibling,h=Oi(ee,{mode:"hidden",children:h.children}),h.subtreeFlags=ee.subtreeFlags&65011712,he!==null?F=Oi(he,F):(F=zc(F,w,c,null),F.flags|=2),F.return=o,h.return=o,h.sibling=F,o.child=h,Sh(null,h),h=o.child,F=i.child.memoizedState,F===null?F=Uv(c):(w=F.cachePool,w!==null?(ee=Nr._currentValue,w=w.parent!==ee?{parent:ee,pool:ee}:w):w=Ew(),F={baseLanes:F.baseLanes|c,cachePool:w}),h.memoizedState=F,h.childLanes=ga(i,k,c),o.memoizedState=Bv,Sh(i.child,h)):(Al(o),c=i.child,i=c.sibling,c=Oi(c,{mode:"visible",children:h.children}),c.return=o,c.sibling=null,i!==null&&(k=o.deletions,k===null?(o.deletions=[i],o.flags|=16):k.push(i)),o.child=c,o.memoizedState=null,c)}function Th(i,o){return o=Qp({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Qp(i,o){return i=ss(22,i,null,o),i.lanes=0,i}function Ch(i,o,c){return Tl(o,i.child,null,c),i=Th(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Hw(i,o,c){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Po(i.return,o,c)}function Fv(i,o,c,h,w,S){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:w,treeForkCount:S}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=h,k.tail=c,k.tailMode=w,k.treeForkCount=S)}function pd(i,o,c){var h=o.pendingProps,w=h.revealOrder,S=h.tail;h=h.children;var k=br.current,F=(k&2)!==0;if(F?(k=k&1|2,o.flags|=128):k&=1,Ce(br,k),fr(i,o,h,c),h=tn?Rr:0,!F&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Hw(i,c,o);else if(i.tag===19)Hw(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(c=o.child,w=null;c!==null;)i=c.alternate,i!==null&&kp(i)===null&&(w=c),c=c.sibling;c=w,c===null?(w=o.child,o.child=null):(w=c.sibling,c.sibling=null),Fv(o,!1,w,c,S,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&kp(i)===null){o.child=w;break}i=w.sibling,w.sibling=c,c=w,w=i}Fv(o,!0,c,null,S,h);break;case"together":Fv(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Za(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),Pl|=o.lanes,(c&o.childLanes)===0)if(i!==null){if(Zu(i,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Oi(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Oi(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Jp(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Sp(i)))}function YS(i,o,c){switch(o.tag){case 3:it(o,o.stateNode.containerInfo),El(o,Nr,i.memoizedState.cache),z();break;case 27:case 5:yt(o);break;case 4:it(o,o.stateNode.containerInfo);break;case 10:El(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,lh(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(Al(o),o.flags|=128,null):(c&o.child.childLanes)!==0?ys(i,o,c):(Al(o),i=Za(i,o,c),i!==null?i.sibling:null);Al(o);break;case 19:var w=(i.flags&128)!==0;if(h=(c&o.childLanes)!==0,h||(Zu(i,o,c,!1),h=(c&o.childLanes)!==0),w){if(h)return pd(i,o,c);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ce(br,br.current),h)break;return null;case 22:return o.lanes=0,kl(i,o,c,o.pendingProps);case 24:El(o,Nr,i.memoizedState.cache)}return Za(i,o,c)}function $w(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps)ir=!0;else{if(!Jp(i,c)&&(o.flags&128)===0)return ir=!1,YS(i,o,c);ir=(i.flags&131072)!==0}else ir=!1,tn&&(o.flags&1048576)!==0&&xp(o,Rr,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(i=ua(o.elementType),o.type=i,typeof i=="function")No(i)?(h=As(i,h),o.tag=1,o=Vv(null,o,i,h,c)):(o.tag=0,o=Kp(null,o,i,h,c));else{if(i!=null){var w=i.$$typeof;if(w===Y){o.tag=11,o=pt(null,o,i,h,c);break e}else if(w===D){o.tag=14,o=xh(null,o,i,h,c);break e}}throw o=Ee(i)||i,Error(r(306,o,""))}}return o;case 0:return Kp(i,o,o.type,o.pendingProps,c);case 1:return h=o.type,w=As(h,o.pendingProps),Vv(i,o,h,w,c);case 3:e:{if(it(o,o.stateNode.containerInfo),i===null)throw Error(r(387));h=o.pendingProps;var S=o.memoizedState;w=S.element,Rp(i,o),id(o,h,null,c);var k=o.memoizedState;if(h=k.cache,El(o,Nr,h),h!==S.cache&&ov(o,[Nr],c,!0),Yc(),h=k.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=Ww(i,o,h,c);break e}else if(h!==w){w=oi(Error(r(424)),o),Sl(w),o=Ww(i,o,h,c);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(bn=qi(i.firstChild),Ir=o,tn=!0,bl=null,ji=!0,c=dv(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(z(),h===w){o=Za(i,o,c);break e}fr(i,o,h,c)}o=o.child}return o;case 26:return Yp(i,o),i===null?(c=V0(o.type,null,o.pendingProps,null))?o.memoizedState=c:tn||(c=o.type,i=o.pendingProps,h=$h(nt.current).createElement(c),h[Cr]=o,h[Gr]=i,ls(h,c,i),Ar(h),o.stateNode=h):o.memoizedState=V0(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return yt(o),i===null&&tn&&(h=o.stateNode=M0(o.type,o.pendingProps,nt.current),Ir=o,ji=!0,w=bn,bt(o.type)?(E_=w,bn=qi(h.firstChild)):bn=w),fr(i,o,o.pendingProps.children,c),Yp(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&tn&&((w=h=bn)&&(h=uE(h,o.type,o.pendingProps,ji),h!==null?(o.stateNode=h,Ir=o,bn=qi(h.firstChild),ji=!1,w=!0):w=!1),w||wl(o)),yt(o),w=o.type,S=o.pendingProps,k=i!==null?i.memoizedProps:null,h=S.children,Bl(w,S)?h=null:k!==null&&Bl(w,k)&&(o.flags|=32),o.memoizedState!==null&&(w=Pp(i,o,WS,null,null,c),Nd._currentValue=w),Yp(i,o),fr(i,o,h,c),o.child;case 6:return i===null&&tn&&((i=c=bn)&&(c=wn(c,o.pendingProps,ji),c!==null?(o.stateNode=c,Ir=o,bn=null,i=!0):i=!1),i||wl(o)),null;case 13:return ys(i,o,c);case 4:return it(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Tl(o,null,h,c):fr(i,o,h,c),o.child;case 11:return pt(i,o,o.type,o.pendingProps,c);case 7:return fr(i,o,o.pendingProps,c),o.child;case 8:return fr(i,o,o.pendingProps.children,c),o.child;case 12:return fr(i,o,o.pendingProps.children,c),o.child;case 10:return h=o.pendingProps,El(o,o.type,h.value),fr(i,o,h.children,c),o.child;case 9:return w=o.type._context,h=o.pendingProps.children,Hc(o),w=is(w),h=h(w),o.flags|=1,fr(i,o,h,c),o.child;case 14:return xh(i,o,o.type,o.pendingProps,c);case 15:return $p(i,o,o.type,o.pendingProps,c);case 19:return pd(i,o,c);case 31:return GS(i,o,c);case 22:return kl(i,o,c,o.pendingProps);case 24:return Hc(o),h=is(Nr),i===null?(w=cv(),w===null&&(w=Fn,S=ca(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=c),w=S),o.memoizedState={parent:h,cache:w},Qa(o),El(o,Nr,w)):((i.lanes&c)!==0&&(Rp(i,o),id(o,null,null,c),Yc()),w=i.memoizedState,S=o.memoizedState,w.parent!==h?(w={parent:h,cache:h},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),El(o,Nr,h)):(h=S.cache,El(o,Nr,h),h!==w.cache&&ov(o,[Nr],c,!0))),fr(i,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Lo(i){i.flags|=4}function zv(i,o,c,h,w){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(Lh())i.flags|=8192;else throw Ka=Cp,Tp}else i.flags&=-16777217}function qv(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!q0(o))if(Lh())i.flags|=8192;else throw Ka=Cp,Tp}function Ah(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?xc():536870912,i.lanes|=o,_d|=o)}function Rh(i,o){if(!tn)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Un(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,h=0;if(o)for(var w=i.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)c|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=h,i.childLanes=c,o}function Gw(i,o,c){var h=o.pendingProps;switch(qc(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(o),null;case 1:return Un(o),null;case 3:return c=o.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Do(Nr),ct(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Wc(o)?Lo(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xl())),Un(o),null;case 26:var w=o.type,S=o.memoizedState;return i===null?(Lo(o),S!==null?(Un(o),qv(o,S)):(Un(o),zv(o,w,null,h,c))):S?S!==i.memoizedState?(Lo(o),Un(o),qv(o,S)):(Un(o),o.flags&=-16777217):(i=i.memoizedProps,i!==h&&Lo(o),Un(o),zv(o,w,i,h,c)),null;case 27:if(vt(o),c=nt.current,w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Lo(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Un(o),null}i=Ne.current,Wc(o)?nh(o):(i=M0(w,h,c),o.stateNode=i,Lo(o))}return Un(o),null;case 5:if(vt(o),w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==h&&Lo(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return Un(o),null}if(S=Ne.current,Wc(o))nh(o);else{var k=$h(nt.current);switch(S){case 1:S=k.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=k.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=k.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?k.createElement("select",{is:h.is}):k.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?k.createElement(w,{is:h.is}):k.createElement(w)}}S[Cr]=o,S[Gr]=h;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)S.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=S;e:switch(ls(S,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Lo(o)}}return Un(o),zv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,c),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==h&&Lo(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(i=nt.current,Wc(o)){if(i=o.stateNode,c=o.memoizedProps,h=null,w=Ir,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}i[Cr]=o,i=!!(i.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||R0(i.nodeValue,c)),i||wl(o,!0)}else i=$h(i).createTextNode(h),i[Cr]=o,o.stateNode=i}return Un(o),null;case 31:if(c=o.memoizedState,i===null||i.memoizedState!==null){if(h=Wc(o),c!==null){if(i===null){if(!h)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Cr]=o}else z(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Un(o),i=!1}else c=xl(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=c),i=!0;if(!i)return o.flags&256?(Vs(o),o):(Vs(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Un(o),null;case 13:if(h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=Wc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[Cr]=o}else z(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Un(o),w=!1}else w=xl(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(Vs(o),o):(Vs(o),null)}return Vs(o),(o.flags&128)!==0?(o.lanes=c,o):(c=h!==null,i=i!==null&&i.memoizedState!==null,c&&(h=o.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==w&&(h.flags|=2048)),c!==i&&c&&(o.child.flags|=8192),Ah(o,o.updateQueue),Un(o),null);case 4:return ct(),i===null&&y_(o.stateNode.containerInfo),Un(o),null;case 10:return Do(o.type),Un(o),null;case 19:if(ye(br),h=o.memoizedState,h===null)return Un(o),null;if(w=(o.flags&128)!==0,S=h.rendering,S===null)if(w)Rh(h,!1);else{if(ar!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=kp(i),S!==null){for(o.flags|=128,Rh(h,!1),i=S.updateQueue,o.updateQueue=i,Ah(o,i),o.subtreeFlags=0,i=c,c=o.child;c!==null;)bw(c,i),c=c.sibling;return Ce(br,br.current&1|2),tn&&li(o,h.treeForkCount),o.child}i=i.sibling}h.tail!==null&&gr()>Zc&&(o.flags|=128,w=!0,Rh(h,!1),o.lanes=4194304)}else{if(!w)if(i=kp(S),i!==null){if(o.flags|=128,w=!0,i=i.updateQueue,o.updateQueue=i,Ah(o,i),Rh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!tn)return Un(o),null}else 2*gr()-h.renderingStartTime>Zc&&c!==536870912&&(o.flags|=128,w=!0,Rh(h,!1),o.lanes=4194304);h.isBackwards?(S.sibling=o.child,o.child=S):(i=h.last,i!==null?i.sibling=S:o.child=S,h.last=S)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gr(),i.sibling=null,c=br.current,Ce(br,w?c&1|2:c&1),tn&&li(o,h.treeForkCount),i):(Un(o),null);case 22:case 23:return Vs(o),oh(),h=o.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(c&536870912)!==0&&(o.flags&128)===0&&(Un(o),o.subtreeFlags&6&&(o.flags|=8192)):Un(o),c=o.updateQueue,c!==null&&Ah(o,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048),i!==null&&ye(Gc),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Do(Nr),Un(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Ih(i,o){switch(qc(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Do(Nr),ct(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return vt(o),null;case 31:if(o.memoizedState!==null){if(Vs(o),o.alternate===null)throw Error(r(340));z()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Vs(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));z()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ye(br),null;case 4:return ct(),null;case 10:return Do(o.type),null;case 22:case 23:return Vs(o),oh(),i!==null&&ye(Gc),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Do(Nr),null;case 25:return null;default:return null}}function Xp(i,o){switch(qc(o),o.tag){case 3:Do(Nr),ct();break;case 26:case 27:case 5:vt(o);break;case 4:ct();break;case 31:o.memoizedState!==null&&Vs(o);break;case 13:Vs(o);break;case 19:ye(br);break;case 10:Do(o.type);break;case 22:case 23:Vs(o),oh(),i!==null&&ye(Gc);break;case 24:Do(Nr)}}function gd(i,o){try{var c=o.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var w=h.next;c=w;do{if((c.tag&i)===i){h=void 0;var S=c.create,k=c.inst;h=S(),k.destroy=h}c=c.next}while(c!==w)}}catch(F){An(o,o.return,F)}}function Vo(i,o,c){try{var h=o.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var S=w.next;h=S;do{if((h.tag&i)===i){var k=h.inst,F=k.destroy;if(F!==void 0){k.destroy=void 0,w=o;var ee=c,he=F;try{he()}catch(we){An(w,ee,we)}}}h=h.next}while(h!==S)}}catch(we){An(o,o.return,we)}}function Nh(i){var o=i.updateQueue;if(o!==null){var c=i.stateNode;try{Np(o,c)}catch(h){An(i,i.return,h)}}}function Wv(i,o,c){c.props=As(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(h){An(i,o,h)}}function Us(i,o){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof c=="function"?i.refCleanup=c(h):c.current=h}}catch(w){An(i,o,w)}}function vs(i,o){var c=i.ref,h=i.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(w){An(i,o,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(w){An(i,o,w)}else c.current=null}function Yw(i){var o=i.type,c=i.memoizedProps,h=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(w){An(i,i.return,w)}}function Zp(i,o,c){try{var h=i.stateNode;oE(h,i.type,c,o),h[Gr]=o}catch(w){An(i,i.return,w)}}function Kw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&bt(i.type)||i.tag===4}function Hv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&bt(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $v(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(i),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=na));else if(h!==4&&(h===27&&bt(i.type)&&(c=i.stateNode,o=null),i=i.child,i!==null))for($v(i,o,c),i=i.sibling;i!==null;)$v(i,o,c),i=i.sibling}function eg(i,o,c){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(h!==4&&(h===27&&bt(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(eg(i,o,c),i=i.sibling;i!==null;)eg(i,o,c),i=i.sibling}function Qw(i){var o=i.stateNode,c=i.memoizedProps;try{for(var h=i.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);ls(o,h,c),o[Cr]=i,o[Gr]=c}catch(S){An(i,i.return,S)}}var Bo=!1,kr=!1,Gv=!1,Jw=typeof WeakSet=="function"?WeakSet:Set,Kr=null;function KS(i,o){if(i=i.containerInfo,Hh=wg,i=gw(i),sv(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var w=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var k=0,F=-1,ee=-1,he=0,we=0,Se=i,me=null;t:for(;;){for(var ve;Se!==c||w!==0&&Se.nodeType!==3||(F=k+w),Se!==S||h!==0&&Se.nodeType!==3||(ee=k+h),Se.nodeType===3&&(k+=Se.nodeValue.length),(ve=Se.firstChild)!==null;)me=Se,Se=ve;for(;;){if(Se===i)break t;if(me===c&&++he===w&&(F=k),me===S&&++we===h&&(ee=k),(ve=Se.nextSibling)!==null)break;Se=me,me=Se.parentNode}Se=ve}c=F===-1||ee===-1?null:{start:F,end:ee}}else c=null}c=c||{start:0,end:0}}else c=null;for(w_={focusedElem:i,selectionRange:c},wg=!1,Kr=o;Kr!==null;)if(o=Kr,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Kr=i;else for(;Kr!==null;){switch(o=Kr,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(c=0;c<i.length;c++)w=i[c],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,c=o,w=S.memoizedProps,S=S.memoizedState,h=c.stateNode;try{var Xe=As(c.type,w);i=h.getSnapshotBeforeUpdate(Xe,S),h.__reactInternalSnapshotBeforeUpdate=i}catch(gt){An(c,c.return,gt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,c=i.nodeType,c===9)hg(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Kr=i;break}Kr=o.return}}function Yv(i,o,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Fo(i,c),h&4&&gd(5,c);break;case 1:if(Fo(i,c),h&4)if(i=c.stateNode,o===null)try{i.componentDidMount()}catch(k){An(c,c.return,k)}else{var w=As(c.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(w,o,i.__reactInternalSnapshotBeforeUpdate)}catch(k){An(c,c.return,k)}}h&64&&Nh(c),h&512&&Us(c,c.return);break;case 3:if(Fo(i,c),h&64&&(i=c.updateQueue,i!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Np(i,o)}catch(k){An(c,c.return,k)}}break;case 27:o===null&&h&4&&Qw(c);case 26:case 5:Fo(i,c),o===null&&h&4&&Yw(c),h&512&&Us(c,c.return);break;case 12:Fo(i,c);break;case 31:Fo(i,c),h&4&&Qv(i,c);break;case 13:Fo(i,c),h&4&&Zw(i,c),h&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=lg.bind(null,c),dE(i,c))));break;case 22:if(h=c.memoizedState!==null||Bo,!h){o=o!==null&&o.memoizedState!==null||kr,w=Bo;var S=kr;Bo=h,(kr=o)&&!S?eo(i,c,(c.subtreeFlags&8772)!==0):Fo(i,c),Bo=w,kr=S}break;case 30:break;default:Fo(i,c)}}function Kv(i){var o=i.alternate;o!==null&&(i.alternate=null,Kv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ou(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Kn=null,Fs=!1;function Uo(i,o,c){for(c=c.child;c!==null;)Xw(i,o,c),c=c.sibling}function Xw(i,o,c){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(xs,c)}catch{}switch(c.tag){case 26:kr||vs(c,o),Uo(i,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:kr||vs(c,o);var h=Kn,w=Fs;bt(c.type)&&(Kn=c.stateNode,Fs=!1),Uo(i,o,c),Yh(c.stateNode),Kn=h,Fs=w;break;case 5:kr||vs(c,o);case 6:if(h=Kn,w=Fs,Kn=null,Uo(i,o,c),Kn=h,Fs=w,Kn!==null)if(Fs)try{(Kn.nodeType===9?Kn.body:Kn.nodeName==="HTML"?Kn.ownerDocument.body:Kn).removeChild(c.stateNode)}catch(S){An(c,o,S)}else try{Kn.removeChild(c.stateNode)}catch(S){An(c,o,S)}break;case 18:Kn!==null&&(Fs?(i=Kn,S_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),Od(i)):S_(Kn,c.stateNode));break;case 4:h=Kn,w=Fs,Kn=c.stateNode.containerInfo,Fs=!0,Uo(i,o,c),Kn=h,Fs=w;break;case 0:case 11:case 14:case 15:Vo(2,c,o),kr||Vo(4,c,o),Uo(i,o,c);break;case 1:kr||(vs(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Wv(c,o,h)),Uo(i,o,c);break;case 21:Uo(i,o,c);break;case 22:kr=(h=kr)||c.memoizedState!==null,Uo(i,o,c),kr=h;break;default:Uo(i,o,c)}}function Qv(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Od(i)}catch(c){An(o,o.return,c)}}}function Zw(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Od(i)}catch(c){An(o,o.return,c)}}function QS(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Jw),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Jw),o;default:throw Error(r(435,i.tag))}}function tg(i,o){var c=QS(i);o.forEach(function(h){if(!c.has(h)){c.add(h);var w=rE.bind(null,i,h);h.then(w,w)}})}function zs(i,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var w=c[h],S=i,k=o,F=k;e:for(;F!==null;){switch(F.tag){case 27:if(bt(F.type)){Kn=F.stateNode,Fs=!1;break e}break;case 5:Kn=F.stateNode,Fs=!1;break e;case 3:case 4:Kn=F.stateNode.containerInfo,Fs=!0;break e}F=F.return}if(Kn===null)throw Error(r(160));Xw(S,k,w),Kn=null,Fs=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)e0(o,i),o=o.sibling}var ya=null;function e0(i,o){var c=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zs(o,i),Qn(i),h&4&&(Vo(3,i,i.return),gd(3,i),Vo(5,i,i.return));break;case 1:zs(o,i),Qn(i),h&512&&(kr||c===null||vs(c,c.return)),h&64&&Bo&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var w=ya;if(zs(o,i),Qn(i),h&512&&(kr||c===null||vs(c,c.return)),h&4){var S=c!==null?c.memoizedState:null;if(h=i.memoizedState,c===null)if(h===null)if(i.stateNode===null){e:{h=i.type,c=i.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Va]||S[Cr]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(h),w.head.insertBefore(S,w.querySelector("head > title"))),ls(S,h,c),S[Cr]=i,Ar(S),h=S;break e;case"link":var k=F0("link","href",w).get(h+(c.href||""));if(k){for(var F=0;F<k.length;F++)if(S=k[F],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){k.splice(F,1);break t}}S=w.createElement(h),ls(S,h,c),w.head.appendChild(S);break;case"meta":if(k=F0("meta","content",w).get(h+(c.content||""))){for(F=0;F<k.length;F++)if(S=k[F],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){k.splice(F,1);break t}}S=w.createElement(h),ls(S,h,c),w.head.appendChild(S);break;default:throw Error(r(468,h))}S[Cr]=i,Ar(S),h=S}i.stateNode=h}else z0(w,i.type,i.stateNode);else i.stateNode=U0(w,h,i.memoizedProps);else S!==h?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,h===null?z0(w,i.type,i.stateNode):U0(w,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Zp(i,i.memoizedProps,c.memoizedProps)}break;case 27:zs(o,i),Qn(i),h&512&&(kr||c===null||vs(c,c.return)),c!==null&&h&4&&Zp(i,i.memoizedProps,c.memoizedProps);break;case 5:if(zs(o,i),Qn(i),h&512&&(kr||c===null||vs(c,c.return)),i.flags&32){w=i.stateNode;try{Vr(w,"")}catch(Xe){An(i,i.return,Xe)}}h&4&&i.stateNode!=null&&(w=i.memoizedProps,Zp(i,w,c!==null?c.memoizedProps:w)),h&1024&&(Gv=!0);break;case 6:if(zs(o,i),Qn(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,c=i.stateNode;try{c.nodeValue=h}catch(Xe){An(i,i.return,Xe)}}break;case 3:if(Kh=null,w=ya,ya=pg(o.containerInfo),zs(o,i),ya=w,Qn(i),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Od(o.containerInfo)}catch(Xe){An(i,i.return,Xe)}Gv&&(Gv=!1,t0(i));break;case 4:h=ya,ya=pg(i.stateNode.containerInfo),zs(o,i),Qn(i),ya=h;break;case 12:zs(o,i),Qn(i);break;case 31:zs(o,i),Qn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,tg(i,h)));break;case 13:zs(o,i),Qn(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Mh=gr()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,tg(i,h)));break;case 22:w=i.memoizedState!==null;var ee=c!==null&&c.memoizedState!==null,he=Bo,we=kr;if(Bo=he||w,kr=we||ee,zs(o,i),kr=we,Bo=he,Qn(i),h&8192)e:for(o=i.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(c===null||ee||Bo||kr||Jc(i)),c=null,o=i;;){if(o.tag===5||o.tag===26){if(c===null){ee=c=o;try{if(S=ee.stateNode,w)k=S.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{F=ee.stateNode;var Se=ee.memoizedProps.style,me=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;F.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Xe){An(ee,ee.return,Xe)}}}else if(o.tag===6){if(c===null){ee=o;try{ee.stateNode.nodeValue=w?"":ee.memoizedProps}catch(Xe){An(ee,ee.return,Xe)}}}else if(o.tag===18){if(c===null){ee=o;try{var ve=ee.stateNode;w?_i(ve,!0):_i(ee.stateNode,!1)}catch(Xe){An(ee,ee.return,Xe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=i.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,tg(i,c))));break;case 19:zs(o,i),Qn(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,tg(i,h)));break;case 30:break;case 21:break;default:zs(o,i),Qn(i)}}function Qn(i){var o=i.flags;if(o&2){try{for(var c,h=i.return;h!==null;){if(Kw(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var w=c.stateNode,S=Hv(i);eg(i,S,w);break;case 5:var k=c.stateNode;c.flags&32&&(Vr(k,""),c.flags&=-33);var F=Hv(i);eg(i,F,k);break;case 3:case 4:var ee=c.stateNode.containerInfo,he=Hv(i);$v(i,he,ee);break;default:throw Error(r(161))}}catch(we){An(i,i.return,we)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function t0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;t0(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Fo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Yv(i,o.alternate,o),o=o.sibling}function Jc(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Vo(4,o,o.return),Jc(o);break;case 1:vs(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&Wv(o,o.return,c),Jc(o);break;case 27:Yh(o.stateNode);case 26:case 5:vs(o,o.return),Jc(o);break;case 22:o.memoizedState===null&&Jc(o);break;case 30:Jc(o);break;default:Jc(o)}i=i.sibling}}function eo(i,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,w=i,S=o,k=S.flags;switch(S.tag){case 0:case 11:case 15:eo(w,S,c),gd(4,S);break;case 1:if(eo(w,S,c),h=S,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(he){An(h,h.return,he)}if(h=S,w=h.updateQueue,w!==null){var F=h.stateNode;try{var ee=w.shared.hiddenCallbacks;if(ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<ee.length;w++)ha(ee[w],F)}catch(he){An(h,h.return,he)}}c&&k&64&&Nh(S),Us(S,S.return);break;case 27:Qw(S);case 26:case 5:eo(w,S,c),c&&h===null&&k&4&&Yw(S),Us(S,S.return);break;case 12:eo(w,S,c);break;case 31:eo(w,S,c),c&&k&4&&Qv(w,S);break;case 13:eo(w,S,c),c&&k&4&&Zw(w,S);break;case 22:S.memoizedState===null&&eo(w,S,c),Us(S,S.return);break;case 30:break;default:eo(w,S,c)}o=o.sibling}}function Jv(i,o){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&rh(c))}function Xv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&rh(i))}function va(i,o,c,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)n0(i,o,c,h),o=o.sibling}function n0(i,o,c,h){var w=o.flags;switch(o.tag){case 0:case 11:case 15:va(i,o,c,h),w&2048&&gd(9,o);break;case 1:va(i,o,c,h);break;case 3:va(i,o,c,h),w&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&rh(i)));break;case 12:if(w&2048){va(i,o,c,h),i=o.stateNode;try{var S=o.memoizedProps,k=S.id,F=S.onPostCommit;typeof F=="function"&&F(k,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ee){An(o,o.return,ee)}}else va(i,o,c,h);break;case 31:va(i,o,c,h);break;case 13:va(i,o,c,h);break;case 23:break;case 22:S=o.stateNode,k=o.alternate,o.memoizedState!==null?S._visibility&2?va(i,o,c,h):kh(i,o):S._visibility&2?va(i,o,c,h):(S._visibility|=2,Ol(i,o,c,h,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Jv(k,o);break;case 24:va(i,o,c,h),w&2048&&Xv(o.alternate,o);break;default:va(i,o,c,h)}}function Ol(i,o,c,h,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,k=o,F=c,ee=h,he=k.flags;switch(k.tag){case 0:case 11:case 15:Ol(S,k,F,ee,w),gd(8,k);break;case 23:break;case 22:var we=k.stateNode;k.memoizedState!==null?we._visibility&2?Ol(S,k,F,ee,w):kh(S,k):(we._visibility|=2,Ol(S,k,F,ee,w)),w&&he&2048&&Jv(k.alternate,k);break;case 24:Ol(S,k,F,ee,w),w&&he&2048&&Xv(k.alternate,k);break;default:Ol(S,k,F,ee,w)}o=o.sibling}}function kh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=i,h=o,w=h.flags;switch(h.tag){case 22:kh(c,h),w&2048&&Jv(h.alternate,h);break;case 24:kh(c,h),w&2048&&Xv(h.alternate,h);break;default:kh(c,h)}o=o.sibling}}var Oh=8192;function yd(i,o,c){if(i.subtreeFlags&Oh)for(i=i.child;i!==null;)r0(i,o,c),i=i.sibling}function r0(i,o,c){switch(i.tag){case 26:yd(i,o,c),i.flags&Oh&&i.memoizedState!==null&&Id(c,ya,i.memoizedState,i.memoizedProps);break;case 5:yd(i,o,c);break;case 3:case 4:var h=ya;ya=pg(i.stateNode.containerInfo),yd(i,o,c),ya=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=Oh,Oh=16777216,yd(i,o,c),Oh=h):yd(i,o,c));break;default:yd(i,o,c)}}function s0(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Dh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Kr=h,a0(h,i)}s0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)i0(i),i=i.sibling}function i0(i){switch(i.tag){case 0:case 11:case 15:Dh(i),i.flags&2048&&Vo(9,i,i.return);break;case 3:Dh(i);break;case 12:Dh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,ng(i)):Dh(i);break;default:Dh(i)}}function ng(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var h=o[c];Kr=h,a0(h,i)}s0(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Vo(8,o,o.return),ng(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,ng(o));break;default:ng(o)}i=i.sibling}}function a0(i,o){for(;Kr!==null;){var c=Kr;switch(c.tag){case 0:case 11:case 15:Vo(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:rh(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Kr=h;else e:for(c=i;Kr!==null;){h=Kr;var w=h.sibling,S=h.return;if(Kv(h),h===c){Kr=null;break e}if(w!==null){w.return=S,Kr=w;break e}Kr=S}}}var JS={getCacheForType:function(i){var o=is(Nr),c=o.data.get(i);return c===void 0&&(c=i(),o.data.set(i,c)),c},cacheSignal:function(){return is(Nr).controller.signal}},XS=typeof WeakMap=="function"?WeakMap:Map,gn=0,Fn=null,$t=null,Kt=0,Cn=0,mi=null,Dl=!1,vd=!1,Zv=!1,_a=0,ar=0,Pl=0,Xc=0,e_=0,pi=0,_d=0,Ph=null,qs=null,t_=!1,Mh=0,o0=0,Zc=1/0,rg=null,Ml=null,Ur=0,jl=null,bd=null,zo=0,n_=0,r_=null,l0=null,jh=0,s_=null;function gi(){return(gn&2)!==0&&Kt!==0?Kt&-Kt:X.T!==null?yi():ap()}function c0(){if(pi===0)if((Kt&536870912)===0||tn){var i=Ft;Ft<<=1,(Ft&3932160)===0&&(Ft=262144),pi=i}else pi=536870912;return i=ui.current,i!==null&&(i.flags|=32),pi}function Ws(i,o,c){(i===Fn&&(Cn===2||Cn===9)||i.cancelPendingCommit!==null)&&(wd(i,0),qo(i,Kt,pi,!1)),Qi(i,c),((gn&2)===0||i!==Fn)&&(i===Fn&&((gn&2)===0&&(Xc|=c),ar===4&&qo(i,Kt,pi,!1)),to(i))}function u0(i,o,c){if((gn&6)!==0)throw Error(r(327));var h=!c&&(o&127)===0&&(o&i.expiredLanes)===0||Tt(i,o),w=h?eE(i,o):a_(i,o,!0),S=h;do{if(w===0){vd&&!h&&qo(i,o,0,!1);break}else{if(c=i.current.alternate,S&&!f0(c)){w=a_(i,o,!1),S=!1;continue}if(w===2){if(S=o,i.errorRecoveryDisabledLanes&S)var k=0;else k=i.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var F=i;w=Ph;var ee=F.current.memoizedState.isDehydrated;if(ee&&(wd(F,k).flags|=256),k=a_(F,k,!1),k!==2){if(Zv&&!ee){F.errorRecoveryDisabledLanes|=S,Xc|=S,w=4;break e}S=qs,qs=w,S!==null&&(qs===null?qs=S:qs.push.apply(qs,S))}w=k}if(S=!1,w!==2)continue}}if(w===1){wd(i,0),qo(i,o,0,!0);break}e:{switch(h=i,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:qo(h,o,pi,!Dl);break e;case 2:qs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=Mh+300-gr(),10<w)){if(qo(h,o,pi,!Dl),Xn(h,0,!0)!==0)break e;zo=o,h.timeoutHandle=I0(d0.bind(null,h,c,qs,rg,t_,o,pi,Xc,_d,Dl,S,"Throttled",-0,0),w);break e}d0(h,c,qs,rg,t_,o,pi,Xc,_d,Dl,S,null,-0,0)}}break}while(!0);to(i)}function d0(i,o,c,h,w,S,k,F,ee,he,we,Se,me,ve){if(i.timeoutHandle=-1,Se=o.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:na},r0(o,S,Se);var Xe=(S&62914560)===S?Mh-gr():(S&4194048)===S?o0-gr():0;if(Xe=bE(Se,Xe),Xe!==null){zo=S,i.cancelPendingCommit=Xe(v0.bind(null,i,o,S,c,h,w,k,F,ee,we,Se,null,me,ve)),qo(i,S,k,!he);return}}v0(i,o,S,c,h,w,k,F,ee)}function f0(i){for(var o=i;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var w=c[h],S=w.getSnapshot;w=w.value;try{if(!sr(S(),w))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qo(i,o,c,h){o&=~e_,o&=~Xc,i.suspendedLanes|=o,i.pingedLanes&=~o,h&&(i.warmLanes|=o),h=i.expirationTimes;for(var w=o;0<w;){var S=31-Yn(w),k=1<<S;h[S]=-1,w&=~k}c!==0&&vo(i,c,o)}function sg(){return(gn&6)===0?(Fh(0),!1):!0}function i_(){if($t!==null){if(Cn===0)var i=$t.return;else i=$t,Oo=Ot=null,mv(i),rd=null,ci=0,i=$t;for(;i!==null;)Xp(i.alternate,i),i=i.return;$t=null}}function wd(i,o){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,cE(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),zo=0,i_(),Fn=i,$t=c=Oi(i.current,null),Kt=o,Cn=0,mi=null,Dl=!1,vd=Tt(i,o),Zv=!1,_d=pi=e_=Xc=Pl=ar=0,qs=Ph=null,t_=!1,(o&8)!==0&&(o|=o&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=o;0<h;){var w=31-Yn(h),S=1<<w;o|=i[w],h&=~S}return _a=o,la(),c}function h0(i,o){Dt=null,X.H=Nl,o===nd||o===ih?(o=Cw(),Cn=3):o===Tp?(o=Cw(),Cn=4):Cn=o===wh?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,mi=o,$t===null&&(ar=1,bh(i,oi(o,i.current)))}function Lh(){var i=ui.current;return i===null?!0:(Kt&4194048)===Kt?Ui===null:(Kt&62914560)===Kt||(Kt&536870912)!==0?i===Ui:!1}function m0(){var i=X.H;return X.H=Nl,i===null?Nl:i}function p0(){var i=X.A;return X.A=JS,i}function ig(){ar=4,Dl||(Kt&4194048)!==Kt&&ui.current!==null||(vd=!0),(Pl&134217727)===0&&(Xc&134217727)===0||Fn===null||qo(Fn,Kt,pi,!1)}function a_(i,o,c){var h=gn;gn|=2;var w=m0(),S=p0();(Fn!==i||Kt!==o)&&(rg=null,wd(i,o)),o=!1;var k=ar;e:do try{if(Cn!==0&&$t!==null){var F=$t,ee=mi;switch(Cn){case 8:i_(),k=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(o=!0);var he=Cn;if(Cn=0,mi=null,xd(i,F,ee,he),c&&vd){k=0;break e}break;default:he=Cn,Cn=0,mi=null,xd(i,F,ee,he)}}ZS(),k=ar;break}catch(we){h0(i,we)}while(!0);return o&&i.shellSuspendCounter++,Oo=Ot=null,gn=h,X.H=w,X.A=S,$t===null&&(Fn=null,Kt=0,la()),k}function ZS(){for(;$t!==null;)g0($t)}function eE(i,o){var c=gn;gn|=2;var h=m0(),w=p0();Fn!==i||Kt!==o?(rg=null,Zc=gr()+500,wd(i,o)):vd=Tt(i,o);e:do try{if(Cn!==0&&$t!==null){o=$t;var S=mi;t:switch(Cn){case 1:Cn=0,mi=null,xd(i,o,S,1);break;case 2:case 9:if(Tw(S)){Cn=0,mi=null,y0(o);break}o=function(){Cn!==2&&Cn!==9||Fn!==i||(Cn=7),to(i)},S.then(o,o);break e;case 3:Cn=7;break e;case 4:Cn=5;break e;case 7:Tw(S)?(Cn=0,mi=null,y0(o)):(Cn=0,mi=null,xd(i,o,S,7));break;case 5:var k=null;switch($t.tag){case 26:k=$t.memoizedState;case 5:case 27:var F=$t;if(k?q0(k):F.stateNode.complete){Cn=0,mi=null;var ee=F.sibling;if(ee!==null)$t=ee;else{var he=F.return;he!==null?($t=he,ag(he)):$t=null}break t}}Cn=0,mi=null,xd(i,o,S,5);break;case 6:Cn=0,mi=null,xd(i,o,S,6);break;case 8:i_(),ar=6;break e;default:throw Error(r(462))}}tE();break}catch(we){h0(i,we)}while(!0);return Oo=Ot=null,X.H=h,X.A=w,gn=c,$t!==null?0:(Fn=null,Kt=0,la(),ar)}function tE(){for(;$t!==null&&!Ci();)g0($t)}function g0(i){var o=$w(i.alternate,i,_a);i.memoizedProps=i.pendingProps,o===null?ag(i):$t=o}function y0(i){var o=i,c=o.alternate;switch(o.tag){case 15:case 0:o=qw(c,o,o.pendingProps,o.type,void 0,Kt);break;case 11:o=qw(c,o,o.pendingProps,o.type.render,o.ref,Kt);break;case 5:mv(o);default:Xp(c,o),o=$t=bw(o,_a),o=$w(c,o,_a)}i.memoizedProps=i.pendingProps,o===null?ag(i):$t=o}function xd(i,o,c,h){Oo=Ot=null,mv(o),rd=null,ci=0;var w=o.return;try{if(Lv(i,w,o,c,Kt)){ar=1,bh(i,oi(c,i.current)),$t=null;return}}catch(S){if(w!==null)throw $t=w,S;ar=1,bh(i,oi(c,i.current)),$t=null;return}o.flags&32768?(tn||h===1?i=!0:vd||(Kt&536870912)!==0?i=!1:(Dl=i=!0,(h===2||h===9||h===3||h===6)&&(h=ui.current,h!==null&&h.tag===13&&(h.flags|=16384))),Vh(o,i)):ag(o)}function ag(i){var o=i;do{if((o.flags&32768)!==0){Vh(o,Dl);return}i=o.return;var c=Gw(o.alternate,o,_a);if(c!==null){$t=c;return}if(o=o.sibling,o!==null){$t=o;return}$t=o=i}while(o!==null);ar===0&&(ar=5)}function Vh(i,o){do{var c=Ih(i.alternate,i);if(c!==null){c.flags&=32767,$t=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(i=i.sibling,i!==null)){$t=i;return}$t=i=c}while(i!==null);ar=6,$t=null}function v0(i,o,c,h,w,S,k,F,ee){i.cancelPendingCommit=null;do Bh();while(Ur!==0);if((gn&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=Gu,Sc(i,c,S,k,F,ee),i===Fn&&($t=Fn=null,Kt=0),bd=o,jl=i,zo=c,n_=S,r_=w,l0=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sE(Bn,function(){return u_(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,w=ce.p,ce.p=2,k=gn,gn|=4;try{KS(i,o,c)}finally{gn=k,ce.p=w,X.T=h}}Ur=1,o_(),l_(),og()}}function o_(){if(Ur===1){Ur=0;var i=jl,o=bd,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var h=ce.p;ce.p=2;var w=gn;gn|=4;try{e0(o,i);var S=w_,k=gw(i.containerInfo),F=S.focusedElem,ee=S.selectionRange;if(k!==F&&F&&F.ownerDocument&&pw(F.ownerDocument.documentElement,F)){if(ee!==null&&sv(F)){var he=ee.start,we=ee.end;if(we===void 0&&(we=he),"selectionStart"in F)F.selectionStart=he,F.selectionEnd=Math.min(we,F.value.length);else{var Se=F.ownerDocument||document,me=Se&&Se.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Xe=F.textContent.length,gt=Math.min(ee.start,Xe),Pn=ee.end===void 0?gt:Math.min(ee.end,Xe);!ve.extend&&gt>Pn&&(k=Pn,Pn=gt,gt=k);var oe=mw(F,gt),re=mw(F,Pn);if(oe&&re&&(ve.rangeCount!==1||ve.anchorNode!==oe.node||ve.anchorOffset!==oe.offset||ve.focusNode!==re.node||ve.focusOffset!==re.offset)){var fe=Se.createRange();fe.setStart(oe.node,oe.offset),ve.removeAllRanges(),gt>Pn?(ve.addRange(fe),ve.extend(re.node,re.offset)):(fe.setEnd(re.node,re.offset),ve.addRange(fe))}}}}for(Se=[],ve=F;ve=ve.parentNode;)ve.nodeType===1&&Se.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<Se.length;F++){var xe=Se[F];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}wg=!!Hh,w_=Hh=null}finally{gn=w,ce.p=h,X.T=c}}i.current=o,Ur=2}}function l_(){if(Ur===2){Ur=0;var i=jl,o=bd,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var h=ce.p;ce.p=2;var w=gn;gn|=4;try{Yv(i,o.alternate,o)}finally{gn=w,ce.p=h,X.T=c}}Ur=3}}function og(){if(Ur===4||Ur===3){Ur=0,Ai();var i=jl,o=bd,c=zo,h=l0;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ur=5:(Ur=0,bd=jl=null,c_(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Ml=null),_o(c),o=o.stateNode,yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(xs,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=X.T,w=ce.p,ce.p=2,X.T=null;try{for(var S=i.onRecoverableError,k=0;k<h.length;k++){var F=h[k];S(F.value,{componentStack:F.stack})}}finally{X.T=o,ce.p=w}}(zo&3)!==0&&Bh(),to(i),w=i.pendingLanes,(c&261930)!==0&&(w&42)!==0?i===s_?jh++:(jh=0,s_=i):jh=0,Fh(0)}}function c_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,rh(o)))}function Bh(){return o_(),l_(),og(),u_()}function u_(){if(Ur!==5)return!1;var i=jl,o=n_;n_=0;var c=_o(zo),h=X.T,w=ce.p;try{ce.p=32>c?32:c,X.T=null,c=r_,r_=null;var S=jl,k=zo;if(Ur=0,bd=jl=null,zo=0,(gn&6)!==0)throw Error(r(331));var F=gn;if(gn|=4,i0(S.current),n0(S,S.current,k,c),gn=F,Fh(0,!1),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(xs,S)}catch{}return!0}finally{ce.p=w,X.T=h,c_(i,o)}}function d_(i,o,c){o=oi(c,o),o=jv(i.stateNode,o,2),i=fa(i,o,2),i!==null&&(Qi(i,2),to(i))}function An(i,o,c){if(i.tag===3)d_(i,i,c);else for(;o!==null;){if(o.tag===3){d_(o,i,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ml===null||!Ml.has(h))){i=oi(c,i),c=Xa(2),h=fa(o,c,2),h!==null&&(Hp(c,h,o,i),Qi(h,2),to(h));break}}o=o.return}}function f_(i,o,c){var h=i.pingCache;if(h===null){h=i.pingCache=new XS;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(c)||(Zv=!0,w.add(c),i=nE.bind(null,i,o,c),o.then(i,i))}function nE(i,o,c){var h=i.pingCache;h!==null&&h.delete(o),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,Fn===i&&(Kt&c)===c&&(ar===4||ar===3&&(Kt&62914560)===Kt&&300>gr()-Mh?(gn&2)===0&&wd(i,0):e_|=c,_d===Kt&&(_d=0)),to(i)}function Uh(i,o){o===0&&(o=xc()),i=Ga(i,o),i!==null&&(Qi(i,o),to(i))}function lg(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),Uh(i,c)}function rE(i,o){var c=0;switch(i.tag){case 31:case 13:var h=i.stateNode,w=i.memoizedState;w!==null&&(c=w.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Uh(i,c)}function sE(i,o){return Vn(i,o)}var Sd=null,eu=null,h_=!1,cg=!1,m_=!1,Ll=0;function to(i){i!==eu&&i.next===null&&(eu===null?Sd=eu=i:eu=eu.next=i),cg=!0,h_||(h_=!0,aE())}function Fh(i,o){if(!m_&&cg){m_=!0;do for(var c=!1,h=Sd;h!==null;){if(i!==0){var w=h.pendingLanes;if(w===0)var S=0;else{var k=h.suspendedLanes,F=h.pingedLanes;S=(1<<31-Yn(42|i)+1)-1,S&=w&~(k&~F),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,x0(h,S))}else S=Kt,S=Xn(h,h===Fn?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||Tt(h,S)||(c=!0,x0(h,S));h=h.next}while(c);m_=!1}}function iE(){_0()}function _0(){cg=h_=!1;var i=0;Ll!==0&&lE()&&(i=Ll);for(var o=gr(),c=null,h=Sd;h!==null;){var w=h.next,S=b0(h,o);S===0?(h.next=null,c===null?Sd=w:c.next=w,w===null&&(eu=c)):(c=h,(i!==0||(S&3)!==0)&&(cg=!0)),h=w}Ur!==0&&Ur!==5||Fh(i),Ll!==0&&(Ll=0)}function b0(i,o){for(var c=i.suspendedLanes,h=i.pingedLanes,w=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var k=31-Yn(S),F=1<<k,ee=w[k];ee===-1?((F&c)===0||(F&h)!==0)&&(w[k]=kf(F,o)):ee<=o&&(i.expiredLanes|=F),S&=~F}if(o=Fn,c=Kt,c=Xn(i,i===o?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,c===0||i===o&&(Cn===2||Cn===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&lr(h),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||Tt(i,c)){if(o=c&-c,o===i.callbackPriority)return o;switch(h!==null&&lr(h),_o(c)){case 2:case 8:c=Hn;break;case 32:c=Bn;break;case 268435456:c=fl;break;default:c=Bn}return h=w0.bind(null,i),c=Vn(c,h),i.callbackPriority=o,i.callbackNode=c,o}return h!==null&&h!==null&&lr(h),i.callbackPriority=2,i.callbackNode=null,2}function w0(i,o){if(Ur!==0&&Ur!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Bh()&&i.callbackNode!==c)return null;var h=Kt;return h=Xn(i,i===Fn?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(u0(i,h,o),b0(i,gr()),i.callbackNode!=null&&i.callbackNode===c?w0.bind(null,i):null)}function x0(i,o){if(Bh())return null;u0(i,o,!0)}function aE(){k0(function(){(gn&6)!==0?Vn(cn,iE):_0()})}function yi(){if(Ll===0){var i=ed;i===0&&(i=mt,mt<<=1,(mt&261888)===0&&(mt=256)),Ll=i}return Ll}function S0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Nc(""+i)}function E0(i,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,i.id&&c.setAttribute("form",i.id),o.parentNode.insertBefore(c,o),i=new FormData(i),c.parentNode.removeChild(c),i}function tu(i,o,c,h,w){if(o==="submit"&&c&&c.stateNode===w){var S=S0((w[Gr]||null).action),k=h.submitter;k&&(o=(o=k[Gr]||null)?S0(o.formAction):k.getAttribute("formAction"),o!==null&&(S=o,k=null));var F=new Ha("action","action",null,h,w);i.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ll!==0){var ee=k?E0(w,k):new FormData(w);Il(c,{pending:!0,data:ee,method:w.method,action:S},null,ee)}}else typeof S=="function"&&(F.preventDefault(),ee=k?E0(w,k):new FormData(w),Il(c,{pending:!0,data:ee,method:w.method,action:S},S,ee))},currentTarget:w}]})}}for(var Rt=0;Rt<vp.length;Rt++){var p_=vp[Rt],Hs=p_.toLowerCase(),xr=p_[0].toUpperCase()+p_.slice(1);js(Hs,"on"+xr)}js(ai,"onAnimationEnd"),js(Xf,"onAnimationIteration"),js(yw,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(Hu,"onTransitionRun"),js(gp,"onTransitionStart"),js(yp,"onTransitionCancel"),js(pn,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vl=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zh));function T0(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var h=i[c],w=h.event;h=h.listeners;e:{var S=void 0;if(o)for(var k=h.length-1;0<=k;k--){var F=h[k],ee=F.instance,he=F.currentTarget;if(F=F.listener,ee!==S&&w.isPropagationStopped())break e;S=F,w.currentTarget=he;try{S(w)}catch(we){_p(we)}w.currentTarget=null,S=ee}else for(k=0;k<h.length;k++){if(F=h[k],ee=F.instance,he=F.currentTarget,F=F.listener,ee!==S&&w.isPropagationStopped())break e;S=F,w.currentTarget=he;try{S(w)}catch(we){_p(we)}w.currentTarget=null,S=ee}}}}function Gt(i,o){var c=o[Cc];c===void 0&&(c=o[Cc]=new Set);var h=i+"__bubble";c.has(h)||(dg(o,i,2,!1),c.add(h))}function g_(i,o,c){var h=0;o&&(h|=4),dg(c,i,h,o)}var ug="_reactListening"+Math.random().toString(36).slice(2);function y_(i){if(!i[ug]){i[ug]=!0,Df.forEach(function(c){c!=="selectionchange"&&(Vl.has(c)||g_(c,!1,i),g_(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ug]||(o[ug]=!0,g_("selectionchange",!1,o))}}function dg(i,o,c,h){switch(J0(o)){case 2:var w=xE;break;case 8:w=SE;break;default:w=I_}c=w.bind(null,o,c,i),w=void 0,!Oc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?i.addEventListener(o,c,{capture:!0,passive:w}):i.addEventListener(o,c,!0):w!==void 0?i.addEventListener(o,c,{passive:w}):i.addEventListener(o,c,!1)}function v_(i,o,c,h,w){var S=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var F=h.stateNode.containerInfo;if(F===w)break;if(k===4)for(k=h.return;k!==null;){var ee=k.tag;if((ee===3||ee===4)&&k.stateNode.containerInfo===w)return;k=k.return}for(;F!==null;){if(k=Ba(F),k===null)return;if(ee=k.tag,ee===5||ee===6||ee===26||ee===27){h=S=k;continue e}F=F.parentNode}}h=h.return}gl(function(){var he=S,we=Ii(c),Se=[];e:{var me=vw.get(i);if(me!==void 0){var ve=Ha,Xe=i;switch(i){case"keypress":if(Dc(c)===0)break e;case"keydown":case"keyup":ve=ia;break;case"focusin":Xe="focus",ve=vl;break;case"focusout":Xe="blur",ve=vl;break;case"beforeblur":case"afterblur":ve=vl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Mc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=R;break;case ai:case Xf:case yw:ve=Gf;break;case pn:ve=G;break;case"scroll":case"scrollend":ve=Wf;break;case"wheel":ve=pe;break;case"copy":case"cut":case"paste":ve=ps;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Co;break;case"toggle":case"beforetoggle":ve=kt}var gt=(o&4)!==0,Pn=!gt&&(i==="scroll"||i==="scrollend"),oe=gt?me!==null?me+"Capture":null:me;gt=[];for(var re=he,fe;re!==null;){var xe=re;if(fe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||fe===null||oe===null||(xe=ri(re,oe),xe!=null&&gt.push(vi(re,xe,fe))),Pn)break;re=re.return}0<gt.length&&(me=new ve(me,Xe,null,c,we),Se.push({event:me,listeners:gt}))}}if((o&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",me&&c!==zf&&(Xe=c.relatedTarget||c.fromElement)&&(Ba(Xe)||Xe[La]))break e;if((ve||me)&&(me=we.window===we?we:(me=we.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Xe=c.relatedTarget||c.toElement,ve=he,Xe=Xe?Ba(Xe):null,Xe!==null&&(Pn=a(Xe),gt=Xe.tag,Xe!==Pn||gt!==5&&gt!==27&&gt!==6)&&(Xe=null)):(ve=null,Xe=he),ve!==Xe)){if(gt=Mc,xe="onMouseLeave",oe="onMouseEnter",re="mouse",(i==="pointerout"||i==="pointerover")&&(gt=Co,xe="onPointerLeave",oe="onPointerEnter",re="pointer"),Pn=ve==null?me:ti(ve),fe=Xe==null?me:ti(Xe),me=new gt(xe,re+"leave",ve,c,we),me.target=Pn,me.relatedTarget=fe,xe=null,Ba(we)===he&&(gt=new gt(oe,re+"enter",Xe,c,we),gt.target=fe,gt.relatedTarget=Pn,xe=gt),Pn=xe,ve&&Xe)t:{for(gt=fg,oe=ve,re=Xe,fe=0,xe=oe;xe;xe=gt(xe))fe++;xe=0;for(var ut=re;ut;ut=gt(ut))xe++;for(;0<fe-xe;)oe=gt(oe),fe--;for(;0<xe-fe;)re=gt(re),xe--;for(;fe--;){if(oe===re||re!==null&&oe===re.alternate){gt=oe;break t}oe=gt(oe),re=gt(re)}gt=null}else gt=null;ve!==null&&nr(Se,me,ve,gt,!1),Xe!==null&&Pn!==null&&nr(Se,Pn,Xe,gt,!0)}}e:{if(me=he?ti(he):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var dn=fw;else if(Zy(me))if(Bc)dn=VS;else{dn=jS;var rt=mp}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?he&&Ic(he.elementType)&&(dn=fw):dn=LS;if(dn&&(dn=dn(i,he))){ev(Se,dn,c,we);break e}rt&&rt(i,me,he),i==="focusout"&&he&&me.type==="number"&&he.memoizedProps.value!=null&&Vf(me,"number",me.value)}switch(rt=he?ti(he):window,i){case"focusin":(Zy(rt)||rt.contentEditable==="true")&&(ie=rt,be=he,ge=null);break;case"focusout":ge=be=ie=null;break;case"mousedown":Ye=!0;break;case"contextmenu":case"mouseup":case"dragend":Ye=!1,At(Se,c,we);break;case"selectionchange":if(Wu)break;case"keydown":case"keyup":At(Se,c,we)}var Bt;if(un)e:{switch(i){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else Vc?Ao(i,c)&&(Qt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Qt="onCompositionStart");Qt&&(aa&&c.locale!=="ko"&&(Vc||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&Vc&&(Bt=_n()):(Wa=we,qf="value"in Wa?Wa.value:Wa.textContent,Vc=!0)),rt=qh(he,Qt),0<rt.length&&(Qt=new _r(Qt,i,null,c,we),Se.push({event:Qt,listeners:rt}),Bt?Qt.data=Bt:(Bt=Fu(c),Bt!==null&&(Qt.data=Bt)))),(Bt=Ms?ii(i,c):Xy(i,c))&&(Qt=qh(he,"onBeforeInput"),0<Qt.length&&(rt=new _r("onBeforeInput","beforeinput",null,c,we),Se.push({event:rt,listeners:Qt}),rt.data=Bt)),tu(Se,i,he,c,we)}T0(Se,o)})}function vi(i,o,c){return{instance:i,listener:o,currentTarget:c}}function qh(i,o){for(var c=o+"Capture",h=[];i!==null;){var w=i,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=ri(i,c),w!=null&&h.unshift(vi(i,w,S)),w=ri(i,o),w!=null&&h.push(vi(i,w,S))),i.tag===3)return h;i=i.return}return[]}function fg(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nr(i,o,c,h,w){for(var S=o._reactName,k=[];c!==null&&c!==h;){var F=c,ee=F.alternate,he=F.stateNode;if(F=F.tag,ee!==null&&ee===h)break;F!==5&&F!==26&&F!==27||he===null||(ee=he,w?(he=ri(c,S),he!=null&&k.unshift(vi(c,he,ee))):w||(he=ri(c,S),he!=null&&k.push(vi(c,he,ee)))),c=c.return}k.length!==0&&i.push({event:o,listeners:k})}var hr=/\r\n?/g,C0=/\u0000|\uFFFD/g;function A0(i){return(typeof i=="string"?i:""+i).replace(hr,`
`).replace(C0,"")}function R0(i,o){return o=A0(o),A0(i)===o}function Dn(i,o,c,h,w,S){switch(c){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Vr(i,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Vr(i,""+h);break;case"className":Ps(i,"class",h);break;case"tabIndex":Ps(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(i,c,h);break;case"style":Uf(i,h,S);break;case"data":if(o!=="object"){Ps(i,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||c!=="href")){i.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Nc(""+h),i.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(o!=="input"&&Dn(i,o,"name",w.name,w,null),Dn(i,o,"formEncType",w.formEncType,w,null),Dn(i,o,"formMethod",w.formMethod,w,null),Dn(i,o,"formTarget",w.formTarget,w,null)):(Dn(i,o,"encType",w.encType,w,null),Dn(i,o,"method",w.method,w,null),Dn(i,o,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(c);break}h=Nc(""+h),i.setAttribute(c,h);break;case"onClick":h!=null&&(i.onclick=na);break;case"onScroll":h!=null&&Gt("scroll",i);break;case"onScrollEnd":h!=null&&Gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}c=Nc(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""+h):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":h===!0?i.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(c,h):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(c,h):i.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(c):i.setAttribute(c,h);break;case"popover":Gt("beforetoggle",i),Gt("toggle",i),Pu(i,"popover",h);break;case"xlinkActuate":vr(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":vr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":vr(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":vr(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":vr(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":vr(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":vr(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":vr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":vr(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Pu(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ff.get(c)||c,Pu(i,c,h))}}function __(i,o,c,h,w,S){switch(c){case"style":Uf(i,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof h=="string"?Vr(i,h):(typeof h=="number"||typeof h=="bigint")&&Vr(i,""+h);break;case"onScroll":h!=null&&Gt("scroll",i);break;case"onScrollEnd":h!=null&&Gt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=na);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pf.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(w=c.endsWith("Capture"),o=c.slice(2,w?c.length-7:void 0),S=i[Gr]||null,S=S!=null?S[c]:null,typeof S=="function"&&i.removeEventListener(o,S,w),typeof h=="function")){typeof S!="function"&&S!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(o,h,w);break e}c in i?i[c]=h:h===!0?i.setAttribute(c,""):Pu(i,c,h)}}}function ls(i,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",i),Gt("load",i);var h=!1,w=!1,S;for(S in c)if(c.hasOwnProperty(S)){var k=c[S];if(k!=null)switch(S){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dn(i,o,S,k,c,null)}}w&&Dn(i,o,"srcSet",c.srcSet,c,null),h&&Dn(i,o,"src",c.src,c,null);return;case"input":Gt("invalid",i);var F=S=k=w=null,ee=null,he=null;for(h in c)if(c.hasOwnProperty(h)){var we=c[h];if(we!=null)switch(h){case"name":w=we;break;case"type":k=we;break;case"checked":ee=we;break;case"defaultChecked":he=we;break;case"value":S=we;break;case"defaultValue":F=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,o));break;default:Dn(i,o,h,we,c,null)}}Mu(i,S,F,ee,he,k,w,!1);return;case"select":Gt("invalid",i),h=k=S=null;for(w in c)if(c.hasOwnProperty(w)&&(F=c[w],F!=null))switch(w){case"value":S=F;break;case"defaultValue":k=F;break;case"multiple":h=F;default:Dn(i,o,w,F,c,null)}o=S,c=k,i.multiple=!!h,o!=null?bo(i,!!h,o,!1):c!=null&&bo(i,!!h,c,!0);return;case"textarea":Gt("invalid",i),S=w=h=null;for(k in c)if(c.hasOwnProperty(k)&&(F=c[k],F!=null))switch(k){case"value":h=F;break;case"defaultValue":w=F;break;case"children":S=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Dn(i,o,k,F,c,null)}za(i,h,w,S);return;case"option":for(ee in c)if(c.hasOwnProperty(ee)&&(h=c[ee],h!=null))switch(ee){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Dn(i,o,ee,h,c,null)}return;case"dialog":Gt("beforetoggle",i),Gt("toggle",i),Gt("cancel",i),Gt("close",i);break;case"iframe":case"object":Gt("load",i);break;case"video":case"audio":for(h=0;h<zh.length;h++)Gt(zh[h],i);break;case"image":Gt("error",i),Gt("load",i);break;case"details":Gt("toggle",i);break;case"embed":case"source":case"link":Gt("error",i),Gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in c)if(c.hasOwnProperty(he)&&(h=c[he],h!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Dn(i,o,he,h,c,null)}return;default:if(Ic(o)){for(we in c)c.hasOwnProperty(we)&&(h=c[we],h!==void 0&&__(i,o,we,h,c,void 0));return}}for(F in c)c.hasOwnProperty(F)&&(h=c[F],h!=null&&Dn(i,o,F,h,c,null))}function oE(i,o,c,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,k=null,F=null,ee=null,he=null,we=null;for(ve in c){var Se=c[ve];if(c.hasOwnProperty(ve)&&Se!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":ee=Se;default:h.hasOwnProperty(ve)||Dn(i,o,ve,null,h,Se)}}for(var me in h){var ve=h[me];if(Se=c[me],h.hasOwnProperty(me)&&(ve!=null||Se!=null))switch(me){case"type":S=ve;break;case"name":w=ve;break;case"checked":he=ve;break;case"defaultChecked":we=ve;break;case"value":k=ve;break;case"defaultValue":F=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,o));break;default:ve!==Se&&Dn(i,o,me,ve,h,Se)}}Rc(i,k,F,ee,he,we,S,w);return;case"select":ve=k=F=me=null;for(S in c)if(ee=c[S],c.hasOwnProperty(S)&&ee!=null)switch(S){case"value":break;case"multiple":ve=ee;default:h.hasOwnProperty(S)||Dn(i,o,S,null,h,ee)}for(w in h)if(S=h[w],ee=c[w],h.hasOwnProperty(w)&&(S!=null||ee!=null))switch(w){case"value":me=S;break;case"defaultValue":F=S;break;case"multiple":k=S;default:S!==ee&&Dn(i,o,w,S,h,ee)}o=F,c=k,h=ve,me!=null?bo(i,!!c,me,!1):!!h!=!!c&&(o!=null?bo(i,!!c,o,!0):bo(i,!!c,c?[]:"",!1));return;case"textarea":ve=me=null;for(F in c)if(w=c[F],c.hasOwnProperty(F)&&w!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Dn(i,o,F,null,h,w)}for(k in h)if(w=h[k],S=c[k],h.hasOwnProperty(k)&&(w!=null||S!=null))switch(k){case"value":me=w;break;case"defaultValue":ve=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&Dn(i,o,k,w,h,S)}ju(i,me,ve);return;case"option":for(var Xe in c)if(me=c[Xe],c.hasOwnProperty(Xe)&&me!=null&&!h.hasOwnProperty(Xe))switch(Xe){case"selected":i.selected=!1;break;default:Dn(i,o,Xe,null,h,me)}for(ee in h)if(me=h[ee],ve=c[ee],h.hasOwnProperty(ee)&&me!==ve&&(me!=null||ve!=null))switch(ee){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:Dn(i,o,ee,me,h,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in c)me=c[gt],c.hasOwnProperty(gt)&&me!=null&&!h.hasOwnProperty(gt)&&Dn(i,o,gt,null,h,me);for(he in h)if(me=h[he],ve=c[he],h.hasOwnProperty(he)&&me!==ve&&(me!=null||ve!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,o));break;default:Dn(i,o,he,me,h,ve)}return;default:if(Ic(o)){for(var Pn in c)me=c[Pn],c.hasOwnProperty(Pn)&&me!==void 0&&!h.hasOwnProperty(Pn)&&__(i,o,Pn,void 0,h,me);for(we in h)me=h[we],ve=c[we],!h.hasOwnProperty(we)||me===ve||me===void 0&&ve===void 0||__(i,o,we,me,h,ve);return}}for(var oe in c)me=c[oe],c.hasOwnProperty(oe)&&me!=null&&!h.hasOwnProperty(oe)&&Dn(i,o,oe,null,h,me);for(Se in h)me=h[Se],ve=c[Se],!h.hasOwnProperty(Se)||me===ve||me==null&&ve==null||Dn(i,o,Se,me,h,ve)}function b_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wh(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var w=c[h],S=w.transferSize,k=w.initiatorType,F=w.duration;if(S&&F&&b_(k)){for(k=0,F=w.responseEnd,h+=1;h<c.length;h++){var ee=c[h],he=ee.startTime;if(he>F)break;var we=ee.transferSize,Se=ee.initiatorType;we&&b_(Se)&&(ee=ee.responseEnd,k+=we*(ee<F?1:(F-he)/(ee-he)))}if(--h,o+=8*(S+k)/(w.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Hh=null,w_=null;function $h(i){return i.nodeType===9?i:i.ownerDocument}function Gh(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $s(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Bl(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var x_=null;function lE(){var i=window.event;return i&&i.type==="popstate"?i===x_?!1:(x_=i,!0):(x_=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(i){return N0.resolve(null).then(i).catch(Wo)}:I0;function Wo(i){setTimeout(function(){throw i})}function bt(i){return i==="head"}function S_(i,o){var c=o,h=0;do{var w=c.nextSibling;if(i.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"||c==="/&"){if(h===0){i.removeChild(w),Od(o);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Yh(i.ownerDocument.documentElement);else if(c==="head"){c=i.ownerDocument.head,Yh(c);for(var S=c.firstChild;S;){var k=S.nextSibling,F=S.nodeName;S[Va]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||c.removeChild(S),S=k}}else c==="body"&&Yh(i.ownerDocument.body);c=w}while(c);Od(o)}function _i(i,o){var c=i;i=0;do{var h=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(i===0)break;i--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||i++;c=h}while(c)}function hg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":hg(c),Ou(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function uE(i,o,c,h){for(;i.nodeType===1;){var w=c;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Va])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=qi(i.nextSibling),i===null)break}return null}function wn(i,o,c){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=qi(i.nextSibling),i===null))return null;return i}function O0(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=qi(i.nextSibling),i===null))return null;return i}function mg(i){return i.data==="$?"||i.data==="$~"}function Ed(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function dE(i,o){var c=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||c.readyState!=="loading")o();else{var h=function(){o(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function qi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var E_=null;function D0(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"||c==="/&"){if(o===0)return qi(i.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}i=i.nextSibling}return null}function P0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return i;o--}else c!=="/$"&&c!=="/&"||o++}i=i.previousSibling}return null}function M0(i,o,c){switch(o=$h(c),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Yh(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ou(i)}var Wi=new Map,j0=new Set;function pg(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ho=ce.d;ce.d={f:fE,r:hE,D:T_,C:mE,L:pE,m:gE,X:Gs,S:Qr,M:yE};function fE(){var i=Ho.f(),o=sg();return i||o}function hE(i){var o=Ss(i);o!==null&&o.tag===5&&o.type==="form"?Iv(o):Ho.r(i)}var Ul=typeof document>"u"?null:document;function L0(i,o,c){var h=Ul;if(h&&typeof o=="string"&&o){var w=Es(o);w='link[rel="'+i+'"][href="'+w+'"]',typeof c=="string"&&(w+='[crossorigin="'+c+'"]'),j0.has(w)||(j0.add(w),i={rel:i,crossOrigin:c,href:o},h.querySelector(w)===null&&(o=h.createElement("link"),ls(o,"link",i),Ar(o),h.head.appendChild(o)))}}function T_(i){Ho.D(i),L0("dns-prefetch",i,null)}function mE(i,o){Ho.C(i,o),L0("preconnect",i,o)}function pE(i,o,c){Ho.L(i,o,c);var h=Ul;if(h&&i&&o){var w='link[rel="preload"][as="'+Es(o)+'"]';o==="image"&&c&&c.imageSrcSet?(w+='[imagesrcset="'+Es(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(w+='[imagesizes="'+Es(c.imageSizes)+'"]')):w+='[href="'+Es(i)+'"]';var S=w;switch(o){case"style":S=Td(i);break;case"script":S=Ad(i)}Wi.has(S)||(i=_({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:i,as:o},c),Wi.set(S,i),h.querySelector(w)!==null||o==="style"&&h.querySelector(Cd(S))||o==="script"&&h.querySelector(Rd(S))||(o=h.createElement("link"),ls(o,"link",i),Ar(o),h.head.appendChild(o)))}}function gE(i,o){Ho.m(i,o);var c=Ul;if(c&&i){var h=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+Es(h)+'"][href="'+Es(i)+'"]',S=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Ad(i)}if(!Wi.has(S)&&(i=_({rel:"modulepreload",href:i},o),Wi.set(S,i),c.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Rd(S)))return}h=c.createElement("link"),ls(h,"link",i),Ar(h),c.head.appendChild(h)}}}function Qr(i,o,c){Ho.S(i,o,c);var h=Ul;if(h&&i){var w=ni(h).hoistableStyles,S=Td(i);o=o||"default";var k=w.get(S);if(!k){var F={loading:0,preload:null};if(k=h.querySelector(Cd(S)))F.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":o},c),(c=Wi.get(S))&&C_(i,c);var ee=k=h.createElement("link");Ar(ee),ls(ee,"link",i),ee._p=new Promise(function(he,we){ee.onload=he,ee.onerror=we}),ee.addEventListener("load",function(){F.loading|=1}),ee.addEventListener("error",function(){F.loading|=2}),F.loading|=4,gg(k,o,h)}k={type:"stylesheet",instance:k,count:1,state:F},w.set(S,k)}}}function Gs(i,o){Ho.X(i,o);var c=Ul;if(c&&i){var h=ni(c).hoistableScripts,w=Ad(i),S=h.get(w);S||(S=c.querySelector(Rd(w)),S||(i=_({src:i,async:!0},o),(o=Wi.get(w))&&yg(i,o),S=c.createElement("script"),Ar(S),ls(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function yE(i,o){Ho.M(i,o);var c=Ul;if(c&&i){var h=ni(c).hoistableScripts,w=Ad(i),S=h.get(w);S||(S=c.querySelector(Rd(w)),S||(i=_({src:i,async:!0,type:"module"},o),(o=Wi.get(w))&&yg(i,o),S=c.createElement("script"),Ar(S),ls(S,"link",i),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function V0(i,o,c,h){var w=(w=nt.current)?pg(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Td(c.href),c=ni(w).hoistableStyles,h=c.get(o),h||(h={type:"style",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=Td(c.href);var S=ni(w).hoistableStyles,k=S.get(i);if(k||(w=w.ownerDocument||w,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,k),(S=w.querySelector(Cd(i)))&&!S._p&&(k.instance=S,k.state.loading=5),Wi.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Wi.set(i,c),S||vE(w,i,c,k.state))),o&&h===null)throw Error(r(528,""));return k}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ad(c),c=ni(w).hoistableScripts,h=c.get(o),h||(h={type:"script",instance:null,count:0,state:null},c.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Td(i){return'href="'+Es(i)+'"'}function Cd(i){return'link[rel="stylesheet"]['+i+"]"}function B0(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function vE(i,o,c,h){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=i.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),ls(o,"link",c),Ar(o),i.head.appendChild(o))}function Ad(i){return'[src="'+Es(i)+'"]'}function Rd(i){return"script[async]"+i}function U0(i,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var h=i.querySelector('style[data-href~="'+Es(c.href)+'"]');if(h)return o.instance=h,Ar(h),h;var w=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ar(h),ls(h,"style",w),gg(h,c.precedence,i),o.instance=h;case"stylesheet":w=Td(c.href);var S=i.querySelector(Cd(w));if(S)return o.state.loading|=4,o.instance=S,Ar(S),S;h=B0(c),(w=Wi.get(w))&&C_(h,w),S=(i.ownerDocument||i).createElement("link"),Ar(S);var k=S;return k._p=new Promise(function(F,ee){k.onload=F,k.onerror=ee}),ls(S,"link",h),o.state.loading|=4,gg(S,c.precedence,i),o.instance=S;case"script":return S=Ad(c.src),(w=i.querySelector(Rd(S)))?(o.instance=w,Ar(w),w):(h=c,(w=Wi.get(S))&&(h=_({},c),yg(h,w)),i=i.ownerDocument||i,w=i.createElement("script"),Ar(w),ls(w,"link",h),i.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,gg(h,c.precedence,i));return o.instance}function gg(i,o,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,S=w,k=0;k<h.length;k++){var F=h[k];if(F.dataset.precedence===o)S=F;else if(S!==w)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(i,o.firstChild))}function C_(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Kh=null;function F0(i,o,c){if(Kh===null){var h=new Map,w=Kh=new Map;w.set(c,h)}else w=Kh,h=w.get(c),h||(h=new Map,w.set(c,h));if(h.has(i))return h;for(h.set(i,null),c=c.getElementsByTagName(i),w=0;w<c.length;w++){var S=c[w];if(!(S[Va]||S[Cr]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var k=S.getAttribute(o)||"";k=i+k;var F=h.get(k);F?F.push(S):h.set(k,[S])}}return h}function z0(i,o,c){i=i.ownerDocument||i,i.head.insertBefore(c,o==="title"?i.querySelector("head > title"):null)}function _E(i,o,c){if(c===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function q0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function Id(i,o,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var w=Td(h.href),S=o.querySelector(Cd(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=vg.bind(i),o.then(i,i)),c.state.loading|=4,c.instance=S,Ar(S);return}S=o.ownerDocument||o,h=B0(h),(w=Wi.get(w))&&C_(h,w),S=S.createElement("link"),Ar(S);var k=S;k._p=new Promise(function(F,ee){k.onload=F,k.onerror=ee}),ls(S,"link",h),c.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(i.count++,c=vg.bind(i),o.addEventListener("load",c),o.addEventListener("error",c))}}var A_=0;function bE(i,o){return i.stylesheets&&i.count===0&&bg(i,i.stylesheets),0<i.count||0<i.imgCount?function(c){var h=setTimeout(function(){if(i.stylesheets&&bg(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&A_===0&&(A_=62500*Wh());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&bg(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>A_?50:800)+o);return i.unsuspend=c,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function vg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _g=null;function bg(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_g=new Map,o.forEach(W0,i),_g=null,vg.call(i))}function W0(i,o){if(!(o.state.loading&4)){var c=_g.get(i);if(c)var h=c.get(null);else{c=new Map,_g.set(i,c);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var k=w[S];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(c.set(k.dataset.precedence,k),h=k)}h&&c.set(null,h)}w=o.instance,k=w.getAttribute("data-precedence"),S=c.get(k)||h,S===h&&c.set(null,w),c.set(k,w),this.count++,h=vg.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),S?S.parentNode.insertBefore(w,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),o.state.loading|=4}}var Nd={$$typeof:U,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function wE(i,o,c,h,w,S,k,F,ee){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function H0(i,o,c,h,w,S,k,F,ee,he,we,Se){return i=new wE(i,o,c,k,ee,he,we,Se,F),o=1,S===!0&&(o|=24),S=ss(3,null,null,o),i.current=S,S.stateNode=i,o=ca(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:h,isDehydrated:c,cache:o},Qa(S),i}function $0(i){return i?(i=Io,i):Io}function G0(i,o,c,h,w,S){w=$0(w),h.context===null?h.context=w:h.pendingContext=w,h=Cl(o),h.payload={element:c},S=S===void 0?null:S,S!==null&&(h.callback=S),c=fa(i,h,o),c!==null&&(Ws(c,i,o),ah(c,i,o))}function Y0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function R_(i,o){Y0(i,o),(i=i.alternate)&&Y0(i,o)}function K0(i){if(i.tag===13||i.tag===31){var o=Ga(i,67108864);o!==null&&Ws(o,i,67108864),R_(i,67108864)}}function Q0(i){if(i.tag===13||i.tag===31){var o=gi();o=Tc(o);var c=Ga(i,o);c!==null&&Ws(c,i,o),R_(i,o)}}var wg=!0;function xE(i,o,c,h){var w=X.T;X.T=null;var S=ce.p;try{ce.p=2,I_(i,o,c,h)}finally{ce.p=S,X.T=w}}function SE(i,o,c,h){var w=X.T;X.T=null;var S=ce.p;try{ce.p=8,I_(i,o,c,h)}finally{ce.p=S,X.T=w}}function I_(i,o,c,h){if(wg){var w=N_(h);if(w===null)v_(i,o,h,xg,c),X0(i,h);else if(Z0(w,i,o,c,h))h.stopPropagation();else if(X0(i,h),o&4&&-1<EE.indexOf(i)){for(;w!==null;){var S=Ss(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var k=Nt(S.pendingLanes);if(k!==0){var F=S;for(F.pendingLanes|=2,F.entangledLanes|=2;k;){var ee=1<<31-Yn(k);F.entanglements[1]|=ee,k&=~ee}to(S),(gn&6)===0&&(Zc=gr()+500,Fh(0))}}break;case 31:case 13:F=Ga(S,2),F!==null&&Ws(F,S,2),sg(),R_(S,2)}if(S=N_(h),S===null&&v_(i,o,h,xg,c),S===w)break;w=S}w!==null&&h.stopPropagation()}else v_(i,o,h,null,c)}}function N_(i){return i=Ii(i),k_(i)}var xg=null;function k_(i){if(xg=null,i=Ba(i),i!==null){var o=a(i);if(o===null)i=null;else{var c=o.tag;if(c===13){if(i=l(o),i!==null)return i;i=null}else if(c===31){if(i=u(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return xg=i,null}function J0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ns()){case cn:return 2;case Hn:return 8;case Bn:case ja:return 32;case fl:return 268435456;default:return 32}default:return 32}}var O_=!1,Fl=null,zl=null,ql=null,Qh=new Map,Jh=new Map,Wl=[],EE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function X0(i,o){switch(i){case"focusin":case"focusout":Fl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":ql=null;break;case"pointerover":case"pointerout":Qh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jh.delete(o.pointerId)}}function nu(i,o,c,h,w,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:S,targetContainers:[w]},o!==null&&(o=Ss(o),o!==null&&K0(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function Z0(i,o,c,h,w){switch(o){case"focusin":return Fl=nu(Fl,i,o,c,h,w),!0;case"dragenter":return zl=nu(zl,i,o,c,h,w),!0;case"mouseover":return ql=nu(ql,i,o,c,h,w),!0;case"pointerover":var S=w.pointerId;return Qh.set(S,nu(Qh.get(S)||null,i,o,c,h,w)),!0;case"gotpointercapture":return S=w.pointerId,Jh.set(S,nu(Jh.get(S)||null,i,o,c,h,w)),!0}return!1}function D_(i){var o=Ba(i.target);if(o!==null){var c=a(o);if(c!==null){if(o=c.tag,o===13){if(o=l(c),o!==null){i.blockedOn=o,Ji(i.priority,function(){Q0(c)});return}}else if(o===31){if(o=u(c),o!==null){i.blockedOn=o,Ji(i.priority,function(){Q0(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Sg(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=N_(i.nativeEvent);if(c===null){c=i.nativeEvent;var h=new c.constructor(c.type,c);zf=h,c.target.dispatchEvent(h),zf=null}else return o=Ss(c),o!==null&&K0(o),i.blockedOn=c,!1;o.shift()}return!0}function ex(i,o,c){Sg(i)&&c.delete(o)}function TE(){O_=!1,Fl!==null&&Sg(Fl)&&(Fl=null),zl!==null&&Sg(zl)&&(zl=null),ql!==null&&Sg(ql)&&(ql=null),Qh.forEach(ex),Jh.forEach(ex)}function kd(i,o){i.blockedOn===o&&(i.blockedOn=null,O_||(O_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,TE)))}var Eg=null;function tx(i){Eg!==i&&(Eg=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Eg===i&&(Eg=null);for(var o=0;o<i.length;o+=3){var c=i[o],h=i[o+1],w=i[o+2];if(typeof h!="function"){if(k_(h||c)===null)continue;break}var S=Ss(c);S!==null&&(i.splice(o,3),o-=3,Il(S,{pending:!0,data:w,method:c.method,action:h},h,w))}}))}function Od(i){function o(ee){return kd(ee,i)}Fl!==null&&kd(Fl,i),zl!==null&&kd(zl,i),ql!==null&&kd(ql,i),Qh.forEach(o),Jh.forEach(o);for(var c=0;c<Wl.length;c++){var h=Wl[c];h.blockedOn===i&&(h.blockedOn=null)}for(;0<Wl.length&&(c=Wl[0],c.blockedOn===null);)D_(c),c.blockedOn===null&&Wl.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var w=c[h],S=c[h+1],k=w[Gr]||null;if(typeof S=="function")k||tx(c);else if(k){var F=null;if(S&&S.hasAttribute("formAction")){if(w=S,k=S[Gr]||null)F=k.formAction;else if(k_(w)!==null)continue}else F=k.action;typeof F=="function"?c[h+1]=F:(c.splice(h,3),h-=3),tx(c)}}}function Rs(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(k){return w=k})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function Xh(i){this._internalRoot=i}Tg.prototype.render=Xh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var c=o.current,h=gi();G0(c,h,i,o,null,null)},Tg.prototype.unmount=Xh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;G0(i.current,2,null,i,null,null),sg(),o[La]=null}};function Tg(i){this._internalRoot=i}Tg.prototype.unstable_scheduleHydration=function(i){if(i){var o=ap();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Wl.length&&o!==0&&o<Wl[c].priority;c++);Wl.splice(c,0,i),c===0&&D_(i)}};var nx=e.version;if(nx!=="19.2.4")throw Error(r(527,nx,"19.2.4"));ce.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var CE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{xs=Cg.inject(CE),yr=Cg}catch{}}return U_.createRoot=function(i,o){if(!s(i))throw Error(r(299));var c=!1,h="",w=Pv,S=Mv,k=Fw;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=H0(i,1,!1,null,null,c,h,null,w,S,k,Rs),i[La]=o.current,y_(i),new Xh(o)},U_.hydrateRoot=function(i,o,c){if(!s(i))throw Error(r(299));var h=!1,w="",S=Pv,k=Mv,F=Fw,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(k=c.onCaughtError),c.onRecoverableError!==void 0&&(F=c.onRecoverableError),c.formState!==void 0&&(ee=c.formState)),o=H0(i,1,!0,o,c??null,h,w,ee,S,k,F,Rs),o.context=$0(null),c=o.current,h=gi(),h=Tc(h),w=Cl(h),w.callback=null,fa(c,w,h),c=h,o.current.lanes=c,Qi(o,c),to(o),i[La]=o.current,y_(i),new Tg(o)},U_.version="19.2.4",U_}var BI;function Z6(){if(BI)return $E.exports;BI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$E.exports=X6(),$E.exports}var eB=Z6();const tB=L1(eB),nB=()=>{};var UI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},rB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],u=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,u=l?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=a>>2,_=(a&3)<<4|u>>4;let b=(u&15)<<2|m>>6,E=m&63;f||(E=64,l||(b=64)),r.push(t[y],t[_],t[b],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],u=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||u==null||m==null||_==null)throw new sB;const b=a<<2|u>>4;if(r.push(b),m!==64){const E=u<<4&240|m>>2;if(r.push(E),_!==64){const T=m<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class sB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iB=function(n){const e=FD(n);return zD.encodeByteArray(e,!0)},Xx=function(n){return iB(n).replace(/\./g,"")},qD=function(n){try{return zD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB=()=>aB().__FIREBASE_DEFAULTS__,lB=()=>{if(typeof process>"u"||typeof UI>"u")return;const n=UI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qD(n[1]);return e&&JSON.parse(e)},q1=()=>{try{return nB()||oB()||lB()||cB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},WD=n=>{var e,t;return(t=(e=q1())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},uB=n=>{const e=WD(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},HD=()=>{var n;return(n=q1())==null?void 0:n.config},$D=n=>{var e;return(e=q1())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GD(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xx(JSON.stringify(t)),Xx(JSON.stringify(l)),""].join(".")}const cb={};function hB(){const n={prod:[],emulator:[]};for(const e of Object.keys(cb))cb[e]?n.emulator.push(e):n.prod.push(e);return n}function mB(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let FI=!1;function YD(n,e){if(typeof window>"u"||typeof document>"u"||!Oy(window.location.host)||cb[n]===e||cb[n]||FI)return;cb[n]=e;function t(b){return`__firebase__banner__${b}`}const r="__firebase__banner",a=hB().prod.length>0;function l(){const b=document.getElementById(r);b&&b.remove()}function u(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,E){b.setAttribute("width","24"),b.setAttribute("id",E),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{FI=!0,l()},b}function y(b,E){b.setAttribute("id",E),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=mB(r),E=t("text"),T=document.getElementById(E)||document.createElement("span"),C=t("learnmore"),N=document.getElementById(C)||document.createElement("a"),M=t("preprendIcon"),B=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const U=b.element;u(U),y(N,C);const Y=m();f(B,M),U.append(B,T,N,Y),document.body.appendChild(U)}a?(T.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function gB(){var e;const n=(e=q1())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vB(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _B(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bB(){const n=ei();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wB(){return!gB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xB(){try{return typeof indexedDB=="object"}catch{return!1}}function SB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="FirebaseError";class Nu extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EB,Object.setPrototypeOf(this,Nu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yb.prototype.create)}}class Yb{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?TB(a,r):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new Nu(s,u,r)}}function TB(n,e){return n.replace(CB,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const CB=/\{\$([^}]+)}/g;function AB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(zI(a)&&zI(l)){if(!Lm(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function zI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Q_(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function J_(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function RB(n,e){const t=new IB(n,e);return t.subscribe.bind(t)}class IB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");NB(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=KE),s.error===void 0&&(s.error=KE),s.complete===void 0&&(s.complete=KE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function KE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(n){return n&&n._delegate?n._delegate:n}class Vm{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DB(e))try{this.getOrInitializeService({instanceIdentifier:tm})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=tm){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tm){return this.instances.has(e)}getOptions(e=tm){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=tm){return this.component?this.component.multipleInstances?e:tm:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OB(n){return n===tm?void 0:n}function DB(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kB(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rn||(rn={}));const MB={debug:rn.DEBUG,verbose:rn.VERBOSE,info:rn.INFO,warn:rn.WARN,error:rn.ERROR,silent:rn.SILENT},jB=rn.INFO,LB={[rn.DEBUG]:"log",[rn.VERBOSE]:"log",[rn.INFO]:"info",[rn.WARN]:"warn",[rn.ERROR]:"error"},VB=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=LB[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gA{constructor(e){this.name=e,this._logLevel=jB,this._logHandler=VB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rn.DEBUG,...e),this._logHandler(this,rn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rn.VERBOSE,...e),this._logHandler(this,rn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rn.INFO,...e),this._logHandler(this,rn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rn.WARN,...e),this._logHandler(this,rn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rn.ERROR,...e),this._logHandler(this,rn.ERROR,...e)}}const BB=(n,e)=>e.some(t=>n instanceof t);let qI,WI;function UB(){return qI||(qI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FB(){return WI||(WI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KD=new WeakMap,iC=new WeakMap,QD=new WeakMap,QE=new WeakMap,yA=new WeakMap;function zB(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(af(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&KD.set(t,n)}).catch(()=>{}),yA.set(e,n),e}function qB(n){if(iC.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});iC.set(n,e)}let aC={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return iC.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return af(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function WB(n){aC=n(aC)}function HB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(JE(this),e,...t);return QD.set(r,e.sort?e.sort():[e]),af(r)}:FB().includes(n)?function(...e){return n.apply(JE(this),e),af(KD.get(this))}:function(...e){return af(n.apply(JE(this),e))}}function $B(n){return typeof n=="function"?HB(n):(n instanceof IDBTransaction&&qB(n),BB(n,UB())?new Proxy(n,aC):n)}function af(n){if(n instanceof IDBRequest)return zB(n);if(QE.has(n))return QE.get(n);const e=$B(n);return e!==n&&(QE.set(n,e),yA.set(e,n)),e}const JE=n=>yA.get(n);function GB(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),u=af(l);return r&&l.addEventListener("upgradeneeded",f=>{r(af(l.result),f.oldVersion,f.newVersion,af(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),u.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),u}const YB=["get","getKey","getAll","getAllKeys","count"],KB=["put","add","delete","clear"],XE=new Map;function HI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(XE.get(e))return XE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=KB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||YB.includes(t)))return;const a=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(u.shift())),(await Promise.all([m[t](...u),s&&f.done]))[0]};return XE.set(e,a),a}WB(n=>({...n,get:(e,t,r)=>HI(e,t)||n.get(e,t,r),has:(e,t)=>!!HI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(JB(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function JB(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oC="@firebase/app",$I="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new gA("@firebase/app"),XB="@firebase/app-compat",ZB="@firebase/analytics-compat",e5="@firebase/analytics",t5="@firebase/app-check-compat",n5="@firebase/app-check",r5="@firebase/auth",s5="@firebase/auth-compat",i5="@firebase/database",a5="@firebase/data-connect",o5="@firebase/database-compat",l5="@firebase/functions",c5="@firebase/functions-compat",u5="@firebase/installations",d5="@firebase/installations-compat",f5="@firebase/messaging",h5="@firebase/messaging-compat",m5="@firebase/performance",p5="@firebase/performance-compat",g5="@firebase/remote-config",y5="@firebase/remote-config-compat",v5="@firebase/storage",_5="@firebase/storage-compat",b5="@firebase/firestore",w5="@firebase/ai",x5="@firebase/firestore-compat",S5="firebase",E5="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="[DEFAULT]",T5={[oC]:"fire-core",[XB]:"fire-core-compat",[e5]:"fire-analytics",[ZB]:"fire-analytics-compat",[n5]:"fire-app-check",[t5]:"fire-app-check-compat",[r5]:"fire-auth",[s5]:"fire-auth-compat",[i5]:"fire-rtdb",[a5]:"fire-data-connect",[o5]:"fire-rtdb-compat",[l5]:"fire-fn",[c5]:"fire-fn-compat",[u5]:"fire-iid",[d5]:"fire-iid-compat",[f5]:"fire-fcm",[h5]:"fire-fcm-compat",[m5]:"fire-perf",[p5]:"fire-perf-compat",[g5]:"fire-rc",[y5]:"fire-rc-compat",[v5]:"fire-gcs",[_5]:"fire-gcs-compat",[b5]:"fire-fst",[x5]:"fire-fst-compat",[w5]:"fire-vertex","fire-js":"fire-js",[S5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Map,C5=new Map,cC=new Map;function GI(n,e){try{n.container.addComponent(e)}catch(t){xu.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hy(n){const e=n.name;if(cC.has(e))return xu.debug(`There were multiple attempts to register component ${e}.`),!1;cC.set(e,n);for(const t of Zx.values())GI(t,n);for(const t of C5.values())GI(t,n);return!0}function vA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ca(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},of=new Yb("app","Firebase",A5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vm("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw of.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=E5;function JD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:lC,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw of.create("bad-app-name",{appName:String(s)});if(t||(t=HD()),!t)throw of.create("no-options");const a=Zx.get(s);if(a){if(Lm(t,a.options)&&Lm(r,a.config))return a;throw of.create("duplicate-app",{appName:s})}const l=new PB(s);for(const f of cC.values())l.addComponent(f);const u=new R5(t,r,l);return Zx.set(s,u),u}function XD(n=lC){const e=Zx.get(n);if(!e&&n===lC&&HD())return JD();if(!e)throw of.create("no-app",{appName:n});return e}function lf(n,e,t){let r=T5[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xu.warn(l.join(" "));return}hy(new Vm(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5="firebase-heartbeat-database",N5=1,bb="firebase-heartbeat-store";let ZE=null;function ZD(){return ZE||(ZE=GB(I5,N5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bb)}catch(t){console.warn(t)}}}}).catch(n=>{throw of.create("idb-open",{originalErrorMessage:n.message})})),ZE}async function k5(n){try{const t=(await ZD()).transaction(bb),r=await t.objectStore(bb).get(e2(n));return await t.done,r}catch(e){if(e instanceof Nu)xu.warn(e.message);else{const t=of.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xu.warn(t.message)}}}async function YI(n,e){try{const r=(await ZD()).transaction(bb,"readwrite");await r.objectStore(bb).put(e,e2(n)),await r.done}catch(t){if(t instanceof Nu)xu.warn(t.message);else{const r=of.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xu.warn(r.message)}}}function e2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=1024,D5=30;class P5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j5(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=KI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>D5){const l=L5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xu.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KI(),{heartbeatsToSend:r,unsentEntries:s}=M5(this._heartbeatsCache.heartbeats),a=Xx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return xu.warn(t),""}}}function KI(){return new Date().toISOString().substring(0,10)}function M5(n,e=O5){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),QI(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),QI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class j5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xB()?SB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await k5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return YI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function QI(n){return Xx(JSON.stringify({version:2,heartbeats:n})).length}function L5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(n){hy(new Vm("platform-logger",e=>new QB(e),"PRIVATE")),hy(new Vm("heartbeat",e=>new P5(e),"PRIVATE")),lf(oC,$I,n),lf(oC,$I,"esm2020"),lf("fire-js","")}V5("");var B5="firebase",U5="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lf(B5,U5,"app");function t2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F5=t2,n2=new Yb("auth","Firebase",t2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new gA("@firebase/auth");function z5(n,...e){e1.logLevel<=rn.WARN&&e1.warn(`Auth (${Dy}): ${n}`,...e)}function Ix(n,...e){e1.logLevel<=rn.ERROR&&e1.error(`Auth (${Dy}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(n,...e){throw bA(n,...e)}function el(n,...e){return bA(n,...e)}function _A(n,e,t){const r={...F5(),[e]:t};return new Yb("auth","Firebase",r).create(e,{appName:n.name})}function gu(n){return _A(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function q5(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&uo(n,"argument-error"),_A(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bA(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return n2.create(n,...e)}function St(n,e,...t){if(!n)throw bA(e,...t)}function fu(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ix(e),new Error(e)}function Su(n,e){n||fu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function W5(){return JI()==="http:"||JI()==="https:"}function JI(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W5()||vB()||"connection"in navigator)?navigator.onLine:!0}function $5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,t){this.shortDelay=e,this.longDelay=t,Su(t>e,"Short delay should be less than long delay!"),this.isMobile=pB()||_B()}get(){return H5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(n,e){Su(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K5=new Qb(3e4,6e4);function Sf(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ef(n,e,t,r,s={}){return s2(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=Kb({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return yB()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Oy(n.emulatorConfig.host)&&(m.credentials="include"),r2.fetch()(await i2(n,n.config.apiHost,t,u),m)})}async function s2(n,e,t){n._canInitEmulator=!1;const r={...G5,...e};try{const s=new J5(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw cx(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[f,m]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw cx(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw cx(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw cx(n,"user-disabled",l);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw _A(n,y,m);uo(n,y)}}catch(s){if(s instanceof Nu)throw s;uo(n,"network-request-failed",{message:String(s)})}}async function Jb(n,e,t,r,s={}){const a=await Ef(n,e,t,r,s);return"mfaPendingCredential"in a&&uo(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function i2(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?wA(n.config,s):`${n.config.apiScheme}://${s}`;return Y5.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function Q5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class J5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(el(this.auth,"network-request-failed")),K5.get())})}}function cx(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=el(n,e,r);return s.customData._tokenResponse=t,s}function XI(n){return n!==void 0&&n.enterprise!==void 0}class X5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Q5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Z5(n,e){return Ef(n,"GET","/v2/recaptchaConfig",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(n,e){return Ef(n,"POST","/v1/accounts:delete",e)}async function t1(n,e){return Ef(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tU(n,e=!1){const t=ws(n),r=await t.getIdToken(e),s=xA(r);St(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:ub(eT(s.auth_time)),issuedAtTime:ub(eT(s.iat)),expirationTime:ub(eT(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function eT(n){return Number(n)*1e3}function xA(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ix("JWT malformed, contained fewer than 3 sections"),null;try{const s=qD(t);return s?JSON.parse(s):(Ix("Failed to decode base64 JWT payload"),null)}catch(s){return Ix("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ZI(n){const e=xA(n);return St(e,"internal-error"),St(typeof e.exp<"u","internal-error"),St(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Nu&&nU(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function nU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ub(this.lastLoginAt),this.creationTime=ub(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n1(n){var _;const e=n.auth,t=await n.getIdToken(),r=await wb(n,t1(e,{idToken:t}));St(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=(_=s.providerUserInfo)!=null&&_.length?a2(s.providerUserInfo):[],l=iU(n.providerData,a),u=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),m=u?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new dC(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function sU(n){const e=ws(n);await n1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iU(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function a2(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(n,e){const t=await s2(n,{},async()=>{const r=Kb({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await i2(n,s,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:r};return n.emulatorConfig&&Oy(n.emulatorConfig.host)&&(f.credentials="include"),r2.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oU(n,e){return Ef(n,"POST","/v2/accounts:revokeToken",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){St(e.idToken,"internal-error"),St(typeof e.idToken<"u","internal-error"),St(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){St(e.length!==0,"internal-error");const t=ZI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await aU(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Wg;return r&&(St(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(St(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(St(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wg,this.toJSON())}_performRefresh(){return fu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e){St(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xo{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new rU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await wb(this,this.stsTokenManager.getToken(this.auth,e));return St(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tU(this,e)}reload(){return sU(this)}_assign(e){this!==e&&(St(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await n1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ca(this.auth.app))return Promise.reject(gu(this.auth));const e=await this.getIdToken();return await wb(this,eU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,u=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:E,providerData:T,stsTokenManager:C}=t;St(_&&C,e,"internal-error");const N=Wg.fromJSON(this.name,C);St(typeof _=="string",e,"internal-error"),Dd(r,e.name),Dd(s,e.name),St(typeof b=="boolean",e,"internal-error"),St(typeof E=="boolean",e,"internal-error"),Dd(a,e.name),Dd(l,e.name),Dd(u,e.name),Dd(f,e.name),Dd(m,e.name),Dd(y,e.name);const M=new Xo({uid:_,auth:e,email:s,emailVerified:b,displayName:r,isAnonymous:E,photoURL:l,phoneNumber:a,tenantId:u,stsTokenManager:N,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(M.providerData=T.map(B=>({...B}))),f&&(M._redirectEventId=f),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new Wg;s.updateFromServerResponse(t);const a=new Xo({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await n1(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];St(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?a2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),u=new Wg;u.updateFromIdToken(r);const f=new Xo({uid:s.localId,auth:e,stsTokenManager:u,isAnonymous:l}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dC(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Map;function hu(n){Su(n instanceof Function,"Expected a class definition");let e=eN.get(n);return e?(Su(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eN.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}o2.type="NONE";const tN=o2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(n,e,t){return`firebase:${n}:${e}:${t}`}class Hg{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Nx(this.userKey,s.apiKey,a),this.fullPersistenceKey=Nx("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await t1(this.auth,{idToken:e}).catch(()=>{});return t?Xo._fromGetAccountInfoResponse(this.auth,t,e):null}return Xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hg(hu(tN),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||hu(tN);const l=Nx(r,e.config.apiKey,e.name);let u=null;for(const m of t)try{const y=await m._get(l);if(y){let _;if(typeof y=="string"){const b=await t1(e,{idToken:y}).catch(()=>{});if(!b)break;_=await Xo._fromGetAccountInfoResponse(e,b,y)}else _=Xo._fromJSON(e,y);m!==a&&(u=_),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Hg(a,e,r):(a=f[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(l)}catch{}})),new Hg(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h2(e))return"Blackberry";if(m2(e))return"Webos";if(c2(e))return"Safari";if((e.includes("chrome/")||u2(e))&&!e.includes("edge/"))return"Chrome";if(f2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l2(n=ei()){return/firefox\//i.test(n)}function c2(n=ei()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u2(n=ei()){return/crios\//i.test(n)}function d2(n=ei()){return/iemobile/i.test(n)}function f2(n=ei()){return/android/i.test(n)}function h2(n=ei()){return/blackberry/i.test(n)}function m2(n=ei()){return/webos/i.test(n)}function SA(n=ei()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lU(n=ei()){var e;return SA(n)&&!!((e=window.navigator)!=null&&e.standalone)}function cU(){return bB()&&document.documentMode===10}function p2(n=ei()){return SA(n)||f2(n)||m2(n)||h2(n)||/windows phone/i.test(n)||d2(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,e=[]){let t;switch(n){case"Browser":t=nN(ei());break;case"Worker":t=`${nN(ei())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Dy}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const f=e(a);l(f)}catch(f){u(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(n,e={}){return Ef(n,"GET","/v2/passwordPolicy",Sf(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=6;class hU{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rN(this),this.idTokenSubscription=new rN(this),this.beforeStateQueue=new uU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hu(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Hg.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await t1(this,{idToken:e}),r=await Xo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Ca(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,u=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await n1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ca(this.app))return Promise.reject(gu(this));const t=e?ws(e):null;return t&&St(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&St(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ca(this.app)?Promise.reject(gu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ca(this.app)?Promise.reject(gu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dU(this),t=new hU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yb("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hu(e)||this._popupRedirectResolver;St(t,this,"argument-error"),this.redirectPersistenceManager=await Hg.create(this,[hu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Ca(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&z5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Tf(n){return ws(n)}class rN{constructor(e){this.auth=e,this.observer=null,this.addObserver=RB(t=>this.observer=t)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pU(n){W1=n}function y2(n){return W1.loadJS(n)}function gU(){return W1.recaptchaEnterpriseScript}function yU(){return W1.gapiScript}function vU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _U{constructor(){this.enterprise=new bU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const wU="recaptcha-enterprise",v2="NO_RECAPTCHA";class xU{constructor(e){this.type=wU,this.auth=Tf(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{Z5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const m=new X5(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,l(m.siteKey)}}).catch(f=>{u(f)})})}function s(a,l,u){const f=window.grecaptcha;XI(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{l(m)}).catch(()=>{l(v2)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _U().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&XI(window.grecaptcha))s(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gU();f.length!==0&&(f+=u),y2(f).then(()=>{s(u,a,l)}).catch(m=>{l(m)})}}).catch(u=>{l(u)})})}}async function sN(n,e,t,r=!1,s=!1){const a=new xU(n);let l;if(s)l=v2;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,m=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function fC(n,e,t,r,s){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await sN(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await sN(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(n,e){const t=vA(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Lm(a,e??{}))return s;uo(s,"already-initialized")}return t.initialize({options:e})}function EU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(hu);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TU(n,e,t){const r=Tf(n);St(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=_2(e),{host:l,port:u}=CU(e),f=u===null?"":`:${u}`,m={url:`${a}//${l}${f}/`},y=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){St(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),St(Lm(m,r.config.emulator)&&Lm(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Oy(l)?(GD(`${a}//${l}${f}`),YD("Auth",!0)):AU()}function _2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function CU(n){const e=_2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:iN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:iN(l)}}}function iN(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fu("not implemented")}_getIdTokenResponse(e){return fu("not implemented")}_linkToIdToken(e,t){return fu("not implemented")}_getReauthenticationResolver(e){return fu("not implemented")}}async function RU(n,e){return Ef(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(n,e){return Jb(n,"POST","/v1/accounts:signInWithPassword",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NU(n,e){return Jb(n,"POST","/v1/accounts:signInWithEmailLink",Sf(n,e))}async function kU(n,e){return Jb(n,"POST","/v1/accounts:signInWithEmailLink",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends EA{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new xb(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xb(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fC(e,t,"signInWithPassword",IU);case"emailLink":return NU(e,{email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fC(e,r,"signUpPassword",RU);case"emailLink":return kU(e,{idToken:t,email:this._email,oobCode:this._password});default:uo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(n,e){return Jb(n,"POST","/v1/accounts:signInWithIdp",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="http://localhost";class Bm extends EA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):uo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new Bm(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return $g(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,$g(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$g(e,t)}buildRequest(){const e={requestUri:OU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kb(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PU(n){const e=Q_(J_(n)).link,t=e?Q_(J_(e)).deep_link_id:null,r=Q_(J_(n)).deep_link_id;return(r?Q_(J_(r)).link:null)||r||t||e||n}class TA{constructor(e){const t=Q_(J_(e)),r=t.apiKey??null,s=t.oobCode??null,a=DU(t.mode??null);St(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=PU(e);try{return new TA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.providerId=Py.PROVIDER_ID}static credential(e,t){return xb._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=TA.parseLink(t);return St(r,"argument-error"),xb._fromEmailAndCode(e,r.code,r.tenantId)}}Py.PROVIDER_ID="password";Py.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Py.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends CA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Xb{constructor(){super("facebook.com")}static credential(e){return Bm._fromParams({providerId:Fd.PROVIDER_ID,signInMethod:Fd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fd.credentialFromTaggedObject(e)}static credentialFromError(e){return Fd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fd.credential(e.oauthAccessToken)}catch{return null}}}Fd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Xb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bm._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return uu.credentialFromTaggedObject(e)}static credentialFromError(e){return uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return uu.credential(t,r)}catch{return null}}}uu.GOOGLE_SIGN_IN_METHOD="google.com";uu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Xb{constructor(){super("github.com")}static credential(e){return Bm._fromParams({providerId:zd.PROVIDER_ID,signInMethod:zd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zd.credentialFromTaggedObject(e)}static credentialFromError(e){return zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zd.credential(e.oauthAccessToken)}catch{return null}}}zd.GITHUB_SIGN_IN_METHOD="github.com";zd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd extends Xb{constructor(){super("twitter.com")}static credential(e,t){return Bm._fromParams({providerId:qd.PROVIDER_ID,signInMethod:qd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qd.credentialFromTaggedObject(e)}static credentialFromError(e){return qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return qd.credential(t,r)}catch{return null}}}qd.TWITTER_SIGN_IN_METHOD="twitter.com";qd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MU(n,e){return Jb(n,"POST","/v1/accounts:signUp",Sf(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Xo._fromIdTokenResponse(e,r,s),l=aN(r);return new Um({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=aN(r);return new Um({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function aN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Nu{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,r1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new r1(e,t,r,s)}}function b2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?r1._fromErrorAndOperation(n,a,e,r):a})}async function jU(n,e,t=!1){const r=await wb(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Um._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(n,e,t=!1){const{auth:r}=n;if(Ca(r.app))return Promise.reject(gu(r));const s="reauthenticate";try{const a=await wb(n,b2(r,s,e,n),t);St(a.idToken,r,"internal-error");const l=xA(a.idToken);St(l,r,"internal-error");const{sub:u}=l;return St(n.uid===u,r,"user-mismatch"),Um._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&uo(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e,t=!1){if(Ca(n.app))return Promise.reject(gu(n));const r="signIn",s=await b2(n,r,e),a=await Um._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function VU(n,e){return w2(Tf(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(n){const e=Tf(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function BU(n,e,t){if(Ca(n.app))return Promise.reject(gu(n));const r=Tf(n),l=await fC(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",MU).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&x2(n),f}),u=await Um._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function UU(n,e,t){return Ca(n.app)?Promise.reject(gu(n)):VU(ws(n),Py.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x2(n),r})}function FU(n,e,t,r){return ws(n).onIdTokenChanged(e,t,r)}function zU(n,e,t){return ws(n).beforeAuthStateChanged(e,t)}function qU(n,e,t,r){return ws(n).onAuthStateChanged(e,t,r)}function WU(n){return ws(n).signOut()}const s1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(s1,"1"),this.storage.removeItem(s1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=1e3,$U=10;class E2 extends S2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=p2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);cU()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,$U):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}E2.type="LOCAL";const GU=E2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2 extends S2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}T2.type="SESSION";const C2=T2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new H1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const u=Array.from(l).map(async m=>m(t.origin,a)),f=await YU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}H1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((u,f)=>{const m=AA("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(b.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){return window}function QU(n){rc().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return typeof rc().WorkerGlobalScope<"u"&&typeof rc().importScripts=="function"}async function JU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function ZU(){return A2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebaseLocalStorageDb",eF=1,i1="firebaseLocalStorage",I2="fbase_key";class Zb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $1(n,e){return n.transaction([i1],e?"readwrite":"readonly").objectStore(i1)}function tF(){const n=indexedDB.deleteDatabase(R2);return new Zb(n).toPromise()}function hC(){const n=indexedDB.open(R2,eF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(i1,{keyPath:I2})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(i1)?e(r):(r.close(),await tF(),e(await hC()))})})}async function oN(n,e,t){const r=$1(n,!0).put({[I2]:e,value:t});return new Zb(r).toPromise()}async function nF(n,e){const t=$1(n,!1).get(e),r=await new Zb(t).toPromise();return r===void 0?null:r.value}function lN(n,e){const t=$1(n,!0).delete(e);return new Zb(t).toPromise()}const rF=800,sF=3;class N2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hC(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=H1._getInstance(ZU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await JU(),!this.activeServiceWorker)return;this.sender=new KU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hC();return await oN(e,s1,"1"),await lN(e,s1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oN(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>nF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=$1(s,!1).getAll();return new Zb(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N2.type="LOCAL";const iF=N2;new Qb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e){return e?hu(e):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA extends EA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $g(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $g(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $g(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aF(n){return w2(n.auth,new RA(n),n.bypassAuthState)}function oF(n){const{auth:e,user:t}=n;return St(t,e,"internal-error"),LU(t,new RA(n),n.bypassAuthState)}async function lF(n){const{auth:e,user:t}=n;return St(t,e,"internal-error"),jU(t,new RA(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aF;case"linkViaPopup":case"linkViaRedirect":return lF;case"reauthViaPopup":case"reauthViaRedirect":return oF;default:uo(this.auth,"internal-error")}}resolve(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Su(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=new Qb(2e3,1e4);async function uF(n,e,t){if(Ca(n.app))return Promise.reject(el(n,"operation-not-supported-in-this-environment"));const r=Tf(n);q5(n,e,CA);const s=k2(r,t);return new vm(r,"signInViaPopup",e,s).executeNotNull()}class vm extends O2{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,vm.currentPopupAction&&vm.currentPopupAction.cancel(),vm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return St(e,this.auth,"internal-error"),e}async onExecution(){Su(this.filter.length===1,"Popup operations only handle one event");const e=AA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(el(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(el(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(el(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cF.get())};e()}}vm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="pendingRedirect",kx=new Map;class fF extends O2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=kx.get(this.auth._key());if(!e){try{const r=await hF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}kx.set(this.auth._key(),e)}return this.bypassAuthState||kx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hF(n,e){const t=gF(e),r=pF(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function mF(n,e){kx.set(n._key(),e)}function pF(n){return hu(n._redirectPersistence)}function gF(n){return Nx(dF,n.config.apiKey,n.name)}async function yF(n,e,t=!1){if(Ca(n.app))return Promise.reject(gu(n));const r=Tf(n),s=k2(r,e),l=await new fF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=600*1e3;class _F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!D2(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(el(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vF&&this.cachedEventUids.clear(),this.cachedEventUids.has(cN(e))}saveEventToCache(e){this.cachedEventUids.add(cN(e)),this.lastProcessedEventTime=Date.now()}}function cN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function D2({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(n,e={}){return Ef(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SF=/^https?/;async function EF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wF(n);for(const t of e)try{if(TF(t))return}catch{}uo(n,"unauthorized-domain")}function TF(n){const e=uC(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!SF.test(t))return!1;if(xF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new Qb(3e4,6e4);function uN(){const n=rc().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AF(n){return new Promise((e,t)=>{var s,a,l;function r(){uN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uN(),t(el(n,"network-request-failed"))},timeout:CF.get()})}if((a=(s=rc().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=rc().gapi)!=null&&l.load)r();else{const u=vU("iframefcb");return rc()[u]=()=>{gapi.load?r():t(el(n,"network-request-failed"))},y2(`${yU()}?onload=${u}`).catch(f=>t(f))}}).catch(e=>{throw Ox=null,e})}let Ox=null;function RF(n){return Ox=Ox||AF(n),Ox}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new Qb(5e3,15e3),NF="__/auth/iframe",kF="emulator/auth/iframe",OF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PF(n){const e=n.config;St(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wA(e,kF):`https://${n.config.authDomain}/${NF}`,r={apiKey:e.apiKey,appName:n.name,v:Dy},s=DF.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Kb(r).slice(1)}`}async function MF(n){const e=await RF(n),t=rc().gapi;return St(t,n,"internal-error"),e.open({where:document.body,url:PF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=el(n,"network-request-failed"),u=rc().setTimeout(()=>{a(l)},IF.get());function f(){rc().clearTimeout(u),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LF=500,VF=600,BF="_blank",UF="http://localhost";class dN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FF(n,e,t,r=LF,s=VF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const f={...jF,width:r.toString(),height:s.toString(),top:a,left:l},m=ei().toLowerCase();t&&(u=u2(m)?BF:t),l2(m)&&(e=e||UF,f.scrollbars="yes");const y=Object.entries(f).reduce((b,[E,T])=>`${b}${E}=${T},`,"");if(lU(m)&&u!=="_self")return zF(e||"",u),new dN(null);const _=window.open(e||"",u,y);St(_,n,"popup-blocked");try{_.focus()}catch{}return new dN(_)}function zF(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="__/auth/handler",WF="emulator/auth/handler",HF=encodeURIComponent("fac");async function fN(n,e,t,r,s,a){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Dy,eventId:s};if(e instanceof CA){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",AB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof Xb){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const f=await n._getAppCheckToken(),m=f?`#${HF}=${encodeURIComponent(f)}`:"";return`${$F(n)}?${Kb(u).slice(1)}${m}`}function $F({config:n}){return n.emulator?wA(n,WF):`https://${n.authDomain}/${qF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="webStorageSupport";class GF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C2,this._completeRedirectFn=yF,this._overrideRedirectResult=mF}async _openPopup(e,t,r,s){var l;Su((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await fN(e,t,r,uC(),s);return FF(e,a,AA())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await fN(e,t,r,uC(),s);return QU(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Su(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await MF(e),r=new _F(e);return t.register("authEvent",s=>(St(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tT,{type:tT},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[tT];a!==void 0&&t(!!a),uo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=EF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return p2()||c2()||SA()}}const YF=GF;var hN="@firebase/auth",mN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JF(n){hy(new Vm("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;St(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g2(n)},m=new mU(r,s,a,f);return EU(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),hy(new Vm("auth-internal",e=>{const t=Tf(e.getProvider("auth").getImmediate());return(r=>new KF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),lf(hN,mN,QF(n)),lf(hN,mN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=300,ZF=$D("authIdTokenMaxAge")||XF;let pN=null;const e9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>ZF)return;const s=t==null?void 0:t.token;pN!==s&&(pN=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t9(n=XD()){const e=vA(n,"auth");if(e.isInitialized())return e.getImmediate();const t=SU(n,{popupRedirectResolver:YF,persistence:[iF,GU,C2]}),r=$D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=e9(a.toString());zU(t,l,()=>l(t.currentUser)),FU(t,u=>l(u))}}const s=WD("auth");return s&&TU(t,`http://${s}`),t}function n9(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}pU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=el("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",n9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JF("Browser");var gN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cf,P2;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function L(){}L.prototype=P.prototype,D.F=P.prototype,D.prototype=new L,D.prototype.constructor=D,D.D=function(V,q,J){for(var $=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)$[Ee-2]=arguments[Ee];return P.prototype[q].apply(V,$)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,P,L){L||(L=0);const V=Array(16);if(typeof P=="string")for(var q=0;q<16;++q)V[q]=P.charCodeAt(L++)|P.charCodeAt(L++)<<8|P.charCodeAt(L++)<<16|P.charCodeAt(L++)<<24;else for(q=0;q<16;++q)V[q]=P[L++]|P[L++]<<8|P[L++]<<16|P[L++]<<24;P=D.g[0],L=D.g[1],q=D.g[2];let J=D.g[3],$;$=P+(J^L&(q^J))+V[0]+3614090360&4294967295,P=L+($<<7&4294967295|$>>>25),$=J+(q^P&(L^q))+V[1]+3905402710&4294967295,J=P+($<<12&4294967295|$>>>20),$=q+(L^J&(P^L))+V[2]+606105819&4294967295,q=J+($<<17&4294967295|$>>>15),$=L+(P^q&(J^P))+V[3]+3250441966&4294967295,L=q+($<<22&4294967295|$>>>10),$=P+(J^L&(q^J))+V[4]+4118548399&4294967295,P=L+($<<7&4294967295|$>>>25),$=J+(q^P&(L^q))+V[5]+1200080426&4294967295,J=P+($<<12&4294967295|$>>>20),$=q+(L^J&(P^L))+V[6]+2821735955&4294967295,q=J+($<<17&4294967295|$>>>15),$=L+(P^q&(J^P))+V[7]+4249261313&4294967295,L=q+($<<22&4294967295|$>>>10),$=P+(J^L&(q^J))+V[8]+1770035416&4294967295,P=L+($<<7&4294967295|$>>>25),$=J+(q^P&(L^q))+V[9]+2336552879&4294967295,J=P+($<<12&4294967295|$>>>20),$=q+(L^J&(P^L))+V[10]+4294925233&4294967295,q=J+($<<17&4294967295|$>>>15),$=L+(P^q&(J^P))+V[11]+2304563134&4294967295,L=q+($<<22&4294967295|$>>>10),$=P+(J^L&(q^J))+V[12]+1804603682&4294967295,P=L+($<<7&4294967295|$>>>25),$=J+(q^P&(L^q))+V[13]+4254626195&4294967295,J=P+($<<12&4294967295|$>>>20),$=q+(L^J&(P^L))+V[14]+2792965006&4294967295,q=J+($<<17&4294967295|$>>>15),$=L+(P^q&(J^P))+V[15]+1236535329&4294967295,L=q+($<<22&4294967295|$>>>10),$=P+(q^J&(L^q))+V[1]+4129170786&4294967295,P=L+($<<5&4294967295|$>>>27),$=J+(L^q&(P^L))+V[6]+3225465664&4294967295,J=P+($<<9&4294967295|$>>>23),$=q+(P^L&(J^P))+V[11]+643717713&4294967295,q=J+($<<14&4294967295|$>>>18),$=L+(J^P&(q^J))+V[0]+3921069994&4294967295,L=q+($<<20&4294967295|$>>>12),$=P+(q^J&(L^q))+V[5]+3593408605&4294967295,P=L+($<<5&4294967295|$>>>27),$=J+(L^q&(P^L))+V[10]+38016083&4294967295,J=P+($<<9&4294967295|$>>>23),$=q+(P^L&(J^P))+V[15]+3634488961&4294967295,q=J+($<<14&4294967295|$>>>18),$=L+(J^P&(q^J))+V[4]+3889429448&4294967295,L=q+($<<20&4294967295|$>>>12),$=P+(q^J&(L^q))+V[9]+568446438&4294967295,P=L+($<<5&4294967295|$>>>27),$=J+(L^q&(P^L))+V[14]+3275163606&4294967295,J=P+($<<9&4294967295|$>>>23),$=q+(P^L&(J^P))+V[3]+4107603335&4294967295,q=J+($<<14&4294967295|$>>>18),$=L+(J^P&(q^J))+V[8]+1163531501&4294967295,L=q+($<<20&4294967295|$>>>12),$=P+(q^J&(L^q))+V[13]+2850285829&4294967295,P=L+($<<5&4294967295|$>>>27),$=J+(L^q&(P^L))+V[2]+4243563512&4294967295,J=P+($<<9&4294967295|$>>>23),$=q+(P^L&(J^P))+V[7]+1735328473&4294967295,q=J+($<<14&4294967295|$>>>18),$=L+(J^P&(q^J))+V[12]+2368359562&4294967295,L=q+($<<20&4294967295|$>>>12),$=P+(L^q^J)+V[5]+4294588738&4294967295,P=L+($<<4&4294967295|$>>>28),$=J+(P^L^q)+V[8]+2272392833&4294967295,J=P+($<<11&4294967295|$>>>21),$=q+(J^P^L)+V[11]+1839030562&4294967295,q=J+($<<16&4294967295|$>>>16),$=L+(q^J^P)+V[14]+4259657740&4294967295,L=q+($<<23&4294967295|$>>>9),$=P+(L^q^J)+V[1]+2763975236&4294967295,P=L+($<<4&4294967295|$>>>28),$=J+(P^L^q)+V[4]+1272893353&4294967295,J=P+($<<11&4294967295|$>>>21),$=q+(J^P^L)+V[7]+4139469664&4294967295,q=J+($<<16&4294967295|$>>>16),$=L+(q^J^P)+V[10]+3200236656&4294967295,L=q+($<<23&4294967295|$>>>9),$=P+(L^q^J)+V[13]+681279174&4294967295,P=L+($<<4&4294967295|$>>>28),$=J+(P^L^q)+V[0]+3936430074&4294967295,J=P+($<<11&4294967295|$>>>21),$=q+(J^P^L)+V[3]+3572445317&4294967295,q=J+($<<16&4294967295|$>>>16),$=L+(q^J^P)+V[6]+76029189&4294967295,L=q+($<<23&4294967295|$>>>9),$=P+(L^q^J)+V[9]+3654602809&4294967295,P=L+($<<4&4294967295|$>>>28),$=J+(P^L^q)+V[12]+3873151461&4294967295,J=P+($<<11&4294967295|$>>>21),$=q+(J^P^L)+V[15]+530742520&4294967295,q=J+($<<16&4294967295|$>>>16),$=L+(q^J^P)+V[2]+3299628645&4294967295,L=q+($<<23&4294967295|$>>>9),$=P+(q^(L|~J))+V[0]+4096336452&4294967295,P=L+($<<6&4294967295|$>>>26),$=J+(L^(P|~q))+V[7]+1126891415&4294967295,J=P+($<<10&4294967295|$>>>22),$=q+(P^(J|~L))+V[14]+2878612391&4294967295,q=J+($<<15&4294967295|$>>>17),$=L+(J^(q|~P))+V[5]+4237533241&4294967295,L=q+($<<21&4294967295|$>>>11),$=P+(q^(L|~J))+V[12]+1700485571&4294967295,P=L+($<<6&4294967295|$>>>26),$=J+(L^(P|~q))+V[3]+2399980690&4294967295,J=P+($<<10&4294967295|$>>>22),$=q+(P^(J|~L))+V[10]+4293915773&4294967295,q=J+($<<15&4294967295|$>>>17),$=L+(J^(q|~P))+V[1]+2240044497&4294967295,L=q+($<<21&4294967295|$>>>11),$=P+(q^(L|~J))+V[8]+1873313359&4294967295,P=L+($<<6&4294967295|$>>>26),$=J+(L^(P|~q))+V[15]+4264355552&4294967295,J=P+($<<10&4294967295|$>>>22),$=q+(P^(J|~L))+V[6]+2734768916&4294967295,q=J+($<<15&4294967295|$>>>17),$=L+(J^(q|~P))+V[13]+1309151649&4294967295,L=q+($<<21&4294967295|$>>>11),$=P+(q^(L|~J))+V[4]+4149444226&4294967295,P=L+($<<6&4294967295|$>>>26),$=J+(L^(P|~q))+V[11]+3174756917&4294967295,J=P+($<<10&4294967295|$>>>22),$=q+(P^(J|~L))+V[2]+718787259&4294967295,q=J+($<<15&4294967295|$>>>17),$=L+(J^(q|~P))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(q+($<<21&4294967295|$>>>11))&4294967295,D.g[2]=D.g[2]+q&4294967295,D.g[3]=D.g[3]+J&4294967295}r.prototype.v=function(D,P){P===void 0&&(P=D.length);const L=P-this.blockSize,V=this.C;let q=this.h,J=0;for(;J<P;){if(q==0)for(;J<=L;)s(this,D,J),J+=this.blockSize;if(typeof D=="string"){for(;J<P;)if(V[q++]=D.charCodeAt(J++),q==this.blockSize){s(this,V),q=0;break}}else for(;J<P;)if(V[q++]=D[J++],q==this.blockSize){s(this,V),q=0;break}}this.h=q,this.o+=P},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;P=this.o*8;for(var L=D.length-8;L<D.length;++L)D[L]=P&255,P/=256;for(this.v(D),D=Array(16),P=0,L=0;L<4;++L)for(let V=0;V<32;V+=8)D[P++]=this.g[L]>>>V&255;return D};function a(D,P){var L=u;return Object.prototype.hasOwnProperty.call(L,D)?L[D]:L[D]=P(D)}function l(D,P){this.h=P;const L=[];let V=!0;for(let q=D.length-1;q>=0;q--){const J=D[q]|0;V&&J==P||(L[q]=J,V=!1)}this.g=L}var u={};function f(D){return-128<=D&&D<128?a(D,function(P){return new l([P|0],P<0?-1:0)}):new l([D|0],D<0?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return N(m(-D));const P=[];let L=1;for(let V=0;D>=L;V++)P[V]=D/L|0,L*=4294967296;return new l(P,0)}function y(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return N(y(D.substring(1),P));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=m(Math.pow(P,8));let V=_;for(let J=0;J<D.length;J+=8){var q=Math.min(8,D.length-J);const $=parseInt(D.substring(J,J+q),P);q<8?(q=m(Math.pow(P,q)),V=V.j(q).add(m($))):(V=V.j(L),V=V.add(m($)))}return V}var _=f(0),b=f(1),E=f(16777216);n=l.prototype,n.m=function(){if(C(this))return-N(this).m();let D=0,P=1;for(let L=0;L<this.g.length;L++){const V=this.i(L);D+=(V>=0?V:4294967296+V)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(C(this))return"-"+N(this).toString(D);const P=m(Math.pow(D,6));var L=this;let V="";for(;;){const q=Y(L,P).g;L=M(L,q.j(P));let J=((L.g.length>0?L.g[0]:L.h)>>>0).toString(D);if(L=q,T(L))return J+V;for(;J.length<6;)J="0"+J;V=J+V}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(let P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function C(D){return D.h==-1}n.l=function(D){return D=M(this,D),C(D)?-1:T(D)?0:1};function N(D){const P=D.g.length,L=[];for(let V=0;V<P;V++)L[V]=~D.g[V];return new l(L,~D.h).add(b)}n.abs=function(){return C(this)?N(this):this},n.add=function(D){const P=Math.max(this.g.length,D.g.length),L=[];let V=0;for(let q=0;q<=P;q++){let J=V+(this.i(q)&65535)+(D.i(q)&65535),$=(J>>>16)+(this.i(q)>>>16)+(D.i(q)>>>16);V=$>>>16,J&=65535,$&=65535,L[q]=$<<16|J}return new l(L,L[L.length-1]&-2147483648?-1:0)};function M(D,P){return D.add(N(P))}n.j=function(D){if(T(this)||T(D))return _;if(C(this))return C(D)?N(this).j(N(D)):N(N(this).j(D));if(C(D))return N(this.j(N(D)));if(this.l(E)<0&&D.l(E)<0)return m(this.m()*D.m());const P=this.g.length+D.g.length,L=[];for(var V=0;V<2*P;V++)L[V]=0;for(V=0;V<this.g.length;V++)for(let q=0;q<D.g.length;q++){const J=this.i(V)>>>16,$=this.i(V)&65535,Ee=D.i(q)>>>16,de=D.i(q)&65535;L[2*V+2*q]+=$*de,B(L,2*V+2*q),L[2*V+2*q+1]+=J*de,B(L,2*V+2*q+1),L[2*V+2*q+1]+=$*Ee,B(L,2*V+2*q+1),L[2*V+2*q+2]+=J*Ee,B(L,2*V+2*q+2)}for(D=0;D<P;D++)L[D]=L[2*D+1]<<16|L[2*D];for(D=P;D<2*P;D++)L[D]=0;return new l(L,0)};function B(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function U(D,P){this.g=D,this.h=P}function Y(D,P){if(T(P))throw Error("division by zero");if(T(D))return new U(_,_);if(C(D))return P=Y(N(D),P),new U(N(P.g),N(P.h));if(C(P))return P=Y(D,N(P)),new U(N(P.g),P.h);if(D.g.length>30){if(C(D)||C(P))throw Error("slowDivide_ only works with positive integers.");for(var L=b,V=P;V.l(D)<=0;)L=W(L),V=W(V);var q=K(L,1),J=K(V,1);for(V=K(V,2),L=K(L,2);!T(V);){var $=J.add(V);$.l(D)<=0&&(q=q.add(L),J=$),V=K(V,1),L=K(L,1)}return P=M(D,q.j(P)),new U(q,P)}for(q=_;D.l(P)>=0;){for(L=Math.max(1,Math.floor(D.m()/P.m())),V=Math.ceil(Math.log(L)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),J=m(L),$=J.j(P);C($)||$.l(D)>0;)L-=V,J=m(L),$=J.j(P);T(J)&&(J=b),q=q.add(J),D=M(D,$)}return new U(q,D)}n.B=function(D){return Y(this,D).h},n.and=function(D){const P=Math.max(this.g.length,D.g.length),L=[];for(let V=0;V<P;V++)L[V]=this.i(V)&D.i(V);return new l(L,this.h&D.h)},n.or=function(D){const P=Math.max(this.g.length,D.g.length),L=[];for(let V=0;V<P;V++)L[V]=this.i(V)|D.i(V);return new l(L,this.h|D.h)},n.xor=function(D){const P=Math.max(this.g.length,D.g.length),L=[];for(let V=0;V<P;V++)L[V]=this.i(V)^D.i(V);return new l(L,this.h^D.h)};function W(D){const P=D.g.length+1,L=[];for(let V=0;V<P;V++)L[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(L,D.h)}function K(D,P){const L=P>>5;P%=32;const V=D.g.length-L,q=[];for(let J=0;J<V;J++)q[J]=P>0?D.i(J+L)>>>P|D.i(J+L+1)<<32-P:D.i(J+L);return new l(q,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,P2=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,cf=l}).apply(typeof gN<"u"?gN:typeof self<"u"?self:typeof window<"u"?window:{});var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M2,X_,j2,Dx,mC,L2,V2,B2;(function(){var n,e=Object.defineProperty;function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof ux=="object"&&ux];for(var R=0;R<v.length;++R){var O=v[R];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=t(this);function s(v,R){if(R)e:{var O=r;v=v.split(".");for(var G=0;G<v.length-1;G++){var ue=v[G];if(!(ue in O))break e;O=O[ue]}v=v[v.length-1],G=O[v],R=R(G),R!=G&&R!=null&&e(O,v,{configurable:!0,writable:!0,value:R})}}s("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(v){return v||function(R){var O=[],G;for(G in R)Object.prototype.hasOwnProperty.call(R,G)&&O.push([G,R[G]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(v){var R=typeof v;return R=="object"&&v!=null||R=="function"}function f(v,R,O){return v.call.apply(v.bind,arguments)}function m(v,R,O){return m=f,m.apply(null,arguments)}function y(v,R){var O=Array.prototype.slice.call(arguments,1);return function(){var G=O.slice();return G.push.apply(G,arguments),v.apply(this,G)}}function _(v,R){function O(){}O.prototype=R.prototype,v.Z=R.prototype,v.prototype=new O,v.prototype.constructor=v,v.Ob=function(G,ue,pe){for(var je=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)je[kt-2]=arguments[kt];return R.prototype[ue].apply(G,je)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function E(v){const R=v.length;if(R>0){const O=Array(R);for(let G=0;G<R;G++)O[G]=v[G];return O}return[]}function T(v,R){for(let G=1;G<arguments.length;G++){const ue=arguments[G];var O=typeof ue;if(O=O!="object"?O:ue?Array.isArray(ue)?"array":O:"null",O=="array"||O=="object"&&typeof ue.length=="number"){O=v.length||0;const pe=ue.length||0;v.length=O+pe;for(let je=0;je<pe;je++)v[O+je]=ue[je]}else v.push(ue)}}class C{constructor(R,O){this.i=R,this.j=O,this.h=0,this.g=null}get(){let R;return this.h>0?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function N(v){l.setTimeout(()=>{throw v},0)}function M(){var v=D;let R=null;return v.g&&(R=v.g,v.g=v.g.next,v.g||(v.h=null),R.next=null),R}class B{constructor(){this.h=this.g=null}add(R,O){const G=U.get();G.set(R,O),this.h?this.h.next=G:this.g=G,this.h=G}}var U=new C(()=>new Y,v=>v.reset());class Y{constructor(){this.next=this.g=this.h=null}set(R,O){this.h=R,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let W,K=!1,D=new B,P=()=>{const v=Promise.resolve(void 0);W=()=>{v.then(L)}};function L(){for(var v;v=M();){try{v.h.call(v.g)}catch(O){N(O)}var R=U;R.j(v),R.h<100&&(R.h++,v.next=R.g,R.g=v)}K=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(v,R){this.type=v,this.g=this.target=R,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var J=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,R=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const O=()=>{};l.addEventListener("test",O,R),l.removeEventListener("test",O,R)}catch{}return v})();function $(v){return/^[\s\xa0]*$/.test(v)}function Ee(v,R){q.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,R)}_(Ee,q),Ee.prototype.init=function(v,R){const O=this.type=v.type,G=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=R,R=v.relatedTarget,R||(O=="mouseover"?R=v.fromElement:O=="mouseout"&&(R=v.toElement)),this.relatedTarget=R,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),X=0;function ce(v,R,O,G,ue){this.listener=v,this.proxy=null,this.src=R,this.type=O,this.capture=!!G,this.ha=ue,this.key=++X,this.da=this.fa=!1}function se(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Pe(v,R,O){for(const G in v)R.call(O,v[G],G,v)}function _e(v,R){for(const O in v)R.call(void 0,v[O],O,v)}function Q(v){const R={};for(const O in v)R[O]=v[O];return R}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(v,R){let O,G;for(let ue=1;ue<arguments.length;ue++){G=arguments[ue];for(O in G)v[O]=G[O];for(let pe=0;pe<ye.length;pe++)O=ye[pe],Object.prototype.hasOwnProperty.call(G,O)&&(v[O]=G[O])}}function Ne(v){this.src=v,this.g={},this.h=0}Ne.prototype.add=function(v,R,O,G,ue){const pe=v.toString();v=this.g[pe],v||(v=this.g[pe]=[],this.h++);const je=nt(v,R,G,ue);return je>-1?(R=v[je],O||(R.fa=!1)):(R=new ce(R,this.src,pe,!!G,ue),R.fa=O,v.push(R)),R};function Ue(v,R){const O=R.type;if(O in v.g){var G=v.g[O],ue=Array.prototype.indexOf.call(G,R,void 0),pe;(pe=ue>=0)&&Array.prototype.splice.call(G,ue,1),pe&&(se(R),v.g[O].length==0&&(delete v.g[O],v.h--))}}function nt(v,R,O,G){for(let ue=0;ue<v.length;++ue){const pe=v[ue];if(!pe.da&&pe.listener==R&&pe.capture==!!O&&pe.ha==G)return ue}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),it={};function ct(v,R,O,G,ue){if(Array.isArray(R)){for(let pe=0;pe<R.length;pe++)ct(v,R[pe],O,G,ue);return null}return O=Ds(O),v&&v[de]?v.J(R,O,u(G)?!!G.capture:!1,ue):yt(v,R,O,!1,G,ue)}function yt(v,R,O,G,ue,pe){if(!R)throw Error("Invalid event type");const je=u(ue)?!!ue.capture:!!ue;let kt=$r(v);if(kt||(v[Ae]=kt=new Ne(v)),O=kt.add(R,O,G,je,pe),O.proxy)return O;if(G=vt(),O.proxy=G,G.src=v,G.listener=O,v.addEventListener)J||(ue=je),ue===void 0&&(ue=!1),v.addEventListener(R.toString(),G,ue);else if(v.attachEvent)v.attachEvent(Zt(R.toString()),G);else if(v.addListener&&v.removeListener)v.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return O}function vt(){function v(O){return R.call(v.src,v.listener,O)}const R=pr;return v}function _t(v,R,O,G,ue){if(Array.isArray(R))for(var pe=0;pe<R.length;pe++)_t(v,R[pe],O,G,ue);else G=u(G)?!!G.capture:!!G,O=Ds(O),v&&v[de]?(v=v.i,pe=String(R).toString(),pe in v.g&&(R=v.g[pe],O=nt(R,O,G,ue),O>-1&&(se(R[O]),Array.prototype.splice.call(R,O,1),R.length==0&&(delete v.g[pe],v.h--)))):v&&(v=$r(v))&&(R=v.g[R.toString()],v=-1,R&&(v=nt(R,O,G,ue)),(O=v>-1?R[v]:null)&&Wn(O))}function Wn(v){if(typeof v!="number"&&v&&!v.da){var R=v.src;if(R&&R[de])Ue(R.i,v);else{var O=v.type,G=v.proxy;R.removeEventListener?R.removeEventListener(O,G,v.capture):R.detachEvent?R.detachEvent(Zt(O),G):R.addListener&&R.removeListener&&R.removeListener(G),(O=$r(R))?(Ue(O,v),O.h==0&&(O.src=null,R[Ae]=null)):se(v)}}}function Zt(v){return v in it?it[v]:it[v]="on"+v}function pr(v,R){if(v.da)v=!0;else{R=new Ee(R,this);const O=v.listener,G=v.ha||v.src;v.fa&&Wn(v),v=O.call(G,R)}return v}function $r(v){return v=v[Ae],v instanceof Ne?v:null}var Nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(v){return typeof v=="function"?v:(v[Nn]||(v[Nn]=function(R){return v.handleEvent(R)}),v[Nn])}function en(){V.call(this),this.i=new Ne(this),this.M=this,this.G=null}_(en,V),en.prototype[de]=!0,en.prototype.removeEventListener=function(v,R,O,G){_t(this,v,R,O,G)};function Vn(v,R){var O,G=v.G;if(G)for(O=[];G;G=G.G)O.push(G);if(v=v.M,G=R.type||R,typeof R=="string")R=new q(R,v);else if(R instanceof q)R.target=R.target||v;else{var ue=R;R=new q(G,v),Ce(R,ue)}ue=!0;let pe,je;if(O)for(je=O.length-1;je>=0;je--)pe=R.g=O[je],ue=lr(pe,G,!0,R)&&ue;if(pe=R.g=v,ue=lr(pe,G,!0,R)&&ue,ue=lr(pe,G,!1,R)&&ue,O)for(je=0;je<O.length;je++)pe=R.g=O[je],ue=lr(pe,G,!1,R)&&ue}en.prototype.N=function(){if(en.Z.N.call(this),this.i){var v=this.i;for(const R in v.g){const O=v.g[R];for(let G=0;G<O.length;G++)se(O[G]);delete v.g[R],v.h--}}this.G=null},en.prototype.J=function(v,R,O,G){return this.i.add(String(v),R,!1,O,G)},en.prototype.K=function(v,R,O,G){return this.i.add(String(v),R,!0,O,G)};function lr(v,R,O,G){if(R=v.i.g[String(R)],!R)return!0;R=R.concat();let ue=!0;for(let pe=0;pe<R.length;++pe){const je=R[pe];if(je&&!je.da&&je.capture==O){const kt=je.listener,cr=je.ha||je.src;je.fa&&Ue(v.i,je),ue=kt.call(cr,G)!==!1&&ue}}return ue&&!G.defaultPrevented}function Ci(v,R){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=m(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(R)>2147483647?-1:l.setTimeout(v,R||0)}function Ai(v){v.g=Ci(()=>{v.g=null,v.i&&(v.i=!1,Ai(v))},v.l);const R=v.h;v.h=null,v.m.apply(null,R)}class gr extends V{constructor(R,O){super(),this.m=R,this.l=O,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Ai(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(v){V.call(this),this.h=v,this.g={}}_(ns,V);var cn=[];function Hn(v){Pe(v.g,function(R,O){this.g.hasOwnProperty(O)&&Wn(R)},v),v.g={}}ns.prototype.N=function(){ns.Z.N.call(this),Hn(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=l.JSON.stringify,ja=l.JSON.parse,fl=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function hl(){}function ml(){}var xs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function yr(){q.call(this,"d")}_(yr,q);function hs(){q.call(this,"c")}_(hs,q);var Yn={},yo=null;function pl(){return yo=yo||new en}Yn.Ia="serverreachability";function wc(v){q.call(this,Yn.Ia,v)}_(wc,q);function mt(v){const R=pl();Vn(R,new wc(R))}Yn.STAT_EVENT="statevent";function Ft(v,R){q.call(this,Yn.STAT_EVENT,v),this.stat=R}_(Ft,q);function We(v){const R=pl();Vn(R,new Ft(R,v))}Yn.Ja="timingevent";function Nt(v,R){q.call(this,Yn.Ja,v),this.size=R}_(Nt,q);function Xn(v,R){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},R)}function Tt(){this.g=!0}Tt.prototype.ua=function(){this.g=!1};function kf(v,R,O,G,ue,pe){v.info(function(){if(v.g)if(pe){var je="",kt=pe.split("&");for(let un=0;un<kt.length;un++){var cr=kt[un].split("=");if(cr.length>1){const $n=cr[0];cr=cr[1];const Ms=$n.split("_");je=Ms.length>=2&&Ms[1]=="type"?je+($n+"="+cr+"&"):je+($n+"=redacted&")}}}else je=null;else je=pe;return"XMLHTTP REQ ("+G+") [attempt "+ue+"]: "+R+`
`+O+`
`+je})}function xc(v,R,O,G,ue,pe,je){v.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+ue+"]: "+R+`
`+O+`
`+pe+" "+je})}function Ri(v,R,O,G){v.info(function(){return"XMLHTTP TEXT ("+R+"): "+Sc(v,O)+(G?" "+G:"")})}function Qi(v,R){v.info(function(){return"TIMEOUT: "+R})}Tt.prototype.info=function(){};function Sc(v,R){if(!v.g)return R;if(!R)return null;try{const pe=JSON.parse(R);if(pe){for(v=0;v<pe.length;v++)if(Array.isArray(pe[v])){var O=pe[v];if(!(O.length<2)){var G=O[1];if(Array.isArray(G)&&!(G.length<1)){var ue=G[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let je=1;je<G.length;je++)G[je]=""}}}}return Bn(pe)}catch{return R}}var vo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Of={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ec;function Tc(){}_(Tc,hl),Tc.prototype.g=function(){return new XMLHttpRequest},Ec=new Tc;function _o(v){return encodeURIComponent(String(v))}function ap(v){var R=1;v=v.split(":");const O=[];for(;R>0&&v.length;)O.push(v.shift()),R--;return v.length&&O.push(v.join(":")),O}function Ji(v,R,O,G){this.j=v,this.i=R,this.l=O,this.S=G||1,this.V=new ns(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xi}function Xi(){this.i=null,this.g="",this.h=!1}var Cr={},Gr={};function La(v,R,O){v.M=1,v.A=Fa(vr(R)),v.u=O,v.R=!0,Cc(v,null)}function Cc(v,R){v.F=Date.now(),Va(v),v.B=vr(v.A);var O=v.B,G=v.S;Array.isArray(G)||(G=[String(G)]),Ic(O.i,"t",G),v.C=0,O=v.j.L,v.h=new Xi,v.g=sa(v.j,O?R:null,!v.u),v.P>0&&(v.O=new gr(m(v.Y,v,v.g),v.P)),R=v.V,O=v.g,G=v.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(cn[0]=ue.toString()),ue=cn);for(let pe=0;pe<ue.length;pe++){const je=ct(O,ue[pe],G||R.handleEvent,!1,R.h||R);if(!je)break;R.g[je.key]=je}R=v.J?Q(v.J):{},v.u?(v.v||(v.v="POST"),R["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,R)):(v.v="GET",v.g.ea(v.B,v.v,null,R)),mt(),kf(v.i,v.v,v.B,v.l,v.S,v.u)}Ji.prototype.ba=function(v){v=v.target;const R=this.O;R&&ra(v)==3?R.j():this.Y(v)},Ji.prototype.Y=function(v){try{if(v==this.g)e:{const kt=ra(this.g),cr=this.g.ya(),un=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||rs(this.g)))){this.K||kt!=4||cr==7||(cr==8||un<=0?mt(3):mt(2)),Ba(this);var R=this.g.ca();this.X=R;var O=Jy(this);if(this.o=R==200,xc(this.i,this.v,this.B,this.l,this.S,kt,R),this.o){if(this.U&&!this.L){t:{if(this.g){var G,ue=this.g;if((G=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(G)){var pe=G;break t}}pe=null}if(v=pe)Ri(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ni(this,v);else{this.o=!1,this.m=3,We(12),ti(this),Ss(this);break e}}if(this.R){v=!0;let $n;for(;!this.K&&this.C<O.length;)if($n=lp(this,O),$n==Gr){kt==4&&(this.m=4,We(14),v=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if($n==Cr){this.m=4,We(15),Ri(this.i,this.l,O,"[Invalid Chunk]"),v=!1;break}else Ri(this.i,this.l,$n,null),ni(this,$n);if(op(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||O.length!=0||this.h.h||(this.m=1,We(16),v=!1),this.o=this.o&&v,!v)Ri(this.i,this.l,O,"[Invalid Chunked Response]"),ti(this),Ss(this);else if(O.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Bu(je),je.P=!0,We(11))}}else Ri(this.i,this.l,O,null),ni(this,O);kt==4&&ti(this),this.o&&!this.K&&(kt==4?ps(this.j,this):(this.o=!1,Va(this)))}else Eo(this.g),R==400&&O.indexOf("Unknown SID")>0?(this.m=3,We(12)):(this.m=0,We(13)),ti(this),Ss(this)}}}catch{}finally{}};function Jy(v){if(!op(v))return v.g.la();const R=rs(v.g);if(R==="")return"";let O="";const G=R.length,ue=ra(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return ti(v),Ss(v),"";v.h.i=new l.TextDecoder}for(let pe=0;pe<G;pe++)v.h.h=!0,O+=v.h.i.decode(R[pe],{stream:!(ue&&pe==G-1)});return R.length=0,v.h.g+=O,v.C=0,v.h.g}function op(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function lp(v,R){var O=v.C,G=R.indexOf(`
`,O);return G==-1?Gr:(O=Number(R.substring(O,G)),isNaN(O)?Cr:(G+=1,G+O>R.length?Gr:(R=R.slice(G,G+O),v.C=G+O,R)))}Ji.prototype.cancel=function(){this.K=!0,ti(this)};function Va(v){v.T=Date.now()+v.H,Ou(v,v.H)}function Ou(v,R){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Xn(m(v.aa,v),R)}function Ba(v){v.D&&(l.clearTimeout(v.D),v.D=null)}Ji.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Qi(this.i,this.B),this.M!=2&&(mt(),We(17)),ti(this),this.m=2,Ss(this)):Ou(this,this.T-v)};function Ss(v){v.j.I==0||v.K||ps(v.j,v)}function ti(v){Ba(v);var R=v.O;R&&typeof R.dispose=="function"&&R.dispose(),v.O=null,Hn(v.V),v.g&&(R=v.g,v.g=null,R.abort(),R.dispose())}function ni(v,R){try{var O=v.j;if(O.I!=0&&(O.g==v||ea(O.h,v))){if(!v.L&&ea(O.h,v)&&O.I==3){try{var G=O.Ba.g.parse(R)}catch{G=null}if(Array.isArray(G)&&G.length==3){var ue=G;if(ue[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<v.F)jc(O),Zn(O);else break e;vl(O),We(18)}}else O.xa=ue[1],0<O.xa-O.K&&ue[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=Xn(m(O.Va,O),6e3));Zi(O.h)<=1&&O.ta&&(O.ta=void 0)}else _r(O,11)}else if((v.L||O.g==v)&&jc(O),!$(R))for(ue=O.Ba.g.parse(R),R=0;R<ue.length;R++){let un=ue[R];const $n=un[0];if(!($n<=O.K))if(O.K=$n,un=un[1],O.I==2)if(un[0]=="c"){O.M=un[1],O.ba=un[2];const Ms=un[3];Ms!=null&&(O.ka=Ms,O.j.info("VER="+O.ka));const aa=un[4];aa!=null&&(O.za=aa,O.j.info("SVER="+O.za));const oa=un[5];oa!=null&&typeof oa=="number"&&oa>0&&(G=1.5*oa,O.O=G,O.j.info("backChannelRequestTimeoutMs_="+G)),G=O;const si=v.g;if(si){const Ao=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ao){var pe=G.h;pe.g||Ao.indexOf("spdy")==-1&&Ao.indexOf("quic")==-1&&Ao.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Du(pe,pe.h),pe.h=null))}if(G.G){const Fu=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Fu&&(G.wa=Fu,vn(G.J,G.G,Fu))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-v.F,O.j.info("Handshake RTT: "+O.T+"ms")),G=O;var je=v;if(G.na=Yf(G,G.L?G.ba:null,G.W),je.L){Mf(G.h,je);var kt=je,cr=G.O;cr&&(kt.H=cr),kt.D&&(Ba(kt),Va(kt)),G.g=je}else $f(G);O.i.length>0&&ms(O)}else un[0]!="stop"&&un[0]!="close"||_r(O,7);else O.I==3&&(un[0]=="stop"||un[0]=="close"?un[0]=="stop"?_r(O,7):Wf(O):un[0]!="noop"&&O.l&&O.l.qa(un),O.A=0)}}mt(4)}catch{}}var Ar=class{constructor(v,R){this.g=v,this.map=R}};function Df(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pf(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Zi(v){return v.h?1:v.g?v.g.size:0}function ea(v,R){return v.h?v.h==R:v.g?v.g.has(R):!1}function Du(v,R){v.g?v.g.add(R):v.h=R}function Mf(v,R){v.h&&v.h==R?v.h=null:v.g&&v.g.has(R)&&v.g.delete(R)}Df.prototype.cancel=function(){if(this.i=jf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function jf(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let R=v.i;for(const O of v.g.values())R=R.concat(O.G);return R}return E(v.i)}var cp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pu(v,R){if(v){v=v.split("&");for(let O=0;O<v.length;O++){const G=v[O].indexOf("=");let ue,pe=null;G>=0?(ue=v[O].substring(0,G),pe=v[O].substring(G+1)):ue=v[O],R(ue,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function Ps(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let R;v instanceof Ps?(this.l=v.l,Lr(this,v.j),this.o=v.o,this.g=v.g,Ua(this,v.u),this.h=v.h,Lf(this,Ff(v.i)),this.m=v.m):v&&(R=String(v).match(cp))?(this.l=!1,Lr(this,R[1]||"",!0),this.o=ta(R[2]||""),this.g=ta(R[3]||"",!0),Ua(this,R[4]),this.h=ta(R[5]||"",!0),Lf(this,R[6]||"",!0),this.m=ta(R[7]||"")):(this.l=!1,this.i=new za(null,this.l))}Ps.prototype.toString=function(){const v=[];var R=this.j;R&&v.push(Ac(R,Rc,!0),":");var O=this.g;return(O||R=="file")&&(v.push("//"),(R=this.o)&&v.push(Ac(R,Rc,!0),"@"),v.push(_o(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&v.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&v.push("/"),v.push(Ac(O,O.charAt(0)=="/"?Vf:Mu,!0))),(O=this.i.toString())&&v.push("?",O),(O=this.m)&&v.push("#",Ac(O,ju)),v.join("")},Ps.prototype.resolve=function(v){const R=vr(this);let O=!!v.j;O?Lr(R,v.j):O=!!v.o,O?R.o=v.o:O=!!v.g,O?R.g=v.g:O=v.u!=null;var G=v.h;if(O)Ua(R,v.u);else if(O=!!v.h){if(G.charAt(0)!="/")if(this.g&&!this.h)G="/"+G;else{var ue=R.h.lastIndexOf("/");ue!=-1&&(G=R.h.slice(0,ue+1)+G)}if(ue=G,ue==".."||ue==".")G="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){G=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const pe=[];for(let je=0;je<ue.length;){const kt=ue[je++];kt=="."?G&&je==ue.length&&pe.push(""):kt==".."?((pe.length>1||pe.length==1&&pe[0]!="")&&pe.pop(),G&&je==ue.length&&pe.push("")):(pe.push(kt),G=!0)}G=pe.join("/")}else G=ue}return O?R.h=G:O=v.i.toString()!=="",O?Lf(R,Ff(v.i)):O=!!v.m,O&&(R.m=v.m),R};function vr(v){return new Ps(v)}function Lr(v,R,O){v.j=O?ta(R,!0):R,v.j&&(v.j=v.j.replace(/:$/,""))}function Ua(v,R){if(R){if(R=Number(R),isNaN(R)||R<0)throw Error("Bad port number "+R);v.u=R}else v.u=null}function Lf(v,R,O){R instanceof za?(v.i=R,Nc(v.i,v.l)):(O||(R=Ac(R,bo)),v.i=new za(R,v.l))}function vn(v,R,O){v.i.set(R,O)}function Fa(v){return vn(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function ta(v,R){return v?R?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Ac(v,R,O){return typeof v=="string"?(v=encodeURI(v).replace(R,Es),O&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Es(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Rc=/[#\/\?@]/g,Mu=/[#\?:]/g,Vf=/[#\?]/g,bo=/[#\?@]/g,ju=/#/g;function za(v,R){this.h=this.g=null,this.i=v||null,this.j=!!R}function Vr(v){v.g||(v.g=new Map,v.h=0,v.i&&Pu(v.i,function(R,O){v.add(decodeURIComponent(R.replace(/\+/g," ")),O)}))}n=za.prototype,n.add=function(v,R){Vr(this),this.i=null,v=wo(this,v);let O=this.g.get(v);return O||this.g.set(v,O=[]),O.push(R),this.h+=1,this};function Bf(v,R){Vr(v),R=wo(v,R),v.g.has(R)&&(v.i=null,v.h-=v.g.get(R).length,v.g.delete(R))}function Lu(v,R){return Vr(v),R=wo(v,R),v.g.has(R)}n.forEach=function(v,R){Vr(this),this.g.forEach(function(O,G){O.forEach(function(ue){v.call(R,ue,G,this)},this)},this)};function Uf(v,R){Vr(v);let O=[];if(typeof R=="string")Lu(v,R)&&(O=O.concat(v.g.get(wo(v,R))));else for(v=Array.from(v.g.values()),R=0;R<v.length;R++)O=O.concat(v[R]);return O}n.set=function(v,R){return Vr(this),this.i=null,v=wo(this,v),Lu(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[R]),this.h+=1,this},n.get=function(v,R){return v?(v=Uf(this,v),v.length>0?String(v[0]):R):R};function Ic(v,R,O){Bf(v,R),O.length>0&&(v.i=null,v.g.set(wo(v,R),E(O)),v.h+=O.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],R=Array.from(this.g.keys());for(let G=0;G<R.length;G++){var O=R[G];const ue=_o(O);O=Uf(this,O);for(let pe=0;pe<O.length;pe++){let je=ue;O[pe]!==""&&(je+="="+_o(O[pe])),v.push(je)}}return this.i=v.join("&")};function Ff(v){const R=new za;return R.i=v.i,v.g&&(R.g=new Map(v.g),R.h=v.h),R}function wo(v,R){return R=String(R),v.j&&(R=R.toLowerCase()),R}function Nc(v,R){R&&!v.j&&(Vr(v),v.i=null,v.g.forEach(function(O,G){const ue=G.toLowerCase();G!=ue&&(Bf(this,G),Ic(this,ue,O))},v)),v.j=R}function na(v,R){const O=new Tt;if(l.Image){const G=new Image;G.onload=y(Ii,O,"TestLoadImage: loaded",!0,R,G),G.onerror=y(Ii,O,"TestLoadImage: error",!1,R,G),G.onabort=y(Ii,O,"TestLoadImage: abort",!1,R,G),G.ontimeout=y(Ii,O,"TestLoadImage: timeout",!1,R,G),l.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=v}else R(!1)}function zf(v,R){const O=new Tt,G=new AbortController,ue=setTimeout(()=>{G.abort(),Ii(O,"TestPingServer: timeout",!1,R)},1e4);fetch(v,{signal:G.signal}).then(pe=>{clearTimeout(ue),pe.ok?Ii(O,"TestPingServer: ok",!0,R):Ii(O,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(ue),Ii(O,"TestPingServer: error",!1,R)})}function Ii(v,R,O,G,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),G(O)}catch{}}function xo(){this.g=new fl}function qa(v){this.i=v.Sb||null,this.h=v.ab||!1}_(qa,hl),qa.prototype.g=function(){return new kc(this.i,this.h)};function kc(v,R){en.call(this),this.H=v,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(kc,en),n=kc.prototype,n.open=function(v,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=R,this.readyState=1,ri(this)},n.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const R={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(R.body=v),(this.H||l).fetch(new Request(this.D,R)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=0},n.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}n.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var R=v.value?v.value:new Uint8Array(0);(R=this.B.decode(R,{stream:!v.done}))&&(this.response=this.responseText+=R)}v.done?gl(this):ri(this),this.readyState==3&&Vu(this)}},n.Oa=function(v){this.g&&(this.response=this.responseText=v,gl(this))},n.Na=function(v){this.g&&(this.response=v,gl(this))},n.ga=function(){this.g&&gl(this)};function gl(v){v.readyState=4,v.l=null,v.j=null,v.B=null,ri(v)}n.setRequestHeader=function(v,R){this.A.append(v,R)},n.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],R=this.h.entries();for(var O=R.next();!O.done;)O=O.value,v.push(O[0]+": "+O[1]),O=R.next();return v.join(`\r
`)};function ri(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(kc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ni(v){let R="";return Pe(v,function(O,G){R+=G,R+=":",R+=O,R+=`\r
`}),R}function Oc(v,R,O){e:{for(G in O){var G=!1;break e}G=!0}G||(O=Ni(O),typeof v=="string"?O!=null&&_o(O):vn(v,R,O))}function kn(v){en.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(kn,en);var Wa=/^https?$/i,qf=["POST","PUT"];n=kn.prototype,n.Fa=function(v){this.H=v},n.ea=function(v,R,O,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);R=R?R.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ec.g(),this.g.onreadystatechange=b(m(this.Ca,this));try{this.B=!0,this.g.open(R,String(v),!0),this.B=!1}catch(pe){mn(this,pe);return}if(v=O||"",O=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var ue in G)O.set(ue,G[ue]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const pe of G.keys())O.set(pe,G.get(pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(O.keys()).find(pe=>pe.toLowerCase()=="content-type"),ue=l.FormData&&v instanceof l.FormData,!(Array.prototype.indexOf.call(qf,R,void 0)>=0)||G||ue||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,je]of O)this.g.setRequestHeader(pe,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(pe){mn(this,pe)}};function mn(v,R){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=R,v.o=5,_n(v),So(v)}function _n(v){v.A||(v.A=!0,Vn(v,"complete"),Vn(v,"error"))}n.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,Vn(this,"complete"),Vn(this,"abort"),So(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),So(this,!0)),kn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Dc(this):this.Xa())},n.Xa=function(){Dc(this)};function Dc(v){if(v.h&&typeof a<"u"){if(v.v&&ra(v)==4)setTimeout(v.Ca.bind(v),0);else if(Vn(v,"readystatechange"),ra(v)==4){v.h=!1;try{const pe=v.ca();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var O;if(!(O=R)){var G;if(G=pe===0){let je=String(v.D).match(cp)[1]||null;!je&&l.self&&l.self.location&&(je=l.self.location.protocol.slice(0,-1)),G=!Wa.test(je?je.toLowerCase():"")}O=G}if(O)Vn(v,"complete"),Vn(v,"success");else{v.o=6;try{var ue=ra(v)>2?v.g.statusText:""}catch{ue=""}v.l=ue+" ["+v.ca()+"]",_n(v)}}finally{So(v)}}}}function So(v,R){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const O=v.g;v.g=null,R||Vn(v,"ready");try{O.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ra(v){return v.g?v.g.readyState:0}n.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(v){if(this.g){var R=this.g.responseText;return v&&R.indexOf(v)==0&&(R=R.substring(v.length)),ja(R)}};function rs(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Eo(v){const R={};v=(v.g&&ra(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<v.length;G++){if($(v[G]))continue;var O=ap(v[G]);const ue=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const pe=R[ue]||[];R[ue]=pe,pe.push(O)}_e(R,function(G){return G.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(v,R,O){return O&&O.internalChannelParams&&O.internalChannelParams[v]||R}function To(v){this.za=0,this.i=[],this.j=new Tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ha("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ha("baseRetryDelayMs",5e3,v),this.Za=Ha("retryDelaySeedMs",1e4,v),this.Ta=Ha("forwardChannelMaxRetries",2,v),this.va=Ha("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Df(v&&v.concurrentRequestLimit),this.Ba=new xo,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=To.prototype,n.ka=8,n.I=1,n.connect=function(v,R,O,G){We(0),this.W=v,this.H=R||{},O&&G!==void 0&&(this.H.OSID=O,this.H.OAID=G),this.F=this.X,this.J=Yf(this,null,this.W),ms(this)};function Wf(v){if(yl(v),v.I==3){var R=v.V++,O=vr(v.J);if(vn(O,"SID",v.M),vn(O,"RID",R),vn(O,"TYPE","terminate"),Yr(v,O),R=new Ji(v,v.j,R),R.M=2,R.A=Fa(vr(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(R.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=R.A,O=!0),O||(R.g=sa(R.j,null),R.g.ea(R.A)),R.F=Date.now(),Va(R)}dp(v)}function Zn(v){v.g&&(Bu(v),v.g.cancel(),v.g=null)}function yl(v){Zn(v),v.v&&(l.clearTimeout(v.v),v.v=null),jc(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&l.clearTimeout(v.m),v.m=null)}function ms(v){if(!Pf(v.h)&&!v.m){v.m=!0;var R=v.Ea;W||P(),K||(W(),K=!0),D.add(R,v),v.D=0}}function Pc(v,R){return Zi(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=R.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Xn(m(v.Ea,v,R),up(v,v.D)),v.D++,!0)}n.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ue=new Ji(this,this.j,v);let pe=this.o;if(this.U&&(pe?(pe=Q(pe),Ce(pe,this.U)):pe=this.U),this.u!==null||this.R||(ue.J=pe,pe=null),this.S)e:{for(var R=0,O=0;O<this.i.length;O++){t:{var G=this.i[O];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(R+=G,R>4096){R=O;break e}if(R===4096||O===this.i.length-1){R=O+1;break e}}R=1e3}else R=1e3;R=Hf(this,ue,R),O=vr(this.J),vn(O,"RID",v),vn(O,"CVER",22),this.G&&vn(O,"X-HTTP-Session-Id",this.G),Yr(this,O),pe&&(this.R?R="headers="+_o(Ni(pe))+"&"+R:this.u&&Oc(O,this.u,pe)),Du(this.h,ue),this.Ra&&vn(O,"TYPE","init"),this.S?(vn(O,"$req",R),vn(O,"SID","null"),ue.U=!0,La(ue,O,null)):La(ue,O,R),this.I=2}}else this.I==3&&(v?Mc(this,v):this.i.length==0||Pf(this.h)||Mc(this))};function Mc(v,R){var O;R?O=R.l:O=v.V++;const G=vr(v.J);vn(G,"SID",v.M),vn(G,"RID",O),vn(G,"AID",v.K),Yr(v,G),v.u&&v.o&&Oc(G,v.u,v.o),O=new Ji(v,v.j,O,v.D+1),v.u===null&&(O.J=v.o),R&&(v.i=R.G.concat(v.i)),R=Hf(v,O,1e3),O.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Du(v.h,O),La(O,G,R)}function Yr(v,R){v.H&&Pe(v.H,function(O,G){vn(R,G,O)}),v.l&&Pe({},function(O,G){vn(R,G,O)})}function Hf(v,R,O){O=Math.min(v.i.length,O);const G=v.l?m(v.l.Ka,v.l,v):null;e:{var ue=v.i;let kt=-1;for(;;){const cr=["count="+O];kt==-1?O>0?(kt=ue[0].g,cr.push("ofs="+kt)):kt=0:cr.push("ofs="+kt);let un=!0;for(let $n=0;$n<O;$n++){var pe=ue[$n].g;const Ms=ue[$n].map;if(pe-=kt,pe<0)kt=Math.max(0,ue[$n].g-100),un=!1;else try{pe="req"+pe+"_"||"";try{var je=Ms instanceof Map?Ms:Object.entries(Ms);for(const[aa,oa]of je){let si=oa;u(oa)&&(si=Bn(oa)),cr.push(pe+aa+"="+encodeURIComponent(si))}}catch(aa){throw cr.push(pe+"type="+encodeURIComponent("_badmap")),aa}}catch{G&&G(Ms)}}if(un){je=cr.join("&");break e}}je=void 0}return v=v.i.splice(0,O),R.G=v,je}function $f(v){if(!v.g&&!v.v){v.Y=1;var R=v.Da;W||P(),K||(W(),K=!0),D.add(R,v),v.A=0}}function vl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Xn(m(v.Da,v),up(v,v.A)),v.A++,!0)}n.Da=function(){if(this.v=null,Gf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Xn(m(this.Wa,this),v)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,We(10),Zn(this),Gf(this))};function Bu(v){v.B!=null&&(l.clearTimeout(v.B),v.B=null)}function Gf(v){v.g=new Ji(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var R=vr(v.na);vn(R,"RID","rpc"),vn(R,"SID",v.M),vn(R,"AID",v.K),vn(R,"CI",v.F?"0":"1"),!v.F&&v.ia&&vn(R,"TO",v.ia),vn(R,"TYPE","xmlhttp"),Yr(v,R),v.u&&v.o&&Oc(R,v.u,v.o),v.O&&(v.g.H=v.O);var O=v.g;v=v.ba,O.M=1,O.A=Fa(vr(R)),O.u=null,O.R=!0,Cc(O,v)}n.Va=function(){this.C!=null&&(this.C=null,Zn(this),vl(this),We(19))};function jc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function ps(v,R){var O=null;if(v.g==R){jc(v),Bu(v),v.g=null;var G=2}else if(ea(v.h,R))O=R.G,Mf(v.h,R),G=1;else return;if(v.I!=0){if(R.o)if(G==1){O=R.u?R.u.length:0,R=Date.now()-R.F;var ue=v.D;G=pl(),Vn(G,new Nt(G,O)),ms(v)}else $f(v);else if(ue=R.m,ue==3||ue==0&&R.X>0||!(G==1&&Pc(v,R)||G==2&&vl(v)))switch(O&&O.length>0&&(R=v.h,R.i=R.i.concat(O)),ue){case 1:_r(v,5);break;case 4:_r(v,10);break;case 3:_r(v,6);break;default:_r(v,2)}}}function up(v,R){let O=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(O*=2),O*R}function _r(v,R){if(v.j.info("Error code "+R),R==2){var O=m(v.bb,v),G=v.Ua;const ue=!G;G=new Ps(G||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Lr(G,"https"),Fa(G),ue?na(G.toString(),O):zf(G.toString(),O)}else We(2);v.I=0,v.l&&v.l.pa(R),dp(v),yl(v)}n.bb=function(v){v?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function dp(v){if(v.I=0,v.ja=[],v.l){const R=jf(v.h);(R.length!=0||v.i.length!=0)&&(T(v.ja,R),T(v.ja,v.i),v.h.i.length=0,E(v.i),v.i.length=0),v.l.oa()}}function Yf(v,R,O){var G=O instanceof Ps?vr(O):new Ps(O);if(G.g!="")R&&(G.g=R+"."+G.g),Ua(G,G.u);else{var ue=l.location;G=ue.protocol,R=R?R+"."+ue.hostname:ue.hostname,ue=+ue.port;const pe=new Ps(null);G&&Lr(pe,G),R&&(pe.g=R),ue&&Ua(pe,ue),O&&(pe.h=O),G=pe}return O=v.G,R=v.wa,O&&R&&vn(G,O,R),vn(G,"VER",v.ka),Yr(v,G),G}function sa(v,R,O){if(R&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return R=v.Aa&&!v.ma?new kn(new qa({ab:O})):new kn(v.ma),R.Fa(v.L),R}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lc(){}n=Lc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function $a(){}$a.prototype.g=function(v,R){return new zt(v,R)};function zt(v,R){en.call(this),this.g=new To(R),this.l=v,this.h=R&&R.messageUrlParams||null,v=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(v?v["X-WebChannel-Content-Type"]=R.messageContentType:v={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.sa&&(v?v["X-WebChannel-Client-Profile"]=R.sa:v={"X-WebChannel-Client-Profile":R.sa}),this.g.U=v,(v=R&&R.Qb)&&!$(v)&&(this.g.u=v),this.A=R&&R.supportsCrossDomainXhr||!1,this.v=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!$(R)&&(this.g.G=R,v=this.h,v!==null&&R in v&&(v=this.h,R in v&&delete v[R])),this.j=new Co(this)}_(zt,en),zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Wf(this.g)},zt.prototype.o=function(v){var R=this.g;if(typeof v=="string"){var O={};O.__data__=v,v=O}else this.v&&(O={},O.__data__=Bn(v),v=O);R.i.push(new Ar(R.Ya++,v)),R.I==3&&ms(R)},zt.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,zt.Z.N.call(this)};function ia(v){yr.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var R=v.__sm__;if(R){e:{for(const O in R){v=O;break e}v=void 0}(this.i=v)&&(v=this.i,R=R!==null&&v in R?R[v]:void 0),this.data=R}else this.data=v}_(ia,yr);function Uu(){hs.call(this),this.status=1}_(Uu,hs);function Co(v){this.g=v}_(Co,Lc),Co.prototype.ra=function(){Vn(this.g,"a")},Co.prototype.qa=function(v){Vn(this.g,new ia(v))},Co.prototype.pa=function(v){Vn(this.g,new Uu)},Co.prototype.oa=function(){Vn(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,B2=function(){return new $a},V2=function(){return pl()},L2=Yn,mC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vo.NO_ERROR=0,vo.TIMEOUT=8,vo.HTTP_ERROR=6,Dx=vo,Of.COMPLETE="complete",j2=Of,ml.EventType=xs,xs.OPEN="a",xs.CLOSE="b",xs.ERROR="c",xs.MESSAGE="d",en.prototype.listen=en.prototype.J,X_=ml,kn.prototype.listenOnce=kn.prototype.K,kn.prototype.getLastError=kn.prototype.Ha,kn.prototype.getLastErrorCode=kn.prototype.ya,kn.prototype.getStatus=kn.prototype.ca,kn.prototype.getResponseJson=kn.prototype.La,kn.prototype.getResponseText=kn.prototype.la,kn.prototype.send=kn.prototype.ea,kn.prototype.setWithCredentials=kn.prototype.Fa,M2=kn}).apply(typeof ux<"u"?ux:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Js.UNAUTHENTICATED=new Js(null),Js.GOOGLE_CREDENTIALS=new Js("google-credentials-uid"),Js.FIRST_PARTY=new Js("first-party-uid"),Js.MOCK_USER=new Js("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let My="12.9.0";function r9(n){My=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=new gA("@firebase/firestore");function jg(){return Fm.logLevel}function Qe(n,...e){if(Fm.logLevel<=rn.DEBUG){const t=e.map(IA);Fm.debug(`Firestore (${My}): ${n}`,...t)}}function Eu(n,...e){if(Fm.logLevel<=rn.ERROR){const t=e.map(IA);Fm.error(`Firestore (${My}): ${n}`,...t)}}function zm(n,...e){if(Fm.logLevel<=rn.WARN){const t=e.map(IA);Fm.warn(`Firestore (${My}): ${n}`,...t)}}function IA(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,U2(n,r,t)}function U2(n,e,t){let r=`FIRESTORE (${My}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Eu(r),new Error(r)}function Ln(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||U2(e,s,r)}function Vt(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Nu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class s9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Js.UNAUTHENTICATED)))}shutdown(){}}class i9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class a9{constructor(e){this.t=e,this.currentUser=Js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ln(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new yu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new yu,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},u=f=>{Qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>u(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new yu)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ln(typeof r.accessToken=="string",31837,{l:r}),new F2(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ln(e===null||typeof e=="string",2055,{h:e}),new Js(e)}}class o9{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Js.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class l9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new o9(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Js.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ca(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ln(this.o===void 0,3512);const r=a=>{a.error!=null&&Qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Qe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ln(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new yN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=u9(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function pC(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return nT(s)===nT(a)?sn(s,a):nT(s)?1:-1}return sn(n.length,e.length)}const d9=55296,f9=57343;function nT(n){const e=n.charCodeAt(0);return e>=d9&&e<=f9}function my(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="__name__";class Kl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Et(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Et(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Kl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Kl.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return sn(e.length,t.length)}static compareSegments(e,t){const r=Kl.isNumericId(e),s=Kl.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Kl.extractNumericId(e).compare(Kl.extractNumericId(t)):pC(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cf.fromString(e.substring(4,e.length-2))}}class rr extends Kl{construct(e,t,r){return new rr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new rr(t)}static emptyPath(){return new rr([])}}const h9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ns extends Kl{construct(e,t,r){return new Ns(e,t,r)}static isValidIdentifier(e){return h9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ns.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vN}static keyField(){return new Ns([vN])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ge(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Ge(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ge(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(r+=u,s++):(a(),s++)}if(a(),l)throw new Ge(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ns(t)}static emptyPath(){return new Ns([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(rr.fromString(e))}static fromName(e){return new ht(rr.fromString(e).popFirst(5))}static empty(){return new ht(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new rr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(n,e,t){if(!t)throw new Ge(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function m9(n,e,t,r){if(e===!0&&r===!0)throw new Ge(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _N(n){if(!ht.isDocumentKey(n))throw new Ge(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bN(n){if(ht.isDocumentKey(n))throw new Ge(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function q2(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function G1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Et(12329,{type:typeof n})}function dc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ge(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=G1(n);throw new Ge(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(n,e){const t={typeString:n};return e&&(t.value=e),t}function ew(n,e){if(!q2(n))throw new Ge(Te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ge(Te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=-62135596800,xN=1e6;class or{static now(){return or.fromMillis(Date.now())}static fromDate(e){return or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xN);return new or(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ge(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ge(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wN)throw new Ge(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xN}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ew(e,or._jsonSchema))return new or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-wN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}or._jsonSchemaVersion="firestore/timestamp/1.0",or._jsonSchema={type:es("string",or._jsonSchemaVersion),seconds:es("number"),nanoseconds:es("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new or(0,0))}static max(){return new It(new or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=-1;function p9(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=It.fromTimestamp(r===1e9?new or(t+1,0):new or(t,r));return new hf(s,ht.empty(),e)}function g9(n){return new hf(n.readTime,n.key,Sb)}class hf{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new hf(It.min(),ht.empty(),Sb)}static max(){return new hf(It.max(),ht.empty(),Sb)}}function y9(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ht.comparator(n.documentKey,e.documentKey),t!==0?t:sn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jy(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==v9)throw n;Qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ke(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ke?t:ke.resolve(t)}catch(t){return ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ke.reject(t)}static resolve(e){return new ke(((t,r)=>{t(e)}))}static reject(e){return new ke(((t,r)=>{r(e)}))}static waitFor(e){return new ke(((t,r)=>{let s=0,a=0,l=!1;e.forEach((u=>{++s,u.next((()=>{++a,l&&a===s&&t()}),(f=>r(f)))})),l=!0,a===s&&t()}))}static or(e){let t=ke.resolve(!1);for(const r of e)t=t.next((s=>s?ke.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new ke(((r,s)=>{const a=e.length,l=new Array(a);let u=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((y=>{l[m]=y,++u,u===a&&r(l)}),(y=>s(y)))}}))}static doWhile(e,t){return new ke(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function b9(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ly(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Y1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=-1;function K1(n){return n==null}function a1(n){return n===0&&1/n==-1/0}function w9(n){return typeof n=="number"&&Number.isInteger(n)&&!a1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="";function x9(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=SN(e)),e=S9(n.get(t),e);return SN(e)}function S9(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case W2:t+="";break;default:t+=a}}return t}function SN(n){return n+W2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function H2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){this.comparator=e,this.root=t||Is.EMPTY}insert(e,t){return new Er(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Is.BLACK,null,null))}remove(e){return new Er(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Is.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dx(this.root,e,this.comparator,!1)}getReverseIterator(){return new dx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dx(this.root,e,this.comparator,!0)}}class dx{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Is{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Is.RED,this.left=s??Is.EMPTY,this.right=a??Is.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Is(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Is.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Is.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Is.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Is.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Is.EMPTY=null,Is.RED=!0,Is.BLACK=!1;Is.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Is(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.comparator=e,this.data=new Er(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TN(this.data.getIterator())}getIteratorFrom(e){return new TN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new fs(this.comparator);return t.data=e,t}}class TN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.fields=e,e.sort(Ns.comparator)}static empty(){return new ka([])}unionWith(e){let t=new fs(Ns.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ka(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return my(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new $2("Invalid base64 string: "+a):a}})(e);return new ks(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new ks(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ks.EMPTY_BYTE_STRING=new ks("");const E9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(n){if(Ln(!!n,39018),typeof n=="string"){let e=0;const t=E9.exec(n);if(Ln(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zr(n.seconds),nanos:zr(n.nanos)}}function zr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pf(n){return typeof n=="string"?ks.fromBase64String(n):ks.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="server_timestamp",Y2="__type__",K2="__previous_value__",Q2="__local_write_time__";function OA(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Y2])==null?void 0:r.stringValue)===G2}function Q1(n){const e=n.mapValue.fields[K2];return OA(e)?Q1(e):e}function Eb(n){const e=mf(n.mapValue.fields[Q2].timestampValue);return new or(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,t,r,s,a,l,u,f,m,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=_}}const o1="(default)";class Tb{constructor(e,t){this.projectId=e,this.database=t||o1}static empty(){return new Tb("","")}get isDefaultDatabase(){return this.database===o1}isEqual(e){return e instanceof Tb&&e.projectId===this.projectId&&e.database===this.database}}function C9(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ge(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tb(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="__type__",A9="__max__",fx={mapValue:{}},X2="__vector__",l1="value";function gf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OA(n)?4:I9(n)?9007199254740991:R9(n)?10:11:Et(28295,{value:n})}function fc(n,e){if(n===e)return!0;const t=gf(n);if(t!==gf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eb(n).isEqual(Eb(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=mf(s.timestampValue),u=mf(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return pf(s.bytesValue).isEqual(pf(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return zr(s.geoPointValue.latitude)===zr(a.geoPointValue.latitude)&&zr(s.geoPointValue.longitude)===zr(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return zr(s.integerValue)===zr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=zr(s.doubleValue),u=zr(a.doubleValue);return l===u?a1(l)===a1(u):isNaN(l)&&isNaN(u)}return!1})(n,e);case 9:return my(n.arrayValue.values||[],e.arrayValue.values||[],fc);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},u=a.mapValue.fields||{};if(EN(l)!==EN(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!fc(l[f],u[f])))return!1;return!0})(n,e);default:return Et(52216,{left:n})}}function Cb(n,e){return(n.values||[]).find((t=>fc(t,e)))!==void 0}function py(n,e){if(n===e)return 0;const t=gf(n),r=gf(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const u=zr(a.integerValue||a.doubleValue),f=zr(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1})(n,e);case 3:return CN(n.timestampValue,e.timestampValue);case 4:return CN(Eb(n),Eb(e));case 5:return pC(n.stringValue,e.stringValue);case 6:return(function(a,l){const u=pf(a),f=pf(l);return u.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const u=a.split("/"),f=l.split("/");for(let m=0;m<u.length&&m<f.length;m++){const y=sn(u[m],f[m]);if(y!==0)return y}return sn(u.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const u=sn(zr(a.latitude),zr(l.latitude));return u!==0?u:sn(zr(a.longitude),zr(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AN(n.arrayValue,e.arrayValue);case 10:return(function(a,l){var b,E,T,C;const u=a.fields||{},f=l.fields||{},m=(b=u[l1])==null?void 0:b.arrayValue,y=(E=f[l1])==null?void 0:E.arrayValue,_=sn(((T=m==null?void 0:m.values)==null?void 0:T.length)||0,((C=y==null?void 0:y.values)==null?void 0:C.length)||0);return _!==0?_:AN(m,y)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===fx.mapValue&&l===fx.mapValue)return 0;if(a===fx.mapValue)return 1;if(l===fx.mapValue)return-1;const u=a.fields||{},f=Object.keys(u),m=l.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=pC(f[_],y[_]);if(b!==0)return b;const E=py(u[f[_]],m[y[_]]);if(E!==0)return E}return sn(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Et(23264,{he:t})}}function CN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return sn(n,e);const t=mf(n),r=mf(e),s=sn(t.seconds,r.seconds);return s!==0?s:sn(t.nanos,r.nanos)}function AN(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=py(t[s],r[s]);if(a)return a}return sn(t.length,r.length)}function gy(n){return gC(n)}function gC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=mf(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return pf(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ht.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=gC(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${gC(t.fields[l])}`;return s+"}"})(n.mapValue):Et(61005,{value:n})}function Px(n){switch(gf(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Q1(n);return e?16+Px(e):16;case 5:return 2*n.stringValue.length;case 6:return pf(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Px(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Cf(r.fields,((a,l)=>{s+=a.length+Px(l)})),s})(n.mapValue);default:throw Et(13486,{value:n})}}function RN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yC(n){return!!n&&"integerValue"in n}function DA(n){return!!n&&"arrayValue"in n}function IN(n){return!!n&&"nullValue"in n}function NN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mx(n){return!!n&&"mapValue"in n}function R9(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[J2])==null?void 0:r.stringValue)===X2}function db(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Cf(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=db(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=db(n.arrayValue.values[t]);return e}return{...n}}function I9(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===A9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mx(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=db(t)}setAll(e){let t=Ns.emptyPath(),r={},s=[];e.forEach(((l,u)=>{if(!t.isImmediateParentOf(u)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=u.popLast()}l?r[u.lastSegment()]=db(l):s.push(u.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Mx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Mx(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Cf(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new Yi(db(this.value))}}function Z2(n){const e=[];return Cf(n.fields,((t,r)=>{const s=new Ns([t]);if(Mx(r)){const a=Z2(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ka(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t,r,s,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Zs(e,0,It.min(),It.min(),It.min(),Yi.empty(),0)}static newFoundDocument(e,t,r,s){return new Zs(e,1,t,It.min(),r,s,0)}static newNoDocument(e,t){return new Zs(e,2,t,It.min(),It.min(),Yi.empty(),0)}static newUnknownDocument(e,t){return new Zs(e,3,t,It.min(),It.min(),Yi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.position=e,this.inclusive=t}}function kN(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=ht.comparator(ht.fromName(l.referenceValue),t.key):r=py(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ON(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fc(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,t="asc"){this.field=e,this.dir=t}}function N9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{}class Zr extends eP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new O9(e,t,r):t==="array-contains"?new M9(e,r):t==="in"?new j9(e,r):t==="not-in"?new L9(e,r):t==="array-contains-any"?new V9(e,r):new Zr(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new D9(e,r):new P9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(py(t,this.value)):t!==null&&gf(this.value)===gf(t)&&this.matchesComparison(py(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ol extends eP{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ol(e,t)}matches(e){return tP(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tP(n){return n.op==="and"}function nP(n){return k9(n)&&tP(n)}function k9(n){for(const e of n.filters)if(e instanceof ol)return!1;return!0}function vC(n){if(n instanceof Zr)return n.field.canonicalString()+n.op.toString()+gy(n.value);if(nP(n))return n.filters.map((e=>vC(e))).join(",");{const e=n.filters.map((t=>vC(t))).join(",");return`${n.op}(${e})`}}function rP(n,e){return n instanceof Zr?(function(r,s){return s instanceof Zr&&r.op===s.op&&r.field.isEqual(s.field)&&fc(r.value,s.value)})(n,e):n instanceof ol?(function(r,s){return s instanceof ol&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,u)=>a&&rP(l,s.filters[u])),!0):!1})(n,e):void Et(19439)}function sP(n){return n instanceof Zr?(function(t){return`${t.field.canonicalString()} ${t.op} ${gy(t.value)}`})(n):n instanceof ol?(function(t){return t.op.toString()+" {"+t.getFilters().map(sP).join(" ,")+"}"})(n):"Filter"}class O9 extends Zr{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.matchesComparison(t)}}class D9 extends Zr{constructor(e,t){super(e,"in",t),this.keys=iP("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class P9 extends Zr{constructor(e,t){super(e,"not-in",t),this.keys=iP("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function iP(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ht.fromName(r.referenceValue)))}class M9 extends Zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return DA(t)&&Cb(t.arrayValue,this.value)}}class j9 extends Zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cb(this.value.arrayValue,t)}}class L9 extends Zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cb(this.value.arrayValue,t)}}class V9 extends Zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!DA(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Cb(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,t=null,r=[],s=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=u,this.Te=null}}function DN(n,e=null,t=[],r=[],s=null,a=null,l=null){return new B9(n,e,t,r,s,a,l)}function PA(n){const e=Vt(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>vC(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),K1(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>gy(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>gy(r))).join(",")),e.Te=t}return e.Te}function MA(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ON(n.startAt,e.startAt)&&ON(n.endAt,e.endAt)}function _C(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t=null,r=[],s=[],a=null,l="F",u=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function U9(n,e,t,r,s,a,l,u){return new Vy(n,e,t,r,s,a,l,u)}function jA(n){return new Vy(n)}function PN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F9(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function aP(n){return n.collectionGroup!==null}function fb(n){const e=Vt(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fs(Ns.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(u=u.add(m.field))}))})),u})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ab(a,r))})),t.has(Ns.keyField().canonicalString())||e.Ie.push(new Ab(Ns.keyField(),r))}return e.Ie}function sc(n){const e=Vt(n);return e.Ee||(e.Ee=z9(e,fb(n))),e.Ee}function z9(n,e){if(n.limitType==="F")return DN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Ab(s.field,a)}));const t=n.endAt?new c1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new c1(n.startAt.position,n.startAt.inclusive):null;return DN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function bC(n,e){const t=n.filters.concat([e]);return new Vy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function q9(n,e){const t=n.explicitOrderBy.concat([e]);return new Vy(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function wC(n,e,t){return new Vy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J1(n,e){return MA(sc(n),sc(e))&&n.limitType===e.limitType}function oP(n){return`${PA(sc(n))}|lt:${n.limitType}`}function Lg(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>sP(s))).join(", ")}]`),K1(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>gy(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>gy(s))).join(",")),`Target(${r})`})(sc(n))}; limitType=${n.limitType})`}function X1(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ht.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of fb(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,u,f){const m=kN(l,u,f);return l.inclusive?m<=0:m<0})(r.startAt,fb(r),s)||r.endAt&&!(function(l,u,f){const m=kN(l,u,f);return l.inclusive?m>=0:m>0})(r.endAt,fb(r),s))})(n,e)}function W9(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lP(n){return(e,t)=>{let r=!1;for(const s of fb(n)){const a=H9(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function H9(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):(function(a,l,u){const f=l.data.field(a),m=u.data.field(a);return f!==null&&m!==null?py(f,m):Et(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Et(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cf(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return H2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=new Er(ht.comparator);function Tu(){return $9}const cP=new Er(ht.comparator);function Z_(...n){let e=cP;for(const t of n)e=e.insert(t.key,t);return e}function uP(n){let e=cP;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function _m(){return hb()}function dP(){return hb()}function hb(){return new tp((n=>n.toString()),((n,e)=>n.isEqual(e)))}const G9=new Er(ht.comparator),Y9=new fs(ht.comparator);function an(...n){let e=Y9;for(const t of n)e=e.add(t);return e}const K9=new fs(sn);function Q9(){return K9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:a1(e)?"-0":e}}function fP(n){return{integerValue:""+n}}function J9(n,e){return w9(e)?fP(e):LA(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this._=void 0}}function X9(n,e,t){return n instanceof u1?(function(s,a){const l={fields:{[Y2]:{stringValue:G2},[Q2]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&OA(a)&&(a=Q1(a)),a&&(l.fields[K2]=a),{mapValue:l}})(t,e):n instanceof Rb?mP(n,e):n instanceof Ib?pP(n,e):(function(s,a){const l=hP(s,a),u=MN(l)+MN(s.Ae);return yC(l)&&yC(s.Ae)?fP(u):LA(s.serializer,u)})(n,e)}function Z9(n,e,t){return n instanceof Rb?mP(n,e):n instanceof Ib?pP(n,e):t}function hP(n,e){return n instanceof d1?(function(r){return yC(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class u1 extends Z1{}class Rb extends Z1{constructor(e){super(),this.elements=e}}function mP(n,e){const t=gP(e);for(const r of n.elements)t.some((s=>fc(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Ib extends Z1{constructor(e){super(),this.elements=e}}function pP(n,e){let t=gP(e);for(const r of n.elements)t=t.filter((s=>!fc(s,r)));return{arrayValue:{values:t}}}class d1 extends Z1{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function MN(n){return zr(n.integerValue||n.doubleValue)}function gP(n){return DA(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function ez(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Rb&&s instanceof Rb||r instanceof Ib&&s instanceof Ib?my(r.elements,s.elements,fc):r instanceof d1&&s instanceof d1?fc(r.Ae,s.Ae):r instanceof u1&&s instanceof u1})(n.transform,e.transform)}class tz{constructor(e,t){this.version=e,this.transformResults=t}}class tl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tl}static exists(e){return new tl(void 0,e)}static updateTime(e){return new tl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jx(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class eS{}function yP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new VA(n.key,tl.none()):new tw(n.key,n.data,tl.none());{const t=n.data,r=Yi.empty();let s=new fs(Ns.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Af(n.key,r,new ka(s.toArray()),tl.none())}}function nz(n,e,t){n instanceof tw?(function(s,a,l){const u=s.value.clone(),f=LN(s.fieldTransforms,a,l.transformResults);u.setAll(f),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,e,t):n instanceof Af?(function(s,a,l){if(!jx(s.precondition,a))return void a.convertToUnknownDocument(l.version);const u=LN(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(vP(s)),f.setAll(u),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function mb(n,e,t,r){return n instanceof tw?(function(a,l,u,f){if(!jx(a.precondition,l))return u;const m=a.value.clone(),y=VN(a.fieldTransforms,f,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Af?(function(a,l,u,f){if(!jx(a.precondition,l))return u;const m=VN(a.fieldTransforms,f,l),y=l.data;return y.setAll(vP(a)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,l,u){return jx(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,e,t)}function rz(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=hP(r.transform,s||null);a!=null&&(t===null&&(t=Yi.empty()),t.set(r.field,a))}return t||null}function jN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&my(r,s,((a,l)=>ez(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tw extends eS{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Af extends eS{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function vP(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function LN(n,e,t){const r=new Map;Ln(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,u=e.data.field(a.field);r.set(a.field,Z9(l,u,t[s]))}return r}function VN(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,X9(a,l,e))}return r}class VA extends eS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sz extends eS{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&nz(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dP();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(s.key)?null:u;const f=yP(l,u);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(It.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),an())}isEqual(e){return this.batchId===e.batchId&&my(this.mutations,e.mutations,((t,r)=>jN(t,r)))&&my(this.baseMutations,e.baseMutations,((t,r)=>jN(t,r)))}}class BA{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ln(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return G9})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new BA(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let az=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,hn;function lz(n){switch(n){case Te.OK:return Et(64938);case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0;default:return Et(15467,{code:n})}}function _P(n){if(n===void 0)return Eu("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Jr.OK:return Te.OK;case Jr.CANCELLED:return Te.CANCELLED;case Jr.UNKNOWN:return Te.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Te.INTERNAL;case Jr.UNAVAILABLE:return Te.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Te.NOT_FOUND;case Jr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Jr.ABORTED:return Te.ABORTED;case Jr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Jr.DATA_LOSS:return Te.DATA_LOSS;default:return Et(39323,{code:n})}}(hn=Jr||(Jr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=new cf([4294967295,4294967295],0);function BN(n){const e=cz().encode(n),t=new P2;return t.update(e),new Uint8Array(t.digest())}function UN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new cf([t,r],0),new cf([s,a],0)]}class UA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new eb(`Invalid padding: ${t}`);if(r<0)throw new eb(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eb(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new eb(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=cf.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(cf.fromNumber(r)));return s.compare(uz)===1&&(s=new cf([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=BN(e),[r,s]=UN(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new UA(a,s,t);return r.forEach((u=>l.insert(u))),l}insert(e){if(this.ge===0)return;const t=BN(e),[r,s]=UN(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class eb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,nw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new tS(It.min(),s,new Er(sn),Tu(),an())}}class nw{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nw(r,t,an(),an(),an())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class bP{constructor(e,t){this.targetId=e,this.Ce=t}}class wP{constructor(e,t,r=ks.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class FN{constructor(){this.ve=0,this.Fe=zN(),this.Me=ks.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=an(),t=an(),r=an();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Et(38017,{changeType:a})}})),new nw(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=zN()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ln(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class dz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Tu(),this.He=hx(),this.Je=hx(),this.Ze=new Er(sn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Et(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(_C(a))if(r===0){const l=new ht(a.path);this.et(t,l,Zs.newNoDocument(l,It.min()))}else Ln(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const u=this.ut(e),f=u?this.ct(u,e,l):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,u;try{l=pf(r).toUint8Array()}catch(f){if(f instanceof $2)return zm("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new UA(l,s,a)}catch(f){return zm(f instanceof eb?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const u=this.ot(l);if(u){if(a.current&&_C(u.target)){const f=new ht(u.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Zs.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=an();this.Je.forEach(((a,l)=>{let u=!0;l.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new tS(e,t,this.Ze,this.je,r);return this.je=Tu(),this.He=hx(),this.Je=hx(),this.Ze=new Er(sn),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new FN,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new fs(sn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new fs(sn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Qe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FN),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hx(){return new Er(ht.comparator)}function zN(){return new Er(ht.comparator)}const fz={asc:"ASCENDING",desc:"DESCENDING"},hz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mz={and:"AND",or:"OR"};class pz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xC(n,e){return n.useProto3Json||K1(e)?e:{value:e}}function f1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gz(n,e){return f1(n,e.toTimestamp())}function ic(n){return Ln(!!n,49232),It.fromTimestamp((function(t){const r=mf(t);return new or(r.seconds,r.nanos)})(n))}function FA(n,e){return SC(n,e).canonicalString()}function SC(n,e){const t=(function(s){return new rr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function SP(n){const e=rr.fromString(n);return Ln(RP(e),10190,{key:e.toString()}),e}function EC(n,e){return FA(n.databaseId,e.path)}function rT(n,e){const t=SP(e);if(t.get(1)!==n.databaseId.projectId)throw new Ge(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ge(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(TP(t))}function EP(n,e){return FA(n.databaseId,e)}function yz(n){const e=SP(n);return e.length===4?rr.emptyPath():TP(e)}function TC(n){return new rr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TP(n){return Ln(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qN(n,e,t){return{name:EC(n,e),fields:t.value.mapValue.fields}}function vz(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Et(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(m,y){return m.useProto3Json?(Ln(y===void 0||typeof y=="string",58123),ks.fromBase64String(y||"")):(Ln(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ks.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&(function(m){const y=m.code===void 0?Te.UNKNOWN:_P(m.code);return new Ge(y,m.message||"")})(l);t=new wP(r,s,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=rT(n,r.document.name),a=ic(r.document.updateTime),l=r.document.createTime?ic(r.document.createTime):It.min(),u=new Yi({mapValue:{fields:r.document.fields}}),f=Zs.newFoundDocument(s,a,l,u),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Lx(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=rT(n,r.document),a=r.readTime?ic(r.readTime):It.min(),l=Zs.newNoDocument(s,a),u=r.removedTargetIds||[];t=new Lx([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=rT(n,r.document),a=r.removedTargetIds||[];t=new Lx([],a,s,null)}else{if(!("filter"in e))return Et(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new oz(s,a),u=r.targetId;t=new bP(u,l)}}return t}function _z(n,e){let t;if(e instanceof tw)t={update:qN(n,e.key,e.value)};else if(e instanceof VA)t={delete:EC(n,e.key)};else if(e instanceof Af)t={update:qN(n,e.key,e.data),updateMask:Rz(e.fieldMask)};else{if(!(e instanceof sz))return Et(16599,{dt:e.type});t={verify:EC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const u=l.transform;if(u instanceof u1)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Rb)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ib)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof d1)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Et(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:gz(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Et(27497)})(n,e.precondition)),t}function bz(n,e){return n&&n.length>0?(Ln(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?ic(s.updateTime):ic(a);return l.isEqual(It.min())&&(l=ic(a)),new tz(l,s.transformResults||[])})(t,e)))):[]}function wz(n,e){return{documents:[EP(n,e.path)]}}function xz(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=EP(n,s);const a=(function(m){if(m.length!==0)return AP(ol.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(m){if(m.length!==0)return m.map((y=>(function(b){return{field:Vg(b.field),direction:Tz(b.dir)}})(y)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=xC(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function Sz(n){let e=yz(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ln(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=(function(_){const b=CP(_);return b instanceof ol&&nP(b)?b.getFilters():[b]})(t.where));let l=[];t.orderBy&&(l=(function(_){return _.map((b=>(function(T){return new Ab(Bg(T.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(b)))})(t.orderBy));let u=null;t.limit&&(u=(function(_){let b;return b=typeof _=="object"?_.value:_,K1(b)?null:b})(t.limit));let f=null;t.startAt&&(f=(function(_){const b=!!_.before,E=_.values||[];return new c1(E,b)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const b=!_.before,E=_.values||[];return new c1(E,b)})(t.endAt)),U9(e,s,l,a,u,"F",f,m)}function Ez(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Bg(t.unaryFilter.field);return Zr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bg(t.unaryFilter.field);return Zr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bg(t.unaryFilter.field);return Zr.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Bg(t.unaryFilter.field);return Zr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Zr.create(Bg(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ol.create(t.compositeFilter.filters.map((r=>CP(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(t.compositeFilter.op))})(n):Et(30097,{filter:n})}function Tz(n){return fz[n]}function Cz(n){return hz[n]}function Az(n){return mz[n]}function Vg(n){return{fieldPath:n.canonicalString()}}function Bg(n){return Ns.fromServerFormat(n.fieldPath)}function AP(n){return n instanceof Zr?(function(t){if(t.op==="=="){if(NN(t.value))return{unaryFilter:{field:Vg(t.field),op:"IS_NAN"}};if(IN(t.value))return{unaryFilter:{field:Vg(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NN(t.value))return{unaryFilter:{field:Vg(t.field),op:"IS_NOT_NAN"}};if(IN(t.value))return{unaryFilter:{field:Vg(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vg(t.field),op:Cz(t.op),value:t.value}}})(n):n instanceof ol?(function(t){const r=t.getFilters().map((s=>AP(s)));return r.length===1?r[0]:{compositeFilter:{op:Az(t.op),filters:r}}})(n):Et(54877,{filter:n})}function Rz(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function RP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function IP(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,r,s,a=It.min(),l=It.min(),u=ks.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(e){return new tf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e){this.yt=e}}function Nz(n){const e=Sz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wC(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.Sn=new Oz}addToCollectionParentIndex(e,t){return this.Sn.add(t),ke.resolve()}getCollectionParents(e,t){return ke.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ke.resolve()}deleteFieldIndex(e,t){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,t){return ke.resolve()}getDocumentsMatchingTarget(e,t){return ke.resolve(null)}getIndexType(e,t){return ke.resolve(0)}getFieldIndexes(e,t){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,t){return ke.resolve(hf.min())}getMinOffsetFromCollectionGroup(e,t){return ke.resolve(hf.min())}updateCollectionGroup(e,t,r){return ke.resolve()}updateIndexEntries(e,t){return ke.resolve()}}class Oz{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new fs(rr.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new fs(rr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NP=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(NP,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yy(0)}static ar(){return new yy(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="LruGarbageCollector",Dz=1048576;function $N([n,e],[t,r]){const s=sn(n,t);return s===0?sn(e,r):s}class Pz{constructor(e){this.Pr=e,this.buffer=new fs($N),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$N(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mz{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Qe(HN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ly(t)?Qe(HN,"Ignoring IndexedDB error during garbage collection: ",t):await jy(t)}await this.Ar(3e5)}))}}class jz{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ke.resolve(Y1.ce);const r=new Pz(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Qe("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(WN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WN):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,l,u,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,u=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),jg()<=rn.DEBUG&&Qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${a} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function Lz(n,e){return new jz(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(){this.changes=new tp((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&mb(r.mutation,s,ka.empty(),or.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,an()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=an()){const s=_m();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=Z_();return a.forEach(((u,f)=>{l=l.insert(u,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=_m();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,an())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,u)=>{t.set(l,u)}))}))}computeViews(e,t,r,s){let a=Tu();const l=hb(),u=(function(){return hb()})();return t.forEach(((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Af)?a=a.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),mb(y.mutation,m,y.mutation.getFieldMask(),or.now())):l.set(m.key,ka.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,y)=>l.set(m,y))),t.forEach(((m,y)=>u.set(m,new Bz(y,l.get(m)??null)))),u)))}recalculateAndSaveOverlays(e,t){const r=hb();let s=new Er(((l,u)=>l-u)),a=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const u of l)u.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||ka.empty();y=u.applyToLocalView(m,y),r.set(f,y);const _=(s.get(u.batchId)||an()).add(f);s=s.insert(u.batchId,_)}))})).next((()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),m=f.key,y=f.value,_=dP();y.forEach((b=>{if(!a.has(b)){const E=yP(t.get(b),r.get(b));E!==null&&_.set(b,E),a=a.add(b)}})),l.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ke.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return F9(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ke.resolve(_m());let u=Sb,f=a;return l.next((m=>ke.forEach(m,((y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),a.get(y)?ke.resolve():this.remoteDocumentCache.getEntry(e,y).next((b=>{f=f.insert(y,b)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,an()))).next((y=>({batchId:u,changes:uP(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ht(t)).next((r=>{let s=Z_();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Z_();return this.indexManager.getCollectionParents(e,a).next((u=>ke.forEach(u,(f=>{const m=(function(_,b){return new Vy(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((y=>{y.forEach(((_,b)=>{l=l.insert(_,b)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((f,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Zs.newInvalidDocument(y)))}));let u=Z_();return l.forEach(((f,m)=>{const y=a.get(f);y!==void 0&&mb(y.mutation,m,ka.empty(),or.now()),X1(t,m)&&(u=u.insert(f,m))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ke.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:ic(s.createTime)}})(t)),ke.resolve()}getNamedQuery(e,t){return ke.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:Nz(s.bundledQuery),readTime:ic(s.readTime)}})(t)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.overlays=new Er(ht.comparator),this.Lr=new Map}getOverlay(e,t){return ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=_m();return ke.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),ke.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ke.resolve()}getOverlaysForCollection(e,t,r){const s=_m(),a=t.length+1,l=new ht(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ke.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Er(((m,y)=>m-y));const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=_m(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const u=_m(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>u.set(m,y))),!(u.size()>=s)););return ke.resolve(u)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new az(t,r));let a=this.Lr.get(t);a===void 0&&(a=an(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this.sessionToken=ks.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.kr=new fs(bs.Kr),this.qr=new fs(bs.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new bs(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new bs(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ht(new rr([])),r=new bs(t,e),s=new bs(t,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ht(new rr([])),r=new bs(t,e),s=new bs(t,e+1);let a=an();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new bs(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class bs{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ht.comparator(e.key,t.key)||sn(e.Hr,t.Hr)}static Ur(e,t){return sn(e.Hr,t.Hr)||ht.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new fs(bs.Kr)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iz(a,t,r,s);this.mutationQueue.push(l);for(const u of s)this.Jr=this.Jr.add(new bs(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ke.resolve(l)}lookupMutationBatch(e,t){return ke.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return ke.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?kA:this.Yn-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new bs(t,0),s=new bs(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const u=this.Zr(l.Hr);a.push(u)})),ke.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fs(sn);return t.forEach((s=>{const a=new bs(s,0),l=new bs(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(u=>{r=r.add(u.Hr)}))})),ke.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ht.isDocumentKey(a)||(a=a.child(""));const l=new bs(new ht(a),0);let u=new fs(sn);return this.Jr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(u=u.add(f.Hr)),!0)}),l),ke.resolve(this.Yr(u))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ln(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ke.forEach(t.mutations,(s=>{const a=new bs(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new bs(t,0),s=this.Jr.firstAfterOrEqual(r);return ke.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.ti=e,this.docs=(function(){return new Er(ht.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ke.resolve(r?r.document.mutableCopy():Zs.newInvalidDocument(t))}getEntries(e,t){let r=Tu();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zs.newInvalidDocument(s))})),ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=Tu();const l=t.path,u=new ht(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||y9(g9(y),r)<=0||(s.has(y.key)||X1(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ke.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Et(9500)}ni(e,t){return ke.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new $z(this)}getSize(e){return ke.resolve(this.size)}}class $z extends Vz{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ke.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e){this.persistence=e,this.ri=new tp((t=>PA(t)),MA),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.ii=0,this.si=new zA,this.targetCount=0,this.oi=yy._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ke.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new yy(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ke.resolve()}updateTargetData(e,t){return this.lr(t),ke.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)})),ke.waitFor(a).next((()=>s))}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ke.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ke.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ke.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ke.resolve(r)}containsKey(e,t){return ke.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this._i={},this.overlays={},this.ai=new Y1(0),this.ui=!1,this.ui=!0,this.ci=new qz,this.referenceDelegate=e(this),this.li=new Gz(this),this.indexManager=new kz,this.remoteDocumentCache=(function(s){return new Hz(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new Iz(t),this.Pi=new Fz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new Wz(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Qe("MemoryPersistence","Starting transaction:",e);const s=new Yz(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return ke.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Yz extends _9{constructor(e){super(),this.currentSequenceNumber=e}}class qA{constructor(e){this.persistence=e,this.Ri=new zA,this.Ai=null}static Vi(e){return new qA(e)}get di(){if(this.Ai)return this.Ai;throw Et(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ke.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ke.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.di,(r=>{const s=ht.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,It.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ke.or([()=>ke.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class h1{constructor(e,t){this.persistence=e,this.fi=new tp((r=>x9(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Lz(this,t)}static Vi(e,t){return new h1(e,t)}Ti(){}Ii(e){return ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ke.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?ke.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,t).next((u=>{u||(r++,a.removeEntry(l,It.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ke.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Px(e.data.value)),t}wr(e,t,r){return ke.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return ke.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=an(),s=an();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new WA(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wB()?8:b9(ei())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new Kz;return this.ys(e,t,l).next((u=>{if(a.result=u,this.As)return this.ws(e,t,l,u.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(jg()<=rn.DEBUG&&Qe("QueryEngine","SDK will not create cache indexes for query:",Lg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ke.resolve()):(jg()<=rn.DEBUG&&Qe("QueryEngine","Query:",Lg(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(jg()<=rn.DEBUG&&Qe("QueryEngine","The SDK decides to create cache indexes for query:",Lg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sc(t))):ke.resolve())}gs(e,t){if(PN(t))return ke.resolve(null);let r=sc(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=wC(t,null,"F"),r=sc(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=an(...a);return this.fs.getDocuments(e,l).next((u=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.bs(t,u);return this.Ss(t,m,l,f.readTime)?this.gs(e,wC(t,null,"F")):this.Ds(e,m,t,f)}))))})))))}ps(e,t,r,s){return PN(t)||s.isEqual(It.min())?ke.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,s)?ke.resolve(null):(jg()<=rn.DEBUG&&Qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Lg(t)),this.Ds(e,l,t,p9(s,Sb)).next((u=>u)))}))}bs(e,t){let r=new fs(lP(e));return t.forEach(((s,a)=>{X1(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return jg()<=rn.DEBUG&&Qe("QueryEngine","Using full collection scan to execute query:",Lg(t)),this.fs.getDocumentsMatchingQuery(e,t,hf.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="LocalStore",Jz=3e8;class Xz{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Er(sn),this.Fs=new tp((a=>PA(a)),MA),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uz(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function Zz(n,e,t,r){return new Xz(n,e,t,r)}async function OP(n,e){const t=Vt(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],u=[];let f=an();for(const m of s){l.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ns:m,removedBatchIds:l,addedBatchIds:u})))}))}))}function eq(n,e){const t=Vt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(u,f,m,y){const _=m.batch,b=_.keys();let E=ke.resolve();return b.forEach((T=>{E=E.next((()=>y.getEntry(f,T))).next((C=>{const N=m.docVersions.get(T);Ln(N!==null,48541),C.version.compareTo(N)<0&&(_.applyToRemoteDocument(C,m),C.isValidDocument()&&(C.setReadTime(m.commitVersion),y.addEntry(C)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let f=an();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(f=f.add(u.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function DP(n){const e=Vt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function tq(n,e){const t=Vt(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const u=[];e.targetChanges.forEach(((y,_)=>{const b=s.get(_);if(!b)return;u.push(t.li.removeMatchingKeys(a,y.removedDocuments,_).next((()=>t.li.addMatchingKeys(a,y.addedDocuments,_))));let E=b.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(ks.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):y.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(y.resumeToken,r)),s=s.insert(_,E),(function(C,N,M){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Jz?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(b,E,y)&&u.push(t.li.updateTargetData(a,E))}));let f=Tu(),m=an();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))})),u.push(nq(a,l,e.documentUpdates).next((y=>{f=y.Bs,m=y.Ls}))),!r.isEqual(It.min())){const y=t.li.getLastRemoteSnapshotVersion(a).next((_=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));u.push(y)}return ke.waitFor(u).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.vs=s,a)))}function nq(n,e,t){let r=an(),s=an();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=Tu();return t.forEach(((u,f)=>{const m=a.get(u);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(It.min())?(e.removeEntry(u,f.readTime),l=l.insert(u,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),l=l.insert(u,f)):Qe(HA,"Ignoring outdated watch update for ",u,". Current version:",m.version," Watch version:",f.version)})),{Bs:l,Ls:s}}))}function rq(n,e){const t=Vt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=kA),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sq(n,e){const t=Vt(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,ke.resolve(s)):t.li.allocateTargetId(r).next((l=>(s=new tf(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function CC(n,e,t){const r=Vt(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Ly(l))throw l;Qe(HA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function GN(n,e,t){const r=Vt(n);let s=It.min(),a=an();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,m,y){const _=Vt(f),b=_.Fs.get(y);return b!==void 0?ke.resolve(_.vs.get(b)):_.li.getTargetData(m,y)})(r,l,sc(e)).next((u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,u.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:It.min(),t?a:an()))).next((u=>(iq(r,W9(e),u),{documents:u,ks:a})))))}function iq(n,e,t){let r=n.Ms.get(e)||It.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class YN{constructor(){this.activeTargetIds=Q9()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aq{constructor(){this.vo=new YN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new YN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN="ConnectivityMonitor";class QN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Qe(KN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Qe(KN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx=null;function AC(){return mx===null?mx=(function(){return 268435456+Math.round(2147483648*Math.random())})():mx++,"0x"+mx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="RestConnection",lq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class cq{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===o1?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const l=AC(),u=this.Qo(e,t.toUriEncodedString());Qe(sT,`Sending RPC '${e}' ${l}:`,u,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,a);const{host:m}=new URL(u),y=Oy(m);return this.zo(e,u,f,r,y).then((_=>(Qe(sT,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw zm(sT,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_}))}jo(e,t,r,s,a,l){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+My})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=lq[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="WebChannelConnection",F_=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Gg extends cq{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gg.c_){const e=V2();F_(e,L2.STAT_EVENT,(t=>{t.stat===mC.PROXY?Qe(Ks,"STAT_EVENT: detected buffering proxy"):t.stat===mC.NOPROXY&&Qe(Ks,"STAT_EVENT: detected no buffering proxy")})),Gg.c_=!0}}zo(e,t,r,s,a){const l=AC();return new Promise(((u,f)=>{const m=new M2;m.setWithCredentials(!0),m.listenOnce(j2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Dx.NO_ERROR:const _=m.getResponseJson();Qe(Ks,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case Dx.TIMEOUT:Qe(Ks,`RPC '${e}' ${l} timed out`),f(new Ge(Te.DEADLINE_EXCEEDED,"Request time out"));break;case Dx.HTTP_ERROR:const b=m.getStatus();if(Qe(Ks,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const T=E==null?void 0:E.error;if(T&&T.status&&T.message){const C=(function(M){const B=M.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(B)>=0?B:Te.UNKNOWN})(T.status);f(new Ge(C,T.message))}else f(new Ge(Te.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ge(Te.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Qe(Ks,`RPC '${e}' ${l} completed.`)}}));const y=JSON.stringify(s);Qe(Ks,`RPC '${e}' ${l} sending request:`,s),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=AC(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const m=a.join("");Qe(Ks,`Creating RPC '${e}' stream ${s}: ${m}`,u);const y=l.createWebChannel(m,u);this.I_(y);let _=!1,b=!1;const E=new uq({Ho:T=>{b?Qe(Ks,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(_||(Qe(Ks,`Opening RPC '${e}' stream ${s} transport.`),y.open(),_=!0),Qe(Ks,`RPC '${e}' stream ${s} sending:`,T),y.send(T))},Jo:()=>y.close()});return F_(y,X_.EventType.OPEN,(()=>{b||(Qe(Ks,`RPC '${e}' stream ${s} transport opened.`),E.i_())})),F_(y,X_.EventType.CLOSE,(()=>{b||(b=!0,Qe(Ks,`RPC '${e}' stream ${s} transport closed`),E.o_(),this.E_(y))})),F_(y,X_.EventType.ERROR,(T=>{b||(b=!0,zm(Ks,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),E.o_(new Ge(Te.UNAVAILABLE,"The operation could not be completed")))})),F_(y,X_.EventType.MESSAGE,(T=>{var C;if(!b){const N=T.data[0];Ln(!!N,16349);const M=N,B=(M==null?void 0:M.error)||((C=M[0])==null?void 0:C.error);if(B){Qe(Ks,`RPC '${e}' stream ${s} received error:`,B);const U=B.status;let Y=(function(D){const P=Jr[D];if(P!==void 0)return _P(P)})(U),W=B.message;U==="NOT_FOUND"&&W.includes("database")&&W.includes("does not exist")&&W.includes(this.databaseId.database)&&zm(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=Te.INTERNAL,W="Unknown error status: "+U+" with message "+B.message),b=!0,E.o_(new Ge(Y,W)),y.close()}else Qe(Ks,`RPC '${e}' stream ${s} received:`,N),E.__(N)}})),Gg.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return B2()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(n){return new Gg(n)}function iT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(n){return new pz(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gg.c_=!1;class PP{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN="PersistentStream";class MP{constructor(e,t,r,s,a,l,u,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new PP(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Eu(t.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ge(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Qe(JN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Qe(JN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fq extends MP{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vz(this.serializer,e),r=(function(a){if(!("targetChange"in a))return It.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?ic(l.readTime):It.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=TC(this.serializer),t.addTarget=(function(a,l){let u;const f=l.target;if(u=_C(f)?{documents:wz(a,f)}:{query:xz(a,f).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=xP(a,l.resumeToken);const m=xC(a,l.expectedCount);m!==null&&(u.expectedCount=m)}else if(l.snapshotVersion.compareTo(It.min())>0){u.readTime=f1(a,l.snapshotVersion.toTimestamp());const m=xC(a,l.expectedCount);m!==null&&(u.expectedCount=m)}return u})(this.serializer,e);const r=Ez(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=TC(this.serializer),t.removeTarget=e,this.K_(t)}}class hq extends MP{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Ln(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ln(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ln(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=bz(e.writeResults,e.commitTime),r=ic(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=TC(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>_z(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{}class pq extends mq{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ge(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,SC(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ge(Te.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(e,SC(t,r),s,l,u,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(Te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function gq(n,e,t,r){return new pq(n,e,t,r)}class yq{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eu(t),this.aa=!1):Qe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RemoteStore";class vq{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{np(this)&&(Qe(qm,"Restarting streams for network reachability change."),await(async function(f){const m=Vt(f);m.Ea.add(4),await rw(m),m.Va.set("Unknown"),m.Ea.delete(4),await rS(m)})(this))}))})),this.Va=new yq(r,s)}}async function rS(n){if(np(n))for(const e of n.Ra)await e(!0)}async function rw(n){for(const e of n.Ra)await e(!1)}function jP(n,e){const t=Vt(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),KA(t)?YA(t):By(t).O_()&&GA(t,e))}function $A(n,e){const t=Vt(n),r=By(t);t.Ia.delete(e),r.O_()&&LP(t,e),t.Ia.size===0&&(r.O_()?r.L_():np(t)&&t.Va.set("Unknown"))}function GA(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}By(n).Z_(e)}function LP(n,e){n.da.$e(e),By(n).X_(e)}function YA(n){n.da=new dz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),By(n).start(),n.Va.ua()}function KA(n){return np(n)&&!By(n).x_()&&n.Ia.size>0}function np(n){return Vt(n).Ea.size===0}function VP(n){n.da=void 0}async function _q(n){n.Va.set("Online")}async function bq(n){n.Ia.forEach(((e,t)=>{GA(n,e)}))}async function wq(n,e){VP(n),KA(n)?(n.Va.ha(e),YA(n)):n.Va.set("Unknown")}async function xq(n,e,t){if(n.Va.set("Online"),e instanceof wP&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const u of a.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.Ia.delete(u),s.da.removeTarget(u))})(n,e)}catch(r){Qe(qm,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await m1(n,r)}else if(e instanceof Lx?n.da.Xe(e):e instanceof bP?n.da.st(e):n.da.tt(e),!t.isEqual(It.min()))try{const r=await DP(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const u=a.da.Tt(l);return u.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.Ia.get(m);y&&a.Ia.set(m,y.withResumeToken(f.resumeToken,l))}})),u.targetMismatches.forEach(((f,m)=>{const y=a.Ia.get(f);if(!y)return;a.Ia.set(f,y.withResumeToken(ks.EMPTY_BYTE_STRING,y.snapshotVersion)),LP(a,f);const _=new tf(y.target,f,m,y.sequenceNumber);GA(a,_)})),a.remoteSyncer.applyRemoteEvent(u)})(n,t)}catch(r){Qe(qm,"Failed to raise snapshot:",r),await m1(n,r)}}async function m1(n,e,t){if(!Ly(e))throw e;n.Ea.add(1),await rw(n),n.Va.set("Offline"),t||(t=()=>DP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Qe(qm,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await rS(n)}))}function BP(n,e){return e().catch((t=>m1(n,t,e)))}async function sS(n){const e=Vt(n),t=yf(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kA;for(;Sq(e);)try{const s=await rq(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,Eq(e,s)}catch(s){await m1(e,s)}UP(e)&&FP(e)}function Sq(n){return np(n)&&n.Ta.length<10}function Eq(n,e){n.Ta.push(e);const t=yf(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function UP(n){return np(n)&&!yf(n).x_()&&n.Ta.length>0}function FP(n){yf(n).start()}async function Tq(n){yf(n).ra()}async function Cq(n){const e=yf(n);for(const t of n.Ta)e.ea(t.mutations)}async function Aq(n,e,t){const r=n.Ta.shift(),s=BA.from(r,e,t);await BP(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await sS(n)}async function Rq(n,e){e&&yf(n).Y_&&await(async function(r,s){if((function(l){return lz(l)&&l!==Te.ABORTED})(s.code)){const a=r.Ta.shift();yf(r).B_(),await BP(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await sS(r)}})(n,e),UP(n)&&FP(n)}async function XN(n,e){const t=Vt(n);t.asyncQueue.verifyOperationInProgress(),Qe(qm,"RemoteStore received new credentials");const r=np(t);t.Ea.add(3),await rw(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rS(t)}async function Iq(n,e){const t=Vt(n);e?(t.Ea.delete(2),await rS(t)):e||(t.Ea.add(2),await rw(t),t.Va.set("Unknown"))}function By(n){return n.ma||(n.ma=(function(t,r,s){const a=Vt(t);return a.sa(),new fq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:_q.bind(null,n),Yo:bq.bind(null,n),t_:wq.bind(null,n),J_:xq.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),KA(n)?YA(n):n.Va.set("Unknown")):(await n.ma.stop(),VP(n))}))),n.ma}function yf(n){return n.fa||(n.fa=(function(t,r,s){const a=Vt(t);return a.sa(),new hq(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Tq.bind(null,n),t_:Rq.bind(null,n),ta:Cq.bind(null,n),na:Aq.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await sS(n)):(await n.fa.stop(),n.Ta.length>0&&(Qe(qm,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new yu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,u=new QA(e,t,l,s,a);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function JA(n,e){if(Eu("AsyncQueue",`${e}: ${n}`),Ly(n))return new Ge(Te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{static emptySet(e){return new Yg(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=Z_(),this.sortedSet=new Er(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.ga=new Er(ht.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Et(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class vy{constructor(e,t,r,s,a,l,u,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((u=>{l.push({type:0,doc:u})})),new vy(e,t,Yg.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kq{constructor(){this.queries=ek(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Vt(t),a=s.queries;s.queries=ek(),a.forEach(((l,u)=>{for(const f of u.ba)f.onError(r)}))})(this,new Ge(Te.ABORTED,"Firestore shutting down"))}}function ek(){return new tp((n=>oP(n)),J1)}async function zP(n,e){const t=Vt(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new Nq,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const u=JA(l,`Initialization of query '${Lg(e.query)}' failed`);return void e.onError(u)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&XA(t)}async function qP(n,e){const t=Vt(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Oq(n,e){const t=Vt(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const u of l.ba)u.Fa(s)&&(r=!0);l.wa=s}}r&&XA(t)}function Dq(n,e,t){const r=Vt(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function XA(n){n.Ca.forEach((e=>{e.next()}))}var RC,tk;(tk=RC||(RC={})).Ma="default",tk.Cache="cache";class WP{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new vy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=vy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==RC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.key=e}}class $P{constructor(e){this.key=e}}class Pq{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=an(),this.mutatedKeys=an(),this.eu=lP(e),this.tu=new Yg(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new ZN,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const b=s.get(y),E=X1(this.query,_)?_:null,T=!!b&&this.mutatedKeys.has(b.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let N=!1;b&&E?b.data.isEqual(E.data)?T!==C&&(r.track({type:3,doc:E}),N=!0):this.su(b,E)||(r.track({type:2,doc:E}),N=!0,(f&&this.eu(E,f)>0||m&&this.eu(E,m)<0)&&(u=!0)):!b&&E?(r.track({type:0,doc:E}),N=!0):b&&!E&&(r.track({type:1,doc:b}),N=!0,(f||m)&&(u=!0)),N&&(E?(l=l.add(E),a=C?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{tu:l,iu:r,Ss:u,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((y,_)=>(function(E,T){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Vt:N})}};return C(E)-C(T)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const u=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,m=f!==this.Xa;return this.Xa=f,l.length!==0||m?{snapshot:new vy(this.query,e.tu,a,l,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZN,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=an(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new $P(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new HP(r))})),t}cu(e){this.Za=e.ks,this.Ya=an();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return vy.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ZA="SyncEngine";class Mq{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jq{constructor(e){this.key=e,this.hu=!1}}class Lq{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new tp((u=>oP(u)),J1),this.Iu=new Map,this.Eu=new Set,this.Ru=new Er(ht.comparator),this.Au=new Map,this.Vu=new zA,this.du={},this.mu=new Map,this.fu=yy.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Vq(n,e,t=!0){const r=XP(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await GP(r,e,t,!0),s}async function Bq(n,e){const t=XP(n);await GP(t,e,!0,!1)}async function GP(n,e,t,r){const s=await sq(n.localStore,sc(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await Uq(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&jP(n.remoteStore,s),u}async function Uq(n,e,t,r,s){n.pu=(_,b,E)=>(async function(C,N,M,B){let U=N.view.ru(M);U.Ss&&(U=await GN(C.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,U))));const Y=B&&B.targetChanges.get(N.targetId),W=B&&B.targetMismatches.get(N.targetId)!=null,K=N.view.applyChanges(U,C.isPrimaryClient,Y,W);return rk(C,N.targetId,K.au),K.snapshot})(n,_,b,E);const a=await GN(n.localStore,e,!0),l=new Pq(e,a.ks),u=l.ru(a.documents),f=nw.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=l.applyChanges(u,n.isPrimaryClient,f);rk(n,t,m.au);const y=new Mq(e,t,l);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function Fq(n,e,t){const r=Vt(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!J1(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await CC(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&$A(r.remoteStore,s.targetId),IC(r,s.targetId)})).catch(jy)):(IC(r,s.targetId),await CC(r.localStore,s.targetId,!0))}async function zq(n,e){const t=Vt(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),$A(t.remoteStore,r.targetId))}async function qq(n,e,t){const r=Qq(n);try{const s=await(function(l,u){const f=Vt(l),m=or.now(),y=u.reduce(((E,T)=>E.add(T.key)),an());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let T=Tu(),C=an();return f.xs.getEntries(E,y).next((N=>{T=N,T.forEach(((M,B)=>{B.isValidDocument()||(C=C.add(M))}))})).next((()=>f.localDocuments.getOverlayedDocuments(E,T))).next((N=>{_=N;const M=[];for(const B of u){const U=rz(B,_.get(B.key).overlayedDocument);U!=null&&M.push(new Af(B.key,U,Z2(U.value.mapValue),tl.exists(!0)))}return f.mutationQueue.addMutationBatch(E,m,M,u)})).next((N=>{b=N;const M=N.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(E,N.batchId,M)}))})).then((()=>({batchId:b.batchId,changes:uP(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,u,f){let m=l.du[l.currentUser.toKey()];m||(m=new Er(sn)),m=m.insert(u,f),l.du[l.currentUser.toKey()]=m})(r,s.batchId,t),await sw(r,s.changes),await sS(r.remoteStore)}catch(s){const a=JA(s,"Failed to persist write");t.reject(a)}}async function YP(n,e){const t=Vt(n);try{const r=await tq(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Ln(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Ln(l.hu,14607):s.removedDocuments.size>0&&(Ln(l.hu,42227),l.hu=!1))})),await sw(t,r,e)}catch(r){await jy(r)}}function nk(n,e,t){const r=Vt(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const u=l.view.va(e);u.snapshot&&s.push(u.snapshot)})),(function(l,u){const f=Vt(l);f.onlineState=u;let m=!1;f.queries.forEach(((y,_)=>{for(const b of _.ba)b.va(u)&&(m=!0)})),m&&XA(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wq(n,e,t){const r=Vt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new Er(ht.comparator);l=l.insert(a,Zs.newNoDocument(a,It.min()));const u=an().add(a),f=new tS(It.min(),new Map,new Er(sn),l,u);await YP(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),eR(r)}else await CC(r.localStore,e,!1).then((()=>IC(r,e,t))).catch(jy)}async function Hq(n,e){const t=Vt(n),r=e.batch.batchId;try{const s=await eq(t.localStore,e);QP(t,r,null),KP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sw(t,s)}catch(s){await jy(s)}}async function $q(n,e,t){const r=Vt(n);try{const s=await(function(l,u){const f=Vt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,u).next((_=>(Ln(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,u))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);QP(r,e,t),KP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sw(r,s)}catch(s){await jy(s)}}function KP(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function QP(n,e,t){const r=Vt(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function IC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||JP(n,r)}))}function JP(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&($A(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),eR(n))}function rk(n,e,t){for(const r of t)r instanceof HP?(n.Vu.addReference(r.key,e),Gq(n,r)):r instanceof $P?(Qe(ZA,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||JP(n,r.key)):Et(19791,{wu:r})}function Gq(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Qe(ZA,"New document in limbo: "+t),n.Eu.add(r),eR(n))}function eR(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ht(rr.fromString(e)),r=n.fu.next();n.Au.set(r,new jq(t)),n.Ru=n.Ru.insert(t,r),jP(n.remoteStore,new tf(sc(jA(t.path)),r,"TargetPurposeLimboResolution",Y1.ce))}}async function sw(n,e,t){const r=Vt(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,f)=>{l.push(r.pu(f,e,t).then((m=>{var y;if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(m){s.push(m);const _=WA.Es(f.targetId,m);a.push(_)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(f,m){const y=Vt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ke.forEach(m,(b=>ke.forEach(b.Ts,(E=>y.persistence.referenceDelegate.addReference(_,b.targetId,E))).next((()=>ke.forEach(b.Is,(E=>y.persistence.referenceDelegate.removeReference(_,b.targetId,E)))))))))}catch(_){if(!Ly(_))throw _;Qe(HA,"Failed to update sequence numbers: "+_)}for(const _ of m){const b=_.targetId;if(!_.fromCache){const E=y.vs.get(b),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T);y.vs=y.vs.insert(b,C)}}})(r.localStore,a))}async function Yq(n,e){const t=Vt(n);if(!t.currentUser.isEqual(e)){Qe(ZA,"User change. New user:",e.toKey());const r=await OP(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((u=>{u.forEach((f=>{f.reject(new Ge(Te.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sw(t,r.Ns)}}function Kq(n,e){const t=Vt(n),r=t.Au.get(e);if(r&&r.hu)return an().add(r.key);{let s=an();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const u=t.Tu.get(l);s=s.unionWith(u.view.nu)}return s}}function XP(n){const e=Vt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wq.bind(null,e),e.Pu.J_=Oq.bind(null,e.eventManager),e.Pu.yu=Dq.bind(null,e.eventManager),e}function Qq(n){const e=Vt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$q.bind(null,e),e}class p1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Zz(this.persistence,new Qz,e.initialUser,this.serializer)}Cu(e){return new kP(qA.Vi,this.serializer)}Du(e){return new aq}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}p1.provider={build:()=>new p1};class Jq extends p1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ln(this.persistence.referenceDelegate instanceof h1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Mz(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new kP((r=>h1.Vi(r,t)),this.serializer)}}class NC{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yq.bind(null,this.syncEngine),await Iq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kq})()}createDatastore(e){const t=nS(e.databaseInfo.databaseId),r=dq(e.databaseInfo);return gq(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,u){return new vq(r,s,a,l,u)})(this.localStore,this.datastore,e.asyncQueue,(t=>nk(this.syncEngine,t,0)),(function(){return QN.v()?new QN:new oq})())}createSyncEngine(e,t){return(function(s,a,l,u,f,m,y){const _=new Lq(s,a,l,u,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=Vt(s);Qe(qm,"RemoteStore shutting down."),a.Ea.add(5),await rw(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}NC.provider={build:()=>new NC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Eu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="FirestoreClient";class Xq{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Js.UNAUTHENTICATED,this.clientId=NA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Qe(vf,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Qe(vf,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=JA(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function aT(n,e){n.asyncQueue.verifyOperationInProgress(),Qe(vf,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await OP(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sk(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Zq(n);Qe(vf,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>XN(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>XN(e.remoteStore,s))),n._onlineComponents=e}async function Zq(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Qe(vf,"Using user provided OfflineComponentProvider");try{await aT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Te.FAILED_PRECONDITION||s.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;zm("Error using user provided cache. Falling back to memory cache: "+t),await aT(n,new p1)}}else Qe(vf,"Using default OfflineComponentProvider"),await aT(n,new Jq(void 0));return n._offlineComponents}async function eM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Qe(vf,"Using user provided OnlineComponentProvider"),await sk(n,n._uninitializedComponentsProvider._online)):(Qe(vf,"Using default OnlineComponentProvider"),await sk(n,new NC))),n._onlineComponents}function e8(n){return eM(n).then((e=>e.syncEngine))}async function tM(n){const e=await eM(n),t=e.eventManager;return t.onListen=Vq.bind(null,e.syncEngine),t.onUnlisten=Fq.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Bq.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=zq.bind(null,e.syncEngine),t}function t8(n,e,t={}){const r=new yu;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const y=new ZP({next:b=>{y.Nu(),l.enqueueAndForget((()=>qP(a,_)));const E=b.docs.has(u);!E&&b.fromCache?m.reject(new Ge(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&f&&f.source==="server"?m.reject(new Ge(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new WP(jA(u.path),y,{includeMetadataChanges:!0,Ka:!0});return zP(a,_)})(await tM(n),n.asyncQueue,e,t,r))),r.promise}function n8(n,e,t={}){const r=new yu;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,u,f,m){const y=new ZP({next:b=>{y.Nu(),l.enqueueAndForget((()=>qP(a,_))),b.fromCache&&f.source==="server"?m.reject(new Ge(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(b)},error:b=>m.reject(b)}),_=new WP(u,y,{includeMetadataChanges:!0,Ka:!0});return zP(a,_)})(await tM(n),n.asyncQueue,e,t,r))),r.promise}function r8(n,e){const t=new yu;return n.asyncQueue.enqueueAndForget((async()=>qq(await e8(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="ComponentProvider",ik=new Map;function i8(n,e,t,r,s){return new T9(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,nM(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM="firestore.googleapis.com",ak=!0;class ok{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rM,this.ssl=ak}else this.host=e.host,this.ssl=e.ssl??ak;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Dz)throw new Ge(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iS{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ok({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ok(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new s9;switch(r.type){case"firstParty":return new l9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ik.get(t);r&&(Qe(s8,"Removing Datastore"),ik.delete(t),r.terminate())})(this),Promise.resolve()}}function a8(n,e,t,r={}){var m;n=dc(n,iS);const s=Oy(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},u=`${e}:${t}`;s&&(GD(`https://${u}`),YD("Firestore",!0)),a.host!==rM&&a.host!==u&&zm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:u,ssl:s,emulatorOptions:r};if(!Lm(f,l)&&(n._setSettings(f),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=Js.MOCK_USER;else{y=fB(r.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ge(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Js(b)}n._authCredentials=new i9(new F2(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rp(this.firestore,e,this._query)}}class Hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}toJSON(){return{type:Hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ew(t,Hr._jsonSchema))return new Hr(e,r||null,new ht(rr.fromString(t.referencePath)))}}Hr._jsonSchemaVersion="firestore/documentReference/1.0",Hr._jsonSchema={type:es("string",Hr._jsonSchemaVersion),referencePath:es("string")};class uf extends rp{constructor(e,t,r){super(e,t,jA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new ht(e))}withConverter(e){return new uf(this.firestore,e,this._path)}}function De(n,e,...t){if(n=ws(n),z2("collection","path",e),n instanceof iS){const r=rr.fromString(e,...t);return bN(r),new uf(n,null,r)}{if(!(n instanceof Hr||n instanceof uf))throw new Ge(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rr.fromString(e,...t));return bN(r),new uf(n.firestore,null,r)}}function Me(n,e,...t){if(n=ws(n),arguments.length===1&&(e=NA.newId()),z2("doc","path",e),n instanceof iS){const r=rr.fromString(e,...t);return _N(r),new Hr(n,null,new ht(r))}{if(!(n instanceof Hr||n instanceof uf))throw new Ge(Te.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rr.fromString(e,...t));return _N(r),new Hr(n.firestore,n instanceof uf?n.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="AsyncQueue";class ck{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new PP(this,"async_queue_retry"),this._c=()=>{const r=iT();r&&Qe(lk,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=iT();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=iT();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new yu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ly(e))throw e;Qe(lk,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Eu("INTERNAL UNHANDLED ERROR: ",uk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=QA.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Et(47125,{Pc:uk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uk(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Uy extends iS{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ck,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ck(e),this._firestoreClient=void 0,await e}}}function o8(n,e){const t=typeof n=="object"?n:XD(),r=typeof n=="string"?n:o1,s=vA(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=uB("firestore");a&&a8(s,...a)}return s}function tR(n){if(n._terminated)throw new Ge(Te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||l8(n),n._firestoreClient}function l8(n){var r,s,a,l;const e=n._freezeSettings(),t=i8(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Xq(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oo(ks.fromBase64String(e))}catch(t){throw new Ge(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oo(ks.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ew(e,oo._jsonSchema))return oo.fromBase64String(e.bytes)}}oo._jsonSchemaVersion="firestore/bytes/1.0",oo._jsonSchema={type:es("string",oo._jsonSchemaVersion),bytes:es("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ge(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ns(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ge(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ge(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ac._jsonSchemaVersion}}static fromJSON(e){if(ew(e,ac._jsonSchema))return new ac(e.latitude,e.longitude)}}ac._jsonSchemaVersion="firestore/geoPoint/1.0",ac._jsonSchema={type:es("string",ac._jsonSchemaVersion),latitude:es("number"),longitude:es("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ew(e,nl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nl(e.vectorValues);throw new Ge(Te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nl._jsonSchemaVersion="firestore/vectorValue/1.0",nl._jsonSchema={type:es("string",nl._jsonSchemaVersion),vectorValues:es("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^__.*__$/;class u8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Af(e,this.data,this.fieldMask,t,this.fieldTransforms):new tw(e,this.data,t,this.fieldTransforms)}}class sM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Af(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{dataSource:n})}}class sR{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new sR({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return g1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(iM(this.dataSource)&&c8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class d8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nS(e)}createContext(e,t,r,s=!1){return new sR({dataSource:e,methodName:t,targetDoc:r,path:Ns.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iR(n){const e=n._freezeSettings(),t=nS(n._databaseId);return new d8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function f8(n,e,t,r,s,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);aR("Data must be an object, but it was:",l,r);const u=aM(r,l);let f,m;if(a.merge)f=new ka(l.fieldMask),m=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const b=Wm(e,_,t);if(!l.contains(b))throw new Ge(Te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);cM(y,b)||y.push(b)}f=new ka(y),m=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=l.fieldTransforms;return new u8(new Yi(u),f,m)}class aS extends rR{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aS}}function h8(n,e,t,r){const s=n.createContext(1,e,t);aR("Data must be an object, but it was:",s,r);const a=[],l=Yi.empty();Cf(r,((f,m)=>{const y=lM(e,f,t);m=ws(m);const _=s.childContextForFieldPath(y);if(m instanceof aS)a.push(y);else{const b=iw(m,_);b!=null&&(a.push(y),l.set(y,b))}}));const u=new ka(a);return new sM(l,u,s.fieldTransforms)}function m8(n,e,t,r,s,a){const l=n.createContext(1,e,t),u=[Wm(e,r,t)],f=[s];if(a.length%2!=0)throw new Ge(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<a.length;b+=2)u.push(Wm(e,a[b])),f.push(a[b+1]);const m=[],y=Yi.empty();for(let b=u.length-1;b>=0;--b)if(!cM(m,u[b])){const E=u[b];let T=f[b];T=ws(T);const C=l.childContextForFieldPath(E);if(T instanceof aS)m.push(E);else{const N=iw(T,C);N!=null&&(m.push(E),y.set(E,N))}}const _=new ka(m);return new sM(y,_,l.fieldTransforms)}function p8(n,e,t,r=!1){return iw(t,n.createContext(r?4:3,e))}function iw(n,e){if(oM(n=ws(n)))return aR("Unsupported field value:",e,n),aM(n,e);if(n instanceof rR)return(function(r,s){if(!iM(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const u of r){let f=iw(u,s.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=ws(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=or.fromDate(r);return{timestampValue:f1(s.serializer,a)}}if(r instanceof or){const a=new or(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:f1(s.serializer,a)}}if(r instanceof ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oo)return{bytesValue:xP(s.serializer,r._byteString)};if(r instanceof Hr){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:FA(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof nl)return(function(l,u){const f=l instanceof nl?l.toArray():l;return{mapValue:{fields:{[J2]:{stringValue:X2},[l1]:{arrayValue:{values:f.map((y=>{if(typeof y!="number")throw u.createError("VectorValues must only contain numeric values.");return LA(u.serializer,y)}))}}}}}})(r,s);if(IP(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${G1(r)}`)})(n,e)}function aM(n,e){const t={};return H2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cf(n,((r,s)=>{const a=iw(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function oM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof or||n instanceof ac||n instanceof oo||n instanceof Hr||n instanceof rR||n instanceof nl||IP(n))}function aR(n,e,t){if(!oM(t)||!q2(t)){const r=G1(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Wm(n,e,t){if((e=ws(e))instanceof nR)return e._internalPath;if(typeof e=="string")return lM(n,e);throw g1("Field path arguments must be of type string or ",n,!1,void 0,t)}const g8=new RegExp("[~\\*/\\[\\]]");function lM(n,e,t){if(e.search(g8)>=0)throw g1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nR(...e.split("."))._internalPath}catch{throw g1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function g1(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new Ge(Te.INVALID_ARGUMENT,u+n+f)}function cM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{convertValue(e,t="none"){switch(gf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Cf(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,s,a;const t=(a=(s=(r=e.fields)==null?void 0:r[l1].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>zr(l.doubleValue)));return new nl(t)}convertGeoPoint(e){return new ac(zr(e.latitude),zr(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Q1(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eb(e));default:return null}}convertTimestamp(e){const t=mf(e);return new or(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rr.fromString(e);Ln(RP(r),9688,{name:e});const s=new Tb(r.get(1),r.get(3)),a=new ht(r.popFirst(5));return s.isEqual(t)||Eu(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM extends y8{constructor(e){super(),this.firestore=e}convertBytes(e){return new oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}const dk="@firebase/firestore",fk="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class v8 extends dM{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ge(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oR{}class fM extends oR{}function Ze(n,e,...t){let r=[];e instanceof oR&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof lR)).length,u=a.filter((f=>f instanceof oS)).length;if(l>1||l>0&&u>0)throw new Ge(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class oS extends fM{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new oS(e,t,r)}_apply(e){const t=this._parse(e);return hM(e._query,t),new rp(e.firestore,e.converter,bC(e._query,t))}_parse(e){const t=iR(e.firestore);return(function(a,l,u,f,m,y,_){let b;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ge(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){mk(_,y);const T=[];for(const C of _)T.push(hk(f,a,C));b={arrayValue:{values:T}}}else b=hk(f,a,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||mk(_,y),b=p8(u,l,_,y==="in"||y==="not-in");return Zr.create(m,y,b)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qe(n,e,t){const r=e,s=Wm("where",n);return oS._create(s,r,t)}class lR extends oR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lR(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ol.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const u=a.getFlattenedFilters();for(const f of u)hM(l,f),l=bC(l,f)})(e._query,t),new rp(e.firestore,e.converter,bC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cR extends fM{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cR(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new Ge(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ge(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ab(a,l)})(e._query,this._field,this._direction);return new rp(e.firestore,e.converter,q9(e._query,t))}}function yc(n,e="asc"){const t=e,r=Wm("orderBy",n);return cR._create(r,t)}function hk(n,e,t){if(typeof(t=ws(t))=="string"){if(t==="")throw new Ge(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aP(e)&&t.indexOf("/")!==-1)throw new Ge(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(rr.fromString(t));if(!ht.isDocumentKey(r))throw new Ge(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RN(n,new ht(r))}if(t instanceof Hr)return RN(n,t._key);throw new Ge(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${G1(t)}.`)}function mk(n,e){if(!Array.isArray(n)||n.length===0)throw new Ge(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hM(n,e){const t=(function(s,a){for(const l of s)for(const u of l.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ge(Te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function b8(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class tb{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Om extends dM{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Wm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Om._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Om._jsonSchemaVersion="firestore/documentSnapshot/1.0",Om._jsonSchema={type:es("string",Om._jsonSchemaVersion),bundleSource:es("string","DocumentSnapshot"),bundleName:es("string"),bundle:es("string")};class Vx extends Om{data(e={}){return super.data(e)}}class Kg{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new tb(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Vx(this._firestore,this._userDataWriter,r.key,r,new tb(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ge(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((u=>{const f=new Vx(s._firestore,s._userDataWriter,u.doc.key,u.doc,new tb(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((u=>a||u.type!==3)).map((u=>{const f=new Vx(s._firestore,s._userDataWriter,u.doc.key,u.doc,new tb(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return u.type!==0&&(m=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:w8(u.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Kg._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=NA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function w8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kg._jsonSchemaVersion="firestore/querySnapshot/1.0",Kg._jsonSchema={type:es("string",Kg._jsonSchemaVersion),bundleSource:es("string","QuerySnapshot"),bundleName:es("string"),bundle:es("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n){n=dc(n,Hr);const e=dc(n.firestore,Uy),t=tR(e);return t8(t,n._key).then((r=>x8(e,n,r)))}function Be(n){n=dc(n,rp);const e=dc(n.firestore,Uy),t=tR(e),r=new uM(e);return _8(n._query),n8(t,n._query).then((s=>new Kg(e,r,n,s)))}function Tr(n,e,t){n=dc(n,Hr);const r=dc(n.firestore,Uy),s=b8(n.converter,e),a=iR(r);return uR(r,[f8(a,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,tl.none())])}function mM(n,e,t,...r){n=dc(n,Hr);const s=dc(n.firestore,Uy),a=iR(s);let l;return l=typeof(e=ws(e))=="string"||e instanceof nR?m8(a,"updateDoc",n._key,e,t,r):h8(a,"updateDoc",n._key,e),uR(s,[l.toMutation(n._key,tl.exists(!0))])}function Je(n){return uR(dc(n.firestore,Uy),[new VA(n._key,tl.none())])}function uR(n,e){const t=tR(n);return r8(t,e)}function x8(n,e,t){const r=t.docs.get(e._key),s=new uM(n);return new Om(n,s,e._key,r,new tb(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){r9(Dy),hy(new Vm("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new Uy(new a9(r.getProvider("auth-internal")),new c9(l,r.getProvider("app-check-internal")),C9(l,s),l);return a={useFetchStreams:t,...a},u._setSettings(a),u}),"PUBLIC").setMultipleInstances(!0)),lf(dk,fk,e),lf(dk,fk,"esm2020")})();const S8={apiKey:"AIzaSyDNrfT8MEjj_mRWbFB-TFqi7WO6bXUTVG0",authDomain:"abadai-da22b.firebaseapp.com",projectId:"abadai-da22b",storageBucket:"abadai-da22b.firebasestorage.app",messagingSenderId:"354340525163",appId:"1:354340525163:web:0cf9714a42b6e0e35f0d2e"},pM=JD(S8),Ei=t9(pM),ae=o8(pM),E8=function(){return null};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gM=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=I.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...u},f)=>I.createElement("svg",{ref:f,...C8,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:gM("lucide",s),...u},[...l.map(([m,y])=>I.createElement(m,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=(n,e)=>{const t=I.forwardRef(({className:r,...s},a)=>I.createElement(A8,{ref:a,iconNode:e,className:gM(`lucide-${T8(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pk=En("ArrowLeft",R8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],gk=En("ArrowRight",I8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],k8=En("Box",N8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],D8=En("Calculator",O8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lS=En("Calendar",P8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yM=En("Camera",M8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],vM=En("Check",j8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dR=En("ChevronDown",L8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],B8=En("ChevronLeft",V8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F8=En("ChevronRight",U8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],q8=En("ChevronUp",z8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_M=En("CircleCheck",W8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bM=En("Clock",H8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wM=En("DollarSign",$8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Y8=En("Image",G8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Q8=En("LayoutDashboard",K8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J8=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X8=En("LoaderCircle",J8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z8=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],xM=En("LogOut",Z8);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],t7=En("Mail",e7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],y1=En("MapPin",n7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cS=En("Package",r7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],i7=En("Phone",s7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hc=En("Plus",a7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],yk=En("Sparkles",o7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SM=En("SquarePen",l7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],oc=En("Trash2",c7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v1=En("TriangleAlert",u7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],uS=En("Truck",d7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],EM=En("User",f7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],TM=En("Users",h7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],p7=En("Wrench",m7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fR=En("X",g7);var nb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var y7=nb.exports,vk;function v7(){return vk||(vk=1,(function(n,e){(function(){var t,r="4.17.23",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",_=1,b=2,E=4,T=1,C=2,N=1,M=2,B=4,U=8,Y=16,W=32,K=64,D=128,P=256,L=512,V=30,q="...",J=800,$=16,Ee=1,de=2,X=3,ce=1/0,se=9007199254740991,Pe=17976931348623157e292,_e=NaN,Q=4294967295,ye=Q-1,Ce=Q>>>1,Ne=[["ary",D],["bind",N],["bindKey",M],["curry",U],["curryRight",Y],["flip",L],["partial",W],["partialRight",K],["rearg",P]],Ue="[object Arguments]",nt="[object Array]",Ae="[object AsyncFunction]",it="[object Boolean]",ct="[object Date]",yt="[object DOMException]",vt="[object Error]",_t="[object Function]",Wn="[object GeneratorFunction]",Zt="[object Map]",pr="[object Number]",$r="[object Null]",Nn="[object Object]",Ds="[object Promise]",en="[object Proxy]",Vn="[object RegExp]",lr="[object Set]",Ci="[object String]",Ai="[object Symbol]",gr="[object Undefined]",ns="[object WeakMap]",cn="[object WeakSet]",Hn="[object ArrayBuffer]",Bn="[object DataView]",ja="[object Float32Array]",fl="[object Float64Array]",hl="[object Int8Array]",ml="[object Int16Array]",xs="[object Int32Array]",yr="[object Uint8Array]",hs="[object Uint8ClampedArray]",Yn="[object Uint16Array]",yo="[object Uint32Array]",pl=/\b__p \+= '';/g,wc=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ft=/&(?:amp|lt|gt|quot|#39);/g,We=/[&<>"']/g,Nt=RegExp(Ft.source),Xn=RegExp(We.source),Tt=/<%-([\s\S]+?)%>/g,kf=/<%([\s\S]+?)%>/g,xc=/<%=([\s\S]+?)%>/g,Ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qi=/^\w*$/,Sc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vo=/[\\^$.*+?()[\]{}|]/g,Of=RegExp(vo.source),Ec=/^\s+/,Tc=/\s/,_o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ap=/\{\n\/\* \[wrapped with (.+)\] \*/,Ji=/,? & /,Xi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cr=/[()=,{}\[\]\/\s]/,Gr=/\\(\\)?/g,La=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cc=/\w*$/,Jy=/^[-+]0x[0-9a-f]+$/i,op=/^0b[01]+$/i,lp=/^\[object .+?Constructor\]$/,Va=/^0o[0-7]+$/i,Ou=/^(?:0|[1-9]\d*)$/,Ba=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ss=/($^)/,ti=/['\n\r\u2028\u2029\\]/g,ni="\\ud800-\\udfff",Ar="\\u0300-\\u036f",Df="\\ufe20-\\ufe2f",Pf="\\u20d0-\\u20ff",Zi=Ar+Df+Pf,ea="\\u2700-\\u27bf",Du="a-z\\xdf-\\xf6\\xf8-\\xff",Mf="\\xac\\xb1\\xd7\\xf7",jf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",cp="\\u2000-\\u206f",Pu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ps="A-Z\\xc0-\\xd6\\xd8-\\xde",vr="\\ufe0e\\ufe0f",Lr=Mf+jf+cp+Pu,Ua="[']",Lf="["+ni+"]",vn="["+Lr+"]",Fa="["+Zi+"]",ta="\\d+",Ac="["+ea+"]",Es="["+Du+"]",Rc="[^"+ni+Lr+ta+ea+Du+Ps+"]",Mu="\\ud83c[\\udffb-\\udfff]",Vf="(?:"+Fa+"|"+Mu+")",bo="[^"+ni+"]",ju="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",Vr="["+Ps+"]",Bf="\\u200d",Lu="(?:"+Es+"|"+Rc+")",Uf="(?:"+Vr+"|"+Rc+")",Ic="(?:"+Ua+"(?:d|ll|m|re|s|t|ve))?",Ff="(?:"+Ua+"(?:D|LL|M|RE|S|T|VE))?",wo=Vf+"?",Nc="["+vr+"]?",na="(?:"+Bf+"(?:"+[bo,ju,za].join("|")+")"+Nc+wo+")*",zf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ii="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",xo=Nc+wo+na,qa="(?:"+[Ac,ju,za].join("|")+")"+xo,kc="(?:"+[bo+Fa+"?",Fa,ju,za,Lf].join("|")+")",Vu=RegExp(Ua,"g"),gl=RegExp(Fa,"g"),ri=RegExp(Mu+"(?="+Mu+")|"+kc+xo,"g"),Ni=RegExp([Vr+"?"+Es+"+"+Ic+"(?="+[vn,Vr,"$"].join("|")+")",Uf+"+"+Ff+"(?="+[vn,Vr+Lu,"$"].join("|")+")",Vr+"?"+Lu+"+"+Ic,Vr+"+"+Ff,Ii,zf,ta,qa].join("|"),"g"),Oc=RegExp("["+Bf+ni+Zi+vr+"]"),kn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qf=-1,mn={};mn[ja]=mn[fl]=mn[hl]=mn[ml]=mn[xs]=mn[yr]=mn[hs]=mn[Yn]=mn[yo]=!0,mn[Ue]=mn[nt]=mn[Hn]=mn[it]=mn[Bn]=mn[ct]=mn[vt]=mn[_t]=mn[Zt]=mn[pr]=mn[Nn]=mn[Vn]=mn[lr]=mn[Ci]=mn[ns]=!1;var _n={};_n[Ue]=_n[nt]=_n[Hn]=_n[Bn]=_n[it]=_n[ct]=_n[ja]=_n[fl]=_n[hl]=_n[ml]=_n[xs]=_n[Zt]=_n[pr]=_n[Nn]=_n[Vn]=_n[lr]=_n[Ci]=_n[Ai]=_n[yr]=_n[hs]=_n[Yn]=_n[yo]=!0,_n[vt]=_n[_t]=_n[ns]=!1;var Dc={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},So={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ra={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Eo=parseFloat,Ha=parseInt,To=typeof sx=="object"&&sx&&sx.Object===Object&&sx,Wf=typeof self=="object"&&self&&self.Object===Object&&self,Zn=To||Wf||Function("return this")(),yl=e&&!e.nodeType&&e,ms=yl&&!0&&n&&!n.nodeType&&n,Pc=ms&&ms.exports===yl,Mc=Pc&&To.process,Yr=(function(){try{var ie=ms&&ms.require&&ms.require("util").types;return ie||Mc&&Mc.binding&&Mc.binding("util")}catch{}})(),Hf=Yr&&Yr.isArrayBuffer,$f=Yr&&Yr.isDate,vl=Yr&&Yr.isMap,Bu=Yr&&Yr.isRegExp,Gf=Yr&&Yr.isSet,jc=Yr&&Yr.isTypedArray;function ps(ie,be,ge){switch(ge.length){case 0:return ie.call(be);case 1:return ie.call(be,ge[0]);case 2:return ie.call(be,ge[0],ge[1]);case 3:return ie.call(be,ge[0],ge[1],ge[2])}return ie.apply(be,ge)}function up(ie,be,ge,Ye){for(var At=-1,Ht=ie==null?0:ie.length;++At<Ht;){var er=ie[At];be(Ye,er,ge(er),ie)}return Ye}function _r(ie,be){for(var ge=-1,Ye=ie==null?0:ie.length;++ge<Ye&&be(ie[ge],ge,ie)!==!1;);return ie}function dp(ie,be){for(var ge=ie==null?0:ie.length;ge--&&be(ie[ge],ge,ie)!==!1;);return ie}function Yf(ie,be){for(var ge=-1,Ye=ie==null?0:ie.length;++ge<Ye;)if(!be(ie[ge],ge,ie))return!1;return!0}function sa(ie,be){for(var ge=-1,Ye=ie==null?0:ie.length,At=0,Ht=[];++ge<Ye;){var er=ie[ge];be(er,ge,ie)&&(Ht[At++]=er)}return Ht}function Lc(ie,be){var ge=ie==null?0:ie.length;return!!ge&&je(ie,be,0)>-1}function $a(ie,be,ge){for(var Ye=-1,At=ie==null?0:ie.length;++Ye<At;)if(ge(be,ie[Ye]))return!0;return!1}function zt(ie,be){for(var ge=-1,Ye=ie==null?0:ie.length,At=Array(Ye);++ge<Ye;)At[ge]=be(ie[ge],ge,ie);return At}function ia(ie,be){for(var ge=-1,Ye=be.length,At=ie.length;++ge<Ye;)ie[At+ge]=be[ge];return ie}function Uu(ie,be,ge,Ye){var At=-1,Ht=ie==null?0:ie.length;for(Ye&&Ht&&(ge=ie[++At]);++At<Ht;)ge=be(ge,ie[At],At,ie);return ge}function Co(ie,be,ge,Ye){var At=ie==null?0:ie.length;for(Ye&&At&&(ge=ie[--At]);At--;)ge=be(ge,ie[At],At,ie);return ge}function v(ie,be){for(var ge=-1,Ye=ie==null?0:ie.length;++ge<Ye;)if(be(ie[ge],ge,ie))return!0;return!1}var R=$n("length");function O(ie){return ie.split("")}function G(ie){return ie.match(Xi)||[]}function ue(ie,be,ge){var Ye;return ge(ie,function(At,Ht,er){if(be(At,Ht,er))return Ye=Ht,!1}),Ye}function pe(ie,be,ge,Ye){for(var At=ie.length,Ht=ge+(Ye?1:-1);Ye?Ht--:++Ht<At;)if(be(ie[Ht],Ht,ie))return Ht;return-1}function je(ie,be,ge){return be===be?LS(ie,be,ge):pe(ie,cr,ge)}function kt(ie,be,ge,Ye){for(var At=ge-1,Ht=ie.length;++At<Ht;)if(Ye(ie[At],be))return At;return-1}function cr(ie){return ie!==ie}function un(ie,be){var ge=ie==null?0:ie.length;return ge?si(ie,be)/ge:_e}function $n(ie){return function(be){return be==null?t:be[ie]}}function Ms(ie){return function(be){return ie==null?t:ie[be]}}function aa(ie,be,ge,Ye,At){return At(ie,function(Ht,er,Tn){ge=Ye?(Ye=!1,Ht):be(ge,Ht,er,Tn)}),ge}function oa(ie,be){var ge=ie.length;for(ie.sort(be);ge--;)ie[ge]=ie[ge].value;return ie}function si(ie,be){for(var ge,Ye=-1,At=ie.length;++Ye<At;){var Ht=be(ie[Ye]);Ht!==t&&(ge=ge===t?Ht:ge+Ht)}return ge}function Ao(ie,be){for(var ge=-1,Ye=Array(ie);++ge<ie;)Ye[ge]=be(ge);return Ye}function Fu(ie,be){return zt(be,function(ge){return[ge,ie[ge]]})}function Vc(ie){return ie&&ie.slice(0,qu(ie)+1).replace(Ec,"")}function ii(ie){return function(be){return ie(be)}}function Xy(ie,be){return zt(be,function(ge){return ie[ge]})}function Kf(ie,be){return ie.has(be)}function Zy(ie,be){for(var ge=-1,Ye=ie.length;++ge<Ye&&je(be,ie[ge],0)>-1;);return ge}function ev(ie,be){for(var ge=ie.length;ge--&&je(be,ie[ge],0)>-1;);return ge}function Qf(ie,be){for(var ge=ie.length,Ye=0;ge--;)ie[ge]===be&&++Ye;return Ye}var Jf=Ms(Dc),MS=Ms(So);function fp(ie){return"\\"+rs[ie]}function fw(ie,be){return ie==null?t:ie[be]}function Bc(ie){return Oc.test(ie)}function tv(ie){return kn.test(ie)}function nv(ie){for(var be,ge=[];!(be=ie.next()).done;)ge.push(be.value);return ge}function hp(ie){var be=-1,ge=Array(ie.size);return ie.forEach(function(Ye,At){ge[++be]=[At,Ye]}),ge}function rv(ie,be){return function(ge){return ie(be(ge))}}function Ro(ie,be){for(var ge=-1,Ye=ie.length,At=0,Ht=[];++ge<Ye;){var er=ie[ge];(er===be||er===y)&&(ie[ge]=y,Ht[At++]=ge)}return Ht}function mp(ie){var be=-1,ge=Array(ie.size);return ie.forEach(function(Ye){ge[++be]=Ye}),ge}function jS(ie){var be=-1,ge=Array(ie.size);return ie.forEach(function(Ye){ge[++be]=[Ye,Ye]}),ge}function LS(ie,be,ge){for(var Ye=ge-1,At=ie.length;++Ye<At;)if(ie[Ye]===be)return Ye;return-1}function VS(ie,be,ge){for(var Ye=ge+1;Ye--;)if(ie[Ye]===be)return Ye;return Ye}function zu(ie){return Bc(ie)?mw(ie):R(ie)}function sr(ie){return Bc(ie)?pw(ie):O(ie)}function qu(ie){for(var be=ie.length;be--&&Tc.test(ie.charAt(be)););return be}var hw=Ms(ra);function mw(ie){for(var be=ri.lastIndex=0;ri.test(ie);)++be;return be}function pw(ie){return ie.match(ri)||[]}function gw(ie){return ie.match(Ni)||[]}var sv=(function ie(be){be=be==null?Zn:Wu.defaults(Zn.Object(),be,Wu.pick(Zn,Wa));var ge=be.Array,Ye=be.Date,At=be.Error,Ht=be.Function,er=be.Math,Tn=be.Object,pp=be.RegExp,Uc=be.String,ai=be.TypeError,Xf=ge.prototype,yw=Ht.prototype,Hu=Tn.prototype,gp=be["__core-js_shared__"],yp=yw.toString,pn=Hu.hasOwnProperty,vw=0,vp=(function(){var d=/[^.]+$/.exec(gp&&gp.keys&&gp.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})(),js=Hu.toString,_p=yp.call(Tn),ki=Zn._,$u=pp("^"+yp.call(pn).replace(vo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Gu=Pc?be.Buffer:t,la=be.Symbol,Fc=be.Uint8Array,bp=Gu?Gu.allocUnsafe:t,Ga=rv(Tn.getPrototypeOf,Tn),iv=Tn.create,Zf=Hu.propertyIsEnumerable,Io=Xf.splice,_w=la?la.isConcatSpreadable:t,ss=la?la.iterator:t,No=la?la.toStringTag:t,Oi=(function(){try{var d=kl(Tn,"defineProperty");return d({},"",{}),d}catch{}})(),bw=be.clearTimeout!==Zn.clearTimeout&&be.clearTimeout,wp=Ye&&Ye.now!==Zn.Date.now&&Ye.now,zc=be.setTimeout!==Zn.setTimeout&&be.setTimeout,Yu=er.ceil,eh=er.floor,th=Tn.getOwnPropertySymbols,ww=Gu?Gu.isBuffer:t,oi=be.isFinite,Ku=Xf.join,Qu=rv(Tn.keys,Tn),ur=er.max,Rr=er.min,Di=Ye.now,Pi=be.parseInt,ko=er.random,Ya=Xf.reverse,Mi=kl(be,"DataView"),li=kl(be,"Map"),xp=kl(be,"Promise"),_l=kl(be,"Set"),qc=kl(be,"WeakMap"),Ju=kl(Tn,"create"),Ir=qc&&new qc,bn={},tn=vs(Mi),bl=vs(li),ji=vs(xp),av=vs(_l),wl=vs(qc),nh=la?la.prototype:t,Xu=nh?nh.valueOf:t,Wc=nh?nh.toString:t;function z(d){if(hr(d)&&!Rt(d)&&!(d instanceof Ot)){if(d instanceof Ls)return d;if(pn.call(d,"__wrapped__"))return Zp(d)}return new Ls(d)}var xl=(function(){function d(){}return function(p){if(!nr(p))return{};if(iv)return iv(p);d.prototype=p;var x=new d;return d.prototype=t,x}})();function Sl(){}function Ls(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=t}z.templateSettings={escape:Tt,evaluate:kf,interpolate:xc,variable:"",imports:{_:z}},z.prototype=Sl.prototype,z.prototype.constructor=z,Ls.prototype=xl(Sl.prototype),Ls.prototype.constructor=Ls;function Ot(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function Oo(){var d=new Ot(this.__wrapped__);return d.__actions__=Cs(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Cs(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Cs(this.__views__),d}function El(){if(this.__filtered__){var d=new Ot(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Do(){var d=this.__wrapped__.value(),p=this.__dir__,x=Rt(d),A=p<0,j=x?d.length:0,H=GS(0,j,this.__views__),Z=H.start,ne=H.end,le=ne-Z,Re=A?ne:Z-1,Ie=this.__iteratees__,Oe=Ie.length,ze=0,at=Rr(le,this.__takeCount__);if(!x||!A&&j==le&&at==le)return wv(d,this.__actions__);var wt=[];e:for(;le--&&ze<at;){Re+=p;for(var qt=-1,xt=d[Re];++qt<Oe;){var nn=Ie[qt],on=nn.iteratee,ba=nn.type,bi=on(xt);if(ba==de)xt=bi;else if(!bi){if(ba==Ee)continue e;break e}}wt[ze++]=xt}return wt}Ot.prototype=xl(Sl.prototype),Ot.prototype.constructor=Ot;function Po(d){var p=-1,x=d==null?0:d.length;for(this.clear();++p<x;){var A=d[p];this.set(A[0],A[1])}}function ov(){this.__data__=Ju?Ju(null):{},this.size=0}function Zu(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function Sp(d){var p=this.__data__;if(Ju){var x=p[d];return x===f?t:x}return pn.call(p,d)?p[d]:t}function Hc(d){var p=this.__data__;return Ju?p[d]!==t:pn.call(p,d)}function is(d,p){var x=this.__data__;return this.size+=this.has(d)?0:1,x[d]=Ju&&p===t?f:p,this}Po.prototype.clear=ov,Po.prototype.delete=Zu,Po.prototype.get=Sp,Po.prototype.has=Hc,Po.prototype.set=is;function Li(d){var p=-1,x=d==null?0:d.length;for(this.clear();++p<x;){var A=d[p];this.set(A[0],A[1])}}function xw(){this.__data__=[],this.size=0}function BS(d){var p=this.__data__,x=Ka(p,d);if(x<0)return!1;var A=p.length-1;return x==A?p.pop():Io.call(p,x,1),--this.size,!0}function US(d){var p=this.__data__,x=Ka(p,d);return x<0?t:p[x][1]}function FS(d){return Ka(this.__data__,d)>-1}function Nr(d,p){var x=this.__data__,A=Ka(x,d);return A<0?(++this.size,x.push([d,p])):x[A][1]=p,this}Li.prototype.clear=xw,Li.prototype.delete=BS,Li.prototype.get=US,Li.prototype.has=FS,Li.prototype.set=Nr;function ca(d){var p=-1,x=d==null?0:d.length;for(this.clear();++p<x;){var A=d[p];this.set(A[0],A[1])}}function rh(){this.size=0,this.__data__={hash:new Po,map:new(li||Li),string:new Po}}function sh(d){var p=xh(this,d).delete(d);return this.size-=p?1:0,p}function lv(d){return xh(this,d).get(d)}function ed(d){return xh(this,d).has(d)}function td(d,p){var x=xh(this,d),A=x.size;return x.set(d,p),this.size+=x.size==A?0:1,this}ca.prototype.clear=rh,ca.prototype.delete=sh,ca.prototype.get=lv,ca.prototype.has=ed,ca.prototype.set=td;function $c(d){var p=-1,x=d==null?0:d.length;for(this.__data__=new ca;++p<x;)this.add(d[p])}function Sw(d){return this.__data__.set(d,f),this}function zS(d){return this.__data__.has(d)}$c.prototype.add=$c.prototype.push=Sw,$c.prototype.has=zS;function Vi(d){var p=this.__data__=new Li(d);this.size=p.size}function Gc(){this.__data__=new Li,this.size=0}function cv(d){var p=this.__data__,x=p.delete(d);return this.size=p.size,x}function Ep(d){return this.__data__.get(d)}function Ew(d){return this.__data__.has(d)}function nd(d,p){var x=this.__data__;if(x instanceof Li){var A=x.__data__;if(!li||A.length<s-1)return A.push([d,p]),this.size=++x.size,this;x=this.__data__=new ca(A)}return x.set(d,p),this.size=x.size,this}Vi.prototype.clear=Gc,Vi.prototype.delete=cv,Vi.prototype.get=Ep,Vi.prototype.has=Ew,Vi.prototype.set=nd;function Tp(d,p){var x=Rt(d),A=!x&&tu(d),j=!x&&!A&&Vl(d),H=!x&&!A&&!j&&Bl(d),Z=x||A||j||H,ne=Z?Ao(d.length,Uc):[],le=ne.length;for(var Re in d)(p||pn.call(d,Re))&&!(Z&&(Re=="length"||j&&(Re=="offset"||Re=="parent")||H&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||ga(Re,le)))&&ne.push(Re);return ne}function ih(d){var p=d.length;return p?d[ud(0,p-1)]:t}function Cp(d,p){return Nh(Cs(d),da(p,0,d.length))}function Tw(d){return Nh(Cs(d))}function Ap(d,p,x){(x!==t&&!yi(d[p],x)||x===t&&!(p in d))&&ci(d,p,x)}function ua(d,p,x){var A=d[p];(!(pn.call(d,p)&&yi(A,x))||x===t&&!(p in d))&&ci(d,p,x)}function Ka(d,p){for(var x=d.length;x--;)if(yi(d[x][0],p))return x;return-1}function Cw(d,p,x,A){return Qa(d,function(j,H,Z){p(A,j,x(j),Z)}),A}function uv(d,p){return d&&zi(p,Qr(p),d)}function rd(d,p){return d&&zi(p,Gs(p),d)}function ci(d,p,x){p=="__proto__"&&Oi?Oi(d,p,{configurable:!0,enumerable:!0,value:x,writable:!0}):d[p]=x}function sd(d,p){for(var x=-1,A=p.length,j=ge(A),H=d==null;++x<A;)j[x]=H?t:Ul(d,p[x]);return j}function da(d,p,x){return d===d&&(x!==t&&(d=d<=x?d:x),p!==t&&(d=d>=p?d:p)),d}function Ts(d,p,x,A,j,H){var Z,ne=p&_,le=p&b,Re=p&E;if(x&&(Z=j?x(d,A,j,H):x(d)),Z!==t)return Z;if(!nr(d))return d;var Ie=Rt(d);if(Ie){if(Z=qw(d),!ne)return Cs(d,Z)}else{var Oe=os(d),ze=Oe==_t||Oe==Wn;if(Vl(d))return Ev(d,ne);if(Oe==Nn||Oe==Ue||ze&&!j){if(Z=le||ze?{}:Vv(d),!ne)return le?Vw(d,rd(Z,d)):Lw(d,uv(Z,d))}else{if(!_n[Oe])return j?d:{};Z=Ww(d,Oe,ne)}}H||(H=new Vi);var at=H.get(d);if(at)return at;H.set(d,Z),$h(d)?d.forEach(function(xt){Z.add(Ts(xt,p,x,xt,d,H))}):C0(d)&&d.forEach(function(xt,nn){Z.set(nn,Ts(xt,p,x,nn,d,H))});var wt=Re?le?Lv:Hp:le?Gs:Qr,qt=Ie?t:wt(d);return _r(qt||d,function(xt,nn){qt&&(nn=xt,xt=d[nn]),ua(Z,nn,Ts(xt,p,x,nn,d,H))}),Z}function Aw(d){var p=Qr(d);return function(x){return Tl(x,d,p)}}function Tl(d,p,x){var A=x.length;if(d==null)return!A;for(d=Tn(d);A--;){var j=x[A],H=p[j],Z=d[j];if(Z===t&&!(j in d)||!H(Z))return!1}return!0}function dv(d,p,x){if(typeof d!="function")throw new ai(l);return Ih(function(){d.apply(t,x)},p)}function Bi(d,p,x,A){var j=-1,H=Lc,Z=!0,ne=d.length,le=[],Re=p.length;if(!ne)return le;x&&(p=zt(p,ii(x))),A?(H=$a,Z=!1):p.length>=s&&(H=Kf,Z=!1,p=new $c(p));e:for(;++j<ne;){var Ie=d[j],Oe=x==null?Ie:x(Ie);if(Ie=A||Ie!==0?Ie:0,Z&&Oe===Oe){for(var ze=Re;ze--;)if(p[ze]===Oe)continue e;le.push(Ie)}else H(p,Oe,A)||le.push(Ie)}return le}var Qa=Rv(ha),Rp=Rv(Np,!0);function Cl(d,p){var x=!0;return Qa(d,function(A,j,H){return x=!!p(A,j,H),x}),x}function fa(d,p,x){for(var A=-1,j=d.length;++A<j;){var H=d[A],Z=p(H);if(Z!=null&&(ne===t?Z===Z&&!$s(Z):x(Z,ne)))var ne=Z,le=H}return le}function ah(d,p,x,A){var j=d.length;for(x=bt(x),x<0&&(x=-x>j?0:j+x),A=A===t||A>j?j:bt(A),A<0&&(A+=j),A=x>A?0:S_(A);x<A;)d[x++]=p;return d}function Ip(d,p){var x=[];return Qa(d,function(A,j,H){p(A,j,H)&&x.push(A)}),x}function Br(d,p,x,A,j){var H=-1,Z=d.length;for(x||(x=Uv),j||(j=[]);++H<Z;){var ne=d[H];p>0&&x(ne)?p>1?Br(ne,p-1,x,A,j):ia(j,ne):A||(j[j.length]=ne)}return j}var Yc=Iv(),id=Iv(!0);function ha(d,p){return d&&Yc(d,p,Qr)}function Np(d,p){return d&&id(d,p,Qr)}function Mo(d,p){return sa(p,function(x){return vi(d[x])})}function Ja(d,p){p=hi(p,d);for(var x=0,A=p.length;d!=null&&x<A;)d=d[Us(p[x++])];return x&&x==A?d:t}function fv(d,p,x){var A=p(d);return Rt(d)?A:ia(A,x(d))}function as(d){return d==null?d===t?gr:$r:No&&No in Tn(d)?Sh(d):zv(d)}function oh(d,p){return d>p}function ui(d,p){return d!=null&&pn.call(d,p)}function Ui(d,p){return d!=null&&p in Tn(d)}function Al(d,p,x){return d>=Rr(p,x)&&d<ur(p,x)}function lh(d,p,x){for(var A=x?$a:Lc,j=d[0].length,H=d.length,Z=H,ne=ge(H),le=1/0,Re=[];Z--;){var Ie=d[Z];Z&&p&&(Ie=zt(Ie,ii(p))),le=Rr(Ie.length,le),ne[Z]=!x&&(p||j>=120&&Ie.length>=120)?new $c(Z&&Ie):t}Ie=d[0];var Oe=-1,ze=ne[0];e:for(;++Oe<j&&Re.length<le;){var at=Ie[Oe],wt=p?p(at):at;if(at=x||at!==0?at:0,!(ze?Kf(ze,wt):A(Re,wt,x))){for(Z=H;--Z;){var qt=ne[Z];if(!(qt?Kf(qt,wt):A(d[Z],wt,x)))continue e}ze&&ze.push(wt),Re.push(at)}}return Re}function Rw(d,p,x,A){return ha(d,function(j,H,Z){p(A,x(j),H,Z)}),A}function Fi(d,p,x){p=hi(p,d),d=Ah(d,p);var A=d==null?d:d[Us(Qn(p))];return A==null?t:ps(A,d,x)}function Vs(d){return hr(d)&&as(d)==Ue}function br(d){return hr(d)&&as(d)==Hn}function kp(d){return hr(d)&&as(d)==ct}function di(d,p,x,A,j){return d===p?!0:d==null||p==null||!hr(d)&&!hr(p)?d!==d&&p!==p:Dt(d,p,x,A,di,j)}function Dt(d,p,x,A,j,H){var Z=Rt(d),ne=Rt(p),le=Z?nt:os(d),Re=ne?nt:os(p);le=le==Ue?Nn:le,Re=Re==Ue?Nn:Re;var Ie=le==Nn,Oe=Re==Nn,ze=le==Re;if(ze&&Vl(d)){if(!Vl(p))return!1;Z=!0,Ie=!1}if(ze&&!Ie)return H||(H=new Vi),Z||Bl(d)?bh(d,p,x,A,j,H):zw(d,p,le,x,A,j,H);if(!(x&T)){var at=Ie&&pn.call(d,"__wrapped__"),wt=Oe&&pn.call(p,"__wrapped__");if(at||wt){var qt=at?d.value():d,xt=wt?p.value():p;return H||(H=new Vi),j(qt,xt,x,A,H)}}return ze?(H||(H=new Vi),jv(d,p,x,A,j,H)):!1}function On(d){return hr(d)&&os(d)==Zt}function dr(d,p,x,A){var j=x.length,H=j,Z=!A;if(d==null)return!H;for(d=Tn(d);j--;){var ne=x[j];if(Z&&ne[2]?ne[1]!==d[ne[0]]:!(ne[0]in d))return!1}for(;++j<H;){ne=x[j];var le=ne[0],Re=d[le],Ie=ne[1];if(Z&&ne[2]){if(Re===t&&!(le in d))return!1}else{var Oe=new Vi;if(A)var ze=A(Re,Ie,le,d,p,Oe);if(!(ze===t?di(Ie,Re,T|C,A,Oe):ze))return!1}}return!0}function ch(d){if(!nr(d)||Hw(d))return!1;var p=vi(d)?$u:lp;return p.test(vs(d))}function ad(d){return hr(d)&&as(d)==Vn}function Kc(d){return hr(d)&&os(d)==lr}function Op(d){return hr(d)&&fg(d.length)&&!!mn[as(d)]}function od(d){return typeof d=="function"?d:d==null?Rs:typeof d=="object"?Rt(d)?hv(d[0],d[1]):Pp(d):F(d)}function Rl(d){if(!pd(d))return Qu(d);var p=[];for(var x in Tn(d))pn.call(d,x)&&x!="constructor"&&p.push(x);return p}function qS(d){if(!nr(d))return Lo(d);var p=pd(d),x=[];for(var A in d)A=="constructor"&&(p||!pn.call(d,A))||x.push(A);return x}function tr(d,p){return d<p}function Dp(d,p){var x=-1,A=Hs(d)?ge(d.length):[];return Qa(d,function(j,H,Z){A[++x]=p(j,H,Z)}),A}function Pp(d){var p=$p(d);return p.length==1&&p[0][2]?Jp(p[0][0],p[0][1]):function(x){return x===d||dr(x,d,p)}}function hv(d,p){return Th(d)&&Za(p)?Jp(Us(d),p):function(x){var A=Ul(x,d);return A===t&&A===p?T_(x,d):di(p,A,T|C)}}function uh(d,p,x,A,j){d!==p&&Yc(p,function(H,Z){if(j||(j=new Vi),nr(H))WS(d,p,Z,x,uh,A,j);else{var ne=A?A(Un(d,Z),H,Z+"",d,p,j):t;ne===t&&(ne=H),Ap(d,Z,ne)}},Gs)}function WS(d,p,x,A,j,H,Z){var ne=Un(d,x),le=Un(p,x),Re=Z.get(le);if(Re){Ap(d,x,Re);return}var Ie=H?H(ne,le,x+"",d,p,Z):t,Oe=Ie===t;if(Oe){var ze=Rt(le),at=!ze&&Vl(le),wt=!ze&&!at&&Bl(le);Ie=le,ze||at||wt?Rt(ne)?Ie=ne:xr(ne)?Ie=Cs(ne):at?(Oe=!1,Ie=Ev(le,!0)):wt?(Oe=!1,Ie=Tv(le,!0)):Ie=[]:Wh(le)||tu(le)?(Ie=ne,tu(ne)?Ie=hg(ne):(!nr(ne)||vi(ne))&&(Ie=Vv(le))):Oe=!1}Oe&&(Z.set(le,Ie),j(Ie,le,A,H,Z),Z.delete(le)),Ap(d,x,Ie)}function Mp(d,p){var x=d.length;if(x)return p+=p<0?x:0,ga(p,x)?d[p]:t}function jp(d,p,x){p.length?p=zt(p,function(H){return Rt(H)?function(Z){return Ja(Z,H.length===1?H[0]:H)}:H}):p=[Rs];var A=-1;p=zt(p,ii(pt()));var j=Dp(d,function(H,Z,ne){var le=zt(p,function(Re){return Re(H)});return{criteria:le,index:++A,value:H}});return oa(j,function(H,Z){return jw(H,Z,x)})}function mv(d,p){return gs(d,p,function(x,A){return T_(d,A)})}function gs(d,p,x){for(var A=-1,j=p.length,H={};++A<j;){var Z=p[A],ne=Ja(d,Z);x(ne,Z)&&dd(H,hi(Z,d),ne)}return H}function wr(d){return function(p){return Ja(p,d)}}function ld(d,p,x,A){var j=A?kt:je,H=-1,Z=p.length,ne=d;for(d===p&&(p=Cs(p)),x&&(ne=zt(d,ii(x)));++H<Z;)for(var le=0,Re=p[H],Ie=x?x(Re):Re;(le=j(ne,Ie,le,A))>-1;)ne!==d&&Io.call(ne,le,1),Io.call(d,le,1);return d}function cd(d,p){for(var x=d?p.length:0,A=x-1;x--;){var j=p[x];if(x==A||j!==H){var H=j;ga(j)?Io.call(d,j,1):dh(d,j)}}return d}function ud(d,p){return d+eh(ko()*(p-d+1))}function pv(d,p,x,A){for(var j=-1,H=ur(Yu((p-d)/(x||1)),0),Z=ge(H);H--;)Z[A?H:++j]=d,d+=x;return Z}function ma(d,p){var x="";if(!d||p<1||p>se)return x;do p%2&&(x+=d),p=eh(p/2),p&&(d+=d);while(p);return x}function Pt(d,p){return Xp(qv(d,p,Rs),d+"")}function gv(d){return ih(Id(d))}function yv(d,p){var x=Id(d);return Nh(x,da(p,0,x.length))}function dd(d,p,x,A){if(!nr(d))return d;p=hi(p,d);for(var j=-1,H=p.length,Z=H-1,ne=d;ne!=null&&++j<H;){var le=Us(p[j]),Re=x;if(le==="__proto__"||le==="constructor"||le==="prototype")return d;if(j!=Z){var Ie=ne[le];Re=A?A(Ie,le,ne):t,Re===t&&(Re=nr(Ie)?Ie:ga(p[j+1])?[]:{})}ua(ne,le,Re),ne=ne[le]}return d}var vv=Ir?function(d,p){return Ir.set(d,p),d}:Rs,Iw=Oi?function(d,p){return Oi(d,"toString",{configurable:!0,enumerable:!1,value:kd(p),writable:!0})}:Rs;function Nw(d){return Nh(Id(d))}function fi(d,p,x){var A=-1,j=d.length;p<0&&(p=-p>j?0:j+p),x=x>j?j:x,x<0&&(x+=j),j=p>x?0:x-p>>>0,p>>>=0;for(var H=ge(j);++A<j;)H[A]=d[A+p];return H}function kw(d,p){var x;return Qa(d,function(A,j,H){return x=p(A,j,H),!x}),!!x}function fd(d,p,x){var A=0,j=d==null?A:d.length;if(typeof p=="number"&&p===p&&j<=Ce){for(;A<j;){var H=A+j>>>1,Z=d[H];Z!==null&&!$s(Z)&&(x?Z<=p:Z<p)?A=H+1:j=H}return j}return Lp(d,p,Rs,x)}function Lp(d,p,x,A){var j=0,H=d==null?0:d.length;if(H===0)return 0;p=x(p);for(var Z=p!==p,ne=p===null,le=$s(p),Re=p===t;j<H;){var Ie=eh((j+H)/2),Oe=x(d[Ie]),ze=Oe!==t,at=Oe===null,wt=Oe===Oe,qt=$s(Oe);if(Z)var xt=A||wt;else Re?xt=wt&&(A||ze):ne?xt=wt&&ze&&(A||!at):le?xt=wt&&ze&&!at&&(A||!qt):at||qt?xt=!1:xt=A?Oe<=p:Oe<p;xt?j=Ie+1:H=Ie}return Rr(H,ye)}function Ow(d,p){for(var x=-1,A=d.length,j=0,H=[];++x<A;){var Z=d[x],ne=p?p(Z):Z;if(!x||!yi(ne,le)){var le=ne;H[j++]=Z===0?0:Z}}return H}function _v(d){return typeof d=="number"?d:$s(d)?_e:+d}function Bs(d){if(typeof d=="string")return d;if(Rt(d))return zt(d,Bs)+"";if($s(d))return Wc?Wc.call(d):"";var p=d+"";return p=="0"&&1/d==-ce?"-0":p}function jo(d,p,x){var A=-1,j=Lc,H=d.length,Z=!0,ne=[],le=ne;if(x)Z=!1,j=$a;else if(H>=s){var Re=p?null:Uw(d);if(Re)return mp(Re);Z=!1,j=Kf,le=new $c}else le=p?[]:ne;e:for(;++A<H;){var Ie=d[A],Oe=p?p(Ie):Ie;if(Ie=x||Ie!==0?Ie:0,Z&&Oe===Oe){for(var ze=le.length;ze--;)if(le[ze]===Oe)continue e;p&&le.push(Oe),ne.push(Ie)}else j(le,Oe,x)||(le!==ne&&le.push(Oe),ne.push(Ie))}return ne}function dh(d,p){p=hi(p,d);var x=-1,A=p.length;if(!A)return!0;for(var j=d==null||typeof d!="object"&&typeof d!="function";++x<A;){var H=p[x];if(typeof H=="string"){if(H==="__proto__"&&!pn.call(d,"__proto__"))return!1;if(H==="constructor"&&x+1<A&&typeof p[x+1]=="string"&&p[x+1]==="prototype"){if(j&&x===0)continue;return!1}}}var Z=Ah(d,p);return Z==null||delete Z[Us(Qn(p))]}function bv(d,p,x,A){return dd(d,p,x(Ja(d,p)),A)}function fh(d,p,x,A){for(var j=d.length,H=A?j:-1;(A?H--:++H<j)&&p(d[H],H,d););return x?fi(d,A?0:H,A?H+1:j):fi(d,A?H+1:0,A?j:H)}function wv(d,p){var x=d;return x instanceof Ot&&(x=x.value()),Uu(p,function(A,j){return j.func.apply(j.thisArg,ia([A],j.args))},x)}function Vp(d,p,x){var A=d.length;if(A<2)return A?jo(d[0]):[];for(var j=-1,H=ge(A);++j<A;)for(var Z=d[j],ne=-1;++ne<A;)ne!=j&&(H[j]=Bi(H[j]||Z,d[ne],p,x));return jo(Br(H,1),p,x)}function xv(d,p,x){for(var A=-1,j=d.length,H=p.length,Z={};++A<j;){var ne=A<H?p[A]:t;x(Z,d[A],ne)}return Z}function Sv(d){return xr(d)?d:[]}function Bp(d){return typeof d=="function"?d:Rs}function hi(d,p){return Rt(d)?d:Th(d,p)?[d]:Wv(wn(d))}var Dw=Pt;function pa(d,p,x){var A=d.length;return x=x===t?A:x,!p&&x>=A?d:fi(d,p,x)}var hh=bw||function(d){return Zn.clearTimeout(d)};function Ev(d,p){if(p)return d.slice();var x=d.length,A=bp?bp(x):new d.constructor(x);return d.copy(A),A}function mh(d){var p=new d.constructor(d.byteLength);return new Fc(p).set(new Fc(d)),p}function HS(d,p){var x=p?mh(d.buffer):d.buffer;return new d.constructor(x,d.byteOffset,d.byteLength)}function Pw(d){var p=new d.constructor(d.source,Cc.exec(d));return p.lastIndex=d.lastIndex,p}function Mw(d){return Xu?Tn(Xu.call(d)):{}}function Tv(d,p){var x=p?mh(d.buffer):d.buffer;return new d.constructor(x,d.byteOffset,d.length)}function Cv(d,p){if(d!==p){var x=d!==t,A=d===null,j=d===d,H=$s(d),Z=p!==t,ne=p===null,le=p===p,Re=$s(p);if(!ne&&!Re&&!H&&d>p||H&&Z&&le&&!ne&&!Re||A&&Z&&le||!x&&le||!j)return 1;if(!A&&!H&&!Re&&d<p||Re&&x&&j&&!A&&!H||ne&&x&&j||!Z&&j||!le)return-1}return 0}function jw(d,p,x){for(var A=-1,j=d.criteria,H=p.criteria,Z=j.length,ne=x.length;++A<Z;){var le=Cv(j[A],H[A]);if(le){if(A>=ne)return le;var Re=x[A];return le*(Re=="desc"?-1:1)}}return d.index-p.index}function Up(d,p,x,A){for(var j=-1,H=d.length,Z=x.length,ne=-1,le=p.length,Re=ur(H-Z,0),Ie=ge(le+Re),Oe=!A;++ne<le;)Ie[ne]=p[ne];for(;++j<Z;)(Oe||j<H)&&(Ie[x[j]]=d[j]);for(;Re--;)Ie[ne++]=d[j++];return Ie}function Av(d,p,x,A){for(var j=-1,H=d.length,Z=-1,ne=x.length,le=-1,Re=p.length,Ie=ur(H-ne,0),Oe=ge(Ie+Re),ze=!A;++j<Ie;)Oe[j]=d[j];for(var at=j;++le<Re;)Oe[at+le]=p[le];for(;++Z<ne;)(ze||j<H)&&(Oe[at+x[Z]]=d[j++]);return Oe}function Cs(d,p){var x=-1,A=d.length;for(p||(p=ge(A));++x<A;)p[x]=d[x];return p}function zi(d,p,x,A){var j=!x;x||(x={});for(var H=-1,Z=p.length;++H<Z;){var ne=p[H],le=A?A(x[ne],d[ne],ne,x,d):t;le===t&&(le=d[ne]),j?ci(x,ne,le):ua(x,ne,le)}return x}function Lw(d,p){return zi(d,Gp(d),p)}function Vw(d,p){return zi(d,Eh(d),p)}function Fp(d,p){return function(x,A){var j=Rt(x)?up:Cw,H=p?p():{};return j(x,d,pt(A,2),H)}}function Il(d){return Pt(function(p,x){var A=-1,j=x.length,H=j>1?x[j-1]:t,Z=j>2?x[2]:t;for(H=d.length>3&&typeof H=="function"?(j--,H):t,Z&&ys(x[0],x[1],Z)&&(H=j<3?t:H,j=1),p=Tn(p);++A<j;){var ne=x[A];ne&&d(p,ne,A,H)}return p})}function Rv(d,p){return function(x,A){if(x==null)return x;if(!Hs(x))return d(x,A);for(var j=x.length,H=p?j:-1,Z=Tn(x);(p?H--:++H<j)&&A(Z[H],H,Z)!==!1;);return x}}function Iv(d){return function(p,x,A){for(var j=-1,H=Tn(p),Z=A(p),ne=Z.length;ne--;){var le=Z[d?ne:++j];if(x(H[le],le,H)===!1)break}return p}}function Nv(d,p,x){var A=p&N,j=ph(d);function H(){var Z=this&&this!==Zn&&this instanceof H?j:d;return Z.apply(A?x:this,arguments)}return H}function kv(d){return function(p){p=wn(p);var x=Bc(p)?sr(p):t,A=x?x[0]:p.charAt(0),j=x?pa(x,1).join(""):p.slice(1);return A[d]()+j}}function Qc(d){return function(p){return Uu(Z0(Nd(p).replace(Vu,"")),d,"")}}function ph(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var x=xl(d.prototype),A=d.apply(x,p);return nr(A)?A:x}}function $S(d,p,x){var A=ph(d);function j(){for(var H=arguments.length,Z=ge(H),ne=H,le=fr(j);ne--;)Z[ne]=arguments[ne];var Re=H<3&&Z[0]!==le&&Z[H-1]!==le?[]:Ro(Z,le);if(H-=Re.length,H<x)return Wp(d,p,md,j.placeholder,t,Z,Re,t,t,x-H);var Ie=this&&this!==Zn&&this instanceof j?A:d;return ps(Ie,this,Z)}return j}function Ov(d){return function(p,x,A){var j=Tn(p);if(!Hs(p)){var H=pt(x,3);p=Qr(p),x=function(ne){return H(j[ne],ne,j)}}var Z=d(p,x,A);return Z>-1?j[H?p[Z]:Z]:t}}function hd(d){return Xa(function(p){var x=p.length,A=x,j=Ls.prototype.thru;for(d&&p.reverse();A--;){var H=p[A];if(typeof H!="function")throw new ai(l);if(j&&!Z&&ir(H)=="wrapper")var Z=new Ls([],!0)}for(A=Z?A:x;++A<x;){H=p[A];var ne=ir(H),le=ne=="wrapper"?wh(H):t;le&&Ch(le[0])&&le[1]==(D|U|W|P)&&!le[4].length&&le[9]==1?Z=Z[ir(le[0])].apply(Z,le[3]):Z=H.length==1&&Ch(H)?Z[ne]():Z.thru(H)}return function(){var Re=arguments,Ie=Re[0];if(Z&&Re.length==1&&Rt(Ie))return Z.plant(Ie).value();for(var Oe=0,ze=x?p[Oe].apply(this,Re):Ie;++Oe<x;)ze=p[Oe].call(this,ze);return ze}})}function md(d,p,x,A,j,H,Z,ne,le,Re){var Ie=p&D,Oe=p&N,ze=p&M,at=p&(U|Y),wt=p&L,qt=ze?t:ph(d);function xt(){for(var nn=arguments.length,on=ge(nn),ba=nn;ba--;)on[ba]=arguments[ba];if(at)var bi=fr(xt),wa=Qf(on,bi);if(A&&(on=Up(on,A,j,at)),H&&(on=Av(on,H,Z,at)),nn-=wa,at&&nn<Re){var Fr=Ro(on,bi);return Wp(d,p,md,xt.placeholder,x,on,Fr,ne,le,Re-nn)}var $o=Oe?x:this,ru=ze?$o[d]:d;return nn=on.length,ne?on=Rh(on,ne):wt&&nn>1&&on.reverse(),Ie&&le<nn&&(on.length=le),this&&this!==Zn&&this instanceof xt&&(ru=qt||ph(ru)),ru.apply($o,on)}return xt}function gh(d,p){return function(x,A){return Rw(x,d,p(A),{})}}function yh(d,p){return function(x,A){var j;if(x===t&&A===t)return p;if(x!==t&&(j=x),A!==t){if(j===t)return A;typeof x=="string"||typeof A=="string"?(x=Bs(x),A=Bs(A)):(x=_v(x),A=_v(A)),j=d(x,A)}return j}}function zp(d){return Xa(function(p){return p=zt(p,ii(pt())),Pt(function(x){var A=this;return d(p,function(j){return ps(j,A,x)})})})}function Nl(d,p){p=p===t?" ":Bs(p);var x=p.length;if(x<2)return x?ma(p,d):p;var A=ma(p,Yu(d/zu(p)));return Bc(p)?pa(sr(A),0,d).join(""):A.slice(0,d)}function Bw(d,p,x,A){var j=p&N,H=ph(d);function Z(){for(var ne=-1,le=arguments.length,Re=-1,Ie=A.length,Oe=ge(Ie+le),ze=this&&this!==Zn&&this instanceof Z?H:d;++Re<Ie;)Oe[Re]=A[Re];for(;le--;)Oe[Re++]=arguments[++ne];return ps(ze,j?x:this,Oe)}return Z}function qp(d){return function(p,x,A){return A&&typeof A!="number"&&ys(p,x,A)&&(x=A=t),p=Wo(p),x===t?(x=p,p=0):x=Wo(x),A=A===t?p<x?1:-1:Wo(A),pv(p,x,A,d)}}function vh(d){return function(p,x){return typeof p=="string"&&typeof x=="string"||(p=_i(p),x=_i(x)),d(p,x)}}function Wp(d,p,x,A,j,H,Z,ne,le,Re){var Ie=p&U,Oe=Ie?Z:t,ze=Ie?t:Z,at=Ie?H:t,wt=Ie?t:H;p|=Ie?W:K,p&=~(Ie?K:W),p&B||(p&=-4);var qt=[d,p,j,at,Oe,wt,ze,ne,le,Re],xt=x.apply(t,qt);return Ch(d)&&Gw(xt,qt),xt.placeholder=A,gd(xt,d,p)}function _h(d){var p=er[d];return function(x,A){if(x=_i(x),A=A==null?0:Rr(bt(A),292),A&&oi(x)){var j=(wn(x)+"e").split("e"),H=p(j[0]+"e"+(+j[1]+A));return j=(wn(H)+"e").split("e"),+(j[0]+"e"+(+j[1]-A))}return p(x)}}var Uw=_l&&1/mp(new _l([,-0]))[1]==ce?function(d){return new _l(d)}:c;function Dv(d){return function(p){var x=os(p);return x==Zt?hp(p):x==lr?jS(p):Fu(p,d(p))}}function As(d,p,x,A,j,H,Z,ne){var le=p&M;if(!le&&typeof d!="function")throw new ai(l);var Re=A?A.length:0;if(Re||(p&=-97,A=j=t),Z=Z===t?Z:ur(bt(Z),0),ne=ne===t?ne:bt(ne),Re-=j?j.length:0,p&K){var Ie=A,Oe=j;A=j=t}var ze=le?t:wh(d),at=[d,p,x,A,j,Ie,Oe,H,Z,ne];if(ze&&$w(at,ze),d=at[0],p=at[1],x=at[2],A=at[3],j=at[4],ne=at[9]=at[9]===t?le?0:d.length:ur(at[9]-Re,0),!ne&&p&(U|Y)&&(p&=-25),!p||p==N)var wt=Nv(d,p,x);else p==U||p==Y?wt=$S(d,p,ne):(p==W||p==(N|W))&&!j.length?wt=Bw(d,p,x,A):wt=md.apply(t,at);var qt=ze?vv:Gw;return gd(qt(wt,at),d,p)}function Pv(d,p,x,A){return d===t||yi(d,Hu[x])&&!pn.call(A,x)?p:d}function Mv(d,p,x,A,j,H){return nr(d)&&nr(p)&&(H.set(p,d),uh(d,p,t,Mv,H),H.delete(p)),d}function Fw(d){return Wh(d)?t:d}function bh(d,p,x,A,j,H){var Z=x&T,ne=d.length,le=p.length;if(ne!=le&&!(Z&&le>ne))return!1;var Re=H.get(d),Ie=H.get(p);if(Re&&Ie)return Re==p&&Ie==d;var Oe=-1,ze=!0,at=x&C?new $c:t;for(H.set(d,p),H.set(p,d);++Oe<ne;){var wt=d[Oe],qt=p[Oe];if(A)var xt=Z?A(qt,wt,Oe,p,d,H):A(wt,qt,Oe,d,p,H);if(xt!==t){if(xt)continue;ze=!1;break}if(at){if(!v(p,function(nn,on){if(!Kf(at,on)&&(wt===nn||j(wt,nn,x,A,H)))return at.push(on)})){ze=!1;break}}else if(!(wt===qt||j(wt,qt,x,A,H))){ze=!1;break}}return H.delete(d),H.delete(p),ze}function zw(d,p,x,A,j,H,Z){switch(x){case Bn:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case Hn:return!(d.byteLength!=p.byteLength||!H(new Fc(d),new Fc(p)));case it:case ct:case pr:return yi(+d,+p);case vt:return d.name==p.name&&d.message==p.message;case Vn:case Ci:return d==p+"";case Zt:var ne=hp;case lr:var le=A&T;if(ne||(ne=mp),d.size!=p.size&&!le)return!1;var Re=Z.get(d);if(Re)return Re==p;A|=C,Z.set(d,p);var Ie=bh(ne(d),ne(p),A,j,H,Z);return Z.delete(d),Ie;case Ai:if(Xu)return Xu.call(d)==Xu.call(p)}return!1}function jv(d,p,x,A,j,H){var Z=x&T,ne=Hp(d),le=ne.length,Re=Hp(p),Ie=Re.length;if(le!=Ie&&!Z)return!1;for(var Oe=le;Oe--;){var ze=ne[Oe];if(!(Z?ze in p:pn.call(p,ze)))return!1}var at=H.get(d),wt=H.get(p);if(at&&wt)return at==p&&wt==d;var qt=!0;H.set(d,p),H.set(p,d);for(var xt=Z;++Oe<le;){ze=ne[Oe];var nn=d[ze],on=p[ze];if(A)var ba=Z?A(on,nn,ze,p,d,H):A(nn,on,ze,d,p,H);if(!(ba===t?nn===on||j(nn,on,x,A,H):ba)){qt=!1;break}xt||(xt=ze=="constructor")}if(qt&&!xt){var bi=d.constructor,wa=p.constructor;bi!=wa&&"constructor"in d&&"constructor"in p&&!(typeof bi=="function"&&bi instanceof bi&&typeof wa=="function"&&wa instanceof wa)&&(qt=!1)}return H.delete(d),H.delete(p),qt}function Xa(d){return Xp(qv(d,t,Kn),d+"")}function Hp(d){return fv(d,Qr,Gp)}function Lv(d){return fv(d,Gs,Eh)}var wh=Ir?function(d){return Ir.get(d)}:c;function ir(d){for(var p=d.name+"",x=bn[p],A=pn.call(bn,p)?x.length:0;A--;){var j=x[A],H=j.func;if(H==null||H==d)return j.name}return p}function fr(d){var p=pn.call(z,"placeholder")?z:d;return p.placeholder}function pt(){var d=z.iteratee||Xh;return d=d===Xh?od:d,arguments.length?d(arguments[0],arguments[1]):d}function xh(d,p){var x=d.__data__;return Qp(p)?x[typeof p=="string"?"string":"hash"]:x.map}function $p(d){for(var p=Qr(d),x=p.length;x--;){var A=p[x],j=d[A];p[x]=[A,j,Za(j)]}return p}function kl(d,p){var x=fw(d,p);return ch(x)?x:t}function Sh(d){var p=pn.call(d,No),x=d[No];try{d[No]=t;var A=!0}catch{}var j=js.call(d);return A&&(p?d[No]=x:delete d[No]),j}var Gp=th?function(d){return d==null?[]:(d=Tn(d),sa(th(d),function(p){return Zf.call(d,p)}))}:Se,Eh=th?function(d){for(var p=[];d;)ia(p,Gp(d)),d=Ga(d);return p}:Se,os=as;(Mi&&os(new Mi(new ArrayBuffer(1)))!=Bn||li&&os(new li)!=Zt||xp&&os(xp.resolve())!=Ds||_l&&os(new _l)!=lr||qc&&os(new qc)!=ns)&&(os=function(d){var p=as(d),x=p==Nn?d.constructor:t,A=x?vs(x):"";if(A)switch(A){case tn:return Bn;case bl:return Zt;case ji:return Ds;case av:return lr;case wl:return ns}return p});function GS(d,p,x){for(var A=-1,j=x.length;++A<j;){var H=x[A],Z=H.size;switch(H.type){case"drop":d+=Z;break;case"dropRight":p-=Z;break;case"take":p=Rr(p,d+Z);break;case"takeRight":d=ur(d,p-Z);break}}return{start:d,end:p}}function Yp(d){var p=d.match(ap);return p?p[1].split(Ji):[]}function Kp(d,p,x){p=hi(p,d);for(var A=-1,j=p.length,H=!1;++A<j;){var Z=Us(p[A]);if(!(H=d!=null&&x(d,Z)))break;d=d[Z]}return H||++A!=j?H:(j=d==null?0:d.length,!!j&&fg(j)&&ga(Z,j)&&(Rt(d)||tu(d)))}function qw(d){var p=d.length,x=new d.constructor(p);return p&&typeof d[0]=="string"&&pn.call(d,"index")&&(x.index=d.index,x.input=d.input),x}function Vv(d){return typeof d.constructor=="function"&&!pd(d)?xl(Ga(d)):{}}function Ww(d,p,x){var A=d.constructor;switch(p){case Hn:return mh(d);case it:case ct:return new A(+d);case Bn:return HS(d,x);case ja:case fl:case hl:case ml:case xs:case yr:case hs:case Yn:case yo:return Tv(d,x);case Zt:return new A;case pr:case Ci:return new A(d);case Vn:return Pw(d);case lr:return new A;case Ai:return Mw(d)}}function Bv(d,p){var x=p.length;if(!x)return d;var A=x-1;return p[A]=(x>1?"& ":"")+p[A],p=p.join(x>2?", ":" "),d.replace(_o,`{
/* [wrapped with `+p+`] */
`)}function Uv(d){return Rt(d)||tu(d)||!!(_w&&d&&d[_w])}function ga(d,p){var x=typeof d;return p=p??se,!!p&&(x=="number"||x!="symbol"&&Ou.test(d))&&d>-1&&d%1==0&&d<p}function ys(d,p,x){if(!nr(x))return!1;var A=typeof p;return(A=="number"?Hs(x)&&ga(p,x.length):A=="string"&&p in x)?yi(x[p],d):!1}function Th(d,p){if(Rt(d))return!1;var x=typeof d;return x=="number"||x=="symbol"||x=="boolean"||d==null||$s(d)?!0:Qi.test(d)||!Ri.test(d)||p!=null&&d in Tn(p)}function Qp(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function Ch(d){var p=ir(d),x=z[p];if(typeof x!="function"||!(p in Ot.prototype))return!1;if(d===x)return!0;var A=wh(x);return!!A&&d===A[0]}function Hw(d){return!!vp&&vp in d}var Fv=gp?vi:me;function pd(d){var p=d&&d.constructor,x=typeof p=="function"&&p.prototype||Hu;return d===x}function Za(d){return d===d&&!nr(d)}function Jp(d,p){return function(x){return x==null?!1:x[d]===p&&(p!==t||d in Tn(x))}}function YS(d){var p=Uh(d,function(A){return x.size===m&&x.clear(),A}),x=p.cache;return p}function $w(d,p){var x=d[1],A=p[1],j=x|A,H=j<(N|M|D),Z=A==D&&x==U||A==D&&x==P&&d[7].length<=p[8]||A==(D|P)&&p[7].length<=p[8]&&x==U;if(!(H||Z))return d;A&N&&(d[2]=p[2],j|=x&N?0:B);var ne=p[3];if(ne){var le=d[3];d[3]=le?Up(le,ne,p[4]):ne,d[4]=le?Ro(d[3],y):p[4]}return ne=p[5],ne&&(le=d[5],d[5]=le?Av(le,ne,p[6]):ne,d[6]=le?Ro(d[5],y):p[6]),ne=p[7],ne&&(d[7]=ne),A&D&&(d[8]=d[8]==null?p[8]:Rr(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=j,d}function Lo(d){var p=[];if(d!=null)for(var x in Tn(d))p.push(x);return p}function zv(d){return js.call(d)}function qv(d,p,x){return p=ur(p===t?d.length-1:p,0),function(){for(var A=arguments,j=-1,H=ur(A.length-p,0),Z=ge(H);++j<H;)Z[j]=A[p+j];j=-1;for(var ne=ge(p+1);++j<p;)ne[j]=A[j];return ne[p]=x(Z),ps(d,this,ne)}}function Ah(d,p){return p.length<2?d:Ja(d,fi(p,0,-1))}function Rh(d,p){for(var x=d.length,A=Rr(p.length,x),j=Cs(d);A--;){var H=p[A];d[A]=ga(H,x)?j[H]:t}return d}function Un(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var Gw=Vo(vv),Ih=zc||function(d,p){return Zn.setTimeout(d,p)},Xp=Vo(Iw);function gd(d,p,x){var A=p+"";return Xp(d,Bv(A,Yw(Yp(A),x)))}function Vo(d){var p=0,x=0;return function(){var A=Di(),j=$-(A-x);if(x=A,j>0){if(++p>=J)return arguments[0]}else p=0;return d.apply(t,arguments)}}function Nh(d,p){var x=-1,A=d.length,j=A-1;for(p=p===t?A:p;++x<p;){var H=ud(x,j),Z=d[H];d[H]=d[x],d[x]=Z}return d.length=p,d}var Wv=YS(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace(Sc,function(x,A,j,H){p.push(j?H.replace(Gr,"$1"):A||x)}),p});function Us(d){if(typeof d=="string"||$s(d))return d;var p=d+"";return p=="0"&&1/d==-ce?"-0":p}function vs(d){if(d!=null){try{return yp.call(d)}catch{}try{return d+""}catch{}}return""}function Yw(d,p){return _r(Ne,function(x){var A="_."+x[0];p&x[1]&&!Lc(d,A)&&d.push(A)}),d.sort()}function Zp(d){if(d instanceof Ot)return d.clone();var p=new Ls(d.__wrapped__,d.__chain__);return p.__actions__=Cs(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function Kw(d,p,x){(x?ys(d,p,x):p===t)?p=1:p=ur(bt(p),0);var A=d==null?0:d.length;if(!A||p<1)return[];for(var j=0,H=0,Z=ge(Yu(A/p));j<A;)Z[H++]=fi(d,j,j+=p);return Z}function Hv(d){for(var p=-1,x=d==null?0:d.length,A=0,j=[];++p<x;){var H=d[p];H&&(j[A++]=H)}return j}function $v(){var d=arguments.length;if(!d)return[];for(var p=ge(d-1),x=arguments[0],A=d;A--;)p[A-1]=arguments[A];return ia(Rt(x)?Cs(x):[x],Br(p,1))}var eg=Pt(function(d,p){return xr(d)?Bi(d,Br(p,1,xr,!0)):[]}),Qw=Pt(function(d,p){var x=Qn(p);return xr(x)&&(x=t),xr(d)?Bi(d,Br(p,1,xr,!0),pt(x,2)):[]}),Bo=Pt(function(d,p){var x=Qn(p);return xr(x)&&(x=t),xr(d)?Bi(d,Br(p,1,xr,!0),t,x):[]});function kr(d,p,x){var A=d==null?0:d.length;return A?(p=x||p===t?1:bt(p),fi(d,p<0?0:p,A)):[]}function Gv(d,p,x){var A=d==null?0:d.length;return A?(p=x||p===t?1:bt(p),p=A-p,fi(d,0,p<0?0:p)):[]}function Jw(d,p){return d&&d.length?fh(d,pt(p,3),!0,!0):[]}function Kr(d,p){return d&&d.length?fh(d,pt(p,3),!0):[]}function KS(d,p,x,A){var j=d==null?0:d.length;return j?(x&&typeof x!="number"&&ys(d,p,x)&&(x=0,A=j),ah(d,p,x,A)):[]}function Yv(d,p,x){var A=d==null?0:d.length;if(!A)return-1;var j=x==null?0:bt(x);return j<0&&(j=ur(A+j,0)),pe(d,pt(p,3),j)}function Kv(d,p,x){var A=d==null?0:d.length;if(!A)return-1;var j=A-1;return x!==t&&(j=bt(x),j=x<0?ur(A+j,0):Rr(j,A-1)),pe(d,pt(p,3),j,!0)}function Kn(d){var p=d==null?0:d.length;return p?Br(d,1):[]}function Fs(d){var p=d==null?0:d.length;return p?Br(d,ce):[]}function Uo(d,p){var x=d==null?0:d.length;return x?(p=p===t?1:bt(p),Br(d,p)):[]}function Xw(d){for(var p=-1,x=d==null?0:d.length,A={};++p<x;){var j=d[p];A[j[0]]=j[1]}return A}function Qv(d){return d&&d.length?d[0]:t}function Zw(d,p,x){var A=d==null?0:d.length;if(!A)return-1;var j=x==null?0:bt(x);return j<0&&(j=ur(A+j,0)),je(d,p,j)}function QS(d){var p=d==null?0:d.length;return p?fi(d,0,-1):[]}var tg=Pt(function(d){var p=zt(d,Sv);return p.length&&p[0]===d[0]?lh(p):[]}),zs=Pt(function(d){var p=Qn(d),x=zt(d,Sv);return p===Qn(x)?p=t:x.pop(),x.length&&x[0]===d[0]?lh(x,pt(p,2)):[]}),ya=Pt(function(d){var p=Qn(d),x=zt(d,Sv);return p=typeof p=="function"?p:t,p&&x.pop(),x.length&&x[0]===d[0]?lh(x,t,p):[]});function e0(d,p){return d==null?"":Ku.call(d,p)}function Qn(d){var p=d==null?0:d.length;return p?d[p-1]:t}function t0(d,p,x){var A=d==null?0:d.length;if(!A)return-1;var j=A;return x!==t&&(j=bt(x),j=j<0?ur(A+j,0):Rr(j,A-1)),p===p?VS(d,p,j):pe(d,cr,j,!0)}function Fo(d,p){return d&&d.length?Mp(d,bt(p)):t}var Jc=Pt(eo);function eo(d,p){return d&&d.length&&p&&p.length?ld(d,p):d}function Jv(d,p,x){return d&&d.length&&p&&p.length?ld(d,p,pt(x,2)):d}function Xv(d,p,x){return d&&d.length&&p&&p.length?ld(d,p,t,x):d}var va=Xa(function(d,p){var x=d==null?0:d.length,A=sd(d,p);return cd(d,zt(p,function(j){return ga(j,x)?+j:j}).sort(Cv)),A});function n0(d,p){var x=[];if(!(d&&d.length))return x;var A=-1,j=[],H=d.length;for(p=pt(p,3);++A<H;){var Z=d[A];p(Z,A,d)&&(x.push(Z),j.push(A))}return cd(d,j),x}function Ol(d){return d==null?d:Ya.call(d)}function kh(d,p,x){var A=d==null?0:d.length;return A?(x&&typeof x!="number"&&ys(d,p,x)?(p=0,x=A):(p=p==null?0:bt(p),x=x===t?A:bt(x)),fi(d,p,x)):[]}function Oh(d,p){return fd(d,p)}function yd(d,p,x){return Lp(d,p,pt(x,2))}function r0(d,p){var x=d==null?0:d.length;if(x){var A=fd(d,p);if(A<x&&yi(d[A],p))return A}return-1}function s0(d,p){return fd(d,p,!0)}function Dh(d,p,x){return Lp(d,p,pt(x,2),!0)}function i0(d,p){var x=d==null?0:d.length;if(x){var A=fd(d,p,!0)-1;if(yi(d[A],p))return A}return-1}function ng(d){return d&&d.length?Ow(d):[]}function a0(d,p){return d&&d.length?Ow(d,pt(p,2)):[]}function JS(d){var p=d==null?0:d.length;return p?fi(d,1,p):[]}function XS(d,p,x){return d&&d.length?(p=x||p===t?1:bt(p),fi(d,0,p<0?0:p)):[]}function gn(d,p,x){var A=d==null?0:d.length;return A?(p=x||p===t?1:bt(p),p=A-p,fi(d,p<0?0:p,A)):[]}function Fn(d,p){return d&&d.length?fh(d,pt(p,3),!1,!0):[]}function $t(d,p){return d&&d.length?fh(d,pt(p,3)):[]}var Kt=Pt(function(d){return jo(Br(d,1,xr,!0))}),Cn=Pt(function(d){var p=Qn(d);return xr(p)&&(p=t),jo(Br(d,1,xr,!0),pt(p,2))}),mi=Pt(function(d){var p=Qn(d);return p=typeof p=="function"?p:t,jo(Br(d,1,xr,!0),t,p)});function Dl(d){return d&&d.length?jo(d):[]}function vd(d,p){return d&&d.length?jo(d,pt(p,2)):[]}function Zv(d,p){return p=typeof p=="function"?p:t,d&&d.length?jo(d,t,p):[]}function _a(d){if(!(d&&d.length))return[];var p=0;return d=sa(d,function(x){if(xr(x))return p=ur(x.length,p),!0}),Ao(p,function(x){return zt(d,$n(x))})}function ar(d,p){if(!(d&&d.length))return[];var x=_a(d);return p==null?x:zt(x,function(A){return ps(p,t,A)})}var Pl=Pt(function(d,p){return xr(d)?Bi(d,p):[]}),Xc=Pt(function(d){return Vp(sa(d,xr))}),e_=Pt(function(d){var p=Qn(d);return xr(p)&&(p=t),Vp(sa(d,xr),pt(p,2))}),pi=Pt(function(d){var p=Qn(d);return p=typeof p=="function"?p:t,Vp(sa(d,xr),t,p)}),_d=Pt(_a);function Ph(d,p){return xv(d||[],p||[],ua)}function qs(d,p){return xv(d||[],p||[],dd)}var t_=Pt(function(d){var p=d.length,x=p>1?d[p-1]:t;return x=typeof x=="function"?(d.pop(),x):t,ar(d,x)});function Mh(d){var p=z(d);return p.__chain__=!0,p}function o0(d,p){return p(d),d}function Zc(d,p){return p(d)}var rg=Xa(function(d){var p=d.length,x=p?d[0]:0,A=this.__wrapped__,j=function(H){return sd(H,d)};return p>1||this.__actions__.length||!(A instanceof Ot)||!ga(x)?this.thru(j):(A=A.slice(x,+x+(p?1:0)),A.__actions__.push({func:Zc,args:[j],thisArg:t}),new Ls(A,this.__chain__).thru(function(H){return p&&!H.length&&H.push(t),H}))});function Ml(){return Mh(this)}function Ur(){return new Ls(this.value(),this.__chain__)}function jl(){this.__values__===t&&(this.__values__=k0(this.value()));var d=this.__index__>=this.__values__.length,p=d?t:this.__values__[this.__index__++];return{done:d,value:p}}function bd(){return this}function zo(d){for(var p,x=this;x instanceof Sl;){var A=Zp(x);A.__index__=0,A.__values__=t,p?j.__wrapped__=A:p=A;var j=A;x=x.__wrapped__}return j.__wrapped__=d,p}function n_(){var d=this.__wrapped__;if(d instanceof Ot){var p=d;return this.__actions__.length&&(p=new Ot(this)),p=p.reverse(),p.__actions__.push({func:Zc,args:[Ol],thisArg:t}),new Ls(p,this.__chain__)}return this.thru(Ol)}function r_(){return wv(this.__wrapped__,this.__actions__)}var l0=Fp(function(d,p,x){pn.call(d,x)?++d[x]:ci(d,x,1)});function jh(d,p,x){var A=Rt(d)?Yf:Cl;return x&&ys(d,p,x)&&(p=t),A(d,pt(p,3))}function s_(d,p){var x=Rt(d)?sa:Ip;return x(d,pt(p,3))}var gi=Ov(Yv),c0=Ov(Kv);function Ws(d,p){return Br(Lh(d,p),1)}function u0(d,p){return Br(Lh(d,p),ce)}function d0(d,p,x){return x=x===t?1:bt(x),Br(Lh(d,p),x)}function f0(d,p){var x=Rt(d)?_r:Qa;return x(d,pt(p,3))}function qo(d,p){var x=Rt(d)?dp:Rp;return x(d,pt(p,3))}var sg=Fp(function(d,p,x){pn.call(d,x)?d[x].push(p):ci(d,x,[p])});function i_(d,p,x,A){d=Hs(d)?d:Id(d),x=x&&!A?bt(x):0;var j=d.length;return x<0&&(x=ur(j+x,0)),Gh(d)?x<=j&&d.indexOf(p,x)>-1:!!j&&je(d,p,x)>-1}var wd=Pt(function(d,p,x){var A=-1,j=typeof p=="function",H=Hs(d)?ge(d.length):[];return Qa(d,function(Z){H[++A]=j?ps(p,Z,x):Fi(Z,p,x)}),H}),h0=Fp(function(d,p,x){ci(d,x,p)});function Lh(d,p){var x=Rt(d)?zt:Dp;return x(d,pt(p,3))}function m0(d,p,x,A){return d==null?[]:(Rt(p)||(p=p==null?[]:[p]),x=A?t:x,Rt(x)||(x=x==null?[]:[x]),jp(d,p,x))}var p0=Fp(function(d,p,x){d[x?0:1].push(p)},function(){return[[],[]]});function ig(d,p,x){var A=Rt(d)?Uu:aa,j=arguments.length<3;return A(d,pt(p,4),x,j,Qa)}function a_(d,p,x){var A=Rt(d)?Co:aa,j=arguments.length<3;return A(d,pt(p,4),x,j,Rp)}function ZS(d,p){var x=Rt(d)?sa:Ip;return x(d,lg(pt(p,3)))}function eE(d){var p=Rt(d)?ih:gv;return p(d)}function tE(d,p,x){(x?ys(d,p,x):p===t)?p=1:p=bt(p);var A=Rt(d)?Cp:yv;return A(d,p)}function g0(d){var p=Rt(d)?Tw:Nw;return p(d)}function y0(d){if(d==null)return 0;if(Hs(d))return Gh(d)?zu(d):d.length;var p=os(d);return p==Zt||p==lr?d.size:Rl(d).length}function xd(d,p,x){var A=Rt(d)?v:kw;return x&&ys(d,p,x)&&(p=t),A(d,pt(p,3))}var ag=Pt(function(d,p){if(d==null)return[];var x=p.length;return x>1&&ys(d,p[0],p[1])?p=[]:x>2&&ys(p[0],p[1],p[2])&&(p=[p[0]]),jp(d,Br(p,1),[])}),Vh=wp||function(){return Zn.Date.now()};function v0(d,p){if(typeof p!="function")throw new ai(l);return d=bt(d),function(){if(--d<1)return p.apply(this,arguments)}}function o_(d,p,x){return p=x?t:p,p=d&&p==null?d.length:p,As(d,D,t,t,t,t,p)}function l_(d,p){var x;if(typeof p!="function")throw new ai(l);return d=bt(d),function(){return--d>0&&(x=p.apply(this,arguments)),d<=1&&(p=t),x}}var og=Pt(function(d,p,x){var A=N;if(x.length){var j=Ro(x,fr(og));A|=W}return As(d,A,p,x,j)}),c_=Pt(function(d,p,x){var A=N|M;if(x.length){var j=Ro(x,fr(c_));A|=W}return As(p,A,d,x,j)});function Bh(d,p,x){p=x?t:p;var A=As(d,U,t,t,t,t,t,p);return A.placeholder=Bh.placeholder,A}function u_(d,p,x){p=x?t:p;var A=As(d,Y,t,t,t,t,t,p);return A.placeholder=u_.placeholder,A}function d_(d,p,x){var A,j,H,Z,ne,le,Re=0,Ie=!1,Oe=!1,ze=!0;if(typeof d!="function")throw new ai(l);p=_i(p)||0,nr(x)&&(Ie=!!x.leading,Oe="maxWait"in x,H=Oe?ur(_i(x.maxWait)||0,p):H,ze="trailing"in x?!!x.trailing:ze);function at(Fr){var $o=A,ru=j;return A=j=t,Re=Fr,Z=d.apply(ru,$o),Z}function wt(Fr){return Re=Fr,ne=Ih(nn,p),Ie?at(Fr):Z}function qt(Fr){var $o=Fr-le,ru=Fr-Re,QR=p-$o;return Oe?Rr(QR,H-ru):QR}function xt(Fr){var $o=Fr-le,ru=Fr-Re;return le===t||$o>=p||$o<0||Oe&&ru>=H}function nn(){var Fr=Vh();if(xt(Fr))return on(Fr);ne=Ih(nn,qt(Fr))}function on(Fr){return ne=t,ze&&A?at(Fr):(A=j=t,Z)}function ba(){ne!==t&&hh(ne),Re=0,A=le=j=ne=t}function bi(){return ne===t?Z:on(Vh())}function wa(){var Fr=Vh(),$o=xt(Fr);if(A=arguments,j=this,le=Fr,$o){if(ne===t)return wt(le);if(Oe)return hh(ne),ne=Ih(nn,p),at(le)}return ne===t&&(ne=Ih(nn,p)),Z}return wa.cancel=ba,wa.flush=bi,wa}var An=Pt(function(d,p){return dv(d,1,p)}),f_=Pt(function(d,p,x){return dv(d,_i(p)||0,x)});function nE(d){return As(d,L)}function Uh(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new ai(l);var x=function(){var A=arguments,j=p?p.apply(this,A):A[0],H=x.cache;if(H.has(j))return H.get(j);var Z=d.apply(this,A);return x.cache=H.set(j,Z)||H,Z};return x.cache=new(Uh.Cache||ca),x}Uh.Cache=ca;function lg(d){if(typeof d!="function")throw new ai(l);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function rE(d){return l_(2,d)}var sE=Dw(function(d,p){p=p.length==1&&Rt(p[0])?zt(p[0],ii(pt())):zt(Br(p,1),ii(pt()));var x=p.length;return Pt(function(A){for(var j=-1,H=Rr(A.length,x);++j<H;)A[j]=p[j].call(this,A[j]);return ps(d,this,A)})}),Sd=Pt(function(d,p){var x=Ro(p,fr(Sd));return As(d,W,t,p,x)}),eu=Pt(function(d,p){var x=Ro(p,fr(eu));return As(d,K,t,p,x)}),h_=Xa(function(d,p){return As(d,P,t,t,t,p)});function cg(d,p){if(typeof d!="function")throw new ai(l);return p=p===t?p:bt(p),Pt(d,p)}function m_(d,p){if(typeof d!="function")throw new ai(l);return p=p==null?0:ur(bt(p),0),Pt(function(x){var A=x[p],j=pa(x,0,p);return A&&ia(j,A),ps(d,this,j)})}function Ll(d,p,x){var A=!0,j=!0;if(typeof d!="function")throw new ai(l);return nr(x)&&(A="leading"in x?!!x.leading:A,j="trailing"in x?!!x.trailing:j),d_(d,p,{leading:A,maxWait:p,trailing:j})}function to(d){return o_(d,1)}function Fh(d,p){return Sd(Bp(p),d)}function iE(){if(!arguments.length)return[];var d=arguments[0];return Rt(d)?d:[d]}function _0(d){return Ts(d,E)}function b0(d,p){return p=typeof p=="function"?p:t,Ts(d,E,p)}function w0(d){return Ts(d,_|E)}function x0(d,p){return p=typeof p=="function"?p:t,Ts(d,_|E,p)}function aE(d,p){return p==null||Tl(d,p,Qr(p))}function yi(d,p){return d===p||d!==d&&p!==p}var S0=vh(oh),E0=vh(function(d,p){return d>=p}),tu=Vs((function(){return arguments})())?Vs:function(d){return hr(d)&&pn.call(d,"callee")&&!Zf.call(d,"callee")},Rt=ge.isArray,p_=Hf?ii(Hf):br;function Hs(d){return d!=null&&fg(d.length)&&!vi(d)}function xr(d){return hr(d)&&Hs(d)}function zh(d){return d===!0||d===!1||hr(d)&&as(d)==it}var Vl=ww||me,T0=$f?ii($f):kp;function Gt(d){return hr(d)&&d.nodeType===1&&!Wh(d)}function g_(d){if(d==null)return!0;if(Hs(d)&&(Rt(d)||typeof d=="string"||typeof d.splice=="function"||Vl(d)||Bl(d)||tu(d)))return!d.length;var p=os(d);if(p==Zt||p==lr)return!d.size;if(pd(d))return!Rl(d).length;for(var x in d)if(pn.call(d,x))return!1;return!0}function ug(d,p){return di(d,p)}function y_(d,p,x){x=typeof x=="function"?x:t;var A=x?x(d,p):t;return A===t?di(d,p,t,x):!!A}function dg(d){if(!hr(d))return!1;var p=as(d);return p==vt||p==yt||typeof d.message=="string"&&typeof d.name=="string"&&!Wh(d)}function v_(d){return typeof d=="number"&&oi(d)}function vi(d){if(!nr(d))return!1;var p=as(d);return p==_t||p==Wn||p==Ae||p==en}function qh(d){return typeof d=="number"&&d==bt(d)}function fg(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=se}function nr(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function hr(d){return d!=null&&typeof d=="object"}var C0=vl?ii(vl):On;function A0(d,p){return d===p||dr(d,p,$p(p))}function R0(d,p,x){return x=typeof x=="function"?x:t,dr(d,p,$p(p),x)}function Dn(d){return b_(d)&&d!=+d}function __(d){if(Fv(d))throw new At(a);return ch(d)}function ls(d){return d===null}function oE(d){return d==null}function b_(d){return typeof d=="number"||hr(d)&&as(d)==pr}function Wh(d){if(!hr(d)||as(d)!=Nn)return!1;var p=Ga(d);if(p===null)return!0;var x=pn.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&yp.call(x)==_p}var Hh=Bu?ii(Bu):ad;function w_(d){return qh(d)&&d>=-se&&d<=se}var $h=Gf?ii(Gf):Kc;function Gh(d){return typeof d=="string"||!Rt(d)&&hr(d)&&as(d)==Ci}function $s(d){return typeof d=="symbol"||hr(d)&&as(d)==Ai}var Bl=jc?ii(jc):Op;function x_(d){return d===t}function lE(d){return hr(d)&&os(d)==ns}function I0(d){return hr(d)&&as(d)==cn}var cE=vh(tr),N0=vh(function(d,p){return d<=p});function k0(d){if(!d)return[];if(Hs(d))return Gh(d)?sr(d):Cs(d);if(ss&&d[ss])return nv(d[ss]());var p=os(d),x=p==Zt?hp:p==lr?mp:Id;return x(d)}function Wo(d){if(!d)return d===0?d:0;if(d=_i(d),d===ce||d===-ce){var p=d<0?-1:1;return p*Pe}return d===d?d:0}function bt(d){var p=Wo(d),x=p%1;return p===p?x?p-x:p:0}function S_(d){return d?da(bt(d),0,Q):0}function _i(d){if(typeof d=="number")return d;if($s(d))return _e;if(nr(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=nr(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=Vc(d);var x=op.test(d);return x||Va.test(d)?Ha(d.slice(2),x?2:8):Jy.test(d)?_e:+d}function hg(d){return zi(d,Gs(d))}function uE(d){return d?da(bt(d),-se,se):d===0?d:0}function wn(d){return d==null?"":Bs(d)}var O0=Il(function(d,p){if(pd(p)||Hs(p)){zi(p,Qr(p),d);return}for(var x in p)pn.call(p,x)&&ua(d,x,p[x])}),mg=Il(function(d,p){zi(p,Gs(p),d)}),Ed=Il(function(d,p,x,A){zi(p,Gs(p),d,A)}),dE=Il(function(d,p,x,A){zi(p,Qr(p),d,A)}),qi=Xa(sd);function E_(d,p){var x=xl(d);return p==null?x:uv(x,p)}var D0=Pt(function(d,p){d=Tn(d);var x=-1,A=p.length,j=A>2?p[2]:t;for(j&&ys(p[0],p[1],j)&&(A=1);++x<A;)for(var H=p[x],Z=Gs(H),ne=-1,le=Z.length;++ne<le;){var Re=Z[ne],Ie=d[Re];(Ie===t||yi(Ie,Hu[Re])&&!pn.call(d,Re))&&(d[Re]=H[Re])}return d}),P0=Pt(function(d){return d.push(t,Mv),ps(Cd,t,d)});function M0(d,p){return ue(d,pt(p,3),ha)}function Yh(d,p){return ue(d,pt(p,3),Np)}function Wi(d,p){return d==null?d:Yc(d,pt(p,3),Gs)}function j0(d,p){return d==null?d:id(d,pt(p,3),Gs)}function pg(d,p){return d&&ha(d,pt(p,3))}function Ho(d,p){return d&&Np(d,pt(p,3))}function fE(d){return d==null?[]:Mo(d,Qr(d))}function hE(d){return d==null?[]:Mo(d,Gs(d))}function Ul(d,p,x){var A=d==null?t:Ja(d,p);return A===t?x:A}function L0(d,p){return d!=null&&Kp(d,p,ui)}function T_(d,p){return d!=null&&Kp(d,p,Ui)}var mE=gh(function(d,p,x){p!=null&&typeof p.toString!="function"&&(p=js.call(p)),d[p]=x},kd(Rs)),pE=gh(function(d,p,x){p!=null&&typeof p.toString!="function"&&(p=js.call(p)),pn.call(d,p)?d[p].push(x):d[p]=[x]},pt),gE=Pt(Fi);function Qr(d){return Hs(d)?Tp(d):Rl(d)}function Gs(d){return Hs(d)?Tp(d,!0):qS(d)}function yE(d,p){var x={};return p=pt(p,3),ha(d,function(A,j,H){ci(x,p(A,j,H),A)}),x}function V0(d,p){var x={};return p=pt(p,3),ha(d,function(A,j,H){ci(x,j,p(A,j,H))}),x}var Td=Il(function(d,p,x){uh(d,p,x)}),Cd=Il(function(d,p,x,A){uh(d,p,x,A)}),B0=Xa(function(d,p){var x={};if(d==null)return x;var A=!1;p=zt(p,function(H){return H=hi(H,d),A||(A=H.length>1),H}),zi(d,Lv(d),x),A&&(x=Ts(x,_|b|E,Fw));for(var j=p.length;j--;)dh(x,p[j]);return x});function vE(d,p){return Rd(d,lg(pt(p)))}var Ad=Xa(function(d,p){return d==null?{}:mv(d,p)});function Rd(d,p){if(d==null)return{};var x=zt(Lv(d),function(A){return[A]});return p=pt(p),gs(d,x,function(A,j){return p(A,j[0])})}function U0(d,p,x){p=hi(p,d);var A=-1,j=p.length;for(j||(j=1,d=t);++A<j;){var H=d==null?t:d[Us(p[A])];H===t&&(A=j,H=x),d=vi(H)?H.call(d):H}return d}function gg(d,p,x){return d==null?d:dd(d,p,x)}function C_(d,p,x,A){return A=typeof A=="function"?A:t,d==null?d:dd(d,p,x,A)}var yg=Dv(Qr),Kh=Dv(Gs);function F0(d,p,x){var A=Rt(d),j=A||Vl(d)||Bl(d);if(p=pt(p,4),x==null){var H=d&&d.constructor;j?x=A?new H:[]:nr(d)?x=vi(H)?xl(Ga(d)):{}:x={}}return(j?_r:ha)(d,function(Z,ne,le){return p(x,Z,ne,le)}),x}function z0(d,p){return d==null?!0:dh(d,p)}function _E(d,p,x){return d==null?d:bv(d,p,Bp(x))}function q0(d,p,x,A){return A=typeof A=="function"?A:t,d==null?d:bv(d,p,Bp(x),A)}function Id(d){return d==null?[]:Xy(d,Qr(d))}function A_(d){return d==null?[]:Xy(d,Gs(d))}function bE(d,p,x){return x===t&&(x=p,p=t),x!==t&&(x=_i(x),x=x===x?x:0),p!==t&&(p=_i(p),p=p===p?p:0),da(_i(d),p,x)}function vg(d,p,x){return p=Wo(p),x===t?(x=p,p=0):x=Wo(x),d=_i(d),Al(d,p,x)}function _g(d,p,x){if(x&&typeof x!="boolean"&&ys(d,p,x)&&(p=x=t),x===t&&(typeof p=="boolean"?(x=p,p=t):typeof d=="boolean"&&(x=d,d=t)),d===t&&p===t?(d=0,p=1):(d=Wo(d),p===t?(p=d,d=0):p=Wo(p)),d>p){var A=d;d=p,p=A}if(x||d%1||p%1){var j=ko();return Rr(d+j*(p-d+Eo("1e-"+((j+"").length-1))),p)}return ud(d,p)}var bg=Qc(function(d,p,x){return p=p.toLowerCase(),d+(x?W0(p):p)});function W0(d){return nu(wn(d).toLowerCase())}function Nd(d){return d=wn(d),d&&d.replace(Ba,Jf).replace(gl,"")}function wE(d,p,x){d=wn(d),p=Bs(p);var A=d.length;x=x===t?A:da(bt(x),0,A);var j=x;return x-=p.length,x>=0&&d.slice(x,j)==p}function H0(d){return d=wn(d),d&&Xn.test(d)?d.replace(We,MS):d}function $0(d){return d=wn(d),d&&Of.test(d)?d.replace(vo,"\\$&"):d}var G0=Qc(function(d,p,x){return d+(x?"-":"")+p.toLowerCase()}),Y0=Qc(function(d,p,x){return d+(x?" ":"")+p.toLowerCase()}),R_=kv("toLowerCase");function K0(d,p,x){d=wn(d),p=bt(p);var A=p?zu(d):0;if(!p||A>=p)return d;var j=(p-A)/2;return Nl(eh(j),x)+d+Nl(Yu(j),x)}function Q0(d,p,x){d=wn(d),p=bt(p);var A=p?zu(d):0;return p&&A<p?d+Nl(p-A,x):d}function wg(d,p,x){d=wn(d),p=bt(p);var A=p?zu(d):0;return p&&A<p?Nl(p-A,x)+d:d}function xE(d,p,x){return x||p==null?p=0:p&&(p=+p),Pi(wn(d).replace(Ec,""),p||0)}function SE(d,p,x){return(x?ys(d,p,x):p===t)?p=1:p=bt(p),ma(wn(d),p)}function I_(){var d=arguments,p=wn(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var N_=Qc(function(d,p,x){return d+(x?"_":"")+p.toLowerCase()});function xg(d,p,x){return x&&typeof x!="number"&&ys(d,p,x)&&(p=x=t),x=x===t?Q:x>>>0,x?(d=wn(d),d&&(typeof p=="string"||p!=null&&!Hh(p))&&(p=Bs(p),!p&&Bc(d))?pa(sr(d),0,x):d.split(p,x)):[]}var k_=Qc(function(d,p,x){return d+(x?" ":"")+nu(p)});function J0(d,p,x){return d=wn(d),x=x==null?0:da(bt(x),0,d.length),p=Bs(p),d.slice(x,x+p.length)==p}function O_(d,p,x){var A=z.templateSettings;x&&ys(d,p,x)&&(p=t),d=wn(d),p=Ed({},p,A,Pv);var j=Ed({},p.imports,A.imports,Pv),H=Qr(j),Z=Xy(j,H),ne,le,Re=0,Ie=p.interpolate||Ss,Oe="__p += '",ze=pp((p.escape||Ss).source+"|"+Ie.source+"|"+(Ie===xc?La:Ss).source+"|"+(p.evaluate||Ss).source+"|$","g"),at="//# sourceURL="+(pn.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qf+"]")+`
`;d.replace(ze,function(xt,nn,on,ba,bi,wa){return on||(on=ba),Oe+=d.slice(Re,wa).replace(ti,fp),nn&&(ne=!0,Oe+=`' +
__e(`+nn+`) +
'`),bi&&(le=!0,Oe+=`';
`+bi+`;
__p += '`),on&&(Oe+=`' +
((__t = (`+on+`)) == null ? '' : __t) +
'`),Re=wa+xt.length,xt}),Oe+=`';
`;var wt=pn.call(p,"variable")&&p.variable;if(!wt)Oe=`with (obj) {
`+Oe+`
}
`;else if(Cr.test(wt))throw new At(u);Oe=(le?Oe.replace(pl,""):Oe).replace(wc,"$1").replace(mt,"$1;"),Oe="function("+(wt||"obj")+`) {
`+(wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ne?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Oe+`return __p
}`;var qt=D_(function(){return Ht(H,at+"return "+Oe).apply(t,Z)});if(qt.source=Oe,dg(qt))throw qt;return qt}function Fl(d){return wn(d).toLowerCase()}function zl(d){return wn(d).toUpperCase()}function ql(d,p,x){if(d=wn(d),d&&(x||p===t))return Vc(d);if(!d||!(p=Bs(p)))return d;var A=sr(d),j=sr(p),H=Zy(A,j),Z=ev(A,j)+1;return pa(A,H,Z).join("")}function Qh(d,p,x){if(d=wn(d),d&&(x||p===t))return d.slice(0,qu(d)+1);if(!d||!(p=Bs(p)))return d;var A=sr(d),j=ev(A,sr(p))+1;return pa(A,0,j).join("")}function Jh(d,p,x){if(d=wn(d),d&&(x||p===t))return d.replace(Ec,"");if(!d||!(p=Bs(p)))return d;var A=sr(d),j=Zy(A,sr(p));return pa(A,j).join("")}function Wl(d,p){var x=V,A=q;if(nr(p)){var j="separator"in p?p.separator:j;x="length"in p?bt(p.length):x,A="omission"in p?Bs(p.omission):A}d=wn(d);var H=d.length;if(Bc(d)){var Z=sr(d);H=Z.length}if(x>=H)return d;var ne=x-zu(A);if(ne<1)return A;var le=Z?pa(Z,0,ne).join(""):d.slice(0,ne);if(j===t)return le+A;if(Z&&(ne+=le.length-ne),Hh(j)){if(d.slice(ne).search(j)){var Re,Ie=le;for(j.global||(j=pp(j.source,wn(Cc.exec(j))+"g")),j.lastIndex=0;Re=j.exec(Ie);)var Oe=Re.index;le=le.slice(0,Oe===t?ne:Oe)}}else if(d.indexOf(Bs(j),ne)!=ne){var ze=le.lastIndexOf(j);ze>-1&&(le=le.slice(0,ze))}return le+A}function EE(d){return d=wn(d),d&&Nt.test(d)?d.replace(Ft,hw):d}var X0=Qc(function(d,p,x){return d+(x?" ":"")+p.toUpperCase()}),nu=kv("toUpperCase");function Z0(d,p,x){return d=wn(d),p=x?t:p,p===t?tv(d)?gw(d):G(d):d.match(p)||[]}var D_=Pt(function(d,p){try{return ps(d,t,p)}catch(x){return dg(x)?x:new At(x)}}),Sg=Xa(function(d,p){return _r(p,function(x){x=Us(x),ci(d,x,og(d[x],d))}),d});function ex(d){var p=d==null?0:d.length,x=pt();return d=p?zt(d,function(A){if(typeof A[1]!="function")throw new ai(l);return[x(A[0]),A[1]]}):[],Pt(function(A){for(var j=-1;++j<p;){var H=d[j];if(ps(H[0],this,A))return ps(H[1],this,A)}})}function TE(d){return Aw(Ts(d,_))}function kd(d){return function(){return d}}function Eg(d,p){return d==null||d!==d?p:d}var tx=hd(),Od=hd(!0);function Rs(d){return d}function Xh(d){return od(typeof d=="function"?d:Ts(d,_))}function Tg(d){return Pp(Ts(d,_))}function nx(d,p){return hv(d,Ts(p,_))}var CE=Pt(function(d,p){return function(x){return Fi(x,d,p)}}),Cg=Pt(function(d,p){return function(x){return Fi(d,x,p)}});function i(d,p,x){var A=Qr(p),j=Mo(p,A);x==null&&!(nr(p)&&(j.length||!A.length))&&(x=p,p=d,d=this,j=Mo(p,Qr(p)));var H=!(nr(x)&&"chain"in x)||!!x.chain,Z=vi(d);return _r(j,function(ne){var le=p[ne];d[ne]=le,Z&&(d.prototype[ne]=function(){var Re=this.__chain__;if(H||Re){var Ie=d(this.__wrapped__),Oe=Ie.__actions__=Cs(this.__actions__);return Oe.push({func:le,args:arguments,thisArg:d}),Ie.__chain__=Re,Ie}return le.apply(d,ia([this.value()],arguments))})}),d}function o(){return Zn._===this&&(Zn._=ki),this}function c(){}function h(d){return d=bt(d),Pt(function(p){return Mp(p,d)})}var w=zp(zt),S=zp(Yf),k=zp(v);function F(d){return Th(d)?$n(Us(d)):wr(d)}function ee(d){return function(p){return d==null?t:Ja(d,p)}}var he=qp(),we=qp(!0);function Se(){return[]}function me(){return!1}function ve(){return{}}function Xe(){return""}function gt(){return!0}function Pn(d,p){if(d=bt(d),d<1||d>se)return[];var x=Q,A=Rr(d,Q);p=pt(p),d-=Q;for(var j=Ao(A,p);++x<d;)p(x);return j}function oe(d){return Rt(d)?zt(d,Us):$s(d)?[d]:Cs(Wv(wn(d)))}function re(d){var p=++vw;return wn(d)+p}var fe=yh(function(d,p){return d+p},0),xe=_h("ceil"),ut=yh(function(d,p){return d/p},1),dn=_h("floor");function rt(d){return d&&d.length?fa(d,Rs,oh):t}function Bt(d,p){return d&&d.length?fa(d,pt(p,2),oh):t}function Qt(d){return un(d,Rs)}function fn(d,p){return un(d,pt(p,2))}function Hl(d){return d&&d.length?fa(d,Rs,tr):t}function AE(d,p){return d&&d.length?fa(d,pt(p,2),tr):t}var h3=yh(function(d,p){return d*p},1),m3=_h("round"),p3=yh(function(d,p){return d-p},0);function g3(d){return d&&d.length?si(d,Rs):0}function y3(d,p){return d&&d.length?si(d,pt(p,2)):0}return z.after=v0,z.ary=o_,z.assign=O0,z.assignIn=mg,z.assignInWith=Ed,z.assignWith=dE,z.at=qi,z.before=l_,z.bind=og,z.bindAll=Sg,z.bindKey=c_,z.castArray=iE,z.chain=Mh,z.chunk=Kw,z.compact=Hv,z.concat=$v,z.cond=ex,z.conforms=TE,z.constant=kd,z.countBy=l0,z.create=E_,z.curry=Bh,z.curryRight=u_,z.debounce=d_,z.defaults=D0,z.defaultsDeep=P0,z.defer=An,z.delay=f_,z.difference=eg,z.differenceBy=Qw,z.differenceWith=Bo,z.drop=kr,z.dropRight=Gv,z.dropRightWhile=Jw,z.dropWhile=Kr,z.fill=KS,z.filter=s_,z.flatMap=Ws,z.flatMapDeep=u0,z.flatMapDepth=d0,z.flatten=Kn,z.flattenDeep=Fs,z.flattenDepth=Uo,z.flip=nE,z.flow=tx,z.flowRight=Od,z.fromPairs=Xw,z.functions=fE,z.functionsIn=hE,z.groupBy=sg,z.initial=QS,z.intersection=tg,z.intersectionBy=zs,z.intersectionWith=ya,z.invert=mE,z.invertBy=pE,z.invokeMap=wd,z.iteratee=Xh,z.keyBy=h0,z.keys=Qr,z.keysIn=Gs,z.map=Lh,z.mapKeys=yE,z.mapValues=V0,z.matches=Tg,z.matchesProperty=nx,z.memoize=Uh,z.merge=Td,z.mergeWith=Cd,z.method=CE,z.methodOf=Cg,z.mixin=i,z.negate=lg,z.nthArg=h,z.omit=B0,z.omitBy=vE,z.once=rE,z.orderBy=m0,z.over=w,z.overArgs=sE,z.overEvery=S,z.overSome=k,z.partial=Sd,z.partialRight=eu,z.partition=p0,z.pick=Ad,z.pickBy=Rd,z.property=F,z.propertyOf=ee,z.pull=Jc,z.pullAll=eo,z.pullAllBy=Jv,z.pullAllWith=Xv,z.pullAt=va,z.range=he,z.rangeRight=we,z.rearg=h_,z.reject=ZS,z.remove=n0,z.rest=cg,z.reverse=Ol,z.sampleSize=tE,z.set=gg,z.setWith=C_,z.shuffle=g0,z.slice=kh,z.sortBy=ag,z.sortedUniq=ng,z.sortedUniqBy=a0,z.split=xg,z.spread=m_,z.tail=JS,z.take=XS,z.takeRight=gn,z.takeRightWhile=Fn,z.takeWhile=$t,z.tap=o0,z.throttle=Ll,z.thru=Zc,z.toArray=k0,z.toPairs=yg,z.toPairsIn=Kh,z.toPath=oe,z.toPlainObject=hg,z.transform=F0,z.unary=to,z.union=Kt,z.unionBy=Cn,z.unionWith=mi,z.uniq=Dl,z.uniqBy=vd,z.uniqWith=Zv,z.unset=z0,z.unzip=_a,z.unzipWith=ar,z.update=_E,z.updateWith=q0,z.values=Id,z.valuesIn=A_,z.without=Pl,z.words=Z0,z.wrap=Fh,z.xor=Xc,z.xorBy=e_,z.xorWith=pi,z.zip=_d,z.zipObject=Ph,z.zipObjectDeep=qs,z.zipWith=t_,z.entries=yg,z.entriesIn=Kh,z.extend=mg,z.extendWith=Ed,i(z,z),z.add=fe,z.attempt=D_,z.camelCase=bg,z.capitalize=W0,z.ceil=xe,z.clamp=bE,z.clone=_0,z.cloneDeep=w0,z.cloneDeepWith=x0,z.cloneWith=b0,z.conformsTo=aE,z.deburr=Nd,z.defaultTo=Eg,z.divide=ut,z.endsWith=wE,z.eq=yi,z.escape=H0,z.escapeRegExp=$0,z.every=jh,z.find=gi,z.findIndex=Yv,z.findKey=M0,z.findLast=c0,z.findLastIndex=Kv,z.findLastKey=Yh,z.floor=dn,z.forEach=f0,z.forEachRight=qo,z.forIn=Wi,z.forInRight=j0,z.forOwn=pg,z.forOwnRight=Ho,z.get=Ul,z.gt=S0,z.gte=E0,z.has=L0,z.hasIn=T_,z.head=Qv,z.identity=Rs,z.includes=i_,z.indexOf=Zw,z.inRange=vg,z.invoke=gE,z.isArguments=tu,z.isArray=Rt,z.isArrayBuffer=p_,z.isArrayLike=Hs,z.isArrayLikeObject=xr,z.isBoolean=zh,z.isBuffer=Vl,z.isDate=T0,z.isElement=Gt,z.isEmpty=g_,z.isEqual=ug,z.isEqualWith=y_,z.isError=dg,z.isFinite=v_,z.isFunction=vi,z.isInteger=qh,z.isLength=fg,z.isMap=C0,z.isMatch=A0,z.isMatchWith=R0,z.isNaN=Dn,z.isNative=__,z.isNil=oE,z.isNull=ls,z.isNumber=b_,z.isObject=nr,z.isObjectLike=hr,z.isPlainObject=Wh,z.isRegExp=Hh,z.isSafeInteger=w_,z.isSet=$h,z.isString=Gh,z.isSymbol=$s,z.isTypedArray=Bl,z.isUndefined=x_,z.isWeakMap=lE,z.isWeakSet=I0,z.join=e0,z.kebabCase=G0,z.last=Qn,z.lastIndexOf=t0,z.lowerCase=Y0,z.lowerFirst=R_,z.lt=cE,z.lte=N0,z.max=rt,z.maxBy=Bt,z.mean=Qt,z.meanBy=fn,z.min=Hl,z.minBy=AE,z.stubArray=Se,z.stubFalse=me,z.stubObject=ve,z.stubString=Xe,z.stubTrue=gt,z.multiply=h3,z.nth=Fo,z.noConflict=o,z.noop=c,z.now=Vh,z.pad=K0,z.padEnd=Q0,z.padStart=wg,z.parseInt=xE,z.random=_g,z.reduce=ig,z.reduceRight=a_,z.repeat=SE,z.replace=I_,z.result=U0,z.round=m3,z.runInContext=ie,z.sample=eE,z.size=y0,z.snakeCase=N_,z.some=xd,z.sortedIndex=Oh,z.sortedIndexBy=yd,z.sortedIndexOf=r0,z.sortedLastIndex=s0,z.sortedLastIndexBy=Dh,z.sortedLastIndexOf=i0,z.startCase=k_,z.startsWith=J0,z.subtract=p3,z.sum=g3,z.sumBy=y3,z.template=O_,z.times=Pn,z.toFinite=Wo,z.toInteger=bt,z.toLength=S_,z.toLower=Fl,z.toNumber=_i,z.toSafeInteger=uE,z.toString=wn,z.toUpper=zl,z.trim=ql,z.trimEnd=Qh,z.trimStart=Jh,z.truncate=Wl,z.unescape=EE,z.uniqueId=re,z.upperCase=X0,z.upperFirst=nu,z.each=f0,z.eachRight=qo,z.first=Qv,i(z,(function(){var d={};return ha(z,function(p,x){pn.call(z.prototype,x)||(d[x]=p)}),d})(),{chain:!1}),z.VERSION=r,_r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){z[d].placeholder=z}),_r(["drop","take"],function(d,p){Ot.prototype[d]=function(x){x=x===t?1:ur(bt(x),0);var A=this.__filtered__&&!p?new Ot(this):this.clone();return A.__filtered__?A.__takeCount__=Rr(x,A.__takeCount__):A.__views__.push({size:Rr(x,Q),type:d+(A.__dir__<0?"Right":"")}),A},Ot.prototype[d+"Right"]=function(x){return this.reverse()[d](x).reverse()}}),_r(["filter","map","takeWhile"],function(d,p){var x=p+1,A=x==Ee||x==X;Ot.prototype[d]=function(j){var H=this.clone();return H.__iteratees__.push({iteratee:pt(j,3),type:x}),H.__filtered__=H.__filtered__||A,H}}),_r(["head","last"],function(d,p){var x="take"+(p?"Right":"");Ot.prototype[d]=function(){return this[x](1).value()[0]}}),_r(["initial","tail"],function(d,p){var x="drop"+(p?"":"Right");Ot.prototype[d]=function(){return this.__filtered__?new Ot(this):this[x](1)}}),Ot.prototype.compact=function(){return this.filter(Rs)},Ot.prototype.find=function(d){return this.filter(d).head()},Ot.prototype.findLast=function(d){return this.reverse().find(d)},Ot.prototype.invokeMap=Pt(function(d,p){return typeof d=="function"?new Ot(this):this.map(function(x){return Fi(x,d,p)})}),Ot.prototype.reject=function(d){return this.filter(lg(pt(d)))},Ot.prototype.slice=function(d,p){d=bt(d);var x=this;return x.__filtered__&&(d>0||p<0)?new Ot(x):(d<0?x=x.takeRight(-d):d&&(x=x.drop(d)),p!==t&&(p=bt(p),x=p<0?x.dropRight(-p):x.take(p-d)),x)},Ot.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Ot.prototype.toArray=function(){return this.take(Q)},ha(Ot.prototype,function(d,p){var x=/^(?:filter|find|map|reject)|While$/.test(p),A=/^(?:head|last)$/.test(p),j=z[A?"take"+(p=="last"?"Right":""):p],H=A||/^find/.test(p);j&&(z.prototype[p]=function(){var Z=this.__wrapped__,ne=A?[1]:arguments,le=Z instanceof Ot,Re=ne[0],Ie=le||Rt(Z),Oe=function(nn){var on=j.apply(z,ia([nn],ne));return A&&ze?on[0]:on};Ie&&x&&typeof Re=="function"&&Re.length!=1&&(le=Ie=!1);var ze=this.__chain__,at=!!this.__actions__.length,wt=H&&!ze,qt=le&&!at;if(!H&&Ie){Z=qt?Z:new Ot(this);var xt=d.apply(Z,ne);return xt.__actions__.push({func:Zc,args:[Oe],thisArg:t}),new Ls(xt,ze)}return wt&&qt?d.apply(this,ne):(xt=this.thru(Oe),wt?A?xt.value()[0]:xt.value():xt)})}),_r(["pop","push","shift","sort","splice","unshift"],function(d){var p=Xf[d],x=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",A=/^(?:pop|shift)$/.test(d);z.prototype[d]=function(){var j=arguments;if(A&&!this.__chain__){var H=this.value();return p.apply(Rt(H)?H:[],j)}return this[x](function(Z){return p.apply(Rt(Z)?Z:[],j)})}}),ha(Ot.prototype,function(d,p){var x=z[p];if(x){var A=x.name+"";pn.call(bn,A)||(bn[A]=[]),bn[A].push({name:p,func:x})}}),bn[md(t,M).name]=[{name:"wrapper",func:t}],Ot.prototype.clone=Oo,Ot.prototype.reverse=El,Ot.prototype.value=Do,z.prototype.at=rg,z.prototype.chain=Ml,z.prototype.commit=Ur,z.prototype.next=jl,z.prototype.plant=zo,z.prototype.reverse=n_,z.prototype.toJSON=z.prototype.valueOf=z.prototype.value=r_,z.prototype.first=z.prototype.head,ss&&(z.prototype[ss]=bd),z}),Wu=sv();ms?((ms.exports=Wu)._=Wu,yl._=Wu):Zn._=Wu}).call(y7)})(nb,nb.exports)),nb.exports}v7();const _7=Symbol.for("react.source");function CM(n){var a;let e=n,t;for(;!t&&e;e=e.parentElement){const l=Object.keys(e).find(f=>f.startsWith("__reactProps$"));if(!l)continue;const u=(a=e[l])==null?void 0:a[_7];typeof u=="function"&&(t=u()),t!=null&&t.fileName.includes("/components/ui/")&&(t=void 0)}if(!t||!e)return;let r=t.fileName;const s=r.indexOf("/src/");return s!==-1&&(r=r.slice(s)),{filePath:r,line:t.lineNumber,column:t.columnNumber}}function Mn(n,e,t){const r=I.useRef(e);r.current=e;const s=I.useRef(n);s.current=n;const a=I.useRef(t);return a.current=t,I.useCallback((...u)=>{var b;if(typeof s.current!="function")return;const f=u[0];let m=typeof f=="object"&&f!==null&&"currentTarget"in f?f.currentTarget:null;(!m||!(m instanceof HTMLElement))&&(m=a.current||null),(!m||!(m instanceof HTMLElement))&&(m=(b=window.event)==null?void 0:b.target),m instanceof HTMLElement||(m=null);const y=r.current(...u),_=E=>{throw AM(m,E,y),E};try{b7(m,y);const E=s.current(...u);E instanceof Promise&&E.catch(_)}catch(E){_(E)}},[])}function b7(n,e){const t={type:"ui-event",timestamp:Date.now().toString(),...e,source:CM(n)};mR(t)}function AM(n,e,t){const r=e instanceof Error?e:new Error(String(e)),s={type:"error",timestamp:Date.now().toString(),error:{message:String(e),stack:r.stack},source:CM(n),...t};return mR(s),console.log("Element error, reporting to parent:",s),s}function hR(n,e){const t=n instanceof Error?n:new Error(String(n)),r={type:"error",timestamp:Date.now().toString(),error:{message:String(n),stack:t.stack},...e};return mR(r),console.log("Error, reporting to parent:",r),r}window.addEventListener("unhandledrejection",n=>{hR(n.reason,{eventType:"window.unhandledrejection"})});window.addEventListener("error",n=>{hR(n.error,{eventType:"window.error"})});function mR(n){const e=window.parent;e!==window&&e.postMessage({...n,timestamp:Date.now()},"*")}function _k(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function sp(...n){return e=>{let t=!1;const r=n.map(s=>{const a=_k(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():_k(n[s],null)}}}}function Sn(...n){return I.useCallback(sp(...n),n)}function w7(n){const e=x7(n),t=I.forwardRef((r,s)=>{const{children:a,...l}=r,u=I.Children.toArray(a),f=u.find(E7);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function x7(n){const e=I.forwardRef((t,r)=>{const{children:s,...a}=t;if(I.isValidElement(s)){const l=C7(s),u=T7(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var S7=Symbol("radix.slottable");function E7(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===S7}function T7(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function C7(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var A7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ut=A7.reduce((n,e)=>{const t=w7(`Primitive.${e}`),r=I.forwardRef((s,a)=>{const{asChild:l,...u}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function R7(n,e){n&&ky.flushSync(()=>n.dispatchEvent(e))}var Os=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{};function I7(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var mo=n=>{const{present:e,children:t}=n,r=N7(e),s=typeof t=="function"?t({present:r.isPresent}):I.Children.only(t),a=Sn(r.ref,k7(s));return typeof t=="function"||r.isPresent?I.cloneElement(s,{ref:a}):null};mo.displayName="Presence";function N7(n){const[e,t]=I.useState(),r=I.useRef(null),s=I.useRef(n),a=I.useRef("none"),l=n?"mounted":"unmounted",[u,f]=I7(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const m=px(r.current);a.current=u==="mounted"?m:"none"},[u]),Os(()=>{const m=r.current,y=s.current;if(y!==n){const b=a.current,E=px(m);n?f("MOUNT"):E==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(y&&b!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),Os(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,_=E=>{const C=px(r.current).includes(CSS.escape(E.animationName));if(E.target===e&&C&&(f("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=E=>{E.target===e&&(a.current=px(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",_),e.addEventListener("animationend",_),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",_),e.removeEventListener("animationend",_)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:I.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function px(n){return(n==null?void 0:n.animationName)||"none"}function k7(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function O7(n,e){const t=I.createContext(e),r=a=>{const{children:l,...u}=a,f=I.useMemo(()=>u,Object.values(u));return g.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function s(a){const l=I.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function ku(n,e=[]){let t=[];function r(a,l){const u=I.createContext(l),f=t.length;t=[...t,l];const m=_=>{var M;const{scope:b,children:E,...T}=_,C=((M=b==null?void 0:b[n])==null?void 0:M[f])||u,N=I.useMemo(()=>T,Object.values(T));return g.jsx(C.Provider,{value:N,children:E})};m.displayName=a+"Provider";function y(_,b){var C;const E=((C=b==null?void 0:b[n])==null?void 0:C[f])||u,T=I.useContext(E);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${_}\` must be used within \`${a}\``)}return[m,y]}const s=()=>{const a=t.map(l=>I.createContext(l));return function(u){const f=(u==null?void 0:u[n])||a;return I.useMemo(()=>({[`__scope${n}`]:{...u,[n]:f}}),[u,f])}};return s.scopeName=n,[r,D7(s,...e)]}function D7(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((u,{useScope:f,scopeName:m})=>{const _=f(a)[`__scope${m}`];return{...u,..._}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function Si(n){const e=I.useRef(n);return I.useEffect(()=>{e.current=n}),I.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var P7=I.createContext(void 0);function dS(n){const e=I.useContext(P7);return n||e||"ltr"}function kC(n,[e,t]){return Math.min(t,Math.max(e,n))}function Ct(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function M7(n,e){return I.useReducer((t,r)=>e[t][r]??t,n)}var pR="ScrollArea",[RM]=ku(pR),[j7,po]=RM(pR),IM=I.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:a=600,...l}=n,[u,f]=I.useState(null),[m,y]=I.useState(null),[_,b]=I.useState(null),[E,T]=I.useState(null),[C,N]=I.useState(null),[M,B]=I.useState(0),[U,Y]=I.useState(0),[W,K]=I.useState(!1),[D,P]=I.useState(!1),L=Sn(e,q=>f(q)),V=dS(s);return g.jsx(j7,{scope:t,type:r,dir:V,scrollHideDelay:a,scrollArea:u,viewport:m,onViewportChange:y,content:_,onContentChange:b,scrollbarX:E,onScrollbarXChange:T,scrollbarXEnabled:W,onScrollbarXEnabledChange:K,scrollbarY:C,onScrollbarYChange:N,scrollbarYEnabled:D,onScrollbarYEnabledChange:P,onCornerWidthChange:B,onCornerHeightChange:Y,children:g.jsx(Ut.div,{dir:V,...l,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":U+"px",...n.style}})})});IM.displayName=pR;var NM="ScrollAreaViewport",kM=I.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...a}=n,l=po(NM,t),u=I.useRef(null),f=Sn(e,u,l.onViewportChange);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),g.jsx(Ut.div,{"data-radix-scroll-area-viewport":"",...a,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:g.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});kM.displayName=NM;var vc="ScrollAreaScrollbar",OM=I.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=po(vc,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,u=n.orientation==="horizontal";return I.useEffect(()=>(u?a(!0):l(!0),()=>{u?a(!1):l(!1)}),[u,a,l]),s.type==="hover"?g.jsx(L7,{...r,ref:e,forceMount:t}):s.type==="scroll"?g.jsx(V7,{...r,ref:e,forceMount:t}):s.type==="auto"?g.jsx(DM,{...r,ref:e,forceMount:t}):s.type==="always"?g.jsx(gR,{...r,ref:e}):null});OM.displayName=vc;var L7=I.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=po(vc,n.__scopeScrollArea),[a,l]=I.useState(!1);return I.useEffect(()=>{const u=s.scrollArea;let f=0;if(u){const m=()=>{window.clearTimeout(f),l(!0)},y=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),g.jsx(mo,{present:t||a,children:g.jsx(DM,{"data-state":a?"visible":"hidden",...r,ref:e})})}),V7=I.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=po(vc,n.__scopeScrollArea),a=n.orientation==="horizontal",l=hS(()=>f("SCROLL_END"),100),[u,f]=M7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,s.scrollHideDelay,f]),I.useEffect(()=>{const m=s.viewport,y=a?"scrollLeft":"scrollTop";if(m){let _=m[y];const b=()=>{const E=m[y];_!==E&&(f("SCROLL"),l()),_=E};return m.addEventListener("scroll",b),()=>m.removeEventListener("scroll",b)}},[s.viewport,a,f,l]),g.jsx(mo,{present:t||u!=="hidden",children:g.jsx(gR,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ct(n.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ct(n.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),DM=I.forwardRef((n,e)=>{const t=po(vc,n.__scopeScrollArea),{forceMount:r,...s}=n,[a,l]=I.useState(!1),u=n.orientation==="horizontal",f=hS(()=>{if(t.viewport){const m=t.viewport.offsetWidth<t.viewport.scrollWidth,y=t.viewport.offsetHeight<t.viewport.scrollHeight;l(u?m:y)}},10);return _y(t.viewport,f),_y(t.content,f),g.jsx(mo,{present:r||a,children:g.jsx(gR,{"data-state":a?"visible":"hidden",...s,ref:e})})}),gR=I.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=po(vc,n.__scopeScrollArea),a=I.useRef(null),l=I.useRef(0),[u,f]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=VM(u.viewport,u.content),y={...r,sizes:u,onSizesChange:f,hasThumb:m>0&&m<1,onThumbChange:b=>a.current=b,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:b=>l.current=b};function _(b,E){return W7(b,l.current,u,E)}return t==="horizontal"?g.jsx(B7,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const b=s.viewport.scrollLeft,E=bk(b,u,s.dir);a.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollLeft=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollLeft=_(b,s.dir))}}):t==="vertical"?g.jsx(U7,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const b=s.viewport.scrollTop,E=bk(b,u);a.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:b=>{s.viewport&&(s.viewport.scrollTop=b)},onDragScroll:b=>{s.viewport&&(s.viewport.scrollTop=_(b))}}):null}),B7=I.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,a=po(vc,n.__scopeScrollArea),[l,u]=I.useState(),f=I.useRef(null),m=Sn(e,f,a.onScrollbarXChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),g.jsx(MM,{"data-orientation":"horizontal",...s,ref:m,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":fS(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.x),onDragScroll:y=>n.onDragScroll(y.x),onWheelScroll:(y,_)=>{if(a.viewport){const b=a.viewport.scrollLeft+y.deltaX;n.onWheelScroll(b),UM(b,_)&&y.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:b1(l.paddingLeft),paddingEnd:b1(l.paddingRight)}})}})}),U7=I.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,a=po(vc,n.__scopeScrollArea),[l,u]=I.useState(),f=I.useRef(null),m=Sn(e,f,a.onScrollbarYChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),g.jsx(MM,{"data-orientation":"vertical",...s,ref:m,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":fS(t)+"px",...n.style},onThumbPointerDown:y=>n.onThumbPointerDown(y.y),onDragScroll:y=>n.onDragScroll(y.y),onWheelScroll:(y,_)=>{if(a.viewport){const b=a.viewport.scrollTop+y.deltaY;n.onWheelScroll(b),UM(b,_)&&y.preventDefault()}},onResize:()=>{f.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:b1(l.paddingTop),paddingEnd:b1(l.paddingBottom)}})}})}),[F7,PM]=RM(vc),MM=I.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:m,onWheelScroll:y,onResize:_,...b}=n,E=po(vc,t),[T,C]=I.useState(null),N=Sn(e,L=>C(L)),M=I.useRef(null),B=I.useRef(""),U=E.viewport,Y=r.content-r.viewport,W=Si(y),K=Si(f),D=hS(_,10);function P(L){if(M.current){const V=L.clientX-M.current.left,q=L.clientY-M.current.top;m({x:V,y:q})}}return I.useEffect(()=>{const L=V=>{const q=V.target;(T==null?void 0:T.contains(q))&&W(V,Y)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[U,T,Y,W]),I.useEffect(K,[r,K]),_y(T,D),_y(E.content,D),g.jsx(F7,{scope:t,scrollbar:T,hasThumb:s,onThumbChange:Si(a),onThumbPointerUp:Si(l),onThumbPositionChange:K,onThumbPointerDown:Si(u),children:g.jsx(Ut.div,{...b,ref:N,style:{position:"absolute",...b.style},onPointerDown:Ct(n.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),M.current=T.getBoundingClientRect(),B.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),P(L))}),onPointerMove:Ct(n.onPointerMove,P),onPointerUp:Ct(n.onPointerUp,L=>{const V=L.target;V.hasPointerCapture(L.pointerId)&&V.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=B.current,E.viewport&&(E.viewport.style.scrollBehavior=""),M.current=null})})})}),_1="ScrollAreaThumb",jM=I.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=PM(_1,n.__scopeScrollArea);return g.jsx(mo,{present:t||s.hasThumb,children:g.jsx(z7,{ref:e,...r})})}),z7=I.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,a=po(_1,t),l=PM(_1,t),{onThumbPositionChange:u}=l,f=Sn(e,_=>l.onThumbChange(_)),m=I.useRef(void 0),y=hS(()=>{m.current&&(m.current(),m.current=void 0)},100);return I.useEffect(()=>{const _=a.viewport;if(_){const b=()=>{if(y(),!m.current){const E=H7(_,u);m.current=E,u()}};return u(),_.addEventListener("scroll",b),()=>_.removeEventListener("scroll",b)}},[a.viewport,y,u]),g.jsx(Ut.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ct(n.onPointerDownCapture,_=>{const E=_.target.getBoundingClientRect(),T=_.clientX-E.left,C=_.clientY-E.top;l.onThumbPointerDown({x:T,y:C})}),onPointerUp:Ct(n.onPointerUp,l.onThumbPointerUp)})});jM.displayName=_1;var yR="ScrollAreaCorner",LM=I.forwardRef((n,e)=>{const t=po(yR,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?g.jsx(q7,{...n,ref:e}):null});LM.displayName=yR;var q7=I.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=po(yR,t),[a,l]=I.useState(0),[u,f]=I.useState(0),m=!!(a&&u);return _y(s.scrollbarX,()=>{var _;const y=((_=s.scrollbarX)==null?void 0:_.offsetHeight)||0;s.onCornerHeightChange(y),f(y)}),_y(s.scrollbarY,()=>{var _;const y=((_=s.scrollbarY)==null?void 0:_.offsetWidth)||0;s.onCornerWidthChange(y),l(y)}),m?g.jsx(Ut.div,{...r,ref:e,style:{width:a,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function b1(n){return n?parseInt(n,10):0}function VM(n,e){const t=n/e;return isNaN(t)?0:t}function fS(n){const e=VM(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function W7(n,e,t,r="ltr"){const s=fS(t),a=s/2,l=e||a,u=s-l,f=t.scrollbar.paddingStart+l,m=t.scrollbar.size-t.scrollbar.paddingEnd-u,y=t.content-t.viewport,_=r==="ltr"?[0,y]:[y*-1,0];return BM([f,m],_)(n)}function bk(n,e,t="ltr"){const r=fS(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,l=e.content-e.viewport,u=a-r,f=t==="ltr"?[0,l]:[l*-1,0],m=kC(n,f);return BM([0,l],[0,u])(m)}function BM(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function UM(n,e){return n>0&&n<e}var H7=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const a={left:n.scrollLeft,top:n.scrollTop},l=t.left!==a.left,u=t.top!==a.top;(l||u)&&e(),t=a,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function hS(n,e){const t=Si(n),r=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),I.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function _y(n,e){const t=Si(e);Os(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var $7=IM,G7=kM,Y7=LM;function FM(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=FM(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zM(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=FM(n))&&(r&&(r+=" "),r+=e);return r}const K7=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},Q7=(n,e)=>({classGroupId:n,validator:e}),qM=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),w1="-",wk=[],J7="arbitrary..",X7=n=>{const e=eW(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return Z7(l);const u=l.split(w1),f=u[0]===""&&u.length>1?1:0;return WM(u,f,e)},getConflictingClassGroupIds:(l,u)=>{if(u){const f=r[l],m=t[l];return f?m?K7(m,f):f:m||wk}return t[l]||wk}}},WM=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],a=t.nextPart.get(s);if(a){const m=WM(n,e+1,a);if(m)return m}const l=t.validators;if(l===null)return;const u=e===0?n.join(w1):n.slice(e).join(w1),f=l.length;for(let m=0;m<f;m++){const y=l[m];if(y.validator(u))return y.classGroupId}},Z7=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?J7+r:void 0})(),eW=n=>{const{theme:e,classGroups:t}=n;return tW(t,e)},tW=(n,e)=>{const t=qM();for(const r in n){const s=n[r];vR(s,t,r,e)}return t},vR=(n,e,t,r)=>{const s=n.length;for(let a=0;a<s;a++){const l=n[a];nW(l,e,t,r)}},nW=(n,e,t,r)=>{if(typeof n=="string"){rW(n,e,t);return}if(typeof n=="function"){sW(n,e,t,r);return}iW(n,e,t,r)},rW=(n,e,t)=>{const r=n===""?e:HM(e,n);r.classGroupId=t},sW=(n,e,t,r)=>{if(aW(n)){vR(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Q7(t,n))},iW=(n,e,t,r)=>{const s=Object.entries(n),a=s.length;for(let l=0;l<a;l++){const[u,f]=s[l];vR(f,HM(e,u),t,r)}},HM=(n,e)=>{let t=n;const r=e.split(w1),s=r.length;for(let a=0;a<s;a++){const l=r[a];let u=t.nextPart.get(l);u||(u=qM(),t.nextPart.set(l,u)),t=u}return t},aW=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,oW=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const s=(a,l)=>{t[a]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return s(a,l),l},set(a,l){a in t?t[a]=l:s(a,l)}}},OC="!",xk=":",lW=[],Sk=(n,e,t,r,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:s}),cW=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const a=[];let l=0,u=0,f=0,m;const y=s.length;for(let C=0;C<y;C++){const N=s[C];if(l===0&&u===0){if(N===xk){a.push(s.slice(f,C)),f=C+1;continue}if(N==="/"){m=C;continue}}N==="["?l++:N==="]"?l--:N==="("?u++:N===")"&&u--}const _=a.length===0?s:s.slice(f);let b=_,E=!1;_.endsWith(OC)?(b=_.slice(0,-1),E=!0):_.startsWith(OC)&&(b=_.slice(1),E=!0);const T=m&&m>f?m-f:void 0;return Sk(a,E,b,T)};if(e){const s=e+xk,a=r;r=l=>l.startsWith(s)?a(l.slice(s.length)):Sk(lW,!1,l,void 0,!0)}if(t){const s=r;r=a=>t({className:a,parseClassName:s})}return r},uW=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let s=[];for(let a=0;a<t.length;a++){const l=t[a],u=l[0]==="[",f=e.has(l);u||f?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},dW=n=>({cache:oW(n.cacheSize),parseClassName:cW(n),sortModifiers:uW(n),...X7(n)}),fW=/\s+/,hW=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],u=n.trim().split(fW);let f="";for(let m=u.length-1;m>=0;m-=1){const y=u[m],{isExternal:_,modifiers:b,hasImportantModifier:E,baseClassName:T,maybePostfixModifierPosition:C}=t(y);if(_){f=y+(f.length>0?" "+f:f);continue}let N=!!C,M=r(N?T.substring(0,C):T);if(!M){if(!N){f=y+(f.length>0?" "+f:f);continue}if(M=r(T),!M){f=y+(f.length>0?" "+f:f);continue}N=!1}const B=b.length===0?"":b.length===1?b[0]:a(b).join(":"),U=E?B+OC:B,Y=U+M;if(l.indexOf(Y)>-1)continue;l.push(Y);const W=s(M,N);for(let K=0;K<W.length;++K){const D=W[K];l.push(U+D)}f=y+(f.length>0?" "+f:f)}return f},mW=(...n)=>{let e=0,t,r,s="";for(;e<n.length;)(t=n[e++])&&(r=$M(t))&&(s&&(s+=" "),s+=r);return s},$M=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=$M(n[r]))&&(t&&(t+=" "),t+=e);return t},pW=(n,...e)=>{let t,r,s,a;const l=f=>{const m=e.reduce((y,_)=>_(y),n());return t=dW(m),r=t.cache.get,s=t.cache.set,a=u,u(f)},u=f=>{const m=r(f);if(m)return m;const y=hW(f,t);return s(f,y),y};return a=l,(...f)=>a(mW(...f))},gW=[],cs=n=>{const e=t=>t[n]||gW;return e.isThemeGetter=!0,e},GM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yW=/^\d+\/\d+$/,vW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_W=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ag=n=>yW.test(n),Yt=n=>!!n&&!Number.isNaN(Number(n)),Pd=n=>!!n&&Number.isInteger(Number(n)),oT=n=>n.endsWith("%")&&Yt(n.slice(0,-1)),su=n=>vW.test(n),SW=()=>!0,EW=n=>_W.test(n)&&!bW.test(n),KM=()=>!1,TW=n=>wW.test(n),CW=n=>xW.test(n),AW=n=>!et(n)&&!tt(n),RW=n=>Fy(n,XM,KM),et=n=>GM.test(n),Zh=n=>Fy(n,ZM,EW),lT=n=>Fy(n,DW,Yt),Ek=n=>Fy(n,QM,KM),IW=n=>Fy(n,JM,CW),gx=n=>Fy(n,ej,TW),tt=n=>YM.test(n),z_=n=>zy(n,ZM),NW=n=>zy(n,PW),Tk=n=>zy(n,QM),kW=n=>zy(n,XM),OW=n=>zy(n,JM),yx=n=>zy(n,ej,!0),Fy=(n,e,t)=>{const r=GM.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},zy=(n,e,t=!1)=>{const r=YM.exec(n);return r?r[1]?e(r[1]):t:!1},QM=n=>n==="position"||n==="percentage",JM=n=>n==="image"||n==="url",XM=n=>n==="length"||n==="size"||n==="bg-size",ZM=n=>n==="length",DW=n=>n==="number",PW=n=>n==="family-name",ej=n=>n==="shadow",MW=()=>{const n=cs("color"),e=cs("font"),t=cs("text"),r=cs("font-weight"),s=cs("tracking"),a=cs("leading"),l=cs("breakpoint"),u=cs("container"),f=cs("spacing"),m=cs("radius"),y=cs("shadow"),_=cs("inset-shadow"),b=cs("text-shadow"),E=cs("drop-shadow"),T=cs("blur"),C=cs("perspective"),N=cs("aspect"),M=cs("ease"),B=cs("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...Y(),tt,et],K=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],P=()=>[tt,et,f],L=()=>[Ag,"full","auto",...P()],V=()=>[Pd,"none","subgrid",tt,et],q=()=>["auto",{span:["full",Pd,tt,et]},Pd,tt,et],J=()=>[Pd,"auto",tt,et],$=()=>["auto","min","max","fr",tt,et],Ee=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...P()],ce=()=>[Ag,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],se=()=>[n,tt,et],Pe=()=>[...Y(),Tk,Ek,{position:[tt,et]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",kW,RW,{size:[tt,et]}],ye=()=>[oT,z_,Zh],Ce=()=>["","none","full",m,tt,et],Ne=()=>["",Yt,z_,Zh],Ue=()=>["solid","dashed","dotted","double"],nt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Yt,oT,Tk,Ek],it=()=>["","none",T,tt,et],ct=()=>["none",Yt,tt,et],yt=()=>["none",Yt,tt,et],vt=()=>[Yt,tt,et],_t=()=>[Ag,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[su],breakpoint:[su],color:[SW],container:[su],"drop-shadow":[su],ease:["in","out","in-out"],font:[AW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[su],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[su],shadow:[su],spacing:["px",Yt],text:[su],"text-shadow":[su],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ag,et,tt,N]}],container:["container"],columns:[{columns:[Yt,et,tt,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Pd,"auto",tt,et]}],basis:[{basis:[Ag,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Yt,Ag,"auto","initial","none",et]}],grow:[{grow:["",Yt,tt,et]}],shrink:[{shrink:["",Yt,tt,et]}],order:[{order:[Pd,"first","last","none",tt,et]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Ee(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...Ee()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ee()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:ce()}],w:[{w:[u,"screen",...ce()]}],"min-w":[{"min-w":[u,"screen","none",...ce()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...ce()]}],h:[{h:["screen","lh",...ce()]}],"min-h":[{"min-h":["screen","lh","none",...ce()]}],"max-h":[{"max-h":["screen","lh",...ce()]}],"font-size":[{text:["base",t,z_,Zh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,tt,lT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",oT,et]}],"font-family":[{font:[NW,et,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,tt,et]}],"line-clamp":[{"line-clamp":[Yt,"none",tt,lT]}],leading:[{leading:[a,...P()]}],"list-image":[{"list-image":["none",tt,et]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",tt,et]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[Yt,"from-font","auto",tt,Zh]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[Yt,"auto",tt,et]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt,et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt,et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Pe()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pd,tt,et],radial:["",tt,et],conic:[Pd,tt,et]},OW,IW]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:Ce()}],"rounded-s":[{"rounded-s":Ce()}],"rounded-e":[{"rounded-e":Ce()}],"rounded-t":[{"rounded-t":Ce()}],"rounded-r":[{"rounded-r":Ce()}],"rounded-b":[{"rounded-b":Ce()}],"rounded-l":[{"rounded-l":Ce()}],"rounded-ss":[{"rounded-ss":Ce()}],"rounded-se":[{"rounded-se":Ce()}],"rounded-ee":[{"rounded-ee":Ce()}],"rounded-es":[{"rounded-es":Ce()}],"rounded-tl":[{"rounded-tl":Ce()}],"rounded-tr":[{"rounded-tr":Ce()}],"rounded-br":[{"rounded-br":Ce()}],"rounded-bl":[{"rounded-bl":Ce()}],"border-w":[{border:Ne()}],"border-w-x":[{"border-x":Ne()}],"border-w-y":[{"border-y":Ne()}],"border-w-s":[{"border-s":Ne()}],"border-w-e":[{"border-e":Ne()}],"border-w-t":[{"border-t":Ne()}],"border-w-r":[{"border-r":Ne()}],"border-w-b":[{"border-b":Ne()}],"border-w-l":[{"border-l":Ne()}],"divide-x":[{"divide-x":Ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ue(),"hidden","none"]}],"divide-style":[{divide:[...Ue(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...Ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Yt,tt,et]}],"outline-w":[{outline:["",Yt,z_,Zh]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",y,yx,gx]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",_,yx,gx]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:Ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[Yt,Zh]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":Ne()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",b,yx,gx]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[Yt,tt,et]}],"mix-blend":[{"mix-blend":[...nt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":nt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[tt,et]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Y()}],"mask-image-conic-pos":[{"mask-conic":[Yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Pe()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",tt,et]}],filter:[{filter:["","none",tt,et]}],blur:[{blur:it()}],brightness:[{brightness:[Yt,tt,et]}],contrast:[{contrast:[Yt,tt,et]}],"drop-shadow":[{"drop-shadow":["","none",E,yx,gx]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",Yt,tt,et]}],"hue-rotate":[{"hue-rotate":[Yt,tt,et]}],invert:[{invert:["",Yt,tt,et]}],saturate:[{saturate:[Yt,tt,et]}],sepia:[{sepia:["",Yt,tt,et]}],"backdrop-filter":[{"backdrop-filter":["","none",tt,et]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[Yt,tt,et]}],"backdrop-contrast":[{"backdrop-contrast":[Yt,tt,et]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Yt,tt,et]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Yt,tt,et]}],"backdrop-invert":[{"backdrop-invert":["",Yt,tt,et]}],"backdrop-opacity":[{"backdrop-opacity":[Yt,tt,et]}],"backdrop-saturate":[{"backdrop-saturate":[Yt,tt,et]}],"backdrop-sepia":[{"backdrop-sepia":["",Yt,tt,et]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",tt,et]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Yt,"initial",tt,et]}],ease:[{ease:["linear","initial",M,tt,et]}],delay:[{delay:[Yt,tt,et]}],animate:[{animate:["none",B,tt,et]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,tt,et]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:ct()}],"rotate-x":[{"rotate-x":ct()}],"rotate-y":[{"rotate-y":ct()}],"rotate-z":[{"rotate-z":ct()}],scale:[{scale:yt()}],"scale-x":[{"scale-x":yt()}],"scale-y":[{"scale-y":yt()}],"scale-z":[{"scale-z":yt()}],"scale-3d":["scale-3d"],skew:[{skew:vt()}],"skew-x":[{"skew-x":vt()}],"skew-y":[{"skew-y":vt()}],transform:[{transform:[tt,et,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_t()}],"translate-x":[{"translate-x":_t()}],"translate-y":[{"translate-y":_t()}],"translate-z":[{"translate-z":_t()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt,et]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt,et]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[Yt,z_,Zh,lT]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jW=pW(MW);function Fe(...n){return jW(zM(n))}function _R({className:n,children:e,...t}){return g.jsxs($7,{"data-slot":"scroll-area",className:Fe("relative",n),...t,children:[g.jsx(G7,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),g.jsx(LW,{}),g.jsx(Y7,{})]})}function LW({className:n,orientation:e="vertical",...t}){return g.jsx(OM,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:g.jsx(jM,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let vx=null,cT=null;class VW extends Ve.Component{constructor(t){super(t);mr(this,"applyClonedContent",t=>{if(!(!cT||!t)){for(const r of cT.childNodes)t.appendChild(r);hR(this.state.error,{})}});this.state={hasError:!1}}static getDerivedStateFromError(t){return cT=vx==null?void 0:vx.cloneNode(!0),{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({hasError:!0,error:t,errorInfo:r})}render(){const{tagName:t,children:r,...s}=this.props;return this.state.hasError?g.jsxs(g.Fragment,{children:[g.jsx(t,{...s,ref:this.applyClonedContent,className:`filter-[grayscale(0.8)] ${s.className||""}`}),g.jsx(BW,{error:this.state.error,errorInfo:this.state.errorInfo})]}):g.jsx(t,{...s,ref:a=>{vx=a},children:r})}}function BW(n){var r,s,a,l;const[e,t]=I.useReducer(u=>!u,!1);return g.jsxs(g.Fragment,{children:[g.jsx("div",{className:`fixed z-10000 inset-0 flex items-center justify-center p-8 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200 transition-opacity ${e?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}`,children:g.jsxs("div",{className:"text-white text-center flex flex-col gap-4 p-4 max-w-lg rounded-lg bg-black/70",children:[g.jsx(v1,{className:"w-10 h-10 mx-auto"}),g.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong"}),g.jsx("div",{className:"text-sm whitespace-pre-wrap",children:(r=n.error)==null?void 0:r.message}),g.jsx(_R,{className:"h-40 w-full",children:g.jsx("pre",{className:"text-sm whitespace-pre-wrap text-red-500 text-left",children:((s=n.errorInfo)==null?void 0:s.componentStack)||((a=n.error)==null?void 0:a.stack)})}),g.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[g.jsx("button",{className:"bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:()=>{window.location.reload()},children:"Reload"}),g.jsx("button",{className:"bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:t,children:"Close"})]})]})}),g.jsxs("div",{className:`fixed left-0 top-0 w-full flex items-center gap-4 flex-wrap bg-black/70 p-4 ${e?"translate-y-0":"translate-y-[-100%]"} transition-all duration-200`,children:[g.jsxs("div",{className:"text-yellow-300 font-bold flex items-center gap-2",children:[g.jsx(v1,{className:"w-6 h-6"}),"Page is not working"]}),g.jsxs("div",{className:"text-white",children:[" ",(l=n.error)==null?void 0:l.message," "]}),g.jsx("button",{className:"ml-auto bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:t,children:"Details"})]})]})}const Ck=n=>{let e;const t=new Set,r=(m,y)=>{const _=typeof m=="function"?m(e):m;if(!Object.is(_,e)){const b=e;e=y??(typeof _!="object"||_===null)?_:Object.assign({},e,_),t.forEach(E=>E(e,b))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>f,subscribe:m=>(t.add(m),()=>t.delete(m))},f=e=n(r,s,u);return u},UW=(n=>n?Ck(n):Ck),FW=n=>n;function zW(n,e=FW){const t=Ve.useSyncExternalStore(n.subscribe,Ve.useCallback(()=>e(n.getState()),[n,e]),Ve.useCallback(()=>e(n.getInitialState()),[n,e]));return Ve.useDebugValue(t),t}const Ak=n=>{const e=UW(n),t=r=>zW(e,r);return Object.assign(t,e),t},qW=(n=>n?Ak(n):Ak);var by=(n=>(n.Unspecified="unspecified",n.Customer="customer",n.Worker="worker",n.Manager="manager",n.Admin="admin",n))(by||{});const tj=qW(n=>({user:null,token:null,status:"loading",role:"unspecified",companyId:null,setUser:e=>n({user:e,status:e?"authenticated":"unauthenticated"}),setToken:e=>n({token:e}),setRole:e=>n({role:e}),setCompanyId:e=>n({companyId:e}),logout:async()=>{await WU(Ei),n({user:null,token:null,status:"unauthenticated",role:"unspecified",companyId:null})}}));qU(Ei,async n=>{const{setUser:e,setToken:t,setRole:r,setCompanyId:s}=tj.getState();if(n){const a=await n.getIdToken();e(n),t(a);try{const l=Me(ae,"users",n.uid),u=await jr(l);if(u.exists()){const f=u.data();if(f.role){const m=f.role;let y="unspecified";m==="admin"?y="admin":m==="manager"?y="manager":m==="worker"?y="worker":m==="customer"?y="customer":Object.values(by).includes(m)&&(y=m),r(y)}f.companyId&&s(f.companyId)}else await Tr(l,{email:n.email,role:"unspecified",createdAt:new Date().toISOString()})}catch(l){console.error("Error fetching user role:",l)}}else e(null),t(null),r("unspecified"),s(null)});function mS(){const n=tj();return{...n,isAuthenticated:n.status==="authenticated",isLoading:n.status==="loading",parentOrigin:null,hasInvalidToken:!1,hasNoToken:n.status==="unauthenticated",clearAuth:n.logout,refreshAuth:async()=>!0}}const WW=async()=>{};var HW=Symbol.for("react.lazy"),x1=aA[" use ".trim().toString()];function $W(n){return typeof n=="object"&&n!==null&&"then"in n}function nj(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===HW&&"_payload"in n&&$W(n._payload)}function bR(n){const e=GW(n),t=I.forwardRef((r,s)=>{let{children:a,...l}=r;nj(a)&&typeof x1=="function"&&(a=x1(a._payload));const u=I.Children.toArray(a),f=u.find(KW);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var rj=bR("Slot");function GW(n){const e=I.forwardRef((t,r)=>{let{children:s,...a}=t;if(nj(s)&&typeof x1=="function"&&(s=x1(s._payload)),I.isValidElement(s)){const l=JW(s),u=QW(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var YW=Symbol("radix.slottable");function KW(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===YW}function QW(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function JW(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Rk=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Ik=zM,wR=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Ik(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(m=>{const y=t==null?void 0:t[m],_=a==null?void 0:a[m];if(y===null)return null;const b=Rk(y)||Rk(_);return s[m][b]}),u=t&&Object.entries(t).reduce((m,y)=>{let[_,b]=y;return b===void 0||(m[_]=b),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:_,className:b,...E}=y;return Object.entries(E).every(T=>{let[C,N]=T;return Array.isArray(N)?N.includes({...a,...u}[C]):{...a,...u}[C]===N})?[...m,_,b]:m},[]);return Ik(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},DC=wR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function $e({className:n,variant:e,size:t,asChild:r=!1,onClick:s,...a}){const l=r?rj:"button",u=Mn(s,()=>({componentType:"button",eventType:"click",componentInfo:{variant:e,componentProps:{variant:e,className:n,size:t}}}));return g.jsx(l,{"data-slot":"button",className:Fe(DC({variant:e,size:t,className:n})),onClick:u,...a})}const ip=V6({component:XW});function XW(){const{isAuthenticated:n,isLoading:e,clearAuth:t,status:r}=mS(),s=async()=>{await t(),window.location.reload()};return g.jsxs("div",{className:"flex flex-col min-h-screen",children:[g.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:g.jsxs("div",{className:"container flex h-14 items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx("span",{className:"font-semibold",children:"Moving Company CRM"})}),g.jsx("div",{className:"flex items-center gap-4",children:e?g.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[g.jsx(EM,{className:"h-4 w-4"}),"Authenticated"]}),g.jsxs($e,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[g.jsx(xM,{className:"h-4 w-4"}),"Logout"]})]}):g.jsxs("span",{className:"text-sm text-muted-foreground",children:["Status: ",r]})})]})}),g.jsx(VW,{tagName:"main",className:"flex-1",children:g.jsx(pA,{})}),g.jsx(E8,{position:"bottom-right"})]})}const ZW=wu("/portal")({component:eH});function eH(){const{role:n,isAuthenticated:e,isLoading:t,logout:r}=mS(),s=ep();return I.useEffect(()=>{t||(e?n!==by.Customer&&by.Unspecified:s({to:"/login"}))},[t,e,n,s]),t?g.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):g.jsxs("div",{className:"min-h-screen bg-slate-50",children:[g.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:g.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-2",children:g.jsx(_b,{to:"/portal",className:"font-bold text-xl text-primary",children:"Swift Movers Portal"})}),g.jsx("div",{className:"flex items-center gap-4",children:g.jsxs($e,{variant:"ghost",size:"sm",onClick:()=>r(),children:[g.jsx(xM,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})}),g.jsx("main",{className:"container mx-auto px-4 py-8",children:g.jsx(pA,{})})]})}const sm=class sm{constructor(){mr(this,"collectionName","companies")}static getInstance(){return sm.instance||(sm.instance=new sm),sm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getCompanyByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteCompanyByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllCompany(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async insertCompany(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllCompany(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listCompany(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getCompanyById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setCompanyById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteCompanyById(e){await Je(Me(ae,this.collectionName,e))}async getCompanyByName(e){const t=Ze(De(ae,this.collectionName),qe("name","==",e));return(await Be(t)).docs.map(s=>s.data())}async setCompanyByName(e,t){if(t.id)return this.setCompanyById(t.id,t);const r=await this.getCompanyByName(e);return r.length>0?this.setCompanyById(r[0].id,t):this.insertCompany([t])}async deleteCompanyByName(e){const r=(await this.getCompanyByName(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getCompanyByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setCompanyByDataCreator(e,t){return t.id?this.setCompanyById(t.id,t):this.insertCompany([t])}async deleteCompanyByDataCreator(e){const r=(await this.getCompanyByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getCompanyByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setCompanyByDataUpdater(e,t){return t.id?this.setCompanyById(t.id,t):this.insertCompany([t])}async deleteCompanyByDataUpdater(e){const r=(await this.getCompanyByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(sm,"instance",null);let wy=sm;function Jt({className:n,type:e,onChange:t,onBlur:r,onFocus:s,onKeyDown:a,onKeyUp:l,...u}){const f=I.useRef(null),m=Mn(t,()=>{var T;return{componentType:"input",eventType:"change",componentInfo:{id:u.id,name:u.name,type:e,value:(T=f.current)==null?void 0:T.value}}},f.current),y=Mn(r,()=>{var T;return{componentType:"input",eventType:"blur",componentInfo:{id:u.id,name:u.name,type:e,value:(T=f.current)==null?void 0:T.value}}},f.current),_=Mn(s,()=>{var T;return{componentType:"input",eventType:"focus",componentInfo:{id:u.id,name:u.name,type:e,value:(T=f.current)==null?void 0:T.value}}},f.current),b=Mn(a,()=>{var T,C;return{componentType:"input",eventType:"keydown",componentInfo:{id:u.id,name:u.name,type:e,key:(T=f.current)==null?void 0:T.value,value:(C=f.current)==null?void 0:C.value}}},f.current),E=Mn(l,()=>{var T,C;return{componentType:"input",eventType:"keyup",componentInfo:{id:u.id,name:u.name,type:e,key:(T=f.current)==null?void 0:T.value,value:(C=f.current)==null?void 0:C.value}}},f.current);return g.jsx("input",{ref:f,type:e,"data-slot":"input",onChange:m,onBlur:y,onFocus:_,onKeyDown:b,onKeyUp:E,className:Fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...u})}var tH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nH=tH.reduce((n,e)=>{const t=bR(`Primitive.${e}`),r=I.forwardRef((s,a)=>{const{asChild:l,...u}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),rH="Label",sj=I.forwardRef((n,e)=>g.jsx(nH.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));sj.displayName=rH;var sH=sj;function lt({className:n,...e}){return g.jsx(sH,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Pr({className:n,id:e,name:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"card",eventType:"click",componentInfo:{id:e,name:t}}));return g.jsx("div",{"data-slot":"card",id:e,"data-name":t,onClick:a,className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...s})}function qr({className:n,id:e,name:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"card-header",eventType:"click",componentInfo:{id:e,name:t}}));return g.jsx("div",{"data-slot":"card-header",id:e,"data-name":t,onClick:a,className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...s})}function Wr({className:n,id:e,name:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"card-title",eventType:"click",componentInfo:{id:e,name:t}}));return g.jsx("div",{"data-slot":"card-title",id:e,"data-name":t,onClick:a,className:Fe("leading-none font-semibold",n),...s})}function Ti({className:n,id:e,name:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"card-description",eventType:"click",componentInfo:{id:e,name:t}}));return g.jsx("div",{"data-slot":"card-description",id:e,"data-name":t,onClick:a,className:Fe("text-muted-foreground text-sm",n),...s})}function Mr({className:n,...e}){return g.jsx("div",{"data-slot":"card-content",className:Fe("px-6",n),...e})}function PC({className:n,...e}){return g.jsx("div",{"data-slot":"card-footer",className:Fe("flex items-center px-6 [.border-t]:pt-6",n),...e})}function iH(){const{user:n,setCompanyId:e,setRole:t}=mS(),r=ep(),[s,a]=I.useState(""),[l,u]=I.useState(!1),[f,m]=I.useState(null),y=async _=>{if(_.preventDefault(),!!n){u(!0),m(null);try{const E=await wy.getInstance().insertCompany([{name:s,contact_email:n.email||""}]);if(E.length===0)throw new Error("Failed to create company");const T=E[0],C=Me(ae,"users",n.uid);await mM(C,{companyId:T.id,role:by.Manager}),e(T.id),t(by.Manager),r({to:"/"})}catch(b){console.error("Onboarding error:",b),m(b.message||"Failed to create company")}finally{u(!1)}}};return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:g.jsxs(Pr,{className:"w-[450px]",children:[g.jsxs(qr,{children:[g.jsx(Wr,{children:"Welcome to Swift Movers CRM"}),g.jsx(Ti,{children:"Let's set up your moving company workspace."})]}),g.jsxs("form",{onSubmit:y,children:[g.jsxs(Mr,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"companyName",children:"Company Name"}),g.jsx(Jt,{id:"companyName",placeholder:"e.g. Acme Moving Co.",value:s,onChange:_=>a(_.target.value),required:!0,minLength:3})]}),f&&g.jsx("p",{className:"text-sm text-red-500",children:f})]}),g.jsx(PC,{children:g.jsx($e,{type:"submit",className:"w-full",disabled:l||!s,children:l?"Creating Workspace...":"Create Workspace"})})]})]})})}const aH=wu("/onboarding")({component:iH});function Nk(n){const e=oH(n),t=I.forwardRef((r,s)=>{const{children:a,...l}=r,u=I.Children.toArray(a),f=u.find(cH);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function oH(n){const e=I.forwardRef((t,r)=>{const{children:s,...a}=t;if(I.isValidElement(s)){const l=dH(s),u=uH(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var lH=Symbol("radix.slottable");function cH(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===lH}function uH(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function dH(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function ij(n){const e=n+"CollectionProvider",[t,r]=ku(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=C=>{const{scope:N,children:M}=C,B=Ve.useRef(null),U=Ve.useRef(new Map).current;return g.jsx(s,{scope:N,itemMap:U,collectionRef:B,children:M})};l.displayName=e;const u=n+"CollectionSlot",f=Nk(u),m=Ve.forwardRef((C,N)=>{const{scope:M,children:B}=C,U=a(u,M),Y=Sn(N,U.collectionRef);return g.jsx(f,{ref:Y,children:B})});m.displayName=u;const y=n+"CollectionItemSlot",_="data-radix-collection-item",b=Nk(y),E=Ve.forwardRef((C,N)=>{const{scope:M,children:B,...U}=C,Y=Ve.useRef(null),W=Sn(N,Y),K=a(y,M);return Ve.useEffect(()=>(K.itemMap.set(Y,{ref:Y,...U}),()=>void K.itemMap.delete(Y))),g.jsx(b,{[_]:"",ref:W,children:B})});E.displayName=y;function T(C){const N=a(n+"CollectionConsumer",C);return Ve.useCallback(()=>{const B=N.collectionRef.current;if(!B)return[];const U=Array.from(B.querySelectorAll(`[${_}]`));return Array.from(N.itemMap.values()).sort((K,D)=>U.indexOf(K.ref.current)-U.indexOf(D.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:m,ItemSlot:E},T,r]}var fH=aA[" useId ".trim().toString()]||(()=>{}),hH=0;function vu(n){const[e,t]=I.useState(fH());return Os(()=>{t(r=>r??String(hH++))},[n]),n||(e?`radix-${e}`:"")}var mH=aA[" useInsertionEffect ".trim().toString()]||Os;function Hm({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=pH({defaultProp:e,onChange:t}),u=n!==void 0,f=u?n:s;{const y=I.useRef(n!==void 0);I.useEffect(()=>{const _=y.current;_!==u&&console.warn(`${r} is changing from ${_?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const m=I.useCallback(y=>{var _;if(u){const b=gH(y)?y(n):y;b!==n&&((_=l.current)==null||_.call(l,b))}else a(y)},[u,n,a,l]);return[f,m]}function pH({defaultProp:n,onChange:e}){const[t,r]=I.useState(n),s=I.useRef(t),a=I.useRef(e);return mH(()=>{a.current=e},[e]),I.useEffect(()=>{var l;s.current!==t&&((l=a.current)==null||l.call(a,t),s.current=t)},[t,s]),[t,r,a]}function gH(n){return typeof n=="function"}var uT="rovingFocusGroup.onEntryFocus",yH={bubbles:!1,cancelable:!0},aw="RovingFocusGroup",[MC,aj,vH]=ij(aw),[_H,oj]=ku(aw,[vH]),[bH,wH]=_H(aw),lj=I.forwardRef((n,e)=>g.jsx(MC.Provider,{scope:n.__scopeRovingFocusGroup,children:g.jsx(MC.Slot,{scope:n.__scopeRovingFocusGroup,children:g.jsx(xH,{...n,ref:e})})}));lj.displayName=aw;var xH=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,..._}=n,b=I.useRef(null),E=Sn(e,b),T=dS(a),[C,N]=Hm({prop:l,defaultProp:u??null,onChange:f,caller:aw}),[M,B]=I.useState(!1),U=Si(m),Y=aj(t),W=I.useRef(!1),[K,D]=I.useState(0);return I.useEffect(()=>{const P=b.current;if(P)return P.addEventListener(uT,U),()=>P.removeEventListener(uT,U)},[U]),g.jsx(bH,{scope:t,orientation:r,dir:T,loop:s,currentTabStopId:C,onItemFocus:I.useCallback(P=>N(P),[N]),onItemShiftTab:I.useCallback(()=>B(!0),[]),onFocusableItemAdd:I.useCallback(()=>D(P=>P+1),[]),onFocusableItemRemove:I.useCallback(()=>D(P=>P-1),[]),children:g.jsx(Ut.div,{tabIndex:M||K===0?-1:0,"data-orientation":r,..._,ref:E,style:{outline:"none",...n.style},onMouseDown:Ct(n.onMouseDown,()=>{W.current=!0}),onFocus:Ct(n.onFocus,P=>{const L=!W.current;if(P.target===P.currentTarget&&L&&!M){const V=new CustomEvent(uT,yH);if(P.currentTarget.dispatchEvent(V),!V.defaultPrevented){const q=Y().filter(X=>X.focusable),J=q.find(X=>X.active),$=q.find(X=>X.id===C),de=[J,$,...q].filter(Boolean).map(X=>X.ref.current);dj(de,y)}}W.current=!1}),onBlur:Ct(n.onBlur,()=>B(!1))})})}),cj="RovingFocusGroupItem",uj=I.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...u}=n,f=vu(),m=a||f,y=wH(cj,t),_=y.currentTabStopId===m,b=aj(t),{onFocusableItemAdd:E,onFocusableItemRemove:T,currentTabStopId:C}=y;return I.useEffect(()=>{if(r)return E(),()=>T()},[r,E,T]),g.jsx(MC.ItemSlot,{scope:t,id:m,focusable:r,active:s,children:g.jsx(Ut.span,{tabIndex:_?0:-1,"data-orientation":y.orientation,...u,ref:e,onMouseDown:Ct(n.onMouseDown,N=>{r?y.onItemFocus(m):N.preventDefault()}),onFocus:Ct(n.onFocus,()=>y.onItemFocus(m)),onKeyDown:Ct(n.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){y.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const M=TH(N,y.orientation,y.dir);if(M!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let U=b().filter(Y=>Y.focusable).map(Y=>Y.ref.current);if(M==="last")U.reverse();else if(M==="prev"||M==="next"){M==="prev"&&U.reverse();const Y=U.indexOf(N.currentTarget);U=y.loop?CH(U,Y+1):U.slice(Y+1)}setTimeout(()=>dj(U))}}),children:typeof l=="function"?l({isCurrentTabStop:_,hasTabStop:C!=null}):l})})});uj.displayName=cj;var SH={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EH(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function TH(n,e,t){const r=EH(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return SH[r]}function dj(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function CH(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var AH=lj,RH=uj,pS="Tabs",[IH]=ku(pS,[oj]),fj=oj(),[NH,xR]=IH(pS),hj=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:u,activationMode:f="automatic",...m}=n,y=dS(u),[_,b]=Hm({prop:r,onChange:s,defaultProp:a??"",caller:pS});return g.jsx(NH,{scope:t,baseId:vu(),value:_,onValueChange:b,orientation:l,dir:y,activationMode:f,children:g.jsx(Ut.div,{dir:y,"data-orientation":l,...m,ref:e})})});hj.displayName=pS;var mj="TabsList",pj=I.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,a=xR(mj,t),l=fj(t);return g.jsx(AH,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:g.jsx(Ut.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});pj.displayName=mj;var gj="TabsTrigger",yj=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...a}=n,l=xR(gj,t),u=fj(t),f=bj(l.baseId,r),m=wj(l.baseId,r),y=r===l.value;return g.jsx(RH,{asChild:!0,...u,focusable:!s,active:y,children:g.jsx(Ut.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...a,ref:e,onMouseDown:Ct(n.onMouseDown,_=>{!s&&_.button===0&&_.ctrlKey===!1?l.onValueChange(r):_.preventDefault()}),onKeyDown:Ct(n.onKeyDown,_=>{[" ","Enter"].includes(_.key)&&l.onValueChange(r)}),onFocus:Ct(n.onFocus,()=>{const _=l.activationMode!=="manual";!y&&!s&&_&&l.onValueChange(r)})})})});yj.displayName=gj;var vj="TabsContent",_j=I.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:a,...l}=n,u=xR(vj,t),f=bj(u.baseId,r),m=wj(u.baseId,r),y=r===u.value,_=I.useRef(y);return I.useEffect(()=>{const b=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(b)},[]),g.jsx(mo,{present:s||y,children:({present:b})=>g.jsx(Ut.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!b,id:m,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:_.current?"0s":void 0},children:b&&a})})});_j.displayName=vj;function bj(n,e){return`${n}-trigger-${e}`}function wj(n,e){return`${n}-content-${e}`}var kH=hj,OH=pj,DH=yj,PH=_j;function xj({className:n,id:e,defaultValue:t,value:r,onValueChange:s,...a}){const l=Mn(s,()=>({componentType:"tabs",eventType:"value-change",componentInfo:{id:e}}));return g.jsx(kH,{id:e,"data-slot":"tabs",className:Fe("flex flex-col gap-2",n),defaultValue:t,value:r,onValueChange:l,...a})}function MH({className:n,id:e,...t}){return g.jsx(OH,{id:e,"data-slot":"tabs-list",className:Fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...t})}function kk({className:n,id:e,value:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"tabs-trigger",eventType:"click",componentInfo:{id:e,value:t}}));return g.jsx(DH,{id:e,value:t,"data-slot":"tabs-trigger",className:Fe("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),onClick:a,...s})}function em({className:n,id:e,value:t,onFocus:r,onBlur:s,...a}){const l=Mn(r,()=>({componentType:"tabs-content",eventType:"focus",componentInfo:{id:e,value:t}})),u=Mn(s,()=>({componentType:"tabs-content",eventType:"blur",componentInfo:{id:e,value:t}}));return g.jsx(PH,{id:e,value:t,"data-slot":"tabs-content",className:Fe("flex-1 outline-none",n),onFocus:l,onBlur:u,...a})}function jH(){const n=z1({from:"/login"}),[e,t]=I.useState(""),[r,s]=I.useState(""),[a,l]=I.useState(!1),[u,f]=I.useState(n.tab||"login"),[m,y]=I.useState(null),_=ep(),b=async T=>{T.preventDefault(),l(!0),y(null);try{if(u==="signup"){const C=await BU(Ei,e,r);n.role==="customer"&&(await Tr(Me(ae,"users",C.user.uid),{email:e,role:"customer",companyId:null,createdAt:new Date().toISOString()}),n.quoteId&&await mM(Me(ae,"quotes",n.quoteId),{customer_id:C.user.uid}))}else await UU(Ei,e,r);_({to:"/"})}catch(C){y(C.message||"Authentication failed")}finally{l(!1)}},E=async()=>{l(!0),y(null);try{const T=new uu;await uF(Ei,T),_({to:"/"})}catch(T){y(T.message||"Google Sign-In failed")}finally{l(!1)}};return g.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:g.jsxs(Pr,{className:"w-[400px]",children:[g.jsxs(qr,{children:[g.jsx(Wr,{className:"text-2xl text-center",children:"Welcome"}),g.jsx(Ti,{className:"text-center",children:"Manage your moving business efficiently"})]}),g.jsx(Mr,{children:g.jsxs(xj,{value:u,onValueChange:T=>f(T),className:"w-full",children:[g.jsxs(MH,{className:"grid w-full grid-cols-2 mb-4",children:[g.jsx(kk,{value:"login",children:"Login"}),g.jsx(kk,{value:"signup",children:"Sign Up"})]}),g.jsx("form",{onSubmit:b,children:g.jsxs("div",{className:"grid w-full items-center gap-4",children:[g.jsxs("div",{className:"flex flex-col space-y-1.5",children:[g.jsx(lt,{htmlFor:"email",children:"Email"}),g.jsx(Jt,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:T=>t(T.target.value),required:!0})]}),g.jsxs("div",{className:"flex flex-col space-y-1.5",children:[g.jsx(lt,{htmlFor:"password",children:"Password"}),g.jsx(Jt,{id:"password",type:"password",value:r,onChange:T=>s(T.target.value),required:!0})]}),m&&g.jsx("p",{className:"text-sm text-red-500 font-medium",children:m}),g.jsx($e,{className:"w-full mt-2",type:"submit",disabled:a,children:a?"Processing...":u==="signup"?"Create Account":"Sign In"})]})}),g.jsxs("div",{className:"relative my-6",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("span",{className:"w-full border-t"})}),g.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:g.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),g.jsxs($e,{variant:"outline",className:"w-full",onClick:E,disabled:a,children:[g.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:g.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]})]})})]})})}var xn;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of a)l[u]=s[u];return n.objectValues(l)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},n.find=(s,a)=>{for(const l of s)if(a(l))return l},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(xn||(xn={}));var Ok;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(Ok||(Ok={}));const st=xn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ud=n=>{switch(typeof n){case"undefined":return st.undefined;case"string":return st.string;case"number":return Number.isNaN(n)?st.nan:st.number;case"boolean":return st.boolean;case"function":return st.function;case"bigint":return st.bigint;case"symbol":return st.symbol;case"object":return Array.isArray(n)?st.array:n===null?st.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?st.promise:typeof Map<"u"&&n instanceof Map?st.map:typeof Set<"u"&&n instanceof Set?st.set:typeof Date<"u"&&n instanceof Date?st.date:st.object;default:return st.unknown}},Le=xn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cu extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let u=r,f=0;for(;f<l.path.length;){const m=l.path[f];f===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(t(l))):u[m]=u[m]||{_errors:[]},u=u[m],f++}}};return s(this),r}static assert(e){if(!(e instanceof Cu))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];t[a]=t[a]||[],t[a].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Cu.create=n=>new Cu(n);const jC=(n,e)=>{let t;switch(n.code){case Le.invalid_type:n.received===st.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Le.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,xn.jsonStringifyReplacer)}`;break;case Le.unrecognized_keys:t=`Unrecognized key(s) in object: ${xn.joinValues(n.keys,", ")}`;break;case Le.invalid_union:t="Invalid input";break;case Le.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${xn.joinValues(n.options)}`;break;case Le.invalid_enum_value:t=`Invalid enum value. Expected ${xn.joinValues(n.options)}, received '${n.received}'`;break;case Le.invalid_arguments:t="Invalid function arguments";break;case Le.invalid_return_type:t="Invalid function return type";break;case Le.invalid_date:t="Invalid date";break;case Le.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:xn.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Le.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Le.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Le.custom:t="Invalid input";break;case Le.invalid_intersection_types:t="Intersection results could not be merged";break;case Le.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Le.not_finite:t="Number must be finite";break;default:t=e.defaultError,xn.assertNever(n)}return{message:t}};let LH=jC;function VH(){return LH}const BH=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)u=m(l,{data:e,defaultError:u}).message;return{...s,path:a,message:u}};function Ke(n,e){const t=VH(),r=BH({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===jC?void 0:jC].filter(s=>!!s)});n.common.issues.push(r)}class Pa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return jt;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const a=await s.key,l=await s.value;r.push({key:a,value:l})}return Pa.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return jt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const jt=Object.freeze({status:"aborted"}),rb=n=>({status:"dirty",value:n}),go=n=>({status:"valid",value:n}),Dk=n=>n.status==="aborted",Pk=n=>n.status==="dirty",xy=n=>n.status==="valid",S1=n=>typeof Promise<"u"&&n instanceof Promise;var ot;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ot||(ot={}));class _f{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mk=(n,e)=>{if(xy(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Cu(n.common.issues);return this._error=t,this._error}}};function Xt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{const{message:f}=n;return l.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??r??u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:f??t??u.defaultError}},description:s}}class yn{get description(){return this._def.description}_getType(e){return Ud(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ud(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pa,ctx:{common:e.parent.common,data:e.data,parsedType:Ud(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(S1(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ud(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Mk(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ud(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return xy(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>xy(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ud(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(S1(s)?s:Promise.resolve(s));return Mk(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const l=e(s),u=()=>a.addIssue({code:Le.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Ey({schema:this,typeName:Lt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return df.create(this,this._def)}nullable(){return Ty.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return lc.create(this)}promise(){return A1.create(this,this._def)}or(e){return T1.create([this,e],this._def)}and(e){return C1.create(this,e,this._def)}transform(e){return new Ey({...Xt(this._def),schema:this,typeName:Lt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new VC({...Xt(this._def),innerType:this,defaultValue:t,typeName:Lt.ZodDefault})}brand(){return new l$({typeName:Lt.ZodBranded,type:this,...Xt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new BC({...Xt(this._def),innerType:this,catchValue:t,typeName:Lt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return SR.create(this,e)}readonly(){return UC.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const UH=/^c[^\s-]{8,}$/i,FH=/^[0-9a-z]+$/,zH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WH=/^[a-z0-9_-]{21}$/i,HH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,$H=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,GH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,YH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dT;const KH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,QH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,JH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,XH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ZH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,e$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Sj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t$=new RegExp(`^${Sj}$`);function Ej(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function n$(n){return new RegExp(`^${Ej(n)}$`)}function r$(n){let e=`${Sj}T${Ej(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function s$(n,e){return!!((e==="v4"||!e)&&KH.test(n)||(e==="v6"||!e)&&JH.test(n))}function i$(n,e){if(!HH.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function a$(n,e){return!!((e==="v4"||!e)&&QH.test(n)||(e==="v6"||!e)&&XH.test(n))}class nf extends yn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==st.string){const a=this._getOrReturnCtx(e);return Ke(a,{code:Le.invalid_type,expected:st.string,received:a.parsedType}),jt}const r=new Pa;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?Ke(s,{code:Le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&Ke(s,{code:Le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")GH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"email",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")dT||(dT=new RegExp(YH,"u")),dT.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"emoji",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")qH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"uuid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")WH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"nanoid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")UH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"cuid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")FH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"cuid2",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")zH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"ulid",code:Le.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ke(s,{validation:"url",code:Le.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"regex",code:Le.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?r$(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?t$.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?n$(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?$H.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"duration",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?s$(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"ip",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?i$(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"jwt",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?a$(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"cidr",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?ZH.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"base64",code:Le.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?e$.test(e.data)||(s=this._getOrReturnCtx(e,s),Ke(s,{validation:"base64url",code:Le.invalid_string,message:a.message}),r.dirty()):xn.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:Le.invalid_string,...ot.errToObj(r)})}_addCheck(e){return new nf({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ot.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ot.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ot.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ot.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ot.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ot.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ot.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ot.errToObj(t)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new nf({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nf({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nf({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}nf.create=n=>new nf({checks:[],typeName:Lt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...Xt(n)});function o$(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=Number.parseInt(n.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return a%l/10**s}class Nb extends yn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==st.number){const a=this._getOrReturnCtx(e);return Ke(a,{code:Le.invalid_type,expected:st.number,received:a.parsedType}),jt}let r;const s=new Pa;for(const a of this._def.checks)a.kind==="int"?xn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?o$(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.not_finite,message:a.message}),s.dirty()):xn.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ot.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ot.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ot.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ot.toString(t))}setLimit(e,t,r,s){return new Nb({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ot.toString(s)}]})}_addCheck(e){return new Nb({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xn.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Nb.create=n=>new Nb({checks:[],typeName:Lt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...Xt(n)});class kb extends yn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==st.bigint)return this._getInvalidInput(e);let r;const s=new Pa;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ke(r,{code:Le.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):xn.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ke(t,{code:Le.invalid_type,expected:st.bigint,received:t.parsedType}),jt}gte(e,t){return this.setLimit("min",e,!0,ot.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ot.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ot.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ot.toString(t))}setLimit(e,t,r,s){return new kb({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:ot.toString(s)}]})}_addCheck(e){return new kb({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}kb.create=n=>new kb({checks:[],typeName:Lt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...Xt(n)});class jk extends yn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==st.boolean){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.boolean,received:r.parsedType}),jt}return go(e.data)}}jk.create=n=>new jk({typeName:Lt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...Xt(n)});class E1 extends yn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==st.date){const a=this._getOrReturnCtx(e);return Ke(a,{code:Le.invalid_type,expected:st.date,received:a.parsedType}),jt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ke(a,{code:Le.invalid_date}),jt}const r=new Pa;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Ke(s,{code:Le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):xn.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new E1({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}E1.create=n=>new E1({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:Lt.ZodDate,...Xt(n)});class Lk extends yn{_parse(e){if(this._getType(e)!==st.symbol){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.symbol,received:r.parsedType}),jt}return go(e.data)}}Lk.create=n=>new Lk({typeName:Lt.ZodSymbol,...Xt(n)});class Vk extends yn{_parse(e){if(this._getType(e)!==st.undefined){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.undefined,received:r.parsedType}),jt}return go(e.data)}}Vk.create=n=>new Vk({typeName:Lt.ZodUndefined,...Xt(n)});class Bk extends yn{_parse(e){if(this._getType(e)!==st.null){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.null,received:r.parsedType}),jt}return go(e.data)}}Bk.create=n=>new Bk({typeName:Lt.ZodNull,...Xt(n)});class Uk extends yn{constructor(){super(...arguments),this._any=!0}_parse(e){return go(e.data)}}Uk.create=n=>new Uk({typeName:Lt.ZodAny,...Xt(n)});class Fk extends yn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return go(e.data)}}Fk.create=n=>new Fk({typeName:Lt.ZodUnknown,...Xt(n)});class bf extends yn{_parse(e){const t=this._getOrReturnCtx(e);return Ke(t,{code:Le.invalid_type,expected:st.never,received:t.parsedType}),jt}}bf.create=n=>new bf({typeName:Lt.ZodNever,...Xt(n)});class zk extends yn{_parse(e){if(this._getType(e)!==st.undefined){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.void,received:r.parsedType}),jt}return go(e.data)}}zk.create=n=>new zk({typeName:Lt.ZodVoid,...Xt(n)});class lc extends yn{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==st.array)return Ke(t,{code:Le.invalid_type,expected:st.array,received:t.parsedType}),jt;if(s.exactLength!==null){const l=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(l||u)&&(Ke(t,{code:l?Le.too_big:Le.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Ke(t,{code:Le.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Ke(t,{code:Le.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>s.type._parseAsync(new _f(t,l,t.path,u)))).then(l=>Pa.mergeArray(r,l));const a=[...t.data].map((l,u)=>s.type._parseSync(new _f(t,l,t.path,u)));return Pa.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new lc({...this._def,minLength:{value:e,message:ot.toString(t)}})}max(e,t){return new lc({...this._def,maxLength:{value:e,message:ot.toString(t)}})}length(e,t){return new lc({...this._def,exactLength:{value:e,message:ot.toString(t)}})}nonempty(e){return this.min(1,e)}}lc.create=(n,e)=>new lc({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Lt.ZodArray,...Xt(e)});function Ug(n){if(n instanceof Xr){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=df.create(Ug(r))}return new Xr({...n._def,shape:()=>e})}else return n instanceof lc?new lc({...n._def,type:Ug(n.element)}):n instanceof df?df.create(Ug(n.unwrap())):n instanceof Ty?Ty.create(Ug(n.unwrap())):n instanceof $m?$m.create(n.items.map(e=>Ug(e))):n}class Xr extends yn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=xn.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==st.object){const m=this._getOrReturnCtx(e);return Ke(m,{code:Le.invalid_type,expected:st.object,received:m.parsedType}),jt}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof bf&&this._def.unknownKeys==="strip"))for(const m in s.data)l.includes(m)||u.push(m);const f=[];for(const m of l){const y=a[m],_=s.data[m];f.push({key:{status:"valid",value:m},value:y._parse(new _f(s,_,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof bf){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of u)f.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")u.length>0&&(Ke(s,{code:Le.unrecognized_keys,keys:u}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of u){const _=s.data[y];f.push({key:{status:"valid",value:y},value:m._parse(new _f(s,_,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of f){const _=await y.key,b=await y.value;m.push({key:_,value:b,alwaysSet:y.alwaysSet})}return m}).then(m=>Pa.mergeObjectSync(r,m)):Pa.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new Xr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,l;const s=((l=(a=this._def).errorMap)==null?void 0:l.call(a,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:ot.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Xr({...this._def,unknownKeys:"strip"})}passthrough(){return new Xr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Lt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Xr({...this._def,catchall:e})}pick(e){const t={};for(const r of xn.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Xr({...this._def,shape:()=>t})}omit(e){const t={};for(const r of xn.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Xr({...this._def,shape:()=>t})}deepPartial(){return Ug(this)}partial(e){const t={};for(const r of xn.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new Xr({...this._def,shape:()=>t})}required(e){const t={};for(const r of xn.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof df;)a=a._def.innerType;t[r]=a}return new Xr({...this._def,shape:()=>t})}keyof(){return Tj(xn.objectKeys(this.shape))}}Xr.create=(n,e)=>new Xr({shape:()=>n,unknownKeys:"strip",catchall:bf.create(),typeName:Lt.ZodObject,...Xt(e)});Xr.strictCreate=(n,e)=>new Xr({shape:()=>n,unknownKeys:"strict",catchall:bf.create(),typeName:Lt.ZodObject,...Xt(e)});Xr.lazycreate=(n,e)=>new Xr({shape:n,unknownKeys:"strip",catchall:bf.create(),typeName:Lt.ZodObject,...Xt(e)});class T1 extends yn{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Cu(u.ctx.common.issues));return Ke(t,{code:Le.invalid_union,unionErrors:l}),jt}if(t.common.async)return Promise.all(r.map(async a=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const f of r){const m={...t,common:{...t.common,issues:[]},parent:null},y=f._parseSync({data:t.data,path:t.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!a&&(a={result:y,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(f=>new Cu(f));return Ke(t,{code:Le.invalid_union,unionErrors:u}),jt}}get options(){return this._def.options}}T1.create=(n,e)=>new T1({options:n,typeName:Lt.ZodUnion,...Xt(e)});function LC(n,e){const t=Ud(n),r=Ud(e);if(n===e)return{valid:!0,data:n};if(t===st.object&&r===st.object){const s=xn.objectKeys(e),a=xn.objectKeys(n).filter(u=>s.indexOf(u)!==-1),l={...n,...e};for(const u of a){const f=LC(n[u],e[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(t===st.array&&r===st.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const l=n[a],u=e[a],f=LC(l,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return t===st.date&&r===st.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class C1 extends yn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,l)=>{if(Dk(a)||Dk(l))return jt;const u=LC(a.value,l.value);return u.valid?((Pk(a)||Pk(l))&&t.dirty(),{status:t.value,value:u.data}):(Ke(r,{code:Le.invalid_intersection_types}),jt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}C1.create=(n,e,t)=>new C1({left:n,right:e,typeName:Lt.ZodIntersection,...Xt(t)});class $m extends yn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.array)return Ke(r,{code:Le.invalid_type,expected:st.array,received:r.parsedType}),jt;if(r.data.length<this._def.items.length)return Ke(r,{code:Le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),jt;!this._def.rest&&r.data.length>this._def.items.length&&(Ke(r,{code:Le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new _f(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>Pa.mergeArray(t,l)):Pa.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new $m({...this._def,rest:e})}}$m.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new $m({items:n,typeName:Lt.ZodTuple,rest:null,...Xt(e)})};class qk extends yn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.map)return Ke(r,{code:Le.invalid_type,expected:st.map,received:r.parsedType}),jt;const s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([u,f],m)=>({key:s._parse(new _f(r,u,r.path,[m,"key"])),value:a._parse(new _f(r,f,r.path,[m,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const m=await f.key,y=await f.value;if(m.status==="aborted"||y.status==="aborted")return jt;(m.status==="dirty"||y.status==="dirty")&&t.dirty(),u.set(m.value,y.value)}return{status:t.value,value:u}})}else{const u=new Map;for(const f of l){const m=f.key,y=f.value;if(m.status==="aborted"||y.status==="aborted")return jt;(m.status==="dirty"||y.status==="dirty")&&t.dirty(),u.set(m.value,y.value)}return{status:t.value,value:u}}}}qk.create=(n,e,t)=>new qk({valueType:e,keyType:n,typeName:Lt.ZodMap,...Xt(t)});class Ob extends yn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==st.set)return Ke(r,{code:Le.invalid_type,expected:st.set,received:r.parsedType}),jt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ke(r,{code:Le.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ke(r,{code:Le.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function l(f){const m=new Set;for(const y of f){if(y.status==="aborted")return jt;y.status==="dirty"&&t.dirty(),m.add(y.value)}return{status:t.value,value:m}}const u=[...r.data.values()].map((f,m)=>a._parse(new _f(r,f,r.path,m)));return r.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(e,t){return new Ob({...this._def,minSize:{value:e,message:ot.toString(t)}})}max(e,t){return new Ob({...this._def,maxSize:{value:e,message:ot.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ob.create=(n,e)=>new Ob({valueType:n,minSize:null,maxSize:null,typeName:Lt.ZodSet,...Xt(e)});class Wk extends yn{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Wk.create=(n,e)=>new Wk({getter:n,typeName:Lt.ZodLazy,...Xt(e)});class Hk extends yn{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ke(t,{received:t.data,code:Le.invalid_literal,expected:this._def.value}),jt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hk.create=(n,e)=>new Hk({value:n,typeName:Lt.ZodLiteral,...Xt(e)});function Tj(n,e){return new Sy({values:n,typeName:Lt.ZodEnum,...Xt(e)})}class Sy extends yn{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Ke(t,{expected:xn.joinValues(r),received:t.parsedType,code:Le.invalid_type}),jt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Ke(t,{received:t.data,code:Le.invalid_enum_value,options:r}),jt}return go(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Sy.create(e,{...this._def,...t})}exclude(e,t=this._def){return Sy.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Sy.create=Tj;class $k extends yn{_parse(e){const t=xn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==st.string&&r.parsedType!==st.number){const s=xn.objectValues(t);return Ke(r,{expected:xn.joinValues(s),received:r.parsedType,code:Le.invalid_type}),jt}if(this._cache||(this._cache=new Set(xn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=xn.objectValues(t);return Ke(r,{received:r.data,code:Le.invalid_enum_value,options:s}),jt}return go(e.data)}get enum(){return this._def.values}}$k.create=(n,e)=>new $k({values:n,typeName:Lt.ZodNativeEnum,...Xt(e)});class A1 extends yn{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==st.promise&&t.common.async===!1)return Ke(t,{code:Le.invalid_type,expected:st.promise,received:t.parsedType}),jt;const r=t.parsedType===st.promise?t.data:Promise.resolve(t.data);return go(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}A1.create=(n,e)=>new A1({type:n,typeName:Lt.ZodPromise,...Xt(e)});class Ey extends yn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Lt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{Ke(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async u=>{if(t.value==="aborted")return jt;const f=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return f.status==="aborted"?jt:f.status==="dirty"||t.value==="dirty"?rb(f.value):f});{if(t.value==="aborted")return jt;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?jt:u.status==="dirty"||t.value==="dirty"?rb(u.value):u}}if(s.type==="refinement"){const l=u=>{const f=s.refinement(u,a);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?jt:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?jt:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!xy(l))return jt;const u=s.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>xy(l)?Promise.resolve(s.transform(l.value,a)).then(u=>({status:t.value,value:u})):jt);xn.assertNever(s)}}Ey.create=(n,e,t)=>new Ey({schema:n,typeName:Lt.ZodEffects,effect:e,...Xt(t)});Ey.createWithPreprocess=(n,e,t)=>new Ey({schema:e,effect:{type:"preprocess",transform:n},typeName:Lt.ZodEffects,...Xt(t)});class df extends yn{_parse(e){return this._getType(e)===st.undefined?go(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}df.create=(n,e)=>new df({innerType:n,typeName:Lt.ZodOptional,...Xt(e)});class Ty extends yn{_parse(e){return this._getType(e)===st.null?go(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ty.create=(n,e)=>new Ty({innerType:n,typeName:Lt.ZodNullable,...Xt(e)});class VC extends yn{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===st.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}VC.create=(n,e)=>new VC({innerType:n,typeName:Lt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xt(e)});class BC extends yn{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return S1(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Cu(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}BC.create=(n,e)=>new BC({innerType:n,typeName:Lt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xt(e)});class Gk extends yn{_parse(e){if(this._getType(e)!==st.nan){const r=this._getOrReturnCtx(e);return Ke(r,{code:Le.invalid_type,expected:st.nan,received:r.parsedType}),jt}return{status:"valid",value:e.data}}}Gk.create=n=>new Gk({typeName:Lt.ZodNaN,...Xt(n)});class l$ extends yn{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class SR extends yn{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?jt:a.status==="dirty"?(t.dirty(),rb(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?jt:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new SR({in:e,out:t,typeName:Lt.ZodPipeline})}}class UC extends yn{_parse(e){const t=this._def.innerType._parse(e),r=s=>(xy(s)&&(s.value=Object.freeze(s.value)),s);return S1(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}UC.create=(n,e)=>new UC({innerType:n,typeName:Lt.ZodReadonly,...Xt(e)});var Lt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(Lt||(Lt={}));const fT=nf.create;bf.create;lc.create;const c$=Xr.create;T1.create;C1.create;$m.create;const u$=Sy.create;A1.create;df.create;Ty.create;const d$=c$({tab:u$(["login","signup"]).optional(),redirect:fT().optional(),role:fT().optional(),quoteId:fT().optional()}),f$=wu("/login")({validateSearch:n=>d$.parse(n),component:jH});var h$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],m$=h$.reduce((n,e)=>{const t=bR(`Primitive.${e}`),r=I.forwardRef((s,a)=>{const{asChild:l,...u}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(f,{...u,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),p$="Separator",Yk="horizontal",g$=["horizontal","vertical"],Cj=I.forwardRef((n,e)=>{const{decorative:t,orientation:r=Yk,...s}=n,a=y$(r)?r:Yk,u=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return g.jsx(m$.div,{"data-orientation":a,...u,...s,ref:e})});Cj.displayName=p$;function y$(n){return g$.includes(n)}var v$=Cj;function Db({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return g.jsx(v$,{"data-slot":"separator",decorative:t,orientation:e,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function ul(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Gm(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const Aj=6048e5,_$=864e5;let b$={};function gS(){return b$}function Pb(n,e){var u,f,m,y;const t=gS(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=ul(n),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function R1(n){return Pb(n,{weekStartsOn:1})}function Rj(n){const e=ul(n),t=e.getFullYear(),r=Gm(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=R1(r),a=Gm(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const l=R1(a);return e.getTime()>=s.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function Kk(n){const e=ul(n);return e.setHours(0,0,0,0),e}function Qk(n){const e=ul(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function w$(n,e){const t=Kk(n),r=Kk(e),s=+t-Qk(t),a=+r-Qk(r);return Math.round((s-a)/_$)}function x$(n){const e=Rj(n),t=Gm(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),R1(t)}function S$(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function E$(n){if(!S$(n)&&typeof n!="number")return!1;const e=ul(n);return!isNaN(Number(e))}function T$(n){const e=ul(n),t=Gm(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const C$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A$=(n,e,t)=>{let r;const s=C$[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function hT(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const R$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},I$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k$={date:hT({formats:R$,defaultWidth:"full"}),time:hT({formats:I$,defaultWidth:"full"}),dateTime:hT({formats:N$,defaultWidth:"full"})},O$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},D$=(n,e,t,r)=>O$[n];function q_(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;s=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[u]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const P$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},B$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},U$=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},F$={ordinalNumber:U$,era:q_({values:P$,defaultWidth:"wide"}),quarter:q_({values:M$,defaultWidth:"wide",argumentCallback:n=>n-1}),month:q_({values:j$,defaultWidth:"wide"}),day:q_({values:L$,defaultWidth:"wide"}),dayPeriod:q_({values:V$,defaultWidth:"wide",formattingValues:B$,defaultFormattingWidth:"wide"})};function W_(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?q$(u,_=>_.test(l)):z$(u,_=>_.test(l));let m;m=n.valueCallback?n.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(l.length);return{value:m,rest:y}}}function z$(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function q$(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function W$(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const H$=/^(\d+)(th|st|nd|rd)?/i,$$=/\d+/i,G$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y$={any:[/^b/i,/^(a|c)/i]},K$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Q$={any:[/1/i,/2/i,/3/i,/4/i]},J$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},X$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Z$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eG={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tG={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nG={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rG={ordinalNumber:W$({matchPattern:H$,parsePattern:$$,valueCallback:n=>parseInt(n,10)}),era:W_({matchPatterns:G$,defaultMatchWidth:"wide",parsePatterns:Y$,defaultParseWidth:"any"}),quarter:W_({matchPatterns:K$,defaultMatchWidth:"wide",parsePatterns:Q$,defaultParseWidth:"any",valueCallback:n=>n+1}),month:W_({matchPatterns:J$,defaultMatchWidth:"wide",parsePatterns:X$,defaultParseWidth:"any"}),day:W_({matchPatterns:Z$,defaultMatchWidth:"wide",parsePatterns:eG,defaultParseWidth:"any"}),dayPeriod:W_({matchPatterns:tG,defaultMatchWidth:"any",parsePatterns:nG,defaultParseWidth:"any"})},sG={code:"en-US",formatDistance:A$,formatLong:k$,formatRelative:D$,localize:F$,match:rG,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iG(n){const e=ul(n);return w$(e,T$(e))+1}function aG(n){const e=ul(n),t=+R1(e)-+x$(e);return Math.round(t/Aj)+1}function Ij(n,e){var y,_,b,E;const t=ul(n),r=t.getFullYear(),s=gS(),a=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(b=s.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,l=Gm(n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const u=Pb(l,e),f=Gm(n,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const m=Pb(f,e);return t.getTime()>=u.getTime()?r+1:t.getTime()>=m.getTime()?r:r-1}function oG(n,e){var u,f,m,y;const t=gS(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,s=Ij(n,e),a=Gm(n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Pb(a,e)}function lG(n,e){const t=ul(n),r=+Pb(t,e)-+oG(t,e);return Math.round(r/Aj)+1}function zn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Md={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return zn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):zn(t+1,2)},d(n,e){return zn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return zn(n.getHours()%12||12,e.length)},H(n,e){return zn(n.getHours(),e.length)},m(n,e){return zn(n.getMinutes(),e.length)},s(n,e){return zn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return zn(s,e.length)}},Rg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jk={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return Md.y(n,e)},Y:function(n,e,t,r){const s=Ij(n,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return zn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):zn(a,e.length)},R:function(n,e){const t=Rj(n);return zn(t,e.length)},u:function(n,e){const t=n.getFullYear();return zn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Md.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return zn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=lG(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):zn(s,e.length)},I:function(n,e,t){const r=aG(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):zn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Md.d(n,e)},D:function(n,e,t){const r=iG(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):zn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return zn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return zn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return zn(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Rg.noon:r===0?s=Rg.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Rg.evening:r>=12?s=Rg.afternoon:r>=4?s=Rg.morning:s=Rg.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Md.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Md.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):zn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):zn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Md.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Md.s(n,e)},S:function(n,e){return Md.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Zk(r);case"XXXX":case"XX":return nm(r);case"XXXXX":case"XXX":default:return nm(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Zk(r);case"xxxx":case"xx":return nm(r);case"xxxxx":case"xxx":default:return nm(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xk(r,":");case"OOOO":default:return"GMT"+nm(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xk(r,":");case"zzzz":default:return"GMT"+nm(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return zn(r,e.length)},T:function(n,e,t){const r=n.getTime();return zn(r,e.length)}};function Xk(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+zn(a,2)}function Zk(n,e){return n%60===0?(n>0?"-":"+")+zn(Math.abs(n)/60,2):nm(n,e)}function nm(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=zn(Math.trunc(r/60),2),a=zn(r%60,2);return t+s+e+a}const eO=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Nj=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},cG=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return eO(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",eO(r,e)).replace("{{time}}",Nj(s,e))},uG={p:Nj,P:cG},dG=/^D+$/,fG=/^Y+$/,hG=["D","DD","YY","YYYY"];function mG(n){return dG.test(n)}function pG(n){return fG.test(n)}function gG(n,e,t){const r=yG(n,e,t);if(console.warn(r),hG.includes(n))throw new RangeError(r)}function yG(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vG=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_G=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bG=/^'([^]*?)'?$/,wG=/''/g,xG=/[a-zA-Z]/;function pb(n,e,t){var y,_,b,E;const r=gS(),s=r.locale??sG,a=r.firstWeekContainsDate??((_=(y=r.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??1,l=r.weekStartsOn??((E=(b=r.locale)==null?void 0:b.options)==null?void 0:E.weekStartsOn)??0,u=ul(n);if(!E$(u))throw new RangeError("Invalid time value");let f=e.match(_G).map(T=>{const C=T[0];if(C==="p"||C==="P"){const N=uG[C];return N(T,s.formatLong)}return T}).join("").match(vG).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const C=T[0];if(C==="'")return{isToken:!1,value:SG(T)};if(Jk[C])return{isToken:!0,value:T};if(C.match(xG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return f.map(T=>{if(!T.isToken)return T.value;const C=T.value;(pG(C)||mG(C))&&gG(C,e,String(n));const N=Jk[C[0]];return N(u,C,s.localize,m)}).join("")}function SG(n){const e=n.match(bG);return e?e[1].replace(wG,"'"):n}function EG(n,e,t="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:n,timeZoneName:t}).format(e).split(/\s/g).slice(2).join(" ")}const mT={},sb={};function bm(n,e){try{const r=(mT[n]||(mT[n]=new Intl.DateTimeFormat("en-US",{timeZone:n,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in sb?sb[r]:tO(r,r.split(":"))}catch{if(n in sb)return sb[n];const t=n==null?void 0:n.match(TG);return t?tO(n,t.slice(1)):NaN}}const TG=/([+-]\d\d):?(\d\d)?/;function tO(n,e){const t=+(e[0]||0),r=+(e[1]||0),s=+(e[2]||0)/60;return sb[n]=t*60+r>0?t*60+r+s:t*60-r-s}class tc extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(bm(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),kj(this),FC(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new tc(...t,e):new tc(Date.now(),e)}withTimeZone(e){return new tc(+this,e)}getTimezoneOffset(){const e=-bm(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),FC(this),+this}[Symbol.for("constructDateFrom")](e){return new tc(+new Date(e),this.timeZone)}}const nO=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!nO.test(n))return;const e=n.replace(nO,"$1UTC");tc.prototype[e]&&(n.startsWith("get")?tc.prototype[n]=function(){return this.internal[e]()}:(tc.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),CG(this),+this},tc.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),FC(this),+this}))});function FC(n){n.internal.setTime(+n),n.internal.setUTCSeconds(n.internal.getUTCSeconds()-Math.round(-bm(n.timeZone,n)*60))}function CG(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),kj(n)}function kj(n){const e=bm(n.timeZone,n),t=e>0?Math.floor(e):Math.ceil(e),r=new Date(+n);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+n).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),l=s-a,u=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&u&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const f=s-t;f&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+f);const m=new Date(+n);m.setUTCSeconds(0);const y=s>0?m.getSeconds():(m.getSeconds()-60)%60,_=Math.round(-(bm(n.timeZone,n)*60))%60;(_||y)&&(n.internal.setUTCSeconds(n.internal.getUTCSeconds()+_),Date.prototype.setUTCSeconds.call(n,Date.prototype.getUTCSeconds.call(n)+_+y));const b=bm(n.timeZone,n),E=b>0?Math.floor(b):Math.ceil(b),C=-new Date(+n).getTimezoneOffset()-E,N=E!==t,M=C-f;if(N&&M){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+M);const B=bm(n.timeZone,n),U=B>0?Math.floor(B):Math.ceil(B),Y=E-U;Y&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+Y),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+Y))}}class Xs extends tc{static tz(e,...t){return t.length?new Xs(...t,e):new Xs(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),s=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,s]=this.tzComponents();return`${e} GMT${t}${r}${s} (${EG(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,r,s]}withTimeZone(e){return new Xs(+this,e)}[Symbol.for("constructDateFrom")](e){return new Xs(+new Date(e),this.timeZone)}}const Oj=6048e5,AG=864e5,rO=Symbol.for("constructDateFrom");function ts(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&rO in n?n[rO](e):n instanceof Date?new n.constructor(e):new Date(e)}function Gn(n,e){return ts(e||n,n)}function Dj(n,e,t){const r=Gn(n,t==null?void 0:t.in);return isNaN(e)?ts(n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Pj(n,e,t){const r=Gn(n,t==null?void 0:t.in);if(isNaN(e))return ts(n,NaN);if(!e)return r;const s=r.getDate(),a=ts(n,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return s>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let RG={};function ow(){return RG}function Cy(n,e){var u,f,m,y;const t=ow(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=Gn(n,e==null?void 0:e.in),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Mb(n,e){return Cy(n,{...e,weekStartsOn:1})}function Mj(n,e){const t=Gn(n,e==null?void 0:e.in),r=t.getFullYear(),s=ts(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Mb(s),l=ts(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=Mb(l);return t.getTime()>=a.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function sO(n){const e=Gn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function qy(n,...e){const t=ts.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function jb(n,e){const t=Gn(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function ER(n,e,t){const[r,s]=qy(t==null?void 0:t.in,n,e),a=jb(r),l=jb(s),u=+a-sO(a),f=+l-sO(l);return Math.round((u-f)/AG)}function IG(n,e){const t=Mj(n,e),r=ts(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mb(r)}function NG(n,e,t){return Dj(n,e*7,t)}function kG(n,e,t){return Pj(n,e*12,t)}function OG(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=ts.bind(null,s));const a=Gn(s,r);(!t||t<a||isNaN(+a))&&(t=a)}),ts(r,t||NaN)}function DG(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=ts.bind(null,s));const a=Gn(s,r);(!t||t>a||isNaN(+a))&&(t=a)}),ts(r,t||NaN)}function PG(n,e,t){const[r,s]=qy(t==null?void 0:t.in,n,e);return+jb(r)==+jb(s)}function jj(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function MG(n){return!(!jj(n)&&typeof n!="number"||isNaN(+Gn(n)))}function Lj(n,e,t){const[r,s]=qy(t==null?void 0:t.in,n,e),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function jG(n,e){const t=Gn(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Vj(n,e){const[t,r]=qy(n,e.start,e.end);return{start:t,end:r}}function LG(n,e){const{start:t,end:r}=Vj(e==null?void 0:e.in,n);let s=+t>+r;const a=s?+t:+r,l=s?r:t;l.setHours(0,0,0,0),l.setDate(1);let u=1;const f=[];for(;+l<=a;)f.push(ts(t,l)),l.setMonth(l.getMonth()+u);return s?f.reverse():f}function VG(n,e){const t=Gn(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function BG(n,e){const t=Gn(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function Bj(n,e){const t=Gn(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function UG(n,e){const{start:t,end:r}=Vj(e==null?void 0:e.in,n);let s=+t>+r;const a=s?+t:+r,l=s?r:t;l.setHours(0,0,0,0),l.setMonth(0,1);let u=1;const f=[];for(;+l<=a;)f.push(ts(t,l)),l.setFullYear(l.getFullYear()+u);return s?f.reverse():f}function Uj(n,e){var u,f,m,y;const t=ow(),r=(e==null?void 0:e.weekStartsOn)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??t.weekStartsOn??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=Gn(n,e==null?void 0:e.in),a=s.getDay(),l=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function FG(n,e){return Uj(n,{...e,weekStartsOn:1})}const zG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qG=(n,e,t)=>{let r;const s=zG[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function pT(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const WG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},HG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$G={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GG={date:pT({formats:WG,defaultWidth:"full"}),time:pT({formats:HG,defaultWidth:"full"}),dateTime:pT({formats:$G,defaultWidth:"full"})},YG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},KG=(n,e,t,r)=>YG[n];function H_(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;s=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[u]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const QG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XG={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ZG={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nY=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},rY={ordinalNumber:nY,era:H_({values:QG,defaultWidth:"wide"}),quarter:H_({values:JG,defaultWidth:"wide",argumentCallback:n=>n-1}),month:H_({values:XG,defaultWidth:"wide"}),day:H_({values:ZG,defaultWidth:"wide"}),dayPeriod:H_({values:eY,defaultWidth:"wide",formattingValues:tY,defaultFormattingWidth:"wide"})};function $_(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(u)?iY(u,_=>_.test(l)):sY(u,_=>_.test(l));let m;m=n.valueCallback?n.valueCallback(f):f,m=t.valueCallback?t.valueCallback(m):m;const y=e.slice(l.length);return{value:m,rest:y}}}function sY(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function iY(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function aY(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const oY=/^(\d+)(th|st|nd|rd)?/i,lY=/\d+/i,cY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uY={any:[/^b/i,/^(a|c)/i]},dY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fY={any:[/1/i,/2/i,/3/i,/4/i]},hY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_Y={ordinalNumber:aY({matchPattern:oY,parsePattern:lY,valueCallback:n=>parseInt(n,10)}),era:$_({matchPatterns:cY,defaultMatchWidth:"wide",parsePatterns:uY,defaultParseWidth:"any"}),quarter:$_({matchPatterns:dY,defaultMatchWidth:"wide",parsePatterns:fY,defaultParseWidth:"any",valueCallback:n=>n+1}),month:$_({matchPatterns:hY,defaultMatchWidth:"wide",parsePatterns:mY,defaultParseWidth:"any"}),day:$_({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:gY,defaultParseWidth:"any"}),dayPeriod:$_({matchPatterns:yY,defaultMatchWidth:"any",parsePatterns:vY,defaultParseWidth:"any"})},Fg={code:"en-US",formatDistance:qG,formatLong:GG,formatRelative:KG,localize:rY,match:_Y,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bY(n,e){const t=Gn(n,e==null?void 0:e.in);return ER(t,Bj(t))+1}function TR(n,e){const t=Gn(n,e==null?void 0:e.in),r=+Mb(t)-+IG(t);return Math.round(r/Oj)+1}function Fj(n,e){var y,_,b,E;const t=Gn(n,e==null?void 0:e.in),r=t.getFullYear(),s=ow(),a=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(b=s.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,l=ts((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const u=Cy(l,e),f=ts((e==null?void 0:e.in)||n,0);f.setFullYear(r,0,a),f.setHours(0,0,0,0);const m=Cy(f,e);return+t>=+u?r+1:+t>=+m?r:r-1}function wY(n,e){var u,f,m,y;const t=ow(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(m=t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,s=Fj(n,e),a=ts((e==null?void 0:e.in)||n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Cy(a,e)}function CR(n,e){const t=Gn(n,e==null?void 0:e.in),r=+Cy(t,e)-+wY(t,e);return Math.round(r/Oj)+1}function qn(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const jd={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return qn(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):qn(t+1,2)},d(n,e){return qn(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return qn(n.getHours()%12||12,e.length)},H(n,e){return qn(n.getHours(),e.length)},m(n,e){return qn(n.getMinutes(),e.length)},s(n,e){return qn(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return qn(s,e.length)}},Ig={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iO={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return jd.y(n,e)},Y:function(n,e,t,r){const s=Fj(n,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return qn(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):qn(a,e.length)},R:function(n,e){const t=Mj(n);return qn(t,e.length)},u:function(n,e){const t=n.getFullYear();return qn(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return qn(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return qn(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return jd.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return qn(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=CR(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):qn(s,e.length)},I:function(n,e,t){const r=TR(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):qn(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):jd.d(n,e)},D:function(n,e,t){const r=bY(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):qn(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return qn(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return qn(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return qn(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Ig.noon:r===0?s=Ig.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Ig.evening:r>=12?s=Ig.afternoon:r>=4?s=Ig.morning:s=Ig.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return jd.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):jd.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):qn(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):jd.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):jd.s(n,e)},S:function(n,e){return jd.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oO(r);case"XXXX":case"XX":return rm(r);case"XXXXX":case"XXX":default:return rm(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return oO(r);case"xxxx":case"xx":return rm(r);case"xxxxx":case"xxx":default:return rm(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+aO(r,":");case"OOOO":default:return"GMT"+rm(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+aO(r,":");case"zzzz":default:return"GMT"+rm(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return qn(r,e.length)},T:function(n,e,t){return qn(+n,e.length)}};function aO(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+qn(a,2)}function oO(n,e){return n%60===0?(n>0?"-":"+")+qn(Math.abs(n)/60,2):rm(n,e)}function rm(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=qn(Math.trunc(r/60),2),a=qn(r%60,2);return t+s+e+a}const lO=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zj=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xY=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return lO(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",lO(r,e)).replace("{{time}}",zj(s,e))},SY={p:zj,P:xY},EY=/^D+$/,TY=/^Y+$/,CY=["D","DD","YY","YYYY"];function AY(n){return EY.test(n)}function RY(n){return TY.test(n)}function IY(n,e,t){const r=NY(n,e,t);if(console.warn(r),CY.includes(n))throw new RangeError(r)}function NY(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,DY=/^'([^]*?)'?$/,PY=/''/g,MY=/[a-zA-Z]/;function ib(n,e,t){var y,_,b,E,T,C,N,M;const r=ow(),s=(t==null?void 0:t.locale)??r.locale??Fg,a=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??r.firstWeekContainsDate??((E=(b=r.locale)==null?void 0:b.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((C=(T=t==null?void 0:t.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((M=(N=r.locale)==null?void 0:N.options)==null?void 0:M.weekStartsOn)??0,u=Gn(n,t==null?void 0:t.in);if(!MG(u))throw new RangeError("Invalid time value");let f=e.match(OY).map(B=>{const U=B[0];if(U==="p"||U==="P"){const Y=SY[U];return Y(B,s.formatLong)}return B}).join("").match(kY).map(B=>{if(B==="''")return{isToken:!1,value:"'"};const U=B[0];if(U==="'")return{isToken:!1,value:jY(B)};if(iO[U])return{isToken:!0,value:B};if(U.match(MY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return{isToken:!1,value:B}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const m={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return f.map(B=>{if(!B.isToken)return B.value;const U=B.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&RY(U)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&AY(U))&&IY(U,e,String(n));const Y=iO[U[0]];return Y(u,U,s.localize,m)}).join("")}function jY(n){const e=n.match(DY);return e?e[1].replace(PY,"'"):n}function LY(n,e){const t=Gn(n,e==null?void 0:e.in),r=t.getFullYear(),s=t.getMonth(),a=ts(t,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function VY(n,e){return Gn(n,e==null?void 0:e.in).getMonth()}function BY(n,e){return Gn(n,e==null?void 0:e.in).getFullYear()}function UY(n,e){return+Gn(n)>+Gn(e)}function FY(n,e){return+Gn(n)<+Gn(e)}function zY(n,e,t){const[r,s]=qy(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function qY(n,e,t){const[r,s]=qy(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()}function WY(n,e,t){const r=Gn(n,t==null?void 0:t.in),s=r.getFullYear(),a=r.getDate(),l=ts(n,0);l.setFullYear(s,e,15),l.setHours(0,0,0,0);const u=LY(l);return r.setMonth(e,Math.min(a,u)),r}function HY(n,e,t){const r=Gn(n,t==null?void 0:t.in);return isNaN(+r)?ts(n,NaN):(r.setFullYear(e),r)}const cO=5,$Y=4;function GY(n,e){const t=e.startOfMonth(n),r=t.getDay()>0?t.getDay():7,s=e.addDays(n,-r+1),a=e.addDays(s,cO*7-1);return e.getMonth(n)===e.getMonth(a)?cO:$Y}function qj(n,e){const t=e.startOfMonth(n),r=t.getDay();return r===1?t:r===0?e.addDays(t,-6):e.addDays(t,-1*(r-1))}function YY(n,e){const t=qj(n,e),r=GY(n,e);return e.addDays(t,r*7-1)}const Wj={...Fg,labels:{labelDayButton:(n,e,t,r)=>{let s;r&&typeof r.format=="function"?s=r.format.bind(r):s=(l,u)=>ib(l,u,{locale:Fg,...t});let a=s(n,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:n=>`Week ${n}`,labelYearDropdown:"Choose the Year",labelGrid:(n,e,t)=>{let r;return t&&typeof t.format=="function"?r=t.format.bind(t):r=(s,a)=>ib(s,a,{locale:Fg,...e}),r(n,"LLLL yyyy")},labelGridcell:(n,e,t,r)=>{let s;r&&typeof r.format=="function"?s=r.format.bind(r):s=(l,u)=>ib(l,u,{locale:Fg,...t});let a=s(n,"PPPP");return e!=null&&e.today&&(a=`Today, ${a}`),a},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(n,e,t)=>{let r;return t&&typeof t.format=="function"?r=t.format.bind(t):r=(s,a)=>ib(s,a,{locale:Fg,...e}),r(n,"cccc")}}};class Ma{constructor(e,t){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Xs.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new Xs(r,s,a,this.options.timeZone):new Date(r,s,a)},this.addDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,s):Dj(r,s)},this.addMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,s):Pj(r,s)},this.addWeeks=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,s):NG(r,s)},this.addYears=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,s):kG(r,s)},this.differenceInCalendarDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):ER(r,s)},this.differenceInCalendarMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):Lj(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):LG(r)},this.eachYearOfInterval=r=>{var u;const s=(u=this.overrides)!=null&&u.eachYearOfInterval?this.overrides.eachYearOfInterval(r):UG(r),a=new Set(s.map(f=>this.getYear(f)));if(a.size===s.length)return s;const l=[];return a.forEach(f=>{l.push(new Date(f,0,1))}),l},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):YY(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):FG(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):jG(r)},this.endOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,s):Uj(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):BG(r)},this.format=(r,s,a)=>{var u;const l=(u=this.overrides)!=null&&u.format?this.overrides.format(r,s,this.options):ib(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):TR(r)},this.getMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):VY(r,this.options)},this.getYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):BY(r,this.options)},this.getWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):CR(r,this.options)},this.isAfter=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,s):UY(r,s)},this.isBefore=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,s):FY(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):jj(r)},this.isSameDay=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,s):PG(r,s)},this.isSameMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,s):zY(r,s)},this.isSameYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,s):qY(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):OG(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):DG(r)},this.setMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,s):WY(r,s)},this.setYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,s):HY(r,s)},this.startOfBroadcastWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):qj(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):jb(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):Mb(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):VG(r)},this.startOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):Cy(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):Bj(r)},this.options={locale:Wj,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=t.format(s);return r}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,r=>t[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var t;const e=(t=this.options.locale)==null?void 0:t.code;return e&&Ma.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:t,timeZone:r,numerals:s}=this.options,a=t==null?void 0:t.code;if(a&&Ma.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(e)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,l)}}Ma.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const _c=new Ma;class Hj{constructor(e,t,r=_c){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r,this.isoDate=r.format(e,"yyyy-MM-dd"),this.displayMonthId=r.format(t,"yyyy-MM"),this.dateMonthId=r.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class KY{constructor(e,t){this.date=e,this.weeks=t}}class QY{constructor(e,t){this.days=t,this.weekNumber=e}}function JY(n){return Ve.createElement("button",{...n})}function XY(n){return Ve.createElement("span",{...n})}function ZY(n){const{size:e=24,orientation:t="left",className:r}=n;return Ve.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&Ve.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&Ve.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&Ve.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&Ve.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function eK(n){const{day:e,modifiers:t,...r}=n;return Ve.createElement("td",{...r})}function tK(n){const{day:e,modifiers:t,...r}=n,s=Ve.useRef(null);return Ve.useEffect(()=>{var a;t.focused&&((a=s.current)==null||a.focus())},[t.focused]),Ve.createElement("button",{ref:s,...r})}var ft;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(ft||(ft={}));var Sr;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(Sr||(Sr={}));var Zo;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(Zo||(Zo={}));var Ea;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(Ea||(Ea={}));function nK(n){const{options:e,className:t,components:r,classNames:s,...a}=n,l=[s[ft.Dropdown],t].join(" "),u=e==null?void 0:e.find(({value:f})=>f===a.value);return Ve.createElement("span",{"data-disabled":a.disabled,className:s[ft.DropdownRoot]},Ve.createElement(r.Select,{className:l,...a},e==null?void 0:e.map(({value:f,label:m,disabled:y})=>Ve.createElement(r.Option,{key:f,value:f,disabled:y},m))),Ve.createElement("span",{className:s[ft.CaptionLabel],"aria-hidden":!0},u==null?void 0:u.label,Ve.createElement(r.Chevron,{orientation:"down",size:18,className:s[ft.Chevron]})))}function rK(n){return Ve.createElement("div",{...n})}function sK(n){return Ve.createElement("div",{...n})}function iK(n){const{calendarMonth:e,displayIndex:t,...r}=n;return Ve.createElement("div",{...r},n.children)}function aK(n){const{calendarMonth:e,displayIndex:t,...r}=n;return Ve.createElement("div",{...r})}function oK(n){return Ve.createElement("table",{...n})}function lK(n){return Ve.createElement("div",{...n})}const $j=I.createContext(void 0);function lw(){const n=I.useContext($j);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function cK(n){const{components:e}=lw();return Ve.createElement(e.Dropdown,{...n})}function uK(n){const{onPreviousClick:e,onNextClick:t,previousMonth:r,nextMonth:s,...a}=n,{components:l,classNames:u,labels:{labelPrevious:f,labelNext:m}}=lw(),y=I.useCallback(b=>{s&&(t==null||t(b))},[s,t]),_=I.useCallback(b=>{r&&(e==null||e(b))},[r,e]);return Ve.createElement("nav",{...a},Ve.createElement(l.PreviousMonthButton,{type:"button",className:u[ft.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":f(r),onClick:_},Ve.createElement(l.Chevron,{disabled:r?void 0:!0,className:u[ft.Chevron],orientation:"left"})),Ve.createElement(l.NextMonthButton,{type:"button",className:u[ft.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":m(s),onClick:y},Ve.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:u[ft.Chevron]})))}function dK(n){const{components:e}=lw();return Ve.createElement(e.Button,{...n})}function fK(n){return Ve.createElement("option",{...n})}function hK(n){const{components:e}=lw();return Ve.createElement(e.Button,{...n})}function mK(n){const{rootRef:e,...t}=n;return Ve.createElement("div",{...t,ref:e})}function pK(n){return Ve.createElement("select",{...n})}function gK(n){const{week:e,...t}=n;return Ve.createElement("tr",{...t})}function yK(n){return Ve.createElement("th",{...n})}function vK(n){return Ve.createElement("thead",{"aria-hidden":!0},Ve.createElement("tr",{...n}))}function _K(n){const{week:e,...t}=n;return Ve.createElement("th",{...t})}function bK(n){return Ve.createElement("th",{...n})}function wK(n){return Ve.createElement("tbody",{...n})}function xK(n){const{components:e}=lw();return Ve.createElement(e.Dropdown,{...n})}const SK=Object.freeze(Object.defineProperty({__proto__:null,Button:JY,CaptionLabel:XY,Chevron:ZY,Day:eK,DayButton:tK,Dropdown:nK,DropdownNav:rK,Footer:sK,Month:iK,MonthCaption:aK,MonthGrid:oK,Months:lK,MonthsDropdown:cK,Nav:uK,NextMonthButton:dK,Option:fK,PreviousMonthButton:hK,Root:mK,Select:pK,Week:gK,WeekNumber:_K,WeekNumberHeader:bK,Weekday:yK,Weekdays:vK,Weeks:wK,YearsDropdown:xK},Symbol.toStringTag,{value:"Module"}));function mu(n,e,t=!1,r=_c){let{from:s,to:a}=n;const{differenceInCalendarDays:l,isSameDay:u}=r;return s&&a?(l(a,s)<0&&([s,a]=[a,s]),l(e,s)>=(t?1:0)&&l(a,e)>=(t?1:0)):!t&&a?u(a,e):!t&&s?u(s,e):!1}function AR(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function yS(n){return!!(n&&typeof n=="object"&&"from"in n)}function RR(n){return!!(n&&typeof n=="object"&&"after"in n)}function IR(n){return!!(n&&typeof n=="object"&&"before"in n)}function Gj(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function Yj(n,e){return Array.isArray(n)&&n.every(e.isDate)}function pu(n,e,t=_c){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:a,isAfter:l}=t;return r.some(u=>{if(typeof u=="boolean")return u;if(t.isDate(u))return s(n,u);if(Yj(u,t))return u.some(f=>s(n,f));if(yS(u))return mu(u,n,!1,t);if(Gj(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(n.getDay()):u.dayOfWeek===n.getDay();if(AR(u)){const f=a(u.before,n),m=a(u.after,n),y=f>0,_=m<0;return l(u.before,u.after)?_&&y:y||_}return RR(u)?a(n,u.after)>0:IR(u)?a(u.before,n)>0:typeof u=="function"?u(n):!1})}function EK(n,e,t,r,s){const{disabled:a,hidden:l,modifiers:u,showOutsideDays:f,broadcastCalendar:m,today:y=s.today()}=e,{isSameDay:_,isSameMonth:b,startOfMonth:E,isBefore:T,endOfMonth:C,isAfter:N}=s,M=t&&E(t),B=r&&C(r),U={[Sr.focused]:[],[Sr.outside]:[],[Sr.disabled]:[],[Sr.hidden]:[],[Sr.today]:[]},Y={};for(const W of n){const{date:K,displayMonth:D}=W,P=!!(D&&!b(K,D)),L=!!(M&&T(K,M)),V=!!(B&&N(K,B)),q=!!(a&&pu(K,a,s)),J=!!(l&&pu(K,l,s))||L||V||!m&&!f&&P||m&&f===!1&&P,$=_(K,y);P&&U.outside.push(W),q&&U.disabled.push(W),J&&U.hidden.push(W),$&&U.today.push(W),u&&Object.keys(u).forEach(Ee=>{const de=u==null?void 0:u[Ee];de&&pu(K,de,s)&&(Y[Ee]?Y[Ee].push(W):Y[Ee]=[W])})}return W=>{const K={[Sr.focused]:!1,[Sr.disabled]:!1,[Sr.hidden]:!1,[Sr.outside]:!1,[Sr.today]:!1},D={};for(const P in U){const L=U[P];K[P]=L.some(V=>V===W)}for(const P in Y)D[P]=Y[P].some(L=>L===W);return{...K,...D}}}function TK(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[a])=>(t[a]?s.push(t[a]):e[Sr[a]]?s.push(e[Sr[a]]):e[Zo[a]]&&s.push(e[Zo[a]]),s),[e[ft.Day]])}function CK(n){return{...SK,...n}}function AK(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,r])=>{t.startsWith("data-")&&(e[t]=r)}),e}function NR(){const n={};for(const e in ft)n[ft[e]]=`rdp-${ft[e]}`;for(const e in Sr)n[Sr[e]]=`rdp-${Sr[e]}`;for(const e in Zo)n[Zo[e]]=`rdp-${Zo[e]}`;for(const e in Ea)n[Ea[e]]=`rdp-${Ea[e]}`;return n}function Kj(n,e,t){return(t??new Ma(e)).formatMonthYear(n)}const RK=Kj;function IK(n,e,t){return(t??new Ma(e)).format(n,"d")}function NK(n,e=_c){return e.format(n,"LLLL")}function kK(n,e,t){return(t??new Ma(e)).format(n,"cccccc")}function OK(n,e=_c){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function DK(){return""}function Qj(n,e=_c){return e.format(n,"yyyy")}const PK=Qj,MK=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Kj,formatDay:IK,formatMonthCaption:RK,formatMonthDropdown:NK,formatWeekNumber:OK,formatWeekNumberHeader:DK,formatWeekdayName:kK,formatYearCaption:PK,formatYearDropdown:Qj},Symbol.toStringTag,{value:"Module"}));function jK(n){return n!=null&&n.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n!=null&&n.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...MK,...n}}function kR(n,e,t,r){let s=(r??new Ma(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const LK=kR;function OR(n,e,t){return(t??new Ma(e)).formatMonthYear(n)}const VK=OR;function Jj(n,e,t,r){let s=(r??new Ma(t)).format(n,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function Xj(n){return"Choose the Month"}function Zj(){return""}const BK="Go to the Next Month";function e4(n,e){return BK}function t4(n){return"Go to the Previous Month"}function n4(n,e,t){return(t??new Ma(e)).format(n,"cccc")}function r4(n,e){return`Week ${n}`}function s4(n){return"Week Number"}function i4(n){return"Choose the Year"}const UK=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:VK,labelDay:LK,labelDayButton:kR,labelGrid:OR,labelGridcell:Jj,labelMonthDropdown:Xj,labelNav:Zj,labelNext:e4,labelPrevious:t4,labelWeekNumber:r4,labelWeekNumberHeader:s4,labelWeekday:n4,labelYearDropdown:i4},Symbol.toStringTag,{value:"Module"})),Go=(n,e,t)=>e||(t?typeof t=="function"?t:(...r)=>t:n);function FK(n,e){var r;const t=((r=e.locale)==null?void 0:r.labels)??{};return{...UK,...n??{},labelDayButton:Go(kR,n==null?void 0:n.labelDayButton,t.labelDayButton),labelMonthDropdown:Go(Xj,n==null?void 0:n.labelMonthDropdown,t.labelMonthDropdown),labelNext:Go(e4,n==null?void 0:n.labelNext,t.labelNext),labelPrevious:Go(t4,n==null?void 0:n.labelPrevious,t.labelPrevious),labelWeekNumber:Go(r4,n==null?void 0:n.labelWeekNumber,t.labelWeekNumber),labelYearDropdown:Go(i4,n==null?void 0:n.labelYearDropdown,t.labelYearDropdown),labelGrid:Go(OR,n==null?void 0:n.labelGrid,t.labelGrid),labelGridcell:Go(Jj,n==null?void 0:n.labelGridcell,t.labelGridcell),labelNav:Go(Zj,n==null?void 0:n.labelNav,t.labelNav),labelWeekNumberHeader:Go(s4,n==null?void 0:n.labelWeekNumberHeader,t.labelWeekNumberHeader),labelWeekday:Go(n4,n==null?void 0:n.labelWeekday,t.labelWeekday)}}function zK(n,e,t,r,s){const{startOfMonth:a,startOfYear:l,endOfYear:u,eachMonthOfInterval:f,getMonth:m}=s;return f({start:l(n),end:u(n)}).map(b=>{const E=r.formatMonthDropdown(b,s),T=m(b),C=e&&b<a(e)||t&&b>a(t)||!1;return{value:T,label:E,disabled:C}})}function qK(n,e={},t={}){let r={...e==null?void 0:e[ft.Day]};return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...t==null?void 0:t[s]}}),r}function WK(n,e,t,r){const s=r??n.today(),a=t?n.startOfBroadcastWeek(s,n):e?n.startOfISOWeek(s):n.startOfWeek(s),l=[];for(let u=0;u<7;u++){const f=n.addDays(a,u);l.push(f)}return l}function HK(n,e,t,r,s=!1){if(!n||!e)return;const{startOfYear:a,endOfYear:l,eachYearOfInterval:u,getYear:f}=r,m=a(n),y=l(e),_=u({start:m,end:y});return s&&_.reverse(),_.map(b=>{const E=t.formatYearDropdown(b,r);return{value:f(b),label:E,disabled:!1}})}function $K(n,e={}){var u;const{weekStartsOn:t,locale:r}=e,s=t??((u=r==null?void 0:r.options)==null?void 0:u.weekStartsOn)??0,a=f=>{const m=typeof f=="number"||typeof f=="string"?new Date(f):f;return new Xs(m.getFullYear(),m.getMonth(),m.getDate(),12,0,0,n)},l=f=>{const m=a(f);return new Date(m.getFullYear(),m.getMonth(),m.getDate(),0,0,0,0)};return{today:()=>a(Xs.tz(n)),newDate:(f,m,y)=>new Xs(f,m,y,12,0,0,n),startOfDay:f=>a(f),startOfWeek:(f,m)=>{const y=a(f),_=(m==null?void 0:m.weekStartsOn)??s,b=(y.getDay()-_+7)%7;return y.setDate(y.getDate()-b),y},startOfISOWeek:f=>{const m=a(f),y=(m.getDay()-1+7)%7;return m.setDate(m.getDate()-y),m},startOfMonth:f=>{const m=a(f);return m.setDate(1),m},startOfYear:f=>{const m=a(f);return m.setMonth(0,1),m},endOfWeek:(f,m)=>{const y=a(f),E=((((m==null?void 0:m.weekStartsOn)??s)+6)%7-y.getDay()+7)%7;return y.setDate(y.getDate()+E),y},endOfISOWeek:f=>{const m=a(f),y=(7-m.getDay())%7;return m.setDate(m.getDate()+y),m},endOfMonth:f=>{const m=a(f);return m.setMonth(m.getMonth()+1,0),m},endOfYear:f=>{const m=a(f);return m.setMonth(11,31),m},eachMonthOfInterval:f=>{const m=a(f.start),y=a(f.end),_=[],b=new Xs(m.getFullYear(),m.getMonth(),1,12,0,0,n),E=y.getFullYear()*12+y.getMonth();for(;b.getFullYear()*12+b.getMonth()<=E;)_.push(new Xs(b,n)),b.setMonth(b.getMonth()+1,1);return _},addDays:(f,m)=>{const y=a(f);return y.setDate(y.getDate()+m),y},addWeeks:(f,m)=>{const y=a(f);return y.setDate(y.getDate()+m*7),y},addMonths:(f,m)=>{const y=a(f);return y.setMonth(y.getMonth()+m),y},addYears:(f,m)=>{const y=a(f);return y.setFullYear(y.getFullYear()+m),y},eachYearOfInterval:f=>{const m=a(f.start),y=a(f.end),_=[],b=new Xs(m.getFullYear(),0,1,12,0,0,n);for(;b.getFullYear()<=y.getFullYear();)_.push(new Xs(b,n)),b.setFullYear(b.getFullYear()+1,0,1);return _},getWeek:(f,m)=>{var _;const y=l(f);return CR(y,{weekStartsOn:(m==null?void 0:m.weekStartsOn)??s,firstWeekContainsDate:(m==null?void 0:m.firstWeekContainsDate)??((_=r==null?void 0:r.options)==null?void 0:_.firstWeekContainsDate)??1})},getISOWeek:f=>{const m=l(f);return TR(m)},differenceInCalendarDays:(f,m)=>{const y=l(f),_=l(m);return ER(y,_)},differenceInCalendarMonths:(f,m)=>{const y=l(f),_=l(m);return Lj(y,_)}}}const cw=n=>n instanceof HTMLElement?n:null,gT=n=>[...n.querySelectorAll("[data-animated-month]")??[]],GK=n=>cw(n.querySelector("[data-animated-month]")),yT=n=>cw(n.querySelector("[data-animated-caption]")),vT=n=>cw(n.querySelector("[data-animated-weeks]")),YK=n=>cw(n.querySelector("[data-animated-nav]")),KK=n=>cw(n.querySelector("[data-animated-weekdays]"));function QK(n,e,{classNames:t,months:r,focused:s,dateLib:a}){const l=I.useRef(null),u=I.useRef(r),f=I.useRef(!1);I.useLayoutEffect(()=>{const m=u.current;if(u.current=r,!e||!n.current||!(n.current instanceof HTMLElement)||r.length===0||m.length===0||r.length!==m.length)return;const y=a.isSameMonth(r[0].date,m[0].date),_=a.isAfter(r[0].date,m[0].date),b=_?t[Ea.caption_after_enter]:t[Ea.caption_before_enter],E=_?t[Ea.weeks_after_enter]:t[Ea.weeks_before_enter],T=l.current,C=n.current.cloneNode(!0);if(C instanceof HTMLElement?(gT(C).forEach(U=>{if(!(U instanceof HTMLElement))return;const Y=GK(U);Y&&U.contains(Y)&&U.removeChild(Y);const W=yT(U);W&&W.classList.remove(b);const K=vT(U);K&&K.classList.remove(E)}),l.current=C):l.current=null,f.current||y||s)return;const N=T instanceof HTMLElement?gT(T):[],M=gT(n.current);if(M!=null&&M.every(B=>B instanceof HTMLElement)&&N&&N.every(B=>B instanceof HTMLElement)){f.current=!0,n.current.style.isolation="isolate";const B=YK(n.current);B&&(B.style.zIndex="1"),M.forEach((U,Y)=>{const W=N[Y];if(!W)return;U.style.position="relative",U.style.overflow="hidden";const K=yT(U);K&&K.classList.add(b);const D=vT(U);D&&D.classList.add(E);const P=()=>{f.current=!1,n.current&&(n.current.style.isolation=""),B&&(B.style.zIndex=""),K&&K.classList.remove(b),D&&D.classList.remove(E),U.style.position="",U.style.overflow="",U.contains(W)&&U.removeChild(W)};W.style.pointerEvents="none",W.style.position="absolute",W.style.overflow="hidden",W.setAttribute("aria-hidden","true");const L=KK(W);L&&(L.style.opacity="0");const V=yT(W);V&&(V.classList.add(_?t[Ea.caption_before_exit]:t[Ea.caption_after_exit]),V.addEventListener("animationend",P));const q=vT(W);q&&q.classList.add(_?t[Ea.weeks_before_exit]:t[Ea.weeks_after_exit]),U.insertBefore(W,U.firstChild)})}})}function JK(n,e,t,r){const s=n[0],a=n[n.length-1],{ISOWeek:l,fixedWeeks:u,broadcastCalendar:f}=t??{},{addDays:m,differenceInCalendarDays:y,differenceInCalendarMonths:_,endOfBroadcastWeek:b,endOfISOWeek:E,endOfMonth:T,endOfWeek:C,isAfter:N,startOfBroadcastWeek:M,startOfISOWeek:B,startOfWeek:U}=r,Y=f?M(s,r):l?B(s):U(s),W=f?b(a):l?E(T(a)):C(T(a)),K=e&&(f?b(e):l?E(e):C(e)),D=K&&N(W,K)?K:W,P=y(D,Y),L=_(a,s)+1,V=[];for(let $=0;$<=P;$++){const Ee=m(Y,$);V.push(Ee)}const J=(f?35:42)*L;if(u&&V.length<J){const $=J-V.length;for(let Ee=0;Ee<$;Ee++){const de=m(V[V.length-1],1);V.push(de)}}return V}function XK(n){const e=[];return n.reduce((t,r)=>{const s=r.weeks.reduce((a,l)=>a.concat(l.days.slice()),e.slice());return t.concat(s.slice())},e.slice())}function ZK(n,e,t,r){const{numberOfMonths:s=1}=t,a=[];for(let l=0;l<s;l++){const u=r.addMonths(n,l);if(e&&u>e)break;a.push(u)}return a}function uO(n,e,t,r){const{month:s,defaultMonth:a,today:l=r.today(),numberOfMonths:u=1}=n;let f=s||a||l;const{differenceInCalendarMonths:m,addMonths:y,startOfMonth:_}=r;if(t&&m(t,f)<u-1){const b=-1*(u-1);f=y(t,b)}return e&&m(f,e)<0&&(f=e),_(f)}function eQ(n,e,t,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:u,endOfWeek:f,getISOWeek:m,getWeek:y,startOfBroadcastWeek:_,startOfISOWeek:b,startOfWeek:E}=r,T=n.reduce((C,N)=>{const M=t.broadcastCalendar?_(N,r):t.ISOWeek?b(N):E(N),B=t.broadcastCalendar?a(N):t.ISOWeek?l(u(N)):f(u(N)),U=e.filter(D=>D>=M&&D<=B),Y=t.broadcastCalendar?35:42;if(t.fixedWeeks&&U.length<Y){const D=e.filter(P=>{const L=Y-U.length;return P>B&&P<=s(B,L)});U.push(...D)}const W=U.reduce((D,P)=>{const L=t.ISOWeek?m(P):y(P),V=D.find(J=>J.weekNumber===L),q=new Hj(P,N,r);return V?V.days.push(q):D.push(new QY(L,[q])),D},[]),K=new KY(N,W);return C.push(K),C},[]);return t.reverseMonths?T.reverse():T}function tQ(n,e){let{startMonth:t,endMonth:r}=n;const{startOfYear:s,startOfDay:a,startOfMonth:l,endOfMonth:u,addYears:f,endOfYear:m,newDate:y,today:_}=e,{fromYear:b,toYear:E,fromMonth:T,toMonth:C}=n;!t&&T&&(t=T),!t&&b&&(t=e.newDate(b,0,1)),!r&&C&&(r=C),!r&&E&&(r=y(E,11,31));const N=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=l(t):b?t=y(b,0,1):!t&&N&&(t=s(f(n.today??_(),-100))),r?r=u(r):E?r=y(E,11,31):!r&&N&&(r=m(n.today??_())),[t&&a(t),r&&a(r)]}function nQ(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=t,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:f}=r,m=s?a:1,y=l(n);if(!e)return u(y,m);if(!(f(e,n)<a))return u(y,m)}function rQ(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=t,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:f}=r,m=s?a??1:1,y=l(n);if(!e)return u(y,-m);if(!(f(y,e)<=0))return u(y,-m)}function sQ(n){const e=[];return n.reduce((t,r)=>t.concat(r.weeks.slice()),e.slice())}function vS(n,e){const[t,r]=I.useState(n);return[e===void 0?t:e,r]}function iQ(n,e){var Y;const[t,r]=tQ(n,e),{startOfMonth:s,endOfMonth:a}=e,l=uO(n,t,r,e),[u,f]=vS(l,n.month?l:void 0);I.useEffect(()=>{const W=uO(n,t,r,e);f(W)},[n.timeZone]);const{months:m,weeks:y,days:_,previousMonth:b,nextMonth:E}=I.useMemo(()=>{const W=ZK(u,r,{numberOfMonths:n.numberOfMonths},e),K=JK(W,n.endMonth?a(n.endMonth):void 0,{ISOWeek:n.ISOWeek,fixedWeeks:n.fixedWeeks,broadcastCalendar:n.broadcastCalendar},e),D=eQ(W,K,{broadcastCalendar:n.broadcastCalendar,fixedWeeks:n.fixedWeeks,ISOWeek:n.ISOWeek,reverseMonths:n.reverseMonths},e),P=sQ(D),L=XK(D),V=rQ(u,t,n,e),q=nQ(u,r,n,e);return{months:D,weeks:P,days:L,previousMonth:V,nextMonth:q}},[e,u.getTime(),r==null?void 0:r.getTime(),t==null?void 0:t.getTime(),n.disableNavigation,n.broadcastCalendar,(Y=n.endMonth)==null?void 0:Y.getTime(),n.fixedWeeks,n.ISOWeek,n.numberOfMonths,n.pagedNavigation,n.reverseMonths]),{disableNavigation:T,onMonthChange:C}=n,N=W=>y.some(K=>K.days.some(D=>D.isEqualTo(W))),M=W=>{if(T)return;let K=s(W);t&&K<s(t)&&(K=s(t)),r&&K>s(r)&&(K=s(r)),f(K),C==null||C(K)};return{months:m,weeks:y,days:_,navStart:t,navEnd:r,previousMonth:b,nextMonth:E,goToMonth:M,goToDay:W=>{N(W)||M(W.date)}}}var Yl;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Yl||(Yl={}));function dO(n){return!n[Sr.disabled]&&!n[Sr.hidden]&&!n[Sr.outside]}function aQ(n,e,t,r){let s,a=-1;for(const l of n){const u=e(l);dO(u)&&(u[Sr.focused]&&a<Yl.FocusedModifier?(s=l,a=Yl.FocusedModifier):r!=null&&r.isEqualTo(l)&&a<Yl.LastFocused?(s=l,a=Yl.LastFocused):t(l.date)&&a<Yl.Selected?(s=l,a=Yl.Selected):u[Sr.today]&&a<Yl.Today&&(s=l,a=Yl.Today))}return s||(s=n.find(l=>dO(e(l)))),s}function oQ(n,e,t,r,s,a,l){const{ISOWeek:u,broadcastCalendar:f}=a,{addDays:m,addMonths:y,addWeeks:_,addYears:b,endOfBroadcastWeek:E,endOfISOWeek:T,endOfWeek:C,max:N,min:M,startOfBroadcastWeek:B,startOfISOWeek:U,startOfWeek:Y}=l;let K={day:m,week:_,month:y,year:b,startOfWeek:D=>f?B(D,l):u?U(D):Y(D),endOfWeek:D=>f?E(D):u?T(D):C(D)}[n](t,e==="after"?1:-1);return e==="before"&&r?K=N([r,K]):e==="after"&&s&&(K=M([s,K])),K}function a4(n,e,t,r,s,a,l,u=0){if(u>365)return;const f=oQ(n,e,t.date,r,s,a,l),m=!!(a.disabled&&pu(f,a.disabled,l)),y=!!(a.hidden&&pu(f,a.hidden,l)),_=f,b=new Hj(f,_,l);return!m&&!y?b:a4(n,e,b,r,s,a,l,u+1)}function lQ(n,e,t,r,s){const{autoFocus:a}=n,[l,u]=I.useState(),f=aQ(e.days,t,r||(()=>!1),l),[m,y]=I.useState(a?f:void 0);return{isFocusTarget:C=>!!(f!=null&&f.isEqualTo(C)),setFocused:y,focused:m,blur:()=>{u(m),y(void 0)},moveFocus:(C,N)=>{if(!m)return;const M=a4(C,N,m,e.navStart,e.navEnd,n,s);M&&(n.disableNavigation&&!e.days.some(U=>U.isEqualTo(M))||(e.goToDay(M),y(M)))}}}function cQ(n,e){const{selected:t,required:r,onSelect:s}=n,[a,l]=vS(t,s?t:void 0),u=s?t:a,{isSameDay:f}=e,m=E=>(u==null?void 0:u.some(T=>f(T,E)))??!1,{min:y,max:_}=n;return{selected:u,select:(E,T,C)=>{let N=[...u??[]];if(m(E)){if((u==null?void 0:u.length)===y||r&&(u==null?void 0:u.length)===1)return;N=u==null?void 0:u.filter(M=>!f(M,E))}else(u==null?void 0:u.length)===_?N=[E]:N=[...N,E];return s||l(N),s==null||s(N,E,T,C),N},isSelected:m}}function uQ(n,e,t=0,r=0,s=!1,a=_c){const{from:l,to:u}=e||{},{isSameDay:f,isAfter:m,isBefore:y}=a;let _;if(!l&&!u)_={from:n,to:t>0?void 0:n};else if(l&&!u)f(l,n)?t===0?_={from:l,to:n}:s?_={from:l,to:void 0}:_=void 0:y(n,l)?_={from:n,to:l}:_={from:l,to:n};else if(l&&u)if(f(l,n)&&f(u,n))s?_={from:l,to:u}:_=void 0;else if(f(l,n))_={from:l,to:t>0?void 0:n};else if(f(u,n))_={from:n,to:t>0?void 0:n};else if(y(n,l))_={from:n,to:u};else if(m(n,l))_={from:l,to:n};else if(m(n,u))_={from:l,to:n};else throw new Error("Invalid range");if(_!=null&&_.from&&(_!=null&&_.to)){const b=a.differenceInCalendarDays(_.to,_.from);r>0&&b>r?_={from:n,to:void 0}:t>1&&b<t&&(_={from:n,to:void 0})}return _}function dQ(n,e,t=_c){const r=Array.isArray(e)?e:[e];let s=n.from;const a=t.differenceInCalendarDays(n.to,n.from),l=Math.min(a,6);for(let u=0;u<=l;u++){if(r.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function fO(n,e,t=_c){return mu(n,e.from,!1,t)||mu(n,e.to,!1,t)||mu(e,n.from,!1,t)||mu(e,n.to,!1,t)}function fQ(n,e,t=_c){const r=Array.isArray(e)?e:[e];if(r.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:t.isDate(u)?mu(n,u,!1,t):Yj(u,t)?u.some(f=>mu(n,f,!1,t)):yS(u)?u.from&&u.to?fO(n,{from:u.from,to:u.to},t):!1:Gj(u)?dQ(n,u.dayOfWeek,t):AR(u)?t.isAfter(u.before,u.after)?fO(n,{from:t.addDays(u.after,1),to:t.addDays(u.before,-1)},t):pu(n.from,u,t)||pu(n.to,u,t):RR(u)||IR(u)?pu(n.from,u,t)||pu(n.to,u,t):!1))return!0;const l=r.filter(u=>typeof u=="function");if(l.length){let u=n.from;const f=t.differenceInCalendarDays(n.to,n.from);for(let m=0;m<=f;m++){if(l.some(y=>y(u)))return!0;u=t.addDays(u,1)}}return!1}function hQ(n,e){const{disabled:t,excludeDisabled:r,selected:s,required:a,onSelect:l}=n,[u,f]=vS(s,l?s:void 0),m=l?s:u;return{selected:m,select:(b,E,T)=>{const{min:C,max:N}=n,M=b?uQ(b,m,C,N,a,e):void 0;return r&&t&&(M!=null&&M.from)&&M.to&&fQ({from:M.from,to:M.to},t,e)&&(M.from=b,M.to=void 0),l||f(M),l==null||l(M,b,E,T),M},isSelected:b=>m&&mu(m,b,!1,e)}}function mQ(n,e){const{selected:t,required:r,onSelect:s}=n,[a,l]=vS(t,s?t:void 0),u=s?t:a,{isSameDay:f}=e;return{selected:u,select:(_,b,E)=>{let T=_;return!r&&u&&u&&f(_,u)&&(T=void 0),s||l(T),s==null||s(T,_,b,E),T},isSelected:_=>u?f(u,_):!1}}function pQ(n,e){const t=mQ(n,e),r=cQ(n,e),s=hQ(n,e);switch(n.mode){case"single":return t;case"multiple":return r;case"range":return s;default:return}}function ro(n,e){return n instanceof Xs&&n.timeZone===e?n:new Xs(n,e)}function Ng(n,e,t){return ro(n,e)}function hO(n,e,t){return typeof n=="boolean"||typeof n=="function"?n:n instanceof Date?Ng(n,e):Array.isArray(n)?n.map(r=>r instanceof Date?Ng(r,e):r):yS(n)?{...n,from:n.from?ro(n.from,e):n.from,to:n.to?ro(n.to,e):n.to}:AR(n)?{before:Ng(n.before,e),after:Ng(n.after,e)}:RR(n)?{after:Ng(n.after,e)}:IR(n)?{before:Ng(n.before,e)}:n}function _T(n,e,t){return n&&(Array.isArray(n)?n.map(r=>hO(r,e)):hO(n,e))}function gQ(n){var wc;let e=n;const t=e.timeZone;if(t&&(e={...n,timeZone:t},e.today&&(e.today=ro(e.today,t)),e.month&&(e.month=ro(e.month,t)),e.defaultMonth&&(e.defaultMonth=ro(e.defaultMonth,t)),e.startMonth&&(e.startMonth=ro(e.startMonth,t)),e.endMonth&&(e.endMonth=ro(e.endMonth,t)),e.mode==="single"&&e.selected?e.selected=ro(e.selected,t):e.mode==="multiple"&&e.selected?e.selected=(wc=e.selected)==null?void 0:wc.map(mt=>ro(mt,t)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?ro(e.selected.from,t):e.selected.from,to:e.selected.to?ro(e.selected.to,t):e.selected.to}),e.disabled!==void 0&&(e.disabled=_T(e.disabled,t)),e.hidden!==void 0&&(e.hidden=_T(e.hidden,t)),e.modifiers)){const mt={};Object.keys(e.modifiers).forEach(Ft=>{var We;mt[Ft]=_T((We=e.modifiers)==null?void 0:We[Ft],t)}),e.modifiers=mt}const{components:r,formatters:s,labels:a,dateLib:l,locale:u,classNames:f}=I.useMemo(()=>{const mt={...Wj,...e.locale},Ft=e.broadcastCalendar?1:e.weekStartsOn,We=e.noonSafe&&e.timeZone?$K(e.timeZone,{weekStartsOn:Ft,locale:mt}):void 0,Nt=e.dateLib&&We?{...We,...e.dateLib}:e.dateLib??We,Xn=new Ma({locale:mt,weekStartsOn:Ft,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},Nt);return{dateLib:Xn,components:CK(e.components),formatters:jK(e.formatters),labels:FK(e.labels,Xn.options),locale:mt,classNames:{...NR(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:l.today()});const{captionLayout:m,mode:y,navLayout:_,numberOfMonths:b=1,onDayBlur:E,onDayClick:T,onDayFocus:C,onDayKeyDown:N,onDayMouseEnter:M,onDayMouseLeave:B,onNextClick:U,onPrevClick:Y,showWeekNumber:W,styles:K}=e,{formatCaption:D,formatDay:P,formatMonthDropdown:L,formatWeekNumber:V,formatWeekNumberHeader:q,formatWeekdayName:J,formatYearDropdown:$}=s,Ee=iQ(e,l),{days:de,months:X,navStart:ce,navEnd:se,previousMonth:Pe,nextMonth:_e,goToMonth:Q}=Ee,ye=EK(de,e,ce,se,l),{isSelected:Ce,select:Ne,selected:Ue}=pQ(e,l)??{},{blur:nt,focused:Ae,isFocusTarget:it,moveFocus:ct,setFocused:yt}=lQ(e,Ee,ye,Ce??(()=>!1),l),{labelDayButton:vt,labelGridcell:_t,labelGrid:Wn,labelMonthDropdown:Zt,labelNav:pr,labelPrevious:$r,labelNext:Nn,labelWeekday:Ds,labelWeekNumber:en,labelWeekNumberHeader:Vn,labelYearDropdown:lr}=a,Ci=I.useMemo(()=>WK(l,e.ISOWeek,e.broadcastCalendar,e.today),[l,e.ISOWeek,e.broadcastCalendar,e.today]),Ai=y!==void 0||T!==void 0,gr=I.useCallback(()=>{Pe&&(Q(Pe),Y==null||Y(Pe))},[Pe,Q,Y]),ns=I.useCallback(()=>{_e&&(Q(_e),U==null||U(_e))},[Q,_e,U]),cn=I.useCallback((mt,Ft)=>We=>{We.preventDefault(),We.stopPropagation(),yt(mt),!Ft.disabled&&(Ne==null||Ne(mt.date,Ft,We),T==null||T(mt.date,Ft,We))},[Ne,T,yt]),Hn=I.useCallback((mt,Ft)=>We=>{yt(mt),C==null||C(mt.date,Ft,We)},[C,yt]),Bn=I.useCallback((mt,Ft)=>We=>{nt(),E==null||E(mt.date,Ft,We)},[nt,E]),ja=I.useCallback((mt,Ft)=>We=>{const Nt={ArrowLeft:[We.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[We.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[We.shiftKey?"year":"week","after"],ArrowUp:[We.shiftKey?"year":"week","before"],PageUp:[We.shiftKey?"year":"month","before"],PageDown:[We.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Nt[We.key]){We.preventDefault(),We.stopPropagation();const[Xn,Tt]=Nt[We.key];ct(Xn,Tt)}N==null||N(mt.date,Ft,We)},[ct,N,e.dir]),fl=I.useCallback((mt,Ft)=>We=>{M==null||M(mt.date,Ft,We)},[M]),hl=I.useCallback((mt,Ft)=>We=>{B==null||B(mt.date,Ft,We)},[B]),ml=I.useCallback(mt=>Ft=>{const We=Number(Ft.target.value),Nt=l.setMonth(l.startOfMonth(mt),We);Q(Nt)},[l,Q]),xs=I.useCallback(mt=>Ft=>{const We=Number(Ft.target.value),Nt=l.setYear(l.startOfMonth(mt),We);Q(Nt)},[l,Q]),{className:yr,style:hs}=I.useMemo(()=>({className:[f[ft.Root],e.className].filter(Boolean).join(" "),style:{...K==null?void 0:K[ft.Root],...e.style}}),[f,e.className,e.style,K]),Yn=AK(e),yo=I.useRef(null);QK(yo,!!e.animate,{classNames:f,months:X,focused:Ae,dateLib:l});const pl={dayPickerProps:e,selected:Ue,select:Ne,isSelected:Ce,months:X,nextMonth:_e,previousMonth:Pe,goToMonth:Q,getModifiers:ye,components:r,classNames:f,styles:K,labels:a,formatters:s};return Ve.createElement($j.Provider,{value:pl},Ve.createElement(r.Root,{rootRef:e.animate?yo:void 0,className:yr,style:hs,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...Yn},Ve.createElement(r.Months,{className:f[ft.Months],style:K==null?void 0:K[ft.Months]},!e.hideNavigation&&!_&&Ve.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[ft.Nav],style:K==null?void 0:K[ft.Nav],"aria-label":pr(),onPreviousClick:gr,onNextClick:ns,previousMonth:Pe,nextMonth:_e}),X.map((mt,Ft)=>Ve.createElement(r.Month,{"data-animated-month":e.animate?"true":void 0,className:f[ft.Month],style:K==null?void 0:K[ft.Month],key:Ft,displayIndex:Ft,calendarMonth:mt},_==="around"&&!e.hideNavigation&&Ft===0&&Ve.createElement(r.PreviousMonthButton,{type:"button",className:f[ft.PreviousMonthButton],tabIndex:Pe?void 0:-1,"aria-disabled":Pe?void 0:!0,"aria-label":$r(Pe),onClick:gr,"data-animated-button":e.animate?"true":void 0},Ve.createElement(r.Chevron,{disabled:Pe?void 0:!0,className:f[ft.Chevron],orientation:e.dir==="rtl"?"right":"left"})),Ve.createElement(r.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:f[ft.MonthCaption],style:K==null?void 0:K[ft.MonthCaption],calendarMonth:mt,displayIndex:Ft},m!=null&&m.startsWith("dropdown")?Ve.createElement(r.DropdownNav,{className:f[ft.Dropdowns],style:K==null?void 0:K[ft.Dropdowns]},(()=>{const We=m==="dropdown"||m==="dropdown-months"?Ve.createElement(r.MonthsDropdown,{key:"month",className:f[ft.MonthsDropdown],"aria-label":Zt(),classNames:f,components:r,disabled:!!e.disableNavigation,onChange:ml(mt.date),options:zK(mt.date,ce,se,s,l),style:K==null?void 0:K[ft.Dropdown],value:l.getMonth(mt.date)}):Ve.createElement("span",{key:"month"},L(mt.date,l)),Nt=m==="dropdown"||m==="dropdown-years"?Ve.createElement(r.YearsDropdown,{key:"year",className:f[ft.YearsDropdown],"aria-label":lr(l.options),classNames:f,components:r,disabled:!!e.disableNavigation,onChange:xs(mt.date),options:HK(ce,se,s,l,!!e.reverseYears),style:K==null?void 0:K[ft.Dropdown],value:l.getYear(mt.date)}):Ve.createElement("span",{key:"year"},$(mt.date,l));return l.getMonthYearOrder()==="year-first"?[Nt,We]:[We,Nt]})(),Ve.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},D(mt.date,l.options,l))):Ve.createElement(r.CaptionLabel,{className:f[ft.CaptionLabel],role:"status","aria-live":"polite"},D(mt.date,l.options,l))),_==="around"&&!e.hideNavigation&&Ft===b-1&&Ve.createElement(r.NextMonthButton,{type:"button",className:f[ft.NextMonthButton],tabIndex:_e?void 0:-1,"aria-disabled":_e?void 0:!0,"aria-label":Nn(_e),onClick:ns,"data-animated-button":e.animate?"true":void 0},Ve.createElement(r.Chevron,{disabled:_e?void 0:!0,className:f[ft.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Ft===b-1&&_==="after"&&!e.hideNavigation&&Ve.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:f[ft.Nav],style:K==null?void 0:K[ft.Nav],"aria-label":pr(),onPreviousClick:gr,onNextClick:ns,previousMonth:Pe,nextMonth:_e}),Ve.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":y==="multiple"||y==="range","aria-label":Wn(mt.date,l.options,l)||void 0,className:f[ft.MonthGrid],style:K==null?void 0:K[ft.MonthGrid]},!e.hideWeekdays&&Ve.createElement(r.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:f[ft.Weekdays],style:K==null?void 0:K[ft.Weekdays]},W&&Ve.createElement(r.WeekNumberHeader,{"aria-label":Vn(l.options),className:f[ft.WeekNumberHeader],style:K==null?void 0:K[ft.WeekNumberHeader],scope:"col"},q()),Ci.map(We=>Ve.createElement(r.Weekday,{"aria-label":Ds(We,l.options,l),className:f[ft.Weekday],key:String(We),style:K==null?void 0:K[ft.Weekday],scope:"col"},J(We,l.options,l)))),Ve.createElement(r.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:f[ft.Weeks],style:K==null?void 0:K[ft.Weeks]},mt.weeks.map(We=>Ve.createElement(r.Week,{className:f[ft.Week],key:We.weekNumber,style:K==null?void 0:K[ft.Week],week:We},W&&Ve.createElement(r.WeekNumber,{week:We,style:K==null?void 0:K[ft.WeekNumber],"aria-label":en(We.weekNumber,{locale:u}),className:f[ft.WeekNumber],scope:"row",role:"rowheader"},V(We.weekNumber,l)),We.days.map(Nt=>{const{date:Xn}=Nt,Tt=ye(Nt);if(Tt[Sr.focused]=!Tt.hidden&&!!(Ae!=null&&Ae.isEqualTo(Nt)),Tt[Zo.selected]=(Ce==null?void 0:Ce(Xn))||Tt.selected,yS(Ue)){const{from:Qi,to:Sc}=Ue;Tt[Zo.range_start]=!!(Qi&&Sc&&l.isSameDay(Xn,Qi)),Tt[Zo.range_end]=!!(Qi&&Sc&&l.isSameDay(Xn,Sc)),Tt[Zo.range_middle]=mu(Ue,Xn,!0,l)}const kf=qK(Tt,K,e.modifiersStyles),xc=TK(Tt,f,e.modifiersClassNames),Ri=!Ai&&!Tt.hidden?_t(Xn,Tt,l.options,l):void 0;return Ve.createElement(r.Day,{key:`${Nt.isoDate}_${Nt.displayMonthId}`,day:Nt,modifiers:Tt,className:xc.join(" "),style:kf,role:"gridcell","aria-selected":Tt.selected||void 0,"aria-label":Ri,"data-day":Nt.isoDate,"data-month":Nt.outside?Nt.dateMonthId:void 0,"data-selected":Tt.selected||void 0,"data-disabled":Tt.disabled||void 0,"data-hidden":Tt.hidden||void 0,"data-outside":Nt.outside||void 0,"data-focused":Tt.focused||void 0,"data-today":Tt.today||void 0},!Tt.hidden&&Ai?Ve.createElement(r.DayButton,{className:f[ft.DayButton],style:K==null?void 0:K[ft.DayButton],type:"button",day:Nt,modifiers:Tt,disabled:!Tt.focused&&Tt.disabled||void 0,"aria-disabled":Tt.focused&&Tt.disabled||void 0,tabIndex:it(Nt)?0:-1,"aria-label":vt(Xn,Tt,l.options,l),onClick:cn(Nt,Tt),onBlur:Bn(Nt,Tt),onFocus:Hn(Nt,Tt),onKeyDown:ja(Nt,Tt),onMouseEnter:fl(Nt,Tt),onMouseLeave:hl(Nt,Tt)},P(Xn,l.options,l)):!Tt.hidden&&P(Nt.date,l.options,l))})))))))),e.footer&&Ve.createElement(r.Footer,{className:f[ft.Footer],style:K==null?void 0:K[ft.Footer],role:"status","aria-live":"polite"},e.footer)))}function yQ({className:n,classNames:e,showOutsideDays:t=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:a,components:l,onMonthChange:u,onDayClick:f,id:m,...y}){const _=NR(),b=Mn(u,T=>({componentType:"calendar",eventType:"month-change",componentInfo:{month:T.toISOString()}})),E=Mn(f,(T,C)=>({componentType:"calendar",eventType:"day-click",componentInfo:{day:T.toISOString(),modifiers:C}}));return g.jsx(gQ,{showOutsideDays:t,className:Fe("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,n),captionLayout:r,onMonthChange:b,onDayClick:E,id:m,formatters:{formatMonthDropdown:T=>T.toLocaleString("default",{month:"short"}),...a},classNames:{root:Fe("w-fit",_.root),months:Fe("flex gap-4 flex-col md:flex-row relative",_.months),month:Fe("flex flex-col w-full gap-4",_.month),nav:Fe("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",_.nav),button_previous:Fe(DC({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",_.button_previous),button_next:Fe(DC({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",_.button_next),month_caption:Fe("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",_.month_caption),dropdowns:Fe("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",_.dropdowns),dropdown_root:Fe("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",_.dropdown_root),dropdown:Fe("absolute bg-popover inset-0 opacity-0",_.dropdown),caption_label:Fe("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",_.caption_label),table:"w-full border-collapse",weekdays:Fe("flex",_.weekdays),weekday:Fe("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",_.weekday),week:Fe("flex w-full mt-2",_.week),week_number_header:Fe("select-none w-(--cell-size)",_.week_number_header),week_number:Fe("text-[0.8rem] select-none text-muted-foreground",_.week_number),day:Fe("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",_.day),range_start:Fe("rounded-l-md bg-accent",_.range_start),range_middle:Fe("rounded-none",_.range_middle),range_end:Fe("rounded-r-md bg-accent",_.range_end),today:Fe("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",_.today),outside:Fe("text-muted-foreground aria-selected:text-muted-foreground",_.outside),disabled:Fe("text-muted-foreground opacity-50",_.disabled),hidden:Fe("invisible",_.hidden),...e},components:{Root:({className:T,rootRef:C,...N})=>g.jsx("div",{"data-slot":"calendar",ref:C,className:Fe(T),...N}),Chevron:({className:T,orientation:C,...N})=>C==="left"?g.jsx(B8,{className:Fe("size-4",T),...N}):C==="right"?g.jsx(F8,{className:Fe("size-4",T),...N}):g.jsx(dR,{className:Fe("size-4",T),...N}),DayButton:vQ,WeekNumber:({children:T,...C})=>g.jsx("td",{...C,children:g.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:T})}),...l},...y})}function vQ({className:n,day:e,modifiers:t,onClick:r,...s}){const a=NR(),l=I.useRef(null);I.useEffect(()=>{var f;t.focused&&((f=l.current)==null||f.focus())},[t.focused]);const u=I.useCallback(f=>{try{r&&r(f)}catch(m){throw AM(f.currentTarget,m,{componentType:"calendar-day-button",eventType:"click",componentInfo:{day:e.date.toISOString(),modifiers:t}}),m}},[r,e.date,t]);return g.jsx($e,{ref:l,variant:"ghost",size:"icon",onClick:u,"data-day":e.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:Fe("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",a.day,n),...s})}function _Q(n,e=globalThis==null?void 0:globalThis.document){const t=Si(n);I.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var bQ="DismissableLayer",zC="dismissableLayer.update",wQ="dismissableLayer.pointerDownOutside",xQ="dismissableLayer.focusOutside",mO,o4=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_S=I.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:u,...f}=n,m=I.useContext(o4),[y,_]=I.useState(null),b=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=I.useState({}),T=Sn(e,D=>_(D)),C=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(N),B=y?C.indexOf(y):-1,U=m.layersWithOutsidePointerEventsDisabled.size>0,Y=B>=M,W=TQ(D=>{const P=D.target,L=[...m.branches].some(V=>V.contains(P));!Y||L||(s==null||s(D),l==null||l(D),D.defaultPrevented||u==null||u())},b),K=CQ(D=>{const P=D.target;[...m.branches].some(V=>V.contains(P))||(a==null||a(D),l==null||l(D),D.defaultPrevented||u==null||u())},b);return _Q(D=>{B===m.layers.size-1&&(r==null||r(D),!D.defaultPrevented&&u&&(D.preventDefault(),u()))},b),I.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(mO=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),pO(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=mO)}},[y,b,t,m]),I.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),pO())},[y,m]),I.useEffect(()=>{const D=()=>E({});return document.addEventListener(zC,D),()=>document.removeEventListener(zC,D)},[]),g.jsx(Ut.div,{...f,ref:T,style:{pointerEvents:U?Y?"auto":"none":void 0,...n.style},onFocusCapture:Ct(n.onFocusCapture,K.onFocusCapture),onBlurCapture:Ct(n.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Ct(n.onPointerDownCapture,W.onPointerDownCapture)})});_S.displayName=bQ;var SQ="DismissableLayerBranch",EQ=I.forwardRef((n,e)=>{const t=I.useContext(o4),r=I.useRef(null),s=Sn(e,r);return I.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),g.jsx(Ut.div,{...n,ref:s})});EQ.displayName=SQ;function TQ(n,e=globalThis==null?void 0:globalThis.document){const t=Si(n),r=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const a=u=>{if(u.target&&!r.current){let f=function(){l4(wQ,t,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function CQ(n,e=globalThis==null?void 0:globalThis.document){const t=Si(n),r=I.useRef(!1);return I.useEffect(()=>{const s=a=>{a.target&&!r.current&&l4(xQ,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function pO(){const n=new CustomEvent(zC);document.dispatchEvent(n)}function l4(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?R7(s,a):s.dispatchEvent(a)}var bT=0;function DR(){I.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??gO()),document.body.insertAdjacentElement("beforeend",n[1]??gO()),bT++,()=>{bT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bT--}},[])}function gO(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var wT="focusScope.autoFocusOnMount",xT="focusScope.autoFocusOnUnmount",yO={bubbles:!1,cancelable:!0},AQ="FocusScope",bS=I.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=n,[u,f]=I.useState(null),m=Si(s),y=Si(a),_=I.useRef(null),b=Sn(e,C=>f(C)),E=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let C=function(U){if(E.paused||!u)return;const Y=U.target;u.contains(Y)?_.current=Y:Vd(_.current,{select:!0})},N=function(U){if(E.paused||!u)return;const Y=U.relatedTarget;Y!==null&&(u.contains(Y)||Vd(_.current,{select:!0}))},M=function(U){if(document.activeElement===document.body)for(const W of U)W.removedNodes.length>0&&Vd(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",N);const B=new MutationObserver(M);return u&&B.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",N),B.disconnect()}}},[r,u,E.paused]),I.useEffect(()=>{if(u){_O.add(E);const C=document.activeElement;if(!u.contains(C)){const M=new CustomEvent(wT,yO);u.addEventListener(wT,m),u.dispatchEvent(M),M.defaultPrevented||(RQ(DQ(c4(u)),{select:!0}),document.activeElement===C&&Vd(u))}return()=>{u.removeEventListener(wT,m),setTimeout(()=>{const M=new CustomEvent(xT,yO);u.addEventListener(xT,y),u.dispatchEvent(M),M.defaultPrevented||Vd(C??document.body,{select:!0}),u.removeEventListener(xT,y),_O.remove(E)},0)}}},[u,m,y,E]);const T=I.useCallback(C=>{if(!t&&!r||E.paused)return;const N=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(N&&M){const B=C.currentTarget,[U,Y]=IQ(B);U&&Y?!C.shiftKey&&M===Y?(C.preventDefault(),t&&Vd(U,{select:!0})):C.shiftKey&&M===U&&(C.preventDefault(),t&&Vd(Y,{select:!0})):M===B&&C.preventDefault()}},[t,r,E.paused]);return g.jsx(Ut.div,{tabIndex:-1,...l,ref:b,onKeyDown:T})});bS.displayName=AQ;function RQ(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Vd(r,{select:e}),document.activeElement!==t)return}function IQ(n){const e=c4(n),t=vO(e,n),r=vO(e.reverse(),n);return[t,r]}function c4(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function vO(n,e){for(const t of n)if(!NQ(t,{upTo:e}))return t}function NQ(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function kQ(n){return n instanceof HTMLInputElement&&"select"in n}function Vd(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&kQ(n)&&e&&n.select()}}var _O=OQ();function OQ(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=bO(n,e),n.unshift(e)},remove(e){var t;n=bO(n,e),(t=n[0])==null||t.resume()}}}function bO(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function DQ(n){return n.filter(e=>e.tagName!=="A")}const PQ=["top","right","bottom","left"],wf=Math.min,Ta=Math.max,I1=Math.round,_x=Math.floor,cc=n=>({x:n,y:n}),MQ={left:"right",right:"left",bottom:"top",top:"bottom"},jQ={start:"end",end:"start"};function qC(n,e,t){return Ta(n,wf(e,t))}function Au(n,e){return typeof n=="function"?n(e):n}function Ru(n){return n.split("-")[0]}function Wy(n){return n.split("-")[1]}function PR(n){return n==="x"?"y":"x"}function MR(n){return n==="y"?"height":"width"}const LQ=new Set(["top","bottom"]);function nc(n){return LQ.has(Ru(n))?"y":"x"}function jR(n){return PR(nc(n))}function VQ(n,e,t){t===void 0&&(t=!1);const r=Wy(n),s=jR(n),a=MR(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=N1(l)),[l,N1(l)]}function BQ(n){const e=N1(n);return[WC(n),e,WC(e)]}function WC(n){return n.replace(/start|end/g,e=>jQ[e])}const wO=["left","right"],xO=["right","left"],UQ=["top","bottom"],FQ=["bottom","top"];function zQ(n,e,t){switch(n){case"top":case"bottom":return t?e?xO:wO:e?wO:xO;case"left":case"right":return e?UQ:FQ;default:return[]}}function qQ(n,e,t,r){const s=Wy(n);let a=zQ(Ru(n),t==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(WC)))),a}function N1(n){return n.replace(/left|right|bottom|top/g,e=>MQ[e])}function WQ(n){return{top:0,right:0,bottom:0,left:0,...n}}function u4(n){return typeof n!="number"?WQ(n):{top:n,right:n,bottom:n,left:n}}function k1(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function SO(n,e,t){let{reference:r,floating:s}=n;const a=nc(e),l=jR(e),u=MR(l),f=Ru(e),m=a==="y",y=r.x+r.width/2-s.width/2,_=r.y+r.height/2-s.height/2,b=r[u]/2-s[u]/2;let E;switch(f){case"top":E={x:y,y:r.y-s.height};break;case"bottom":E={x:y,y:r.y+r.height};break;case"right":E={x:r.x+r.width,y:_};break;case"left":E={x:r.x-s.width,y:_};break;default:E={x:r.x,y:r.y}}switch(Wy(e)){case"start":E[l]-=b*(t&&m?-1:1);break;case"end":E[l]+=b*(t&&m?-1:1);break}return E}async function HQ(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:u,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:b=!1,padding:E=0}=Au(e,n),T=u4(E),N=u[b?_==="floating"?"reference":"floating":_],M=k1(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(N)))==null||t?N:N.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:f})),B=_==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,U=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),Y=await(a.isElement==null?void 0:a.isElement(U))?await(a.getScale==null?void 0:a.getScale(U))||{x:1,y:1}:{x:1,y:1},W=k1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:B,offsetParent:U,strategy:f}):B);return{top:(M.top-W.top+T.top)/Y.y,bottom:(W.bottom-M.bottom+T.bottom)/Y.y,left:(M.left-W.left+T.left)/Y.x,right:(W.right-M.right+T.right)/Y.x}}const $Q=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,u=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:y,y:_}=SO(m,r,f),b=r,E={},T=0;for(let N=0;N<u.length;N++){var C;const{name:M,fn:B}=u[N],{x:U,y:Y,data:W,reset:K}=await B({x:y,y:_,initialPlacement:r,placement:b,strategy:s,middlewareData:E,rects:m,platform:{...l,detectOverflow:(C=l.detectOverflow)!=null?C:HQ},elements:{reference:n,floating:e}});y=U??y,_=Y??_,E={...E,[M]:{...E[M],...W}},K&&T<=50&&(T++,typeof K=="object"&&(K.placement&&(b=K.placement),K.rects&&(m=K.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):K.rects),{x:y,y:_}=SO(m,b,f)),N=-1)}return{x:y,y:_,placement:b,strategy:s,middlewareData:E}},GQ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:l,elements:u,middlewareData:f}=e,{element:m,padding:y=0}=Au(n,e)||{};if(m==null)return{};const _=u4(y),b={x:t,y:r},E=jR(s),T=MR(E),C=await l.getDimensions(m),N=E==="y",M=N?"top":"left",B=N?"bottom":"right",U=N?"clientHeight":"clientWidth",Y=a.reference[T]+a.reference[E]-b[E]-a.floating[T],W=b[E]-a.reference[E],K=await(l.getOffsetParent==null?void 0:l.getOffsetParent(m));let D=K?K[U]:0;(!D||!await(l.isElement==null?void 0:l.isElement(K)))&&(D=u.floating[U]||a.floating[T]);const P=Y/2-W/2,L=D/2-C[T]/2-1,V=wf(_[M],L),q=wf(_[B],L),J=V,$=D-C[T]-q,Ee=D/2-C[T]/2+P,de=qC(J,Ee,$),X=!f.arrow&&Wy(s)!=null&&Ee!==de&&a.reference[T]/2-(Ee<J?V:q)-C[T]/2<0,ce=X?Ee<J?Ee-J:Ee-$:0;return{[E]:b[E]+ce,data:{[E]:de,centerOffset:Ee-de-ce,...X&&{alignmentOffset:ce}},reset:X}}}),YQ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:f,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:b,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...N}=Au(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const M=Ru(s),B=nc(u),U=Ru(u)===u,Y=await(f.isRTL==null?void 0:f.isRTL(m.floating)),W=b||(U||!C?[N1(u)]:BQ(u)),K=T!=="none";!b&&K&&W.push(...qQ(u,C,T,Y));const D=[u,...W],P=await f.detectOverflow(e,N),L=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(y&&L.push(P[M]),_){const Ee=VQ(s,l,Y);L.push(P[Ee[0]],P[Ee[1]])}if(V=[...V,{placement:s,overflows:L}],!L.every(Ee=>Ee<=0)){var q,J;const Ee=(((q=a.flip)==null?void 0:q.index)||0)+1,de=D[Ee];if(de&&(!(_==="alignment"?B!==nc(de):!1)||V.every(se=>nc(se.placement)===B?se.overflows[0]>0:!0)))return{data:{index:Ee,overflows:V},reset:{placement:de}};let X=(J=V.filter(ce=>ce.overflows[0]<=0).sort((ce,se)=>ce.overflows[1]-se.overflows[1])[0])==null?void 0:J.placement;if(!X)switch(E){case"bestFit":{var $;const ce=($=V.filter(se=>{if(K){const Pe=nc(se.placement);return Pe===B||Pe==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(Pe=>Pe>0).reduce((Pe,_e)=>Pe+_e,0)]).sort((se,Pe)=>se[1]-Pe[1])[0])==null?void 0:$[0];ce&&(X=ce);break}case"initialPlacement":X=u;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function EO(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function TO(n){return PQ.some(e=>n[e]>=0)}const KQ=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:r}=e,{strategy:s="referenceHidden",...a}=Au(n,e);switch(s){case"referenceHidden":{const l=await r.detectOverflow(e,{...a,elementContext:"reference"}),u=EO(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:TO(u)}}}case"escaped":{const l=await r.detectOverflow(e,{...a,altBoundary:!0}),u=EO(l,t.floating);return{data:{escapedOffsets:u,escaped:TO(u)}}}default:return{}}}}},d4=new Set(["left","top"]);async function QQ(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Ru(t),u=Wy(t),f=nc(t)==="y",m=d4.has(l)?-1:1,y=a&&f?-1:1,_=Au(e,n);let{mainAxis:b,crossAxis:E,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return u&&typeof T=="number"&&(E=u==="end"?T*-1:T),f?{x:E*y,y:b*m}:{x:b*m,y:E*y}}const JQ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:l,middlewareData:u}=e,f=await QQ(e,n);return l===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:l}}}}},XQ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s,platform:a}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:B,y:U}=M;return{x:B,y:U}}},...m}=Au(n,e),y={x:t,y:r},_=await a.detectOverflow(e,m),b=nc(Ru(s)),E=PR(b);let T=y[E],C=y[b];if(l){const M=E==="y"?"top":"left",B=E==="y"?"bottom":"right",U=T+_[M],Y=T-_[B];T=qC(U,T,Y)}if(u){const M=b==="y"?"top":"left",B=b==="y"?"bottom":"right",U=C+_[M],Y=C-_[B];C=qC(U,C,Y)}const N=f.fn({...e,[E]:T,[b]:C});return{...N,data:{x:N.x-t,y:N.y-r,enabled:{[E]:l,[b]:u}}}}}},ZQ=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:m=!0}=Au(n,e),y={x:t,y:r},_=nc(s),b=PR(_);let E=y[b],T=y[_];const C=Au(u,e),N=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(f){const U=b==="y"?"height":"width",Y=a.reference[b]-a.floating[U]+N.mainAxis,W=a.reference[b]+a.reference[U]-N.mainAxis;E<Y?E=Y:E>W&&(E=W)}if(m){var M,B;const U=b==="y"?"width":"height",Y=d4.has(Ru(s)),W=a.reference[_]-a.floating[U]+(Y&&((M=l.offset)==null?void 0:M[_])||0)+(Y?0:N.crossAxis),K=a.reference[_]+a.reference[U]+(Y?0:((B=l.offset)==null?void 0:B[_])||0)-(Y?N.crossAxis:0);T<W?T=W:T>K&&(T=K)}return{[b]:E,[_]:T}}}},eJ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:f=()=>{},...m}=Au(n,e),y=await l.detectOverflow(e,m),_=Ru(s),b=Wy(s),E=nc(s)==="y",{width:T,height:C}=a.floating;let N,M;_==="top"||_==="bottom"?(N=_,M=b===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(M=_,N=b==="end"?"top":"bottom");const B=C-y.top-y.bottom,U=T-y.left-y.right,Y=wf(C-y[N],B),W=wf(T-y[M],U),K=!e.middlewareData.shift;let D=Y,P=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=U),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(D=B),K&&!b){const V=Ta(y.left,0),q=Ta(y.right,0),J=Ta(y.top,0),$=Ta(y.bottom,0);E?P=T-2*(V!==0||q!==0?V+q:Ta(y.left,y.right)):D=C-2*(J!==0||$!==0?J+$:Ta(y.top,y.bottom))}await f({...e,availableWidth:P,availableHeight:D});const L=await l.getDimensions(u.floating);return T!==L.width||C!==L.height?{reset:{rects:!0}}:{}}}};function wS(){return typeof window<"u"}function Hy(n){return f4(n)?(n.nodeName||"").toLowerCase():"#document"}function Da(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function bc(n){var e;return(e=(f4(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function f4(n){return wS()?n instanceof Node||n instanceof Da(n).Node:!1}function ll(n){return wS()?n instanceof Element||n instanceof Da(n).Element:!1}function mc(n){return wS()?n instanceof HTMLElement||n instanceof Da(n).HTMLElement:!1}function CO(n){return!wS()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Da(n).ShadowRoot}const tJ=new Set(["inline","contents"]);function uw(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=cl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!tJ.has(s)}const nJ=new Set(["table","td","th"]);function rJ(n){return nJ.has(Hy(n))}const sJ=[":popover-open",":modal"];function xS(n){return sJ.some(e=>{try{return n.matches(e)}catch{return!1}})}const iJ=["transform","translate","scale","rotate","perspective"],aJ=["transform","translate","scale","rotate","perspective","filter"],oJ=["paint","layout","strict","content"];function LR(n){const e=VR(),t=ll(n)?cl(n):n;return iJ.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||aJ.some(r=>(t.willChange||"").includes(r))||oJ.some(r=>(t.contain||"").includes(r))}function lJ(n){let e=xf(n);for(;mc(e)&&!Ay(e);){if(LR(e))return e;if(xS(e))return null;e=xf(e)}return null}function VR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cJ=new Set(["html","body","#document"]);function Ay(n){return cJ.has(Hy(n))}function cl(n){return Da(n).getComputedStyle(n)}function SS(n){return ll(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function xf(n){if(Hy(n)==="html")return n;const e=n.assignedSlot||n.parentNode||CO(n)&&n.host||bc(n);return CO(e)?e.host:e}function h4(n){const e=xf(n);return Ay(e)?n.ownerDocument?n.ownerDocument.body:n.body:mc(e)&&uw(e)?e:h4(e)}function Lb(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=h4(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=Da(s);if(a){const u=HC(l);return e.concat(l,l.visualViewport||[],uw(s)?s:[],u&&t?Lb(u):[])}return e.concat(s,Lb(s,[],t))}function HC(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function m4(n){const e=cl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=mc(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=I1(t)!==a||I1(r)!==l;return u&&(t=a,r=l),{width:t,height:r,$:u}}function BR(n){return ll(n)?n:n.contextElement}function Qg(n){const e=BR(n);if(!mc(e))return cc(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=m4(e);let l=(a?I1(t.width):t.width)/r,u=(a?I1(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const uJ=cc(0);function p4(n){const e=Da(n);return!VR()||!e.visualViewport?uJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dJ(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Da(n)?!1:e}function Ym(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=BR(n);let l=cc(1);e&&(r?ll(r)&&(l=Qg(r)):l=Qg(n));const u=dJ(a,t,r)?p4(a):cc(0);let f=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,y=s.width/l.x,_=s.height/l.y;if(a){const b=Da(a),E=r&&ll(r)?Da(r):r;let T=b,C=HC(T);for(;C&&r&&E!==T;){const N=Qg(C),M=C.getBoundingClientRect(),B=cl(C),U=M.left+(C.clientLeft+parseFloat(B.paddingLeft))*N.x,Y=M.top+(C.clientTop+parseFloat(B.paddingTop))*N.y;f*=N.x,m*=N.y,y*=N.x,_*=N.y,f+=U,m+=Y,T=Da(C),C=HC(T)}}return k1({width:y,height:_,x:f,y:m})}function ES(n,e){const t=SS(n).scrollLeft;return e?e.left+t:Ym(bc(n)).left+t}function g4(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-ES(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function fJ(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",l=bc(r),u=e?xS(e.floating):!1;if(r===l||u&&a)return t;let f={scrollLeft:0,scrollTop:0},m=cc(1);const y=cc(0),_=mc(r);if((_||!_&&!a)&&((Hy(r)!=="body"||uw(l))&&(f=SS(r)),mc(r))){const E=Ym(r);m=Qg(r),y.x=E.x+r.clientLeft,y.y=E.y+r.clientTop}const b=l&&!_&&!a?g4(l,f):cc(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+y.x+b.x,y:t.y*m.y-f.scrollTop*m.y+y.y+b.y}}function hJ(n){return Array.from(n.getClientRects())}function mJ(n){const e=bc(n),t=SS(n),r=n.ownerDocument.body,s=Ta(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Ta(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+ES(n);const u=-t.scrollTop;return cl(r).direction==="rtl"&&(l+=Ta(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:u}}const AO=25;function pJ(n,e){const t=Da(n),r=bc(n),s=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,u=0,f=0;if(s){a=s.width,l=s.height;const y=VR();(!y||y&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}const m=ES(r);if(m<=0){const y=r.ownerDocument,_=y.body,b=getComputedStyle(_),E=y.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,T=Math.abs(r.clientWidth-_.clientWidth-E);T<=AO&&(a-=T)}else m<=AO&&(a+=m);return{width:a,height:l,x:u,y:f}}const gJ=new Set(["absolute","fixed"]);function yJ(n,e){const t=Ym(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=mc(n)?Qg(n):cc(1),l=n.clientWidth*a.x,u=n.clientHeight*a.y,f=s*a.x,m=r*a.y;return{width:l,height:u,x:f,y:m}}function RO(n,e,t){let r;if(e==="viewport")r=pJ(n,t);else if(e==="document")r=mJ(bc(n));else if(ll(e))r=yJ(e,t);else{const s=p4(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return k1(r)}function y4(n,e){const t=xf(n);return t===e||!ll(t)||Ay(t)?!1:cl(t).position==="fixed"||y4(t,e)}function vJ(n,e){const t=e.get(n);if(t)return t;let r=Lb(n,[],!1).filter(u=>ll(u)&&Hy(u)!=="body"),s=null;const a=cl(n).position==="fixed";let l=a?xf(n):n;for(;ll(l)&&!Ay(l);){const u=cl(l),f=LR(l);!f&&u.position==="fixed"&&(s=null),(a?!f&&!s:!f&&u.position==="static"&&!!s&&gJ.has(s.position)||uw(l)&&!f&&y4(n,l))?r=r.filter(y=>y!==l):s=u,l=xf(l)}return e.set(n,r),r}function _J(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?xS(e)?[]:vJ(e,this._c):[].concat(t),r],u=l[0],f=l.reduce((m,y)=>{const _=RO(e,y,s);return m.top=Ta(_.top,m.top),m.right=wf(_.right,m.right),m.bottom=wf(_.bottom,m.bottom),m.left=Ta(_.left,m.left),m},RO(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function bJ(n){const{width:e,height:t}=m4(n);return{width:e,height:t}}function wJ(n,e,t){const r=mc(e),s=bc(e),a=t==="fixed",l=Ym(n,!0,a,e);let u={scrollLeft:0,scrollTop:0};const f=cc(0);function m(){f.x=ES(s)}if(r||!r&&!a)if((Hy(e)!=="body"||uw(s))&&(u=SS(e)),r){const E=Ym(e,!0,a,e);f.x=E.x+e.clientLeft,f.y=E.y+e.clientTop}else s&&m();a&&!r&&s&&m();const y=s&&!r&&!a?g4(s,u):cc(0),_=l.left+u.scrollLeft-f.x-y.x,b=l.top+u.scrollTop-f.y-y.y;return{x:_,y:b,width:l.width,height:l.height}}function ST(n){return cl(n).position==="static"}function IO(n,e){if(!mc(n)||cl(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return bc(n)===t&&(t=t.ownerDocument.body),t}function v4(n,e){const t=Da(n);if(xS(n))return t;if(!mc(n)){let s=xf(n);for(;s&&!Ay(s);){if(ll(s)&&!ST(s))return s;s=xf(s)}return t}let r=IO(n,e);for(;r&&rJ(r)&&ST(r);)r=IO(r,e);return r&&Ay(r)&&ST(r)&&!LR(r)?t:r||lJ(n)||t}const xJ=async function(n){const e=this.getOffsetParent||v4,t=this.getDimensions,r=await t(n.floating);return{reference:wJ(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function SJ(n){return cl(n).direction==="rtl"}const EJ={convertOffsetParentRelativeRectToViewportRelativeRect:fJ,getDocumentElement:bc,getClippingRect:_J,getOffsetParent:v4,getElementRects:xJ,getClientRects:hJ,getDimensions:bJ,getScale:Qg,isElement:ll,isRTL:SJ};function _4(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function TJ(n,e){let t=null,r;const s=bc(n);function a(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:y,top:_,width:b,height:E}=m;if(u||e(),!b||!E)return;const T=_x(_),C=_x(s.clientWidth-(y+b)),N=_x(s.clientHeight-(_+E)),M=_x(y),U={rootMargin:-T+"px "+-C+"px "+-N+"px "+-M+"px",threshold:Ta(0,wf(1,f))||1};let Y=!0;function W(K){const D=K[0].intersectionRatio;if(D!==f){if(!Y)return l();D?l(!1,D):r=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!_4(m,n.getBoundingClientRect())&&l(),Y=!1}try{t=new IntersectionObserver(W,{...U,root:s.ownerDocument})}catch{t=new IntersectionObserver(W,U)}t.observe(n)}return l(!0),a}function CJ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=BR(n),y=s||a?[...m?Lb(m):[],...Lb(e)]:[];y.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),a&&M.addEventListener("resize",t)});const _=m&&u?TJ(m,t):null;let b=-1,E=null;l&&(E=new ResizeObserver(M=>{let[B]=M;B&&B.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var U;(U=E)==null||U.observe(e)})),t()}),m&&!f&&E.observe(m),E.observe(e));let T,C=f?Ym(n):null;f&&N();function N(){const M=Ym(n);C&&!_4(C,M)&&t(),C=M,T=requestAnimationFrame(N)}return t(),()=>{var M;y.forEach(B=>{s&&B.removeEventListener("scroll",t),a&&B.removeEventListener("resize",t)}),_==null||_(),(M=E)==null||M.disconnect(),E=null,f&&cancelAnimationFrame(T)}}const AJ=JQ,RJ=XQ,IJ=YQ,NJ=eJ,kJ=KQ,NO=GQ,OJ=ZQ,DJ=(n,e,t)=>{const r=new Map,s={platform:EJ,...t},a={...s.platform,_c:r};return $Q(n,e,{...s,platform:a})};var PJ=typeof document<"u",MJ=function(){},Bx=PJ?I.useLayoutEffect:MJ;function O1(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!O1(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!O1(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function b4(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kO(n,e){const t=b4(n);return Math.round(e*t)/t}function ET(n){const e=I.useRef(n);return Bx(()=>{e.current=n}),e}function jJ(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:f,open:m}=n,[y,_]=I.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,E]=I.useState(r);O1(b,r)||E(r);const[T,C]=I.useState(null),[N,M]=I.useState(null),B=I.useCallback(se=>{se!==K.current&&(K.current=se,C(se))},[]),U=I.useCallback(se=>{se!==D.current&&(D.current=se,M(se))},[]),Y=a||T,W=l||N,K=I.useRef(null),D=I.useRef(null),P=I.useRef(y),L=f!=null,V=ET(f),q=ET(s),J=ET(m),$=I.useCallback(()=>{if(!K.current||!D.current)return;const se={placement:e,strategy:t,middleware:b};q.current&&(se.platform=q.current),DJ(K.current,D.current,se).then(Pe=>{const _e={...Pe,isPositioned:J.current!==!1};Ee.current&&!O1(P.current,_e)&&(P.current=_e,ky.flushSync(()=>{_(_e)}))})},[b,e,t,q,J]);Bx(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,_(se=>({...se,isPositioned:!1})))},[m]);const Ee=I.useRef(!1);Bx(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Bx(()=>{if(Y&&(K.current=Y),W&&(D.current=W),Y&&W){if(V.current)return V.current(Y,W,$);$()}},[Y,W,$,V,L]);const de=I.useMemo(()=>({reference:K,floating:D,setReference:B,setFloating:U}),[B,U]),X=I.useMemo(()=>({reference:Y,floating:W}),[Y,W]),ce=I.useMemo(()=>{const se={position:t,left:0,top:0};if(!X.floating)return se;const Pe=kO(X.floating,y.x),_e=kO(X.floating,y.y);return u?{...se,transform:"translate("+Pe+"px, "+_e+"px)",...b4(X.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Pe,top:_e}},[t,u,X.floating,y.x,y.y]);return I.useMemo(()=>({...y,update:$,refs:de,elements:X,floatingStyles:ce}),[y,$,de,X,ce])}const LJ=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?NO({element:r.current,padding:s}).fn(t):{}:r?NO({element:r,padding:s}).fn(t):{}}}},VJ=(n,e)=>({...AJ(n),options:[n,e]}),BJ=(n,e)=>({...RJ(n),options:[n,e]}),UJ=(n,e)=>({...OJ(n),options:[n,e]}),FJ=(n,e)=>({...IJ(n),options:[n,e]}),zJ=(n,e)=>({...NJ(n),options:[n,e]}),qJ=(n,e)=>({...kJ(n),options:[n,e]}),WJ=(n,e)=>({...LJ(n),options:[n,e]});var HJ="Arrow",w4=I.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return g.jsx(Ut.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});w4.displayName=HJ;var $J=w4;function x4(n){const[e,t]=I.useState(void 0);return Os(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,u;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;l=m.inlineSize,u=m.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var UR="Popper",[S4,TS]=ku(UR),[GJ,E4]=S4(UR),T4=n=>{const{__scopePopper:e,children:t}=n,[r,s]=I.useState(null);return g.jsx(GJ,{scope:e,anchor:r,onAnchorChange:s,children:t})};T4.displayName=UR;var C4="PopperAnchor",A4=I.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=E4(C4,t),l=I.useRef(null),u=Sn(e,l),f=I.useRef(null);return I.useEffect(()=>{const m=f.current;f.current=(r==null?void 0:r.current)||l.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:g.jsx(Ut.div,{...s,ref:u})});A4.displayName=C4;var FR="PopperContent",[YJ,KJ]=S4(FR),R4=I.forwardRef((n,e)=>{var Ae,it,ct,yt,vt,_t;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:_="partial",hideWhenDetached:b=!1,updatePositionStrategy:E="optimized",onPlaced:T,...C}=n,N=E4(FR,t),[M,B]=I.useState(null),U=Sn(e,Wn=>B(Wn)),[Y,W]=I.useState(null),K=x4(Y),D=(K==null?void 0:K.width)??0,P=(K==null?void 0:K.height)??0,L=r+(a!=="center"?"-"+a:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},q=Array.isArray(m)?m:[m],J=q.length>0,$={padding:V,boundary:q.filter(JJ),altBoundary:J},{refs:Ee,floatingStyles:de,placement:X,isPositioned:ce,middlewareData:se}=jJ({strategy:"fixed",placement:L,whileElementsMounted:(...Wn)=>CJ(...Wn,{animationFrame:E==="always"}),elements:{reference:N.anchor},middleware:[VJ({mainAxis:s+P,alignmentAxis:l}),f&&BJ({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?UJ():void 0,...$}),f&&FJ({...$}),zJ({...$,apply:({elements:Wn,rects:Zt,availableWidth:pr,availableHeight:$r})=>{const{width:Nn,height:Ds}=Zt.reference,en=Wn.floating.style;en.setProperty("--radix-popper-available-width",`${pr}px`),en.setProperty("--radix-popper-available-height",`${$r}px`),en.setProperty("--radix-popper-anchor-width",`${Nn}px`),en.setProperty("--radix-popper-anchor-height",`${Ds}px`)}}),Y&&WJ({element:Y,padding:u}),XJ({arrowWidth:D,arrowHeight:P}),b&&qJ({strategy:"referenceHidden",...$})]}),[Pe,_e]=k4(X),Q=Si(T);Os(()=>{ce&&(Q==null||Q())},[ce,Q]);const ye=(Ae=se.arrow)==null?void 0:Ae.x,Ce=(it=se.arrow)==null?void 0:it.y,Ne=((ct=se.arrow)==null?void 0:ct.centerOffset)!==0,[Ue,nt]=I.useState();return Os(()=>{M&&nt(window.getComputedStyle(M).zIndex)},[M]),g.jsx("div",{ref:Ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:ce?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(yt=se.transformOrigin)==null?void 0:yt.x,(vt=se.transformOrigin)==null?void 0:vt.y].join(" "),...((_t=se.hide)==null?void 0:_t.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:g.jsx(YJ,{scope:t,placedSide:Pe,onArrowChange:W,arrowX:ye,arrowY:Ce,shouldHideArrow:Ne,children:g.jsx(Ut.div,{"data-side":Pe,"data-align":_e,...C,ref:U,style:{...C.style,animation:ce?void 0:"none"}})})})});R4.displayName=FR;var I4="PopperArrow",QJ={top:"bottom",right:"left",bottom:"top",left:"right"},N4=I.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=KJ(I4,r),l=QJ[a.placedSide];return g.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:g.jsx($J,{...s,ref:t,style:{...s.style,display:"block"}})})});N4.displayName=I4;function JJ(n){return n!==null}var XJ=n=>({name:"transformOrigin",options:n,fn(e){var N,M,B;const{placement:t,rects:r,middlewareData:s}=e,l=((N=s.arrow)==null?void 0:N.centerOffset)!==0,u=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[m,y]=k4(t),_={start:"0%",center:"50%",end:"100%"}[y],b=(((M=s.arrow)==null?void 0:M.x)??0)+u/2,E=(((B=s.arrow)==null?void 0:B.y)??0)+f/2;let T="",C="";return m==="bottom"?(T=l?_:`${b}px`,C=`${-f}px`):m==="top"?(T=l?_:`${b}px`,C=`${r.floating.height+f}px`):m==="right"?(T=`${-f}px`,C=l?_:`${E}px`):m==="left"&&(T=`${r.floating.width+f}px`,C=l?_:`${E}px`),{data:{x:T,y:C}}}});function k4(n){const[e,t="center"]=n.split("-");return[e,t]}var O4=T4,zR=A4,D4=R4,P4=N4,ZJ="Portal",CS=I.forwardRef((n,e)=>{var u;const{container:t,...r}=n,[s,a]=I.useState(!1);Os(()=>a(!0),[]);const l=t||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?T6.createPortal(g.jsx(Ut.div,{...r,ref:e}),l):null});CS.displayName=ZJ;function eX(n){const e=tX(n),t=I.forwardRef((r,s)=>{const{children:a,...l}=r,u=I.Children.toArray(a),f=u.find(rX);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function tX(n){const e=I.forwardRef((t,r)=>{const{children:s,...a}=t;if(I.isValidElement(s)){const l=iX(s),u=sX(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var nX=Symbol("radix.slottable");function rX(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===nX}function sX(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function iX(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var aX=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},kg=new WeakMap,bx=new WeakMap,wx={},TT=0,M4=function(n){return n&&(n.host||M4(n.parentNode))},oX=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=M4(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},lX=function(n,e,t,r){var s=oX(e,Array.isArray(n)?n:[n]);wx[t]||(wx[t]=new WeakMap);var a=wx[t],l=[],u=new Set,f=new Set(s),m=function(_){!_||u.has(_)||(u.add(_),m(_.parentNode))};s.forEach(m);var y=function(_){!_||f.has(_)||Array.prototype.forEach.call(_.children,function(b){if(u.has(b))y(b);else try{var E=b.getAttribute(r),T=E!==null&&E!=="false",C=(kg.get(b)||0)+1,N=(a.get(b)||0)+1;kg.set(b,C),a.set(b,N),l.push(b),C===1&&T&&bx.set(b,!0),N===1&&b.setAttribute(t,"true"),T||b.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",b,M)}})};return y(e),u.clear(),TT++,function(){l.forEach(function(_){var b=kg.get(_)-1,E=a.get(_)-1;kg.set(_,b),a.set(_,E),b||(bx.has(_)||_.removeAttribute(r),bx.delete(_)),E||_.removeAttribute(t)}),TT--,TT||(kg=new WeakMap,kg=new WeakMap,bx=new WeakMap,wx={})}},qR=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=aX(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),lX(r,s,t,"aria-hidden")):function(){return null}},ec=function(){return ec=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ec.apply(this,arguments)};function j4(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function cX(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Ux="right-scroll-bar-position",Fx="width-before-scroll-bar",uX="with-scroll-bars-hidden",dX="--removed-body-scroll-bar-size";function CT(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function fX(n,e){var t=I.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var hX=typeof window<"u"?I.useLayoutEffect:I.useEffect,OO=new WeakMap;function mX(n,e){var t=fX(null,function(r){return n.forEach(function(s){return CT(s,r)})});return hX(function(){var r=OO.get(t);if(r){var s=new Set(r),a=new Set(n),l=t.current;s.forEach(function(u){a.has(u)||CT(u,null)}),a.forEach(function(u){s.has(u)||CT(u,l)})}OO.set(t,n)},[n]),t}function pX(n){return n}function gX(n,e){e===void 0&&(e=pX);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(u){return a(u)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(a),l=t}var f=function(){var y=l;l=[],y.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(y){l.push(y),m()},filter:function(y){return l=l.filter(y),t}}}};return s}function yX(n){n===void 0&&(n={});var e=gX(null);return e.options=ec({async:!0,ssr:!1},n),e}var L4=function(n){var e=n.sideCar,t=j4(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,ec({},t))};L4.isSideCarExport=!0;function vX(n,e){return n.useMedium(e),L4}var V4=yX(),AT=function(){},AS=I.forwardRef(function(n,e){var t=I.useRef(null),r=I.useState({onScrollCapture:AT,onWheelCapture:AT,onTouchMoveCapture:AT}),s=r[0],a=r[1],l=n.forwardProps,u=n.children,f=n.className,m=n.removeScrollBar,y=n.enabled,_=n.shards,b=n.sideCar,E=n.noRelative,T=n.noIsolation,C=n.inert,N=n.allowPinchZoom,M=n.as,B=M===void 0?"div":M,U=n.gapMode,Y=j4(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=b,K=mX([t,e]),D=ec(ec({},Y),s);return I.createElement(I.Fragment,null,y&&I.createElement(W,{sideCar:V4,removeScrollBar:m,shards:_,noRelative:E,noIsolation:T,inert:C,setCallbacks:a,allowPinchZoom:!!N,lockRef:t,gapMode:U}),l?I.cloneElement(I.Children.only(u),ec(ec({},D),{ref:K})):I.createElement(B,ec({},D,{className:f,ref:K}),u))});AS.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};AS.classNames={fullWidth:Fx,zeroRight:Ux};var _X=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bX(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=_X();return e&&n.setAttribute("nonce",e),n}function wX(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function xX(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var SX=function(){var n=0,e=null;return{add:function(t){n==0&&(e=bX())&&(wX(e,t),xX(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EX=function(){var n=SX();return function(e,t){I.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},B4=function(){var n=EX(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},TX={left:0,top:0,right:0,gap:0},RT=function(n){return parseInt(n||"",10)||0},CX=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[RT(t),RT(r),RT(s)]},AX=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return TX;var e=CX(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},RX=B4(),Jg="data-scroll-locked",IX=function(n,e,t,r){var s=n.left,a=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(uX,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Jg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ux,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Fx,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ux," .").concat(Ux,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fx," .").concat(Fx,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jg,`] {
    `).concat(dX,": ").concat(u,`px;
  }
`)},DO=function(){var n=parseInt(document.body.getAttribute(Jg)||"0",10);return isFinite(n)?n:0},NX=function(){I.useEffect(function(){return document.body.setAttribute(Jg,(DO()+1).toString()),function(){var n=DO()-1;n<=0?document.body.removeAttribute(Jg):document.body.setAttribute(Jg,n.toString())}},[])},kX=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;NX();var a=I.useMemo(function(){return AX(s)},[s]);return I.createElement(RX,{styles:IX(a,!e,s,t?"":"!important")})},$C=!1;if(typeof window<"u")try{var xx=Object.defineProperty({},"passive",{get:function(){return $C=!0,!0}});window.addEventListener("test",xx,xx),window.removeEventListener("test",xx,xx)}catch{$C=!1}var Og=$C?{passive:!1}:!1,OX=function(n){return n.tagName==="TEXTAREA"},U4=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!OX(n)&&t[e]==="visible")},DX=function(n){return U4(n,"overflowY")},PX=function(n){return U4(n,"overflowX")},PO=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=F4(n,r);if(s){var a=z4(n,r),l=a[1],u=a[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},MX=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},jX=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},F4=function(n,e){return n==="v"?DX(e):PX(e)},z4=function(n,e){return n==="v"?MX(e):jX(e)},LX=function(n,e){return n==="h"&&e==="rtl"?-1:1},VX=function(n,e,t,r,s){var a=LX(n,window.getComputedStyle(e).direction),l=a*r,u=t.target,f=e.contains(u),m=!1,y=l>0,_=0,b=0;do{if(!u)break;var E=z4(n,u),T=E[0],C=E[1],N=E[2],M=C-N-a*T;(T||M)&&F4(n,u)&&(_+=M,b+=T);var B=u.parentNode;u=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(y&&Math.abs(_)<1||!y&&Math.abs(b)<1)&&(m=!0),m},Sx=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},MO=function(n){return[n.deltaX,n.deltaY]},jO=function(n){return n&&"current"in n?n.current:n},BX=function(n,e){return n[0]===e[0]&&n[1]===e[1]},UX=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},FX=0,Dg=[];function zX(n){var e=I.useRef([]),t=I.useRef([0,0]),r=I.useRef(),s=I.useState(FX++)[0],a=I.useState(B4)[0],l=I.useRef(n);I.useEffect(function(){l.current=n},[n]),I.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var C=cX([n.lockRef.current],(n.shards||[]).map(jO),!0).filter(Boolean);return C.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),C.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=I.useCallback(function(C,N){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!l.current.allowPinchZoom;var M=Sx(C),B=t.current,U="deltaX"in C?C.deltaX:B[0]-M[0],Y="deltaY"in C?C.deltaY:B[1]-M[1],W,K=C.target,D=Math.abs(U)>Math.abs(Y)?"h":"v";if("touches"in C&&D==="h"&&K.type==="range")return!1;var P=window.getSelection(),L=P&&P.anchorNode,V=L?L===K||L.contains(K):!1;if(V)return!1;var q=PO(D,K);if(!q)return!0;if(q?W=D:(W=D==="v"?"h":"v",q=PO(D,K)),!q)return!1;if(!r.current&&"changedTouches"in C&&(U||Y)&&(r.current=W),!W)return!0;var J=r.current||W;return VX(J,N,C,J==="h"?U:Y)},[]),f=I.useCallback(function(C){var N=C;if(!(!Dg.length||Dg[Dg.length-1]!==a)){var M="deltaY"in N?MO(N):Sx(N),B=e.current.filter(function(W){return W.name===N.type&&(W.target===N.target||N.target===W.shadowParent)&&BX(W.delta,M)})[0];if(B&&B.should){N.cancelable&&N.preventDefault();return}if(!B){var U=(l.current.shards||[]).map(jO).filter(Boolean).filter(function(W){return W.contains(N.target)}),Y=U.length>0?u(N,U[0]):!l.current.noIsolation;Y&&N.cancelable&&N.preventDefault()}}},[]),m=I.useCallback(function(C,N,M,B){var U={name:C,delta:N,target:M,should:B,shadowParent:qX(M)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(Y){return Y!==U})},1)},[]),y=I.useCallback(function(C){t.current=Sx(C),r.current=void 0},[]),_=I.useCallback(function(C){m(C.type,MO(C),C.target,u(C,n.lockRef.current))},[]),b=I.useCallback(function(C){m(C.type,Sx(C),C.target,u(C,n.lockRef.current))},[]);I.useEffect(function(){return Dg.push(a),n.setCallbacks({onScrollCapture:_,onWheelCapture:_,onTouchMoveCapture:b}),document.addEventListener("wheel",f,Og),document.addEventListener("touchmove",f,Og),document.addEventListener("touchstart",y,Og),function(){Dg=Dg.filter(function(C){return C!==a}),document.removeEventListener("wheel",f,Og),document.removeEventListener("touchmove",f,Og),document.removeEventListener("touchstart",y,Og)}},[]);var E=n.removeScrollBar,T=n.inert;return I.createElement(I.Fragment,null,T?I.createElement(a,{styles:UX(s)}):null,E?I.createElement(kX,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function qX(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const WX=vX(V4,zX);var RS=I.forwardRef(function(n,e){return I.createElement(AS,ec({},n,{ref:e,sideCar:WX}))});RS.classNames=AS.classNames;var IS="Popover",[q4]=ku(IS,[TS]),dw=TS(),[HX,Rf]=q4(IS),W4=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!1}=n,u=dw(e),f=I.useRef(null),[m,y]=I.useState(!1),[_,b]=Hm({prop:r,defaultProp:s??!1,onChange:a,caller:IS});return g.jsx(O4,{...u,children:g.jsx(HX,{scope:e,contentId:vu(),triggerRef:f,open:_,onOpenChange:b,onOpenToggle:I.useCallback(()=>b(E=>!E),[b]),hasCustomAnchor:m,onCustomAnchorAdd:I.useCallback(()=>y(!0),[]),onCustomAnchorRemove:I.useCallback(()=>y(!1),[]),modal:l,children:t})})};W4.displayName=IS;var H4="PopoverAnchor",$X=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Rf(H4,t),a=dw(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:u}=s;return I.useEffect(()=>(l(),()=>u()),[l,u]),g.jsx(zR,{...a,...r,ref:e})});$X.displayName=H4;var $4="PopoverTrigger",G4=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Rf($4,t),a=dw(t),l=Sn(e,s.triggerRef),u=g.jsx(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":X4(s.open),...r,ref:l,onClick:Ct(n.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:g.jsx(zR,{asChild:!0,...a,children:u})});G4.displayName=$4;var WR="PopoverPortal",[GX,YX]=q4(WR,{forceMount:void 0}),Y4=n=>{const{__scopePopover:e,forceMount:t,children:r,container:s}=n,a=Rf(WR,e);return g.jsx(GX,{scope:e,forceMount:t,children:g.jsx(mo,{present:t||a.open,children:g.jsx(CS,{asChild:!0,container:s,children:r})})})};Y4.displayName=WR;var Ry="PopoverContent",K4=I.forwardRef((n,e)=>{const t=YX(Ry,n.__scopePopover),{forceMount:r=t.forceMount,...s}=n,a=Rf(Ry,n.__scopePopover);return g.jsx(mo,{present:r||a.open,children:a.modal?g.jsx(QX,{...s,ref:e}):g.jsx(JX,{...s,ref:e})})});K4.displayName=Ry;var KX=eX("PopoverContent.RemoveScroll"),QX=I.forwardRef((n,e)=>{const t=Rf(Ry,n.__scopePopover),r=I.useRef(null),s=Sn(e,r),a=I.useRef(!1);return I.useEffect(()=>{const l=r.current;if(l)return qR(l)},[]),g.jsx(RS,{as:KX,allowPinchZoom:!0,children:g.jsx(Q4,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(n.onCloseAutoFocus,l=>{var u;l.preventDefault(),a.current||(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ct(n.onPointerDownOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,m=u.button===2||f;a.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:Ct(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),JX=I.forwardRef((n,e)=>{const t=Rf(Ry,n.__scopePopover),r=I.useRef(!1),s=I.useRef(!1);return g.jsx(Q4,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Q4=I.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:y,..._}=n,b=Rf(Ry,t),E=dw(t);return DR(),g.jsx(bS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:g.jsx(_S,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:y,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>b.onOpenChange(!1),children:g.jsx(D4,{"data-state":X4(b.open),role:"dialog",id:b.contentId,...E,..._,ref:e,style:{..._.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),J4="PopoverClose",XX=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Rf(J4,t);return g.jsx(Ut.button,{type:"button",...r,ref:e,onClick:Ct(n.onClick,()=>s.onOpenChange(!1))})});XX.displayName=J4;var ZX="PopoverArrow",eZ=I.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=dw(t);return g.jsx(P4,{...s,...r,ref:e})});eZ.displayName=ZX;function X4(n){return n?"open":"closed"}var tZ=W4,nZ=G4,rZ=Y4,sZ=K4;function iZ({...n}){return g.jsx(tZ,{"data-slot":"popover",...n})}function aZ({...n}){return g.jsx(nZ,{"data-slot":"popover-trigger",...n})}function oZ({className:n,align:e="center",sideOffset:t=4,...r}){return g.jsx(rZ,{children:g.jsx(sZ,{"data-slot":"popover-content",align:e,sideOffset:t,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}const lZ=wR("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ki({className:n,variant:e,asChild:t=!1,...r}){const s=t?rj:"span";return g.jsx(s,{"data-slot":"badge",className:Fe(lZ({variant:e}),n),...r})}function Z4(n){const e=I.useRef({value:n,previous:n});return I.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var NS="Checkbox",[cZ]=ku(NS),[uZ,HR]=cZ(NS);function dZ(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:a,form:l,name:u,onCheckedChange:f,required:m,value:y="on",internal_do_not_use_render:_}=n,[b,E]=Hm({prop:t,defaultProp:s??!1,onChange:f,caller:NS}),[T,C]=I.useState(null),[N,M]=I.useState(null),B=I.useRef(!1),U=T?!!l||!!T.closest("form"):!0,Y={checked:b,disabled:a,setChecked:E,control:T,setControl:C,name:u,form:l,value:y,hasConsumerStoppedPropagationRef:B,required:m,defaultChecked:ff(s)?!1:s,isFormControl:U,bubbleInput:N,setBubbleInput:M};return g.jsx(uZ,{scope:e,...Y,children:fZ(_)?_(Y):r})}var eL="CheckboxTrigger",tL=I.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:a,value:l,disabled:u,checked:f,required:m,setControl:y,setChecked:_,hasConsumerStoppedPropagationRef:b,isFormControl:E,bubbleInput:T}=HR(eL,n),C=Sn(s,y),N=I.useRef(f);return I.useEffect(()=>{const M=a==null?void 0:a.form;if(M){const B=()=>_(N.current);return M.addEventListener("reset",B),()=>M.removeEventListener("reset",B)}},[a,_]),g.jsx(Ut.button,{type:"button",role:"checkbox","aria-checked":ff(f)?"mixed":f,"aria-required":m,"data-state":oL(f),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:C,onKeyDown:Ct(e,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:Ct(t,M=>{_(B=>ff(B)?!0:!B),T&&E&&(b.current=M.isPropagationStopped(),b.current||M.stopPropagation())})})});tL.displayName=eL;var nL=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:a,required:l,disabled:u,value:f,onCheckedChange:m,form:y,..._}=n;return g.jsx(dZ,{__scopeCheckbox:t,checked:s,defaultChecked:a,disabled:u,required:l,onCheckedChange:m,name:r,form:y,value:f,internal_do_not_use_render:({isFormControl:b})=>g.jsxs(g.Fragment,{children:[g.jsx(tL,{..._,ref:e,__scopeCheckbox:t}),b&&g.jsx(aL,{__scopeCheckbox:t})]})})});nL.displayName=NS;var rL="CheckboxIndicator",sL=I.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,a=HR(rL,t);return g.jsx(mo,{present:r||ff(a.checked)||a.checked===!0,children:g.jsx(Ut.span,{"data-state":oL(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});sL.displayName=rL;var iL="CheckboxBubbleInput",aL=I.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:l,required:u,disabled:f,name:m,value:y,form:_,bubbleInput:b,setBubbleInput:E}=HR(iL,n),T=Sn(t,E),C=Z4(a),N=x4(r);I.useEffect(()=>{const B=b;if(!B)return;const U=window.HTMLInputElement.prototype,W=Object.getOwnPropertyDescriptor(U,"checked").set,K=!s.current;if(C!==a&&W){const D=new Event("click",{bubbles:K});B.indeterminate=ff(a),W.call(B,ff(a)?!1:a),B.dispatchEvent(D)}},[b,C,a,s]);const M=I.useRef(ff(a)?!1:a);return g.jsx(Ut.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??M.current,required:u,disabled:f,name:m,value:y,form:_,...e,tabIndex:-1,ref:T,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aL.displayName=iL;function fZ(n){return typeof n=="function"}function ff(n){return n==="indeterminate"}function oL(n){return ff(n)?"indeterminate":n?"checked":"unchecked"}function lL({className:n,...e}){return g.jsx(nL,{"data-slot":"checkbox",className:Fe("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:g.jsx(sL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:g.jsx(vM,{className:"size-3.5"})})})}function hZ(n){const e=mZ(n),t=I.forwardRef((r,s)=>{const{children:a,...l}=r,u=I.Children.toArray(a),f=u.find(gZ);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function mZ(n){const e=I.forwardRef((t,r)=>{const{children:s,...a}=t;if(I.isValidElement(s)){const l=vZ(s),u=yZ(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var pZ=Symbol("radix.slottable");function gZ(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===pZ}function yZ(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function vZ(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var cL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_Z="VisuallyHidden",bZ=I.forwardRef((n,e)=>g.jsx(Ut.span,{...n,ref:e,style:{...cL,...n.style}}));bZ.displayName=_Z;var wZ=[" ","Enter","ArrowUp","ArrowDown"],xZ=[" ","Enter"],Km="Select",[kS,OS,SZ]=ij(Km),[$y]=ku(Km,[SZ,TS]),DS=TS(),[EZ,If]=$y(Km),[TZ,CZ]=$y(Km),uL=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:u,onValueChange:f,dir:m,name:y,autoComplete:_,disabled:b,required:E,form:T}=n,C=DS(e),[N,M]=I.useState(null),[B,U]=I.useState(null),[Y,W]=I.useState(!1),K=dS(m),[D,P]=Hm({prop:r,defaultProp:s??!1,onChange:a,caller:Km}),[L,V]=Hm({prop:l,defaultProp:u,onChange:f,caller:Km}),q=I.useRef(null),J=N?T||!!N.closest("form"):!0,[$,Ee]=I.useState(new Set),de=Array.from($).map(X=>X.props.value).join(";");return g.jsx(O4,{...C,children:g.jsxs(EZ,{required:E,scope:e,trigger:N,onTriggerChange:M,valueNode:B,onValueNodeChange:U,valueNodeHasChildren:Y,onValueNodeHasChildrenChange:W,contentId:vu(),value:L,onValueChange:V,open:D,onOpenChange:P,dir:K,triggerPointerDownPosRef:q,disabled:b,children:[g.jsx(kS.Provider,{scope:e,children:g.jsx(TZ,{scope:n.__scopeSelect,onNativeOptionAdd:I.useCallback(X=>{Ee(ce=>new Set(ce).add(X))},[]),onNativeOptionRemove:I.useCallback(X=>{Ee(ce=>{const se=new Set(ce);return se.delete(X),se})},[]),children:t})}),J?g.jsxs(OL,{"aria-hidden":!0,required:E,tabIndex:-1,name:y,autoComplete:_,value:L,onChange:X=>V(X.target.value),disabled:b,form:T,children:[L===void 0?g.jsx("option",{value:""}):null,Array.from($)]},de):null]})})};uL.displayName=Km;var dL="SelectTrigger",fL=I.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,a=DS(t),l=If(dL,t),u=l.disabled||r,f=Sn(e,l.onTriggerChange),m=OS(t),y=I.useRef("touch"),[_,b,E]=PL(C=>{const N=m().filter(U=>!U.disabled),M=N.find(U=>U.value===l.value),B=ML(N,C,M);B!==void 0&&l.onValueChange(B.value)}),T=C=>{u||(l.onOpenChange(!0),E()),C&&(l.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return g.jsx(zR,{asChild:!0,...a,children:g.jsx(Ut.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":DL(l.value)?"":void 0,...s,ref:f,onClick:Ct(s.onClick,C=>{C.currentTarget.focus(),y.current!=="mouse"&&T(C)}),onPointerDown:Ct(s.onPointerDown,C=>{y.current=C.pointerType;const N=C.target;N.hasPointerCapture(C.pointerId)&&N.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(T(C),C.preventDefault())}),onKeyDown:Ct(s.onKeyDown,C=>{const N=_.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&b(C.key),!(N&&C.key===" ")&&wZ.includes(C.key)&&(T(),C.preventDefault())})})})});fL.displayName=dL;var hL="SelectValue",mL=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:a,placeholder:l="",...u}=n,f=If(hL,t),{onValueNodeHasChildrenChange:m}=f,y=a!==void 0,_=Sn(e,f.onValueNodeChange);return Os(()=>{m(y)},[m,y]),g.jsx(Ut.span,{...u,ref:_,style:{pointerEvents:"none"},children:DL(f.value)?g.jsx(g.Fragment,{children:l}):a})});mL.displayName=hL;var AZ="SelectIcon",pL=I.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return g.jsx(Ut.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});pL.displayName=AZ;var RZ="SelectPortal",gL=n=>g.jsx(CS,{asChild:!0,...n});gL.displayName=RZ;var Qm="SelectContent",yL=I.forwardRef((n,e)=>{const t=If(Qm,n.__scopeSelect),[r,s]=I.useState();if(Os(()=>{s(new DocumentFragment)},[]),!t.open){const a=r;return a?ky.createPortal(g.jsx(vL,{scope:n.__scopeSelect,children:g.jsx(kS.Slot,{scope:n.__scopeSelect,children:g.jsx("div",{children:n.children})})}),a):null}return g.jsx(_L,{...n,ref:e})});yL.displayName=Qm;var Ko=10,[vL,Nf]=$y(Qm),IZ="SelectContentImpl",NZ=hZ("SelectContent.RemoveScroll"),_L=I.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:u,sideOffset:f,align:m,alignOffset:y,arrowPadding:_,collisionBoundary:b,collisionPadding:E,sticky:T,hideWhenDetached:C,avoidCollisions:N,...M}=n,B=If(Qm,t),[U,Y]=I.useState(null),[W,K]=I.useState(null),D=Sn(e,Ae=>Y(Ae)),[P,L]=I.useState(null),[V,q]=I.useState(null),J=OS(t),[$,Ee]=I.useState(!1),de=I.useRef(!1);I.useEffect(()=>{if(U)return qR(U)},[U]),DR();const X=I.useCallback(Ae=>{const[it,...ct]=J().map(_t=>_t.ref.current),[yt]=ct.slice(-1),vt=document.activeElement;for(const _t of Ae)if(_t===vt||(_t==null||_t.scrollIntoView({block:"nearest"}),_t===it&&W&&(W.scrollTop=0),_t===yt&&W&&(W.scrollTop=W.scrollHeight),_t==null||_t.focus(),document.activeElement!==vt))return},[J,W]),ce=I.useCallback(()=>X([P,U]),[X,P,U]);I.useEffect(()=>{$&&ce()},[$,ce]);const{onOpenChange:se,triggerPointerDownPosRef:Pe}=B;I.useEffect(()=>{if(U){let Ae={x:0,y:0};const it=yt=>{var vt,_t;Ae={x:Math.abs(Math.round(yt.pageX)-(((vt=Pe.current)==null?void 0:vt.x)??0)),y:Math.abs(Math.round(yt.pageY)-(((_t=Pe.current)==null?void 0:_t.y)??0))}},ct=yt=>{Ae.x<=10&&Ae.y<=10?yt.preventDefault():U.contains(yt.target)||se(!1),document.removeEventListener("pointermove",it),Pe.current=null};return Pe.current!==null&&(document.addEventListener("pointermove",it),document.addEventListener("pointerup",ct,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",ct,{capture:!0})}}},[U,se,Pe]),I.useEffect(()=>{const Ae=()=>se(!1);return window.addEventListener("blur",Ae),window.addEventListener("resize",Ae),()=>{window.removeEventListener("blur",Ae),window.removeEventListener("resize",Ae)}},[se]);const[_e,Q]=PL(Ae=>{const it=J().filter(vt=>!vt.disabled),ct=it.find(vt=>vt.ref.current===document.activeElement),yt=ML(it,Ae,ct);yt&&setTimeout(()=>yt.ref.current.focus())}),ye=I.useCallback((Ae,it,ct)=>{const yt=!de.current&&!ct;(B.value!==void 0&&B.value===it||yt)&&(L(Ae),yt&&(de.current=!0))},[B.value]),Ce=I.useCallback(()=>U==null?void 0:U.focus(),[U]),Ne=I.useCallback((Ae,it,ct)=>{const yt=!de.current&&!ct;(B.value!==void 0&&B.value===it||yt)&&q(Ae)},[B.value]),Ue=r==="popper"?GC:bL,nt=Ue===GC?{side:u,sideOffset:f,align:m,alignOffset:y,arrowPadding:_,collisionBoundary:b,collisionPadding:E,sticky:T,hideWhenDetached:C,avoidCollisions:N}:{};return g.jsx(vL,{scope:t,content:U,viewport:W,onViewportChange:K,itemRefCallback:ye,selectedItem:P,onItemLeave:Ce,itemTextRefCallback:Ne,focusSelectedItem:ce,selectedItemText:V,position:r,isPositioned:$,searchRef:_e,children:g.jsx(RS,{as:NZ,allowPinchZoom:!0,children:g.jsx(bS,{asChild:!0,trapped:B.open,onMountAutoFocus:Ae=>{Ae.preventDefault()},onUnmountAutoFocus:Ct(s,Ae=>{var it;(it=B.trigger)==null||it.focus({preventScroll:!0}),Ae.preventDefault()}),children:g.jsx(_S,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:Ae=>Ae.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:g.jsx(Ue,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:Ae=>Ae.preventDefault(),...M,...nt,onPlaced:()=>Ee(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:Ct(M.onKeyDown,Ae=>{const it=Ae.ctrlKey||Ae.altKey||Ae.metaKey;if(Ae.key==="Tab"&&Ae.preventDefault(),!it&&Ae.key.length===1&&Q(Ae.key),["ArrowUp","ArrowDown","Home","End"].includes(Ae.key)){let yt=J().filter(vt=>!vt.disabled).map(vt=>vt.ref.current);if(["ArrowUp","End"].includes(Ae.key)&&(yt=yt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ae.key)){const vt=Ae.target,_t=yt.indexOf(vt);yt=yt.slice(_t+1)}setTimeout(()=>X(yt)),Ae.preventDefault()}})})})})})})});_L.displayName=IZ;var kZ="SelectItemAlignedPosition",bL=I.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,a=If(Qm,t),l=Nf(Qm,t),[u,f]=I.useState(null),[m,y]=I.useState(null),_=Sn(e,D=>y(D)),b=OS(t),E=I.useRef(!1),T=I.useRef(!0),{viewport:C,selectedItem:N,selectedItemText:M,focusSelectedItem:B}=l,U=I.useCallback(()=>{if(a.trigger&&a.valueNode&&u&&m&&C&&N&&M){const D=a.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),L=a.valueNode.getBoundingClientRect(),V=M.getBoundingClientRect();if(a.dir!=="rtl"){const vt=V.left-P.left,_t=L.left-vt,Wn=D.left-_t,Zt=D.width+Wn,pr=Math.max(Zt,P.width),$r=window.innerWidth-Ko,Nn=kC(_t,[Ko,Math.max(Ko,$r-pr)]);u.style.minWidth=Zt+"px",u.style.left=Nn+"px"}else{const vt=P.right-V.right,_t=window.innerWidth-L.right-vt,Wn=window.innerWidth-D.right-_t,Zt=D.width+Wn,pr=Math.max(Zt,P.width),$r=window.innerWidth-Ko,Nn=kC(_t,[Ko,Math.max(Ko,$r-pr)]);u.style.minWidth=Zt+"px",u.style.right=Nn+"px"}const q=b(),J=window.innerHeight-Ko*2,$=C.scrollHeight,Ee=window.getComputedStyle(m),de=parseInt(Ee.borderTopWidth,10),X=parseInt(Ee.paddingTop,10),ce=parseInt(Ee.borderBottomWidth,10),se=parseInt(Ee.paddingBottom,10),Pe=de+X+$+se+ce,_e=Math.min(N.offsetHeight*5,Pe),Q=window.getComputedStyle(C),ye=parseInt(Q.paddingTop,10),Ce=parseInt(Q.paddingBottom,10),Ne=D.top+D.height/2-Ko,Ue=J-Ne,nt=N.offsetHeight/2,Ae=N.offsetTop+nt,it=de+X+Ae,ct=Pe-it;if(it<=Ne){const vt=q.length>0&&N===q[q.length-1].ref.current;u.style.bottom="0px";const _t=m.clientHeight-C.offsetTop-C.offsetHeight,Wn=Math.max(Ue,nt+(vt?Ce:0)+_t+ce),Zt=it+Wn;u.style.height=Zt+"px"}else{const vt=q.length>0&&N===q[0].ref.current;u.style.top="0px";const Wn=Math.max(Ne,de+C.offsetTop+(vt?ye:0)+nt)+ct;u.style.height=Wn+"px",C.scrollTop=it-Ne+C.offsetTop}u.style.margin=`${Ko}px 0`,u.style.minHeight=_e+"px",u.style.maxHeight=J+"px",r==null||r(),requestAnimationFrame(()=>E.current=!0)}},[b,a.trigger,a.valueNode,u,m,C,N,M,a.dir,r]);Os(()=>U(),[U]);const[Y,W]=I.useState();Os(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const K=I.useCallback(D=>{D&&T.current===!0&&(U(),B==null||B(),T.current=!1)},[U,B]);return g.jsx(DZ,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:E,onScrollButtonChange:K,children:g.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Y},children:g.jsx(Ut.div,{...s,ref:_,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});bL.displayName=kZ;var OZ="SelectPopperPosition",GC=I.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=Ko,...a}=n,l=DS(t);return g.jsx(D4,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});GC.displayName=OZ;var[DZ,$R]=$y(Qm,{}),YC="SelectViewport",wL=I.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,a=Nf(YC,t),l=$R(YC,t),u=Sn(e,a.onViewportChange),f=I.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(kS.Slot,{scope:t,children:g.jsx(Ut.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ct(s.onScroll,m=>{const y=m.currentTarget,{contentWrapper:_,shouldExpandOnScrollRef:b}=l;if(b!=null&&b.current&&_){const E=Math.abs(f.current-y.scrollTop);if(E>0){const T=window.innerHeight-Ko*2,C=parseFloat(_.style.minHeight),N=parseFloat(_.style.height),M=Math.max(C,N);if(M<T){const B=M+E,U=Math.min(T,B),Y=B-U;_.style.height=U+"px",_.style.bottom==="0px"&&(y.scrollTop=Y>0?Y:0,_.style.justifyContent="flex-end")}}}f.current=y.scrollTop})})})]})});wL.displayName=YC;var xL="SelectGroup",[PZ,MZ]=$y(xL),jZ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=vu();return g.jsx(PZ,{scope:t,id:s,children:g.jsx(Ut.div,{role:"group","aria-labelledby":s,...r,ref:e})})});jZ.displayName=xL;var SL="SelectLabel",LZ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=MZ(SL,t);return g.jsx(Ut.div,{id:s.id,...r,ref:e})});LZ.displayName=SL;var D1="SelectItem",[VZ,EL]=$y(D1),TL=I.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:a,...l}=n,u=If(D1,t),f=Nf(D1,t),m=u.value===r,[y,_]=I.useState(a??""),[b,E]=I.useState(!1),T=Sn(e,B=>{var U;return(U=f.itemRefCallback)==null?void 0:U.call(f,B,r,s)}),C=vu(),N=I.useRef("touch"),M=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(VZ,{scope:t,value:r,disabled:s,textId:C,isSelected:m,onItemTextChange:I.useCallback(B=>{_(U=>U||((B==null?void 0:B.textContent)??"").trim())},[]),children:g.jsx(kS.ItemSlot,{scope:t,value:r,disabled:s,textValue:y,children:g.jsx(Ut.div,{role:"option","aria-labelledby":C,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:T,onFocus:Ct(l.onFocus,()=>E(!0)),onBlur:Ct(l.onBlur,()=>E(!1)),onClick:Ct(l.onClick,()=>{N.current!=="mouse"&&M()}),onPointerUp:Ct(l.onPointerUp,()=>{N.current==="mouse"&&M()}),onPointerDown:Ct(l.onPointerDown,B=>{N.current=B.pointerType}),onPointerMove:Ct(l.onPointerMove,B=>{var U;N.current=B.pointerType,s?(U=f.onItemLeave)==null||U.call(f):N.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ct(l.onPointerLeave,B=>{var U;B.currentTarget===document.activeElement&&((U=f.onItemLeave)==null||U.call(f))}),onKeyDown:Ct(l.onKeyDown,B=>{var Y;((Y=f.searchRef)==null?void 0:Y.current)!==""&&B.key===" "||(xZ.includes(B.key)&&M(),B.key===" "&&B.preventDefault())})})})})});TL.displayName=D1;var ab="SelectItemText",CL=I.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...a}=n,l=If(ab,t),u=Nf(ab,t),f=EL(ab,t),m=CZ(ab,t),[y,_]=I.useState(null),b=Sn(e,M=>_(M),f.onItemTextChange,M=>{var B;return(B=u.itemTextRefCallback)==null?void 0:B.call(u,M,f.value,f.disabled)}),E=y==null?void 0:y.textContent,T=I.useMemo(()=>g.jsx("option",{value:f.value,disabled:f.disabled,children:E},f.value),[f.disabled,f.value,E]),{onNativeOptionAdd:C,onNativeOptionRemove:N}=m;return Os(()=>(C(T),()=>N(T)),[C,N,T]),g.jsxs(g.Fragment,{children:[g.jsx(Ut.span,{id:f.textId,...a,ref:b}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?ky.createPortal(a.children,l.valueNode):null]})});CL.displayName=ab;var AL="SelectItemIndicator",RL=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return EL(AL,t).isSelected?g.jsx(Ut.span,{"aria-hidden":!0,...r,ref:e}):null});RL.displayName=AL;var KC="SelectScrollUpButton",IL=I.forwardRef((n,e)=>{const t=Nf(KC,n.__scopeSelect),r=$R(KC,n.__scopeSelect),[s,a]=I.useState(!1),l=Sn(e,r.onScrollButtonChange);return Os(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?g.jsx(kL,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});IL.displayName=KC;var QC="SelectScrollDownButton",NL=I.forwardRef((n,e)=>{const t=Nf(QC,n.__scopeSelect),r=$R(QC,n.__scopeSelect),[s,a]=I.useState(!1),l=Sn(e,r.onScrollButtonChange);return Os(()=>{if(t.viewport&&t.isPositioned){let u=function(){const m=f.scrollHeight-f.clientHeight,y=Math.ceil(f.scrollTop)<m;a(y)};const f=t.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?g.jsx(kL,{...n,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=t;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});NL.displayName=QC;var kL=I.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,a=Nf("SelectScrollButton",t),l=I.useRef(null),u=OS(t),f=I.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return I.useEffect(()=>()=>f(),[f]),Os(()=>{var y;const m=u().find(_=>_.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),g.jsx(Ut.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ct(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ct(s.onPointerMove,()=>{var m;(m=a.onItemLeave)==null||m.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ct(s.onPointerLeave,()=>{f()})})}),BZ="SelectSeparator",UZ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return g.jsx(Ut.div,{"aria-hidden":!0,...r,ref:e})});UZ.displayName=BZ;var JC="SelectArrow",FZ=I.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=DS(t),a=If(JC,t),l=Nf(JC,t);return a.open&&l.position==="popper"?g.jsx(P4,{...s,...r,ref:e}):null});FZ.displayName=JC;var zZ="SelectBubbleInput",OL=I.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=I.useRef(null),a=Sn(r,s),l=Z4(e);return I.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&y){const _=new Event("change",{bubbles:!0});y.call(u,e),u.dispatchEvent(_)}},[l,e]),g.jsx(Ut.select,{...t,style:{...cL,...t.style},ref:a,defaultValue:e})});OL.displayName=zZ;function DL(n){return n===""||n===void 0}function PL(n){const e=Si(n),t=I.useRef(""),r=I.useRef(0),s=I.useCallback(l=>{const u=t.current+l;e(u),(function f(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(u)},[e]),a=I.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,a]}function ML(n,e,t){const s=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=qZ(n,Math.max(a,0));s.length===1&&(l=l.filter(m=>m!==t));const f=l.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function qZ(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var WZ=uL,HZ=fL,$Z=mL,GZ=pL,YZ=gL,KZ=yL,QZ=wL,JZ=TL,XZ=CL,ZZ=RL,eee=IL,tee=NL;function Aa({id:n,onValueChange:e,...t}){const r=Mn(e,()=>({componentType:"select",eventType:"value-change",componentInfo:{id:n}}));return g.jsx(WZ,{"data-slot":"select",onValueChange:r,...t})}function Ra({...n}){return g.jsx($Z,{"data-slot":"select-value",...n})}function Ia({className:n,size:e="default",children:t,id:r,onClick:s,...a}){const l=Mn(s,()=>({componentType:"select-trigger",eventType:"click",componentInfo:{id:r}}));return g.jsxs(HZ,{"data-slot":"select-trigger","data-size":e,id:r,onClick:l,className:Fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...a,children:[t,g.jsx(GZ,{asChild:!0,children:g.jsx(dR,{className:"size-4 opacity-50"})})]})}function Na({className:n,children:e,position:t="popper",id:r,onCloseAutoFocus:s,onEscapeKeyDown:a,...l}){const u=Mn(s,()=>({componentType:"select-content",eventType:"close-autofocus",componentInfo:{id:r}})),f=Mn(a,()=>({componentType:"select-content",eventType:"escape-keydown",componentInfo:{id:r}}));return g.jsx(YZ,{children:g.jsxs(KZ,{"data-slot":"select-content",onCloseAutoFocus:u,onEscapeKeyDown:f,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...l,children:[g.jsx(nee,{}),g.jsx(QZ,{className:Fe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),g.jsx(ree,{})]})})}function Jn({className:n,children:e,id:t,onClick:r,...s}){const a=Mn(r,()=>({componentType:"select-item",eventType:"click",componentInfo:{id:t,value:s.value}}));return g.jsxs(JZ,{"data-slot":"select-item",id:t,onClick:a,className:Fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...s,children:[g.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:g.jsx(ZZ,{children:g.jsx(vM,{className:"size-4"})})}),g.jsx(XZ,{children:e})]})}function nee({className:n,...e}){return g.jsx(eee,{"data-slot":"select-scroll-up-button",className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(q8,{className:"size-4"})})}function ree({className:n,...e}){return g.jsx(tee,{"data-slot":"select-scroll-down-button",className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:g.jsx(dR,{className:"size-4"})})}function see(n){const e=iee(n),t=I.forwardRef((r,s)=>{const{children:a,...l}=r,u=I.Children.toArray(a),f=u.find(oee);if(f){const m=f.props.children,y=u.map(_=>_===f?I.Children.count(m)>1?I.Children.only(null):I.isValidElement(m)?m.props.children:null:_);return g.jsx(e,{...l,ref:s,children:I.isValidElement(m)?I.cloneElement(m,void 0,y):null})}return g.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function iee(n){const e=I.forwardRef((t,r)=>{const{children:s,...a}=t;if(I.isValidElement(s)){const l=cee(s),u=lee(a,s.props);return s.type!==I.Fragment&&(u.ref=r?sp(r,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var aee=Symbol("radix.slottable");function oee(n){return I.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===aee}function lee(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...u)=>{const f=a(...u);return s(...u),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function cee(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var PS="Dialog",[jL]=ku(PS),[uee,dl]=jL(PS),LL=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=n,u=I.useRef(null),f=I.useRef(null),[m,y]=Hm({prop:r,defaultProp:s??!1,onChange:a,caller:PS});return g.jsx(uee,{scope:e,triggerRef:u,contentRef:f,contentId:vu(),titleId:vu(),descriptionId:vu(),open:m,onOpenChange:y,onOpenToggle:I.useCallback(()=>y(_=>!_),[y]),modal:l,children:t})};LL.displayName=PS;var VL="DialogTrigger",BL=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=dl(VL,t),a=Sn(e,s.triggerRef);return g.jsx(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":KR(s.open),...r,ref:a,onClick:Ct(n.onClick,s.onOpenToggle)})});BL.displayName=VL;var GR="DialogPortal",[dee,UL]=jL(GR,{forceMount:void 0}),FL=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,a=dl(GR,e);return g.jsx(dee,{scope:e,forceMount:t,children:I.Children.map(r,l=>g.jsx(mo,{present:t||a.open,children:g.jsx(CS,{asChild:!0,container:s,children:l})}))})};FL.displayName=GR;var P1="DialogOverlay",zL=I.forwardRef((n,e)=>{const t=UL(P1,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=dl(P1,n.__scopeDialog);return a.modal?g.jsx(mo,{present:r||a.open,children:g.jsx(hee,{...s,ref:e})}):null});zL.displayName=P1;var fee=see("DialogOverlay.RemoveScroll"),hee=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=dl(P1,t);return g.jsx(RS,{as:fee,allowPinchZoom:!0,shards:[s.contentRef],children:g.jsx(Ut.div,{"data-state":KR(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Jm="DialogContent",qL=I.forwardRef((n,e)=>{const t=UL(Jm,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=dl(Jm,n.__scopeDialog);return g.jsx(mo,{present:r||a.open,children:a.modal?g.jsx(mee,{...s,ref:e}):g.jsx(pee,{...s,ref:e})})});qL.displayName=Jm;var mee=I.forwardRef((n,e)=>{const t=dl(Jm,n.__scopeDialog),r=I.useRef(null),s=Sn(e,t.contentRef,r);return I.useEffect(()=>{const a=r.current;if(a)return qR(a)},[]),g.jsx(WL,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ct(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ct(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&a.preventDefault()}),onFocusOutside:Ct(n.onFocusOutside,a=>a.preventDefault())})}),pee=I.forwardRef((n,e)=>{const t=dl(Jm,n.__scopeDialog),r=I.useRef(!1),s=I.useRef(!1);return g.jsx(WL,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),WL=I.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=n,u=dl(Jm,t),f=I.useRef(null),m=Sn(e,f);return DR(),g.jsxs(g.Fragment,{children:[g.jsx(bS,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:g.jsx(_S,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":KR(u.open),...l,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(gee,{titleId:u.titleId}),g.jsx(vee,{contentRef:f,descriptionId:u.descriptionId})]})]})}),YR="DialogTitle",HL=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=dl(YR,t);return g.jsx(Ut.h2,{id:s.titleId,...r,ref:e})});HL.displayName=YR;var $L="DialogDescription",GL=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=dl($L,t);return g.jsx(Ut.p,{id:s.descriptionId,...r,ref:e})});GL.displayName=$L;var YL="DialogClose",KL=I.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=dl(YL,t);return g.jsx(Ut.button,{type:"button",...r,ref:e,onClick:Ct(n.onClick,()=>s.onOpenChange(!1))})});KL.displayName=YL;function KR(n){return n?"open":"closed"}var QL="DialogTitleWarning",[Vte,JL]=O7(QL,{contentName:Jm,titleName:YR,docsSlug:"dialog"}),gee=({titleId:n})=>{const e=JL(QL),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},yee="DialogDescriptionWarning",vee=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${JL(yee).contentName}}.`;return I.useEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},XL=LL,_ee=BL,ZL=FL,e3=zL,t3=qL,n3=HL,r3=GL,s3=KL;function rl({...n}){return g.jsx(XL,{"data-slot":"dialog",...n})}function Gy({id:n,onClick:e,...t}){const r=Mn(e,()=>({componentType:"dialog-trigger",eventType:"click",componentInfo:{id:n}}));return g.jsx(_ee,{"data-slot":"dialog-trigger",id:n,onClick:r,...t})}function bee({...n}){return g.jsx(ZL,{"data-slot":"dialog-portal",...n})}function wee({id:n,onClick:e,...t}){const r=Mn(e,()=>({componentType:"dialog-close",eventType:"click",componentInfo:{id:n}}));return g.jsx(s3,{"data-slot":"dialog-close",id:n,onClick:r,...t})}function xee({className:n,...e}){return g.jsx(e3,{"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function sl({className:n,children:e,showCloseButton:t=!0,id:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}){const u=Mn(s,()=>({componentType:"dialog-content",eventType:"open-focus",componentInfo:{id:r}})),f=Mn(a,()=>({componentType:"dialog-content",eventType:"close-focus",componentInfo:{id:r}}));return g.jsxs(bee,{"data-slot":"dialog-portal",children:[g.jsx(xee,{}),g.jsxs(t3,{"data-slot":"dialog-content",id:r,onOpenAutoFocus:u,onCloseAutoFocus:f,className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...l,children:[e,t&&g.jsxs(wee,{"data-slot":"dialog-close",id:`${r}-close-button`,className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[g.jsx(fR,{}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function il({className:n,id:e,onClick:t,...r}){const s=Mn(t,()=>({componentType:"dialog-header",eventType:"click",componentInfo:{id:e}}));return g.jsx("div",{"data-slot":"dialog-header",id:e,onClick:s,className:Fe("flex flex-col gap-2 text-center sm:text-left",n),...r})}function pc({className:n,id:e,onClick:t,...r}){const s=Mn(t,()=>({componentType:"dialog-footer",eventType:"click",componentInfo:{id:e}}));return g.jsx("div",{"data-slot":"dialog-footer",id:e,onClick:s,className:Fe("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...r})}function al({className:n,id:e,...t}){return g.jsx(n3,{"data-slot":"dialog-title",id:e,className:Fe("text-lg leading-none font-semibold",n),...t})}function gc({className:n,id:e,...t}){return g.jsx(r3,{"data-slot":"dialog-description",id:e,className:Fe("text-muted-foreground text-sm",n),...t})}const See=wR("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Eee({className:n,variant:e,...t}){return g.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(See({variant:e}),n),...t})}function Tee({className:n,...e}){return g.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}const XC=[{value:"living_room",label:"Living Room"},{value:"bedroom",label:"Bedroom"},{value:"master_bedroom",label:"Master Bedroom"},{value:"kitchen",label:"Kitchen"},{value:"dining_room",label:"Dining Room"},{value:"bathroom",label:"Bathroom"},{value:"home_office",label:"Home Office"},{value:"garage",label:"Garage"},{value:"basement",label:"Basement"},{value:"attic",label:"Attic"},{value:"laundry_room",label:"Laundry Room"},{value:"kids_room",label:"Kids Room"},{value:"guest_room",label:"Guest Room"},{value:"storage",label:"Storage Area"},{value:"outdoor",label:"Outdoor/Patio"},{value:"other",label:"Other"}],i3=[{value:"furniture",label:"Furniture"},{value:"electronics",label:"Electronics"},{value:"appliances",label:"Appliances"},{value:"decor",label:"Decor"},{value:"storage",label:"Storage"},{value:"bedding",label:"Bedding"},{value:"kitchenware",label:"Kitchenware"},{value:"clothing",label:"Clothing"},{value:"books_media",label:"Books & Media"},{value:"sports_outdoor",label:"Sports & Outdoor"},{value:"fragile",label:"Fragile Items"},{value:"other",label:"Other"}];async function Cee(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(typeof r.result=="string"){const s=r.result.split(",")[1];e(s)}else t(new Error("Failed to read file as base64"))},r.onerror=()=>t(r.error),r.readAsDataURL(n)})}function Aee(n){return n.split(",")[1]}async function Ree(n,e){const t="AIzaSyBQBn0DxrGy_BQeoJMDYaZ7c6sAOf1hXcA",r=`You are an expert moving company inventory specialist. Analyze this image of a ${e} and identify all movable items that would need to be packed and transported during a home move.

For each item you identify, provide the following information in a valid JSON array format:
- name: The common name of the item
- category: One of these categories: "furniture", "electronics", "appliances", "decor", "storage", "bedding", "kitchenware", "clothing", "books_media", "sports_outdoor", "fragile", "other"
- quantity: How many of this item you can see (estimate if multiple similar items)
- description: Brief description if helpful
- estimatedSize: One of "small" (fits in a box), "medium" (needs 2 people), "large" (needs 3+ people), "extra-large" (may need special equipment)
- estimatedWeight: One of "light" (under 20 lbs), "medium" (20-50 lbs), "heavy" (over 50 lbs)
- fragile: true if the item is breakable or needs special care
- specialHandling: Any special notes for movers (e.g., "disassembly required", "keep upright", "temperature sensitive")

IMPORTANT: Return ONLY a valid JSON array with the items. No additional text, explanation, or markdown. Start with [ and end with ].

Example format:
[
  {
    "name": "Sofa",
    "category": "furniture",
    "quantity": 1,
    "description": "3-seater sectional sofa",
    "estimatedSize": "large",
    "estimatedWeight": "heavy",
    "fragile": false,
    "specialHandling": "may require disassembly for narrow doorways"
  }
]`,s=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${t}`,l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:r},{inline_data:{mime_type:"image/jpeg",data:n}}]}]})});if(!l.ok){const m=await l.text();throw new Error(`Gemini API error: ${l.status} - ${m}`)}const u=await l.json();if(!u.candidates||u.candidates.length===0||!u.candidates[0].content||!u.candidates[0].content.parts||u.candidates[0].content.parts.length===0)throw new Error("No response content from Gemini API");const f=u.candidates[0].content.parts[0].text;try{const m=f.replace(/```json\n|\n```/g,"").replace(/```/g,"").trim(),y=m.indexOf("["),_=m.lastIndexOf("]")+1;if(y===-1||_===0)throw new Error("No JSON array found in response");const b=m.substring(y,_);return JSON.parse(b).map((T,C)=>({...T,id:`item-${Date.now()}-${C}`}))}catch{throw console.error("Failed to parse Gemini response:",f),new Error("Failed to parse detected items from response")}}async function Iee(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?e(r.result):t(new Error("Failed to read file as data URL"))},r.onerror=()=>t(r.error),r.readAsDataURL(n)})}function Nee(){return ds({mutationFn:async({imageFile:n,imageUrl:e,roomType:t})=>{let r="";if(n)r=await Cee(n);else if(e)if(e.startsWith("data:"))r=Aee(e);else throw new Error("Remote URL analysis not implemented for client-side Gemini yet. Please upload a file.");if(!r)throw new Error("No image data available for analysis");return Ree(r,t)}})}function M1({onInventoryChange:n,initialRooms:e=[],readOnly:t=!1}){const[r,s]=I.useState(e),[a,l]=I.useState(!1),[u,f]=I.useState(null),m=T=>{const C=[...r,T];s(C),n==null||n(C),l(!1)},y=(T,C)=>{const N=[...r];N[T]=C,s(N),n==null||n(N)},_=T=>{const C=r.filter((N,M)=>M!==T);s(C),n==null||n(C),u===T&&f(null)},b=r.reduce((T,C)=>T+C.items.length,0),E=r.reduce((T,C)=>T+C.items.filter(N=>N.quantity>0).length,0);return g.jsxs("div",{className:"space-y-6",children:[g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs(Wr,{className:"flex items-center gap-2",children:[g.jsx(cS,{className:"h-5 w-5"}),"Room-by-Room Inventory"]}),g.jsx(Ti,{children:"Take photos of each room and our AI will identify items to be moved"})]}),g.jsxs($e,{onClick:()=>l(!0),disabled:t,className:t?"hidden":"",children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Add Room"]})]})}),g.jsx(Mr,{children:g.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("div",{className:"text-3xl font-bold",children:r.length}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"Rooms"})]}),g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("div",{className:"text-3xl font-bold",children:b}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"Items Detected"})]}),g.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[g.jsx("div",{className:"text-3xl font-bold",children:E}),g.jsx("div",{className:"text-sm text-muted-foreground",children:"Items Selected"})]})]})})]}),r.length===0?g.jsx(Pr,{children:g.jsxs(Mr,{className:"py-12 text-center",children:[g.jsx(yM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No rooms added yet"}),g.jsx("p",{className:"text-muted-foreground mb-4",children:t?"No inventory available for this quote.":"Start by adding a room and uploading a photo. Our AI will detect items automatically."}),!t&&g.jsxs($e,{onClick:()=>l(!0),children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Add Your First Room"]})]})}):g.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map((T,C)=>g.jsx(kee,{room:T,onEdit:()=>f(C),onDelete:()=>_(C),readOnly:t},`${T.roomName}-${C}`))}),g.jsx(Oee,{open:a,onOpenChange:l,onAdd:m}),u!==null&&g.jsx(Dee,{open:u!==null,onOpenChange:T=>!T&&f(null),room:r[u],onSave:T=>{y(u,T),f(null)}})]})}function kee({room:n,onEdit:e,onDelete:t,readOnly:r}){var l;const s=n.items.filter(u=>u.quantity>0),a=((l=XC.find(u=>u.value===n.roomType))==null?void 0:l.label)||n.roomType;return g.jsxs(Pr,{className:"overflow-hidden",children:[n.imageUrl&&g.jsxs("div",{className:"aspect-video bg-muted relative",children:[g.jsx("img",{src:n.imageUrl,alt:n.roomName,className:"w-full h-full object-cover"}),g.jsx(Ki,{className:"absolute top-2 right-2",variant:"secondary",children:a})]}),g.jsx(qr,{className:"pb-2",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx(Wr,{className:"text-lg",children:n.roomName}),!r&&g.jsxs("div",{className:"flex gap-1",children:[g.jsx($e,{variant:"ghost",size:"sm",onClick:e,children:g.jsx(SM,{className:"h-4 w-4"})}),g.jsx($e,{variant:"ghost",size:"sm",onClick:t,children:g.jsx(oc,{className:"h-4 w-4"})})]})]})}),g.jsxs(Mr,{children:[g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("span",{className:"text-muted-foreground",children:[s.length," of ",n.items.length," items selected"]}),!r&&g.jsx($e,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:e,children:"View Details"})]}),s.length>0&&g.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[s.slice(0,3).map(u=>g.jsx(Ki,{variant:"outline",className:"text-xs",children:u.name},u.id)),s.length>3&&g.jsxs(Ki,{variant:"outline",className:"text-xs",children:["+",s.length-3," more"]})]})]})]})}function Oee({open:n,onOpenChange:e,onAdd:t}){const[r,s]=I.useState(""),[a,l]=I.useState(""),[u,f]=I.useState(null),[m,y]=I.useState(null),[_,b]=I.useState([]),[E,T]=I.useState("upload"),[C,N]=I.useState(null),M=Nee(),B=async D=>{var L;const P=(L=D.target.files)==null?void 0:L[0];if(P){f(P);const V=await Iee(P);y(V),N(null)}},U=async()=>{if(!u||!a){N("Please select a room type and upload an image");return}T("analyzing"),N(null);try{const D=await M.mutateAsync({imageFile:u,roomType:a});b(D),T("select")}catch(D){N(D instanceof Error?D.message:"Failed to analyze image"),T("upload")}},Y=()=>{var L;const D=_.filter(V=>V.quantity>0),P={roomName:r||((L=XC.find(V=>V.value===a))==null?void 0:L.label)||"Room",roomType:a,imageUrl:m||void 0,items:D,totalItems:D.length,analyzedAt:new Date().toISOString()};t(P),W()},W=()=>{s(""),l(""),f(null),y(null),b([]),T("upload"),N(null)},K=()=>{W(),e(!1)};return g.jsx(rl,{open:n,onOpenChange:K,children:g.jsxs(sl,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[g.jsxs(il,{children:[g.jsxs(al,{className:"flex items-center gap-2",children:[E==="upload"&&g.jsxs(g.Fragment,{children:[g.jsx(yM,{className:"h-5 w-5"}),"Add Room"]}),E==="analyzing"&&g.jsxs(g.Fragment,{children:[g.jsx(yk,{className:"h-5 w-5"}),"Analyzing Image..."]}),E==="select"&&g.jsxs(g.Fragment,{children:[g.jsx(_M,{className:"h-5 w-5 text-green-500"}),"Select Items to Move"]})]}),g.jsxs(gc,{children:[E==="upload"&&"Upload a photo of the room and our AI will detect items",E==="analyzing"&&"Please wait while we identify items in your photo",E==="select"&&`Found ${_.length} items. Select the ones you want to move.`]})]}),C&&g.jsxs(Eee,{variant:"destructive",children:[g.jsx(v1,{className:"h-4 w-4"}),g.jsx(Tee,{children:C})]}),g.jsxs("div",{className:"flex-1 overflow-hidden",children:[E==="upload"&&g.jsxs("div",{className:"space-y-4 py-4",children:[g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"roomType",children:"Room Type"}),g.jsxs(Aa,{value:a,onValueChange:l,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select room type"})}),g.jsx(Na,{children:XC.map(D=>g.jsx(Jn,{value:D.value,children:D.label},D.value))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"roomName",children:"Room Name (Optional)"}),g.jsx(Jt,{id:"roomName",value:r,onChange:D=>s(D.target.value),placeholder:"e.g., Master Bedroom"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{children:"Room Photo"}),g.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:m?g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:m,alt:"Room preview",className:"max-h-64 mx-auto rounded-lg"}),g.jsx($e,{variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:()=>{f(null),y(null)},children:g.jsx(fR,{className:"h-4 w-4"})})]}):g.jsxs("label",{className:"cursor-pointer block",children:[g.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:B}),g.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[g.jsx(Y8,{className:"h-12 w-12"}),g.jsx("span",{className:"font-medium",children:"Click to upload a photo"}),g.jsx("span",{className:"text-sm",children:"or drag and drop"})]})]})})]})]}),E==="analyzing"&&g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(X8,{className:"h-12 w-12 animate-spin text-primary mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"Identifying items in your room..."}),g.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"This usually takes 10-30 seconds"})]}),E==="select"&&g.jsx(_R,{className:"h-[400px] pr-4",children:g.jsx(a3,{items:_,onItemsChange:b})})]}),g.jsxs(pc,{children:[E==="upload"&&g.jsxs(g.Fragment,{children:[g.jsx($e,{variant:"outline",onClick:K,children:"Cancel"}),g.jsxs($e,{onClick:U,disabled:!u||!a,children:[g.jsx(yk,{className:"h-4 w-4 mr-2"}),"Analyze Room"]})]}),E==="select"&&g.jsxs(g.Fragment,{children:[g.jsx($e,{variant:"outline",onClick:()=>T("upload"),children:"Back"}),g.jsxs($e,{onClick:Y,children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Add Room (",_.filter(D=>D.quantity>0).length," items)"]})]})]})]})})}function Dee({open:n,onOpenChange:e,room:t,onSave:r}){const[s,a]=I.useState(t.items),[l,u]=I.useState(!1),f=()=>{r({...t,items:s.filter(y=>y.quantity>0),totalItems:s.filter(y=>y.quantity>0).length})},m=y=>{a([...s,y]),u(!1)};return g.jsx(rl,{open:n,onOpenChange:e,children:g.jsxs(sl,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[g.jsxs(il,{children:[g.jsxs(al,{className:"flex items-center gap-2",children:[g.jsx(SM,{className:"h-5 w-5"}),"Edit ",t.roomName]}),g.jsx(gc,{children:"Review and modify the items detected in this room"})]}),g.jsxs("div",{className:"flex gap-4 flex-1 overflow-hidden",children:[t.imageUrl&&g.jsx("div",{className:"w-1/3 flex-shrink-0",children:g.jsx("img",{src:t.imageUrl,alt:t.roomName,className:"w-full rounded-lg object-cover"})}),g.jsx(_R,{className:"flex-1 pr-4",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("span",{className:"text-sm font-medium",children:[s.filter(y=>y.quantity>0).length," items selected"]}),g.jsxs($e,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Add Item Manually"]})]}),g.jsx(a3,{items:s,onItemsChange:a})]})})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),g.jsx($e,{onClick:f,children:"Save Changes"})]}),l&&g.jsx(Pee,{open:l,onOpenChange:u,onAdd:m})]})})}function a3({items:n,onItemsChange:e}){const t=l=>{e(n.map(u=>u.id===l?{...u,quantity:u.quantity>0?0:1}:u))},r=(l,u)=>{e(n.map(f=>f.id===l?{...f,quantity:Math.max(0,u)}:f))},s=l=>{e(n.filter(u=>u.id!==l))},a=n.reduce((l,u)=>{const f=u.category||"other";return l[f]||(l[f]=[]),l[f].push(u),l},{});return g.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([l,u])=>{var m;const f=((m=i3.find(y=>y.value===l))==null?void 0:m.label)||l;return g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium mb-2 capitalize",children:f}),g.jsx("div",{className:"space-y-2",children:u.map(y=>g.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${y.quantity>0?"bg-primary/5 border-primary/20":"bg-muted/50"}`,children:[g.jsx(lL,{checked:y.quantity>0,onCheckedChange:()=>t(y.id)}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium",children:y.name}),y.fragile&&g.jsx(Ki,{variant:"destructive",className:"text-xs",children:"Fragile"}),y.estimatedSize&&g.jsx(Ki,{variant:"outline",className:"text-xs capitalize",children:y.estimatedSize})]}),y.description&&g.jsx("p",{className:"text-sm text-muted-foreground truncate",children:y.description}),y.specialHandling&&g.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[g.jsx(v1,{className:"h-3 w-3 inline mr-1"}),y.specialHandling]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(lt,{htmlFor:`qty-${y.id}`,className:"text-sm text-muted-foreground",children:"Qty:"}),g.jsx(Jt,{id:`qty-${y.id}`,type:"number",min:"0",value:y.quantity,onChange:_=>r(y.id,parseInt(_.target.value)||0),className:"w-16 text-center"}),g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>s(y.id),children:g.jsx(oc,{className:"h-4 w-4"})})]})]},y.id))}),g.jsx(Db,{className:"mt-4"})]},l)})})}function Pee({open:n,onOpenChange:e,onAdd:t}){const[r,s]=I.useState(""),[a,l]=I.useState("other"),[u,f]=I.useState(1),[m,y]=I.useState("medium"),[_,b]=I.useState(!1),[E,T]=I.useState(""),C=()=>{const N={id:`manual-${Date.now()}`,name:r,category:a,quantity:u,estimatedSize:m,fragile:_,specialHandling:E||void 0};t(N),s(""),l("other"),f(1),y("medium"),b(!1),T("")};return g.jsx(rl,{open:n,onOpenChange:e,children:g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsxs(al,{className:"flex items-center gap-2",children:[g.jsx(k8,{className:"h-5 w-5"}),"Add Item Manually"]}),g.jsx(gc,{children:"Add an item that wasn't detected in the photo"})]}),g.jsxs("div",{className:"space-y-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"itemName",children:"Item Name"}),g.jsx(Jt,{id:"itemName",value:r,onChange:N=>s(N.target.value),placeholder:"e.g., Floor Lamp"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"category",children:"Category"}),g.jsxs(Aa,{value:a,onValueChange:l,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select category"})}),g.jsx(Na,{children:i3.map(N=>g.jsx(Jn,{value:N.value,children:N.label},N.value))})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"quantity",children:"Quantity"}),g.jsx(Jt,{id:"quantity",type:"number",min:"1",value:u,onChange:N=>f(parseInt(N.target.value)||1)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"size",children:"Estimated Size"}),g.jsxs(Aa,{value:m,onValueChange:N=>y(N),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select size"})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:"small",children:"Small (fits in a box)"}),g.jsx(Jn,{value:"medium",children:"Medium (needs 2 people)"}),g.jsx(Jn,{value:"large",children:"Large (needs 3+ people)"}),g.jsx(Jn,{value:"extra-large",children:"Extra Large (special equipment)"})]})]})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(lL,{id:"fragile",checked:_,onCheckedChange:N=>b(N===!0)}),g.jsx(lt,{htmlFor:"fragile",children:"This item is fragile"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"specialHandling",children:"Special Handling Notes (Optional)"}),g.jsx(Jt,{id:"specialHandling",value:E,onChange:N=>T(N.target.value),placeholder:"e.g., Keep upright, disassembly required"})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),g.jsx($e,{onClick:C,disabled:!r,children:"Add Item"})]})]})})}const im=class im{constructor(){mr(this,"collectionName","quotes")}static getInstance(){return im.instance||(im.instance=new im),im.instance}getCurrentTime(){return new Date().toISOString()}async insertQuote(e){const t=Me(De(ae,this.collectionName)),r=this.getCurrentTime(),s={...e,id:t.id,create_time:r,update_time:r,status:"PENDING"};return await Tr(t,s),s}async getQuotesByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async getQuoteById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?r.data():null}};mr(im,"instance",null);let ZC=im;const Mee=wu("/get-quote")({component:jee});function jee(){const[n,e]=I.useState("logistics"),[t,r]=I.useState(""),[s,a]=I.useState(""),[l,u]=I.useState(void 0),[f,m]=I.useState(""),[y,_]=I.useState(""),[b,E]=I.useState(""),[T,C]=I.useState(""),[N,M]=I.useState(""),[B,U]=I.useState(!1),[Y,W]=I.useState([]),K=Y.reduce((L,V)=>L+V.items.filter(q=>q.quantity>0).length,0),D=K*5;I.useEffect(()=>{(async()=>{const V=wy.getInstance(),q=await V.getCompanyByName("Swift Movers LLC");if(q.length>0)C(q[0].id);else{const J=await V.getAllCompany();J.length>0&&C(J[0].id)}})()},[]);const P=async()=>{if(!(!T||!l)){U(!0);try{const L=await ZC.getInstance().insertQuote({pickup_address:t,dropoff_address:s,move_date:l.toISOString(),inventory_items:Y,estimated_volume:D,estimated_price_min:450,estimated_price_max:600,customer_name:f,customer_email:y,customer_phone:b,company_id:T,status:"PENDING"});M(L.id),e("success")}catch(L){console.error("Failed to submit quote:",L),alert("Failed to submit quote. Please try again.")}finally{U(!1)}}};return g.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[g.jsx("header",{className:"bg-white border-b py-4",children:g.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[g.jsxs("div",{className:"font-bold text-xl text-primary flex items-center gap-2",children:[g.jsx(uS,{className:"h-6 w-6"}),"Swift Movers"]}),g.jsx(_b,{to:"/login",children:g.jsx($e,{variant:"ghost",children:"Login"})})]})}),g.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 max-w-4xl",children:[g.jsxs("div",{className:"mb-8 max-w-3xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between text-sm font-medium mb-2 text-muted-foreground",children:[g.jsx("span",{className:Fe(n==="logistics"||n==="inventory"||n==="review"?"text-primary":""),children:"1. Logistics"}),g.jsx("span",{className:Fe(n==="inventory"||n==="review"?"text-primary":""),children:"2. Inventory"}),g.jsx("span",{className:Fe(n==="review"?"text-primary":""),children:"3. Review & Book"})]}),g.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-in-out",style:{width:n==="logistics"?"33%":n==="inventory"?"66%":n==="review"?"90%":"100%"}})})]}),n==="logistics"&&g.jsxs(Pr,{className:"max-w-3xl mx-auto",children:[g.jsxs(qr,{children:[g.jsx(Wr,{children:"Where are you moving?"}),g.jsx(Ti,{children:"Enter your pickup and dropoff locations and select a date."})]}),g.jsxs(Mr,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"pickup",children:"Pickup Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(y1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Jt,{id:"pickup",placeholder:"123 Main St, City, State",className:"pl-9",value:t,onChange:L=>r(L.target.value)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"dropoff",children:"Dropoff Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(y1,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Jt,{id:"dropoff",placeholder:"456 New Home Ave, City, State",className:"pl-9",value:s,onChange:L=>a(L.target.value)})]})]}),g.jsxs("div",{className:"space-y-2 flex flex-col",children:[g.jsx(lt,{children:"Move Date"}),g.jsxs(iZ,{children:[g.jsx(aZ,{asChild:!0,children:g.jsxs($e,{variant:"outline",className:Fe("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[g.jsx(lS,{className:"mr-2 h-4 w-4"}),l?pb(l,"PPP"):g.jsx("span",{children:"Pick a date"})]})}),g.jsx(oZ,{className:"w-auto p-0",children:g.jsx(yQ,{mode:"single",selected:l,onSelect:u,initialFocus:!0})})]})]})]}),g.jsx(PC,{className:"flex justify-end",children:g.jsxs($e,{onClick:()=>e("inventory"),disabled:!t||!s||!l,children:["Next Step ",g.jsx(gk,{className:"ml-2 h-4 w-4"})]})})]}),n==="inventory"&&g.jsxs("div",{className:"space-y-6",children:[g.jsx(M1,{initialRooms:Y,onInventoryChange:W}),g.jsxs("div",{className:"flex justify-between bg-white p-4 rounded-lg border shadow-sm sticky bottom-4",children:[g.jsxs($e,{variant:"outline",onClick:()=>e("logistics"),children:[g.jsx(pk,{className:"mr-2 h-4 w-4"})," Back"]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"text-sm text-muted-foreground hidden sm:block",children:["Total Items: ",g.jsx("strong",{children:K})]}),g.jsxs($e,{onClick:()=>e("review"),children:["Next Step ",g.jsx(gk,{className:"ml-2 h-4 w-4"})]})]})]})]}),n==="review"&&g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[g.jsxs(Pr,{className:"h-fit",children:[g.jsxs(qr,{children:[g.jsx(Wr,{children:"Review Your Quote"}),g.jsx(Ti,{children:"Estimated move based on details provided."})]}),g.jsx(Mr,{className:"space-y-6",children:g.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"From"}),g.jsx("span",{className:"font-medium text-right",children:t})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"To"}),g.jsx("span",{className:"font-medium text-right",children:s})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"Date"}),g.jsx("span",{className:"font-medium",children:l?pb(l,"PPP"):""})]}),g.jsx(Db,{}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"Total Items"}),g.jsx("span",{className:"font-medium",children:K})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"Est. Volume"}),g.jsxs("span",{className:"font-medium",children:["~",D," cu. ft."]})]}),g.jsx(Db,{}),g.jsxs("div",{className:"pt-2",children:[g.jsx("div",{className:"text-sm font-medium mb-1",children:"Estimated Price Range"}),g.jsx("div",{className:"text-3xl font-bold text-primary",children:"$450 - $600"}),g.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Final price subject to verification"})]})]})})]}),g.jsxs(Pr,{children:[g.jsxs(qr,{children:[g.jsx(Wr,{children:"Finalize Request"}),g.jsx(Ti,{children:"Enter your contact details to receive this quote and book."})]}),g.jsxs(Mr,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"name",children:"Full Name"}),g.jsxs("div",{className:"relative",children:[g.jsx(EM,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Jt,{id:"name",placeholder:"John Doe",className:"pl-9",value:f,onChange:L=>m(L.target.value)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"email",children:"Email Address"}),g.jsxs("div",{className:"relative",children:[g.jsx(t7,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Jt,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-9",value:y,onChange:L=>_(L.target.value)})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"phone",children:"Phone Number"}),g.jsxs("div",{className:"relative",children:[g.jsx(i7,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),g.jsx(Jt,{id:"phone",type:"tel",placeholder:"(555) 123-4567",className:"pl-9",value:b,onChange:L=>E(L.target.value)})]})]}),g.jsxs("div",{className:"pt-4",children:[g.jsx($e,{size:"lg",className:"w-full",onClick:P,disabled:B||!f||!y||!b||!T,children:B?"Submitting...":"Send Request & Book"}),g.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"By clicking, you agree to our Terms of Service."})]})]}),g.jsx(PC,{className:"justify-center border-t pt-4",children:g.jsxs($e,{variant:"ghost",size:"sm",onClick:()=>e("inventory"),children:[g.jsx(pk,{className:"mr-2 h-4 w-4"})," Back to Inventory"]})})]})]}),n==="success"&&g.jsxs(Pr,{className:"text-center py-10 max-w-2xl mx-auto",children:[g.jsx(qr,{children:g.jsxs(Wr,{className:"text-2xl font-bold text-green-600 flex items-center justify-center gap-2",children:[g.jsx(_M,{className:"h-8 w-8"}),"Booking Request Received!"]})}),g.jsxs(Mr,{className:"space-y-4",children:[g.jsxs("p",{className:"text-muted-foreground",children:["Thank you, ",g.jsx("strong",{children:f}),". We have received your request. ",g.jsx("br",{}),"Your reference ID is ",g.jsxs("strong",{children:["#",N.slice(0,8).toUpperCase()]}),"."]}),g.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-blue-800 text-sm",children:[g.jsx("strong",{children:"Next Step:"})," Please create an account to track your move status and complete payment."]}),g.jsx(_b,{to:"/login",search:{tab:"signup",role:"customer",quoteId:N},children:g.jsx($e,{size:"lg",className:"w-full sm:w-auto",children:"Create Account & Track Move"})})]})]})]})]})}var Dr=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Quote=1]="Quote",n[n.Booked=2]="Booked",n[n.InProgress=3]="InProgress",n[n.Completed=4]="Completed",n[n.Canceled=5]="Canceled",n))(Dr||{});const am=class am{constructor(){mr(this,"collectionName","jobs")}static getInstance(){return am.instance||(am.instance=new am),am.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getJobByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteJobByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllJob(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getJobsByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertJob(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllJob(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listJob(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getJobById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setJobById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteJobById(e){await Je(Me(ae,this.collectionName,e))}async getJobByCompanyIdStatus(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("status","==",t));return(await Be(r)).docs.map(a=>a.data())}async setJobByCompanyIdStatus(e,t,r){if(r.id)return this.setJobById(r.id,r);const s=await this.getJobByCompanyIdStatus(e,t);return s.length>0?this.setJobById(s[0].id,r):this.insertJob([r])}async deleteJobByCompanyIdStatus(e,t){const s=(await this.getJobByCompanyIdStatus(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getJobByCompanyIdScheduledDate(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("scheduled_date","==",t));return(await Be(r)).docs.map(a=>a.data())}async setJobByCompanyIdScheduledDate(e,t,r){if(r.id)return this.setJobById(r.id,r);const s=await this.getJobByCompanyIdScheduledDate(e,t);return s.length>0?this.setJobById(s[0].id,r):this.insertJob([r])}async deleteJobByCompanyIdScheduledDate(e,t){const s=(await this.getJobByCompanyIdScheduledDate(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getJobByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobByDataCreator(e,t){return t.id?this.setJobById(t.id,t):this.insertJob([t])}async deleteJobByDataCreator(e){const r=(await this.getJobByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobByDataUpdater(e,t){return t.id?this.setJobById(t.id,t):this.insertJob([t])}async deleteJobByDataUpdater(e){const r=(await this.getJobByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(am,"instance",null);let Xm=am;Xm.getInstance();var Gl=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Mover=1]="Mover",n[n.Driver=2]="Driver",n[n.Supervisor=3]="Supervisor",n))(Gl||{}),Ql=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Active=1]="Active",n[n.Inactive=2]="Inactive",n))(Ql||{});const om=class om{constructor(){mr(this,"collectionName","workers")}static getInstance(){return om.instance||(om.instance=new om),om.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getWorkerByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteWorkerByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllWorker(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getWorkersByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertWorker(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllWorker(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listWorker(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getWorkerById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setWorkerById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteWorkerById(e){await Je(Me(ae,this.collectionName,e))}async getWorkerByCompanyIdStatus(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("status","==",t));return(await Be(r)).docs.map(a=>a.data())}async setWorkerByCompanyIdStatus(e,t,r){if(r.id)return this.setWorkerById(r.id,r);const s=await this.getWorkerByCompanyIdStatus(e,t);return s.length>0?this.setWorkerById(s[0].id,r):this.insertWorker([r])}async deleteWorkerByCompanyIdStatus(e,t){const s=(await this.getWorkerByCompanyIdStatus(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getWorkerByCompanyIdRole(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("role","==",t));return(await Be(r)).docs.map(a=>a.data())}async setWorkerByCompanyIdRole(e,t,r){if(r.id)return this.setWorkerById(r.id,r);const s=await this.getWorkerByCompanyIdRole(e,t);return s.length>0?this.setWorkerById(s[0].id,r):this.insertWorker([r])}async deleteWorkerByCompanyIdRole(e,t){const s=(await this.getWorkerByCompanyIdRole(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getWorkerByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setWorkerByDataCreator(e,t){return t.id?this.setWorkerById(t.id,t):this.insertWorker([t])}async deleteWorkerByDataCreator(e){const r=(await this.getWorkerByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getWorkerByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setWorkerByDataUpdater(e,t){return t.id?this.setWorkerById(t.id,t):this.insertWorker([t])}async deleteWorkerByDataUpdater(e){const r=(await this.getWorkerByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(om,"instance",null);let Iy=om;Iy.getInstance();const lm=class lm{constructor(){mr(this,"collectionName","equipment")}static getInstance(){return lm.instance||(lm.instance=new lm),lm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getEquipmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteEquipmentByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllEquipment(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getEquipmentByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertEquipment(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllEquipment(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listEquipment(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getEquipmentById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setEquipmentById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteEquipmentById(e){await Je(Me(ae,this.collectionName,e))}async getEquipmentByCompanyIdName(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("name","==",t));return(await Be(r)).docs.map(a=>a.data())}async setEquipmentByCompanyIdName(e,t,r){if(r.id)return this.setEquipmentById(r.id,r);const s=await this.getEquipmentByCompanyIdName(e,t);return s.length>0?this.setEquipmentById(s[0].id,r):this.insertEquipment([r])}async deleteEquipmentByCompanyIdName(e,t){const s=(await this.getEquipmentByCompanyIdName(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getEquipmentByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setEquipmentByDataCreator(e,t){return t.id?this.setEquipmentById(t.id,t):this.insertEquipment([t])}async deleteEquipmentByDataCreator(e){const r=(await this.getEquipmentByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getEquipmentByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setEquipmentByDataUpdater(e,t){return t.id?this.setEquipmentById(t.id,t):this.insertEquipment([t])}async deleteEquipmentByDataUpdater(e){const r=(await this.getEquipmentByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(lm,"instance",null);let Vb=lm;var no=(n=>(n[n.Unspecified=0]="Unspecified",n[n.BoxTruck16ft=1]="BoxTruck16ft",n[n.BoxTruck26ft=2]="BoxTruck26ft",n[n.CargoVan=3]="CargoVan",n[n.Flatbed=4]="Flatbed",n))(no||{});const cm=class cm{constructor(){mr(this,"collectionName","vehicles")}static getInstance(){return cm.instance||(cm.instance=new cm),cm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getVehicleByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteVehicleByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllVehicle(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getVehiclesByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertVehicle(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllVehicle(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listVehicle(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getVehicleById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setVehicleById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteVehicleById(e){await Je(Me(ae,this.collectionName,e))}async getVehicleByCompanyIdVehicleName(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("vehicle_name","==",t));return(await Be(r)).docs.map(a=>a.data())}async setVehicleByCompanyIdVehicleName(e,t,r){if(r.id)return this.setVehicleById(r.id,r);const s=await this.getVehicleByCompanyIdVehicleName(e,t);return s.length>0?this.setVehicleById(s[0].id,r):this.insertVehicle([r])}async deleteVehicleByCompanyIdVehicleName(e,t){const s=(await this.getVehicleByCompanyIdVehicleName(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getVehicleByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setVehicleByDataCreator(e,t){return t.id?this.setVehicleById(t.id,t):this.insertVehicle([t])}async deleteVehicleByDataCreator(e){const r=(await this.getVehicleByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getVehicleByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setVehicleByDataUpdater(e,t){return t.id?this.setVehicleById(t.id,t):this.insertVehicle([t])}async deleteVehicleByDataUpdater(e){const r=(await this.getVehicleByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(cm,"instance",null);let Bb=cm;var Yo=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Draft=1]="Draft",n[n.Approved=2]="Approved",n[n.Paid=3]="Paid",n))(Yo||{});const um=class um{constructor(){mr(this,"collectionName","payroll_records")}static getInstance(){return um.instance||(um.instance=new um),um.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getPayrollRecordByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deletePayrollRecordByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllPayrollRecord(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getPayrollRecordsByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertPayrollRecord(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllPayrollRecord(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listPayrollRecord(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getPayrollRecordById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setPayrollRecordById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deletePayrollRecordById(e){await Je(Me(ae,this.collectionName,e))}async getPayrollRecordByCompanyIdWorkerId(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("worker_id","==",t));return(await Be(r)).docs.map(a=>a.data())}async setPayrollRecordByCompanyIdWorkerId(e,t,r){if(r.id)return this.setPayrollRecordById(r.id,r);const s=await this.getPayrollRecordByCompanyIdWorkerId(e,t);return s.length>0?this.setPayrollRecordById(s[0].id,r):this.insertPayrollRecord([r])}async deletePayrollRecordByCompanyIdWorkerId(e,t){const s=(await this.getPayrollRecordByCompanyIdWorkerId(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getPayrollRecordByCompanyIdPayPeriodStart(e,t){const r=Ze(De(ae,this.collectionName),qe("company_id","==",e),qe("pay_period_start","==",t));return(await Be(r)).docs.map(a=>a.data())}async setPayrollRecordByCompanyIdPayPeriodStart(e,t,r){if(r.id)return this.setPayrollRecordById(r.id,r);const s=await this.getPayrollRecordByCompanyIdPayPeriodStart(e,t);return s.length>0?this.setPayrollRecordById(s[0].id,r):this.insertPayrollRecord([r])}async deletePayrollRecordByCompanyIdPayPeriodStart(e,t){const s=(await this.getPayrollRecordByCompanyIdPayPeriodStart(e,t)).map(a=>Je(Me(ae,this.collectionName,a.id)));await Promise.all(s)}async getPayrollRecordByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setPayrollRecordByDataCreator(e,t){return t.id?this.setPayrollRecordById(t.id,t):this.insertPayrollRecord([t])}async deletePayrollRecordByDataCreator(e){const r=(await this.getPayrollRecordByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getPayrollRecordByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setPayrollRecordByDataUpdater(e,t){return t.id?this.setPayrollRecordById(t.id,t):this.insertPayrollRecord([t])}async deletePayrollRecordByDataUpdater(e){const r=(await this.getPayrollRecordByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(um,"instance",null);let Xg=um;const dm=class dm{constructor(){mr(this,"collectionName","job_worker_assignments")}static getInstance(){return dm.instance||(dm.instance=new dm),dm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getJobWorkerAssignmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteJobWorkerAssignmentByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllJobWorkerAssignment(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getJobWorkerAssignmentByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertJobWorkerAssignment(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllJobWorkerAssignment(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listJobWorkerAssignment(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getJobWorkerAssignmentById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setJobWorkerAssignmentById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteJobWorkerAssignmentById(e){await Je(Me(ae,this.collectionName,e))}async getJobWorkerAssignmentByJobId(e){const t=Ze(De(ae,this.collectionName),qe("job_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByJobId(e,t){if(t.id)return this.setJobWorkerAssignmentById(t.id,t);const r=await this.getJobWorkerAssignmentByJobId(e);return r.length>0?this.setJobWorkerAssignmentById(r[0].id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByJobId(e){const r=(await this.getJobWorkerAssignmentByJobId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByWorkerId(e){const t=Ze(De(ae,this.collectionName),qe("worker_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByWorkerId(e,t){if(t.id)return this.setJobWorkerAssignmentById(t.id,t);const r=await this.getJobWorkerAssignmentByWorkerId(e);return r.length>0?this.setJobWorkerAssignmentById(r[0].id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByWorkerId(e){const r=(await this.getJobWorkerAssignmentByWorkerId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByDataCreator(e,t){return t.id?this.setJobWorkerAssignmentById(t.id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByDataCreator(e){const r=(await this.getJobWorkerAssignmentByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByDataUpdater(e,t){return t.id?this.setJobWorkerAssignmentById(t.id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByDataUpdater(e){const r=(await this.getJobWorkerAssignmentByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(dm,"instance",null);let Ub=dm;const fm=class fm{constructor(){mr(this,"collectionName","job_vehicle_assignments")}static getInstance(){return fm.instance||(fm.instance=new fm),fm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getJobVehicleAssignmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteJobVehicleAssignmentByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllJobVehicleAssignment(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getJobVehicleAssignmentByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertJobVehicleAssignment(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllJobVehicleAssignment(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listJobVehicleAssignment(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getJobVehicleAssignmentById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setJobVehicleAssignmentById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteJobVehicleAssignmentById(e){await Je(Me(ae,this.collectionName,e))}async getJobVehicleAssignmentByJobId(e){const t=Ze(De(ae,this.collectionName),qe("job_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByJobId(e,t){if(t.id)return this.setJobVehicleAssignmentById(t.id,t);const r=await this.getJobVehicleAssignmentByJobId(e);return r.length>0?this.setJobVehicleAssignmentById(r[0].id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByJobId(e){const r=(await this.getJobVehicleAssignmentByJobId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByVehicleId(e){const t=Ze(De(ae,this.collectionName),qe("vehicle_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByVehicleId(e,t){if(t.id)return this.setJobVehicleAssignmentById(t.id,t);const r=await this.getJobVehicleAssignmentByVehicleId(e);return r.length>0?this.setJobVehicleAssignmentById(r[0].id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByVehicleId(e){const r=(await this.getJobVehicleAssignmentByVehicleId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByDataCreator(e,t){return t.id?this.setJobVehicleAssignmentById(t.id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByDataCreator(e){const r=(await this.getJobVehicleAssignmentByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByDataUpdater(e,t){return t.id?this.setJobVehicleAssignmentById(t.id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByDataUpdater(e){const r=(await this.getJobVehicleAssignmentByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(fm,"instance",null);let Fb=fm;const hm=class hm{constructor(){mr(this,"collectionName","job_equipment_allocations")}static getInstance(){return hm.instance||(hm.instance=new hm),hm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getJobEquipmentAllocationByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteJobEquipmentAllocationByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllJobEquipmentAllocation(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async getJobEquipmentAllocationByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async insertJobEquipmentAllocation(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllJobEquipmentAllocation(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listJobEquipmentAllocation(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getJobEquipmentAllocationById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setJobEquipmentAllocationById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteJobEquipmentAllocationById(e){await Je(Me(ae,this.collectionName,e))}async getJobEquipmentAllocationByJobId(e){const t=Ze(De(ae,this.collectionName),qe("job_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByJobId(e,t){if(t.id)return this.setJobEquipmentAllocationById(t.id,t);const r=await this.getJobEquipmentAllocationByJobId(e);return r.length>0?this.setJobEquipmentAllocationById(r[0].id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByJobId(e){const r=(await this.getJobEquipmentAllocationByJobId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByEquipmentId(e){const t=Ze(De(ae,this.collectionName),qe("equipment_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByEquipmentId(e,t){if(t.id)return this.setJobEquipmentAllocationById(t.id,t);const r=await this.getJobEquipmentAllocationByEquipmentId(e);return r.length>0?this.setJobEquipmentAllocationById(r[0].id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByEquipmentId(e){const r=(await this.getJobEquipmentAllocationByEquipmentId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByDataCreator(e,t){return t.id?this.setJobEquipmentAllocationById(t.id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByDataCreator(e){const r=(await this.getJobEquipmentAllocationByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByDataUpdater(e,t){return t.id?this.setJobEquipmentAllocationById(t.id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByDataUpdater(e){const r=(await this.getJobEquipmentAllocationByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(hm,"instance",null);let zb=hm;function Yy({className:n,id:e,onClick:t,...r}){const s=Mn(t,()=>({componentType:"table",eventType:"click",componentInfo:{id:e}}));return g.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:g.jsx("table",{id:e,"data-slot":"table",className:Fe("w-full caption-bottom text-sm",n),onClick:s,...r})})}function Ky({className:n,...e}){return g.jsx("thead",{"data-slot":"table-header",className:Fe("[&_tr]:border-b",n),...e})}function Qy({className:n,...e}){return g.jsx("tbody",{"data-slot":"table-body",className:Fe("[&_tr:last-child]:border-0",n),...e})}function fo({className:n,id:e,onClick:t,...r}){const s=Mn(t,()=>({componentType:"table-row",eventType:"click",componentInfo:{id:e}}));return g.jsx("tr",{id:e,"data-slot":"table-row",className:Fe("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),onClick:s,...r})}function Rn({className:n,...e}){return g.jsx("th",{"data-slot":"table-head",className:Fe("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function In({className:n,id:e,onClick:t,...r}){const s=Mn(t,()=>({componentType:"table-cell",eventType:"click",componentInfo:{id:e}}));return g.jsx("td",{id:e,"data-slot":"table-cell",className:Fe("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),onClick:s,...r})}function Lee({jobs:n,workers:e,equipment:t,vehicles:r,activeWorkers:s,upcomingJobs:a}){const l=u=>{const m={[Dr.Unspecified]:{variant:"outline",label:"Unspecified"},[Dr.Quote]:{variant:"secondary",label:"Quote"},[Dr.Booked]:{variant:"default",label:"Booked"},[Dr.InProgress]:{variant:"default",label:"In Progress"},[Dr.Completed]:{variant:"outline",label:"Completed"},[Dr.Canceled]:{variant:"destructive",label:"Canceled"}}[u];return g.jsx(Ki,{variant:m.variant,children:m.label})};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsxs(Pr,{children:[g.jsx(qr,{className:"pb-3",children:g.jsx(Wr,{className:"text-sm font-medium",children:"Total Jobs"})}),g.jsxs(Mr,{children:[g.jsx("div",{className:"text-3xl font-bold",children:n.length}),g.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.length," upcoming"]})]})]}),g.jsxs(Pr,{children:[g.jsx(qr,{className:"pb-3",children:g.jsx(Wr,{className:"text-sm font-medium",children:"Active Workers"})}),g.jsxs(Mr,{children:[g.jsx("div",{className:"text-3xl font-bold",children:s.length}),g.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",e.length," total"]})]})]}),g.jsxs(Pr,{children:[g.jsx(qr,{className:"pb-3",children:g.jsx(Wr,{className:"text-sm font-medium",children:"Equipment Items"})}),g.jsxs(Mr,{children:[g.jsx("div",{className:"text-3xl font-bold",children:t.reduce((u,f)=>u+f.total_quantity,0)}),g.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.length," types"]})]})]}),g.jsxs(Pr,{children:[g.jsx(qr,{className:"pb-3",children:g.jsx(Wr,{className:"text-sm font-medium",children:"Fleet Vehicles"})}),g.jsxs(Mr,{children:[g.jsx("div",{className:"text-3xl font-bold",children:r.length}),g.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ready to deploy"})]})]})]}),g.jsxs(Pr,{children:[g.jsxs(qr,{children:[g.jsx(Wr,{children:"Upcoming Jobs"}),g.jsx(Ti,{children:"Jobs that are booked or in progress"})]}),g.jsx(Mr,{children:a.length===0?g.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No upcoming jobs"}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Customer"}),g.jsx(Rn,{children:"Date"}),g.jsx(Rn,{children:"Route"}),g.jsx(Rn,{children:"Status"}),g.jsx(Rn,{className:"text-right",children:"Estimate"})]})}),g.jsx(Qy,{children:a.slice(0,5).map(u=>g.jsxs(fo,{children:[g.jsx(In,{className:"font-medium",children:u.customer_name}),g.jsx(In,{children:new Date(parseInt(u.scheduled_date)*1e3).toLocaleDateString()}),g.jsx(In,{className:"text-sm",children:g.jsxs("div",{className:"max-w-xs truncate",children:[u.pickup_address,"  ",u.dropoff_address]})}),g.jsx(In,{children:l(u.status)}),g.jsx(In,{className:"text-right",children:u.estimated_cost?`$${u.estimated_cost.toFixed(2)}`:"-"})]},u.id))})]})})]})]})}var Pg={},IT={exports:{}},NT,LO;function Vee(){if(LO)return NT;LO=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return NT=n,NT}var kT,VO;function Bee(){if(VO)return kT;VO=1;var n=Vee();function e(){}function t(){}return t.resetWarningCache=e,kT=function(){function r(l,u,f,m,y,_){if(_!==n){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},kT}var BO;function o3(){return BO||(BO=1,IT.exports=Bee()()),IT.exports}var OT,UO;function l3(){return UO||(UO=1,OT={L:1,M:0,Q:3,H:2}),OT}var DT,FO;function c3(){return FO||(FO=1,DT={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),DT}var PT,zO;function Uee(){if(zO)return PT;zO=1;var n=c3();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}},PT=e,PT}var MT,qO;function Fee(){if(qO)return MT;qO=1;var n=l3();function e(t,r){this.totalCount=t,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,r){var s=e.getRsBlockTable(t,r);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var a=s.length/3,l=new Array,u=0;u<a;u++)for(var f=s[u*3+0],m=s[u*3+1],y=s[u*3+2],_=0;_<f;_++)l.push(new e(m,y));return l},e.getRsBlockTable=function(t,r){switch(r){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},MT=e,MT}var jT,WO;function zee(){if(WO)return jT;WO=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},jT=n,jT}var LT,HO;function u3(){if(HO)return LT;HO=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return LT=n,LT}var VT,$O;function d3(){if($O)return VT;$O=1;var n=u3();function e(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+r);for(var a=0;a<t.length-s;a++)this.num[a]=t[a+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<t.getLength();a++)r[s+a]^=n.gexp(n.glog(this.get(s))+n.glog(t.get(a)));return new e(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=n.glog(this.get(0))-n.glog(t.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(var a=0;a<t.getLength();a++)s[a]^=n.gexp(n.glog(t.get(a))+r);return new e(s,0).mod(t)}},VT=e,VT}var BT,GO;function qee(){if(GO)return BT;GO=1;var n=c3(),e=d3(),t=u3(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;s.getBCHDigit(l)-s.getBCHDigit(s.G15)>=0;)l^=s.G15<<s.getBCHDigit(l)-s.getBCHDigit(s.G15);return(a<<10|l)^s.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;s.getBCHDigit(l)-s.getBCHDigit(s.G18)>=0;)l^=s.G18<<s.getBCHDigit(l)-s.getBCHDigit(s.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;a!=0;)l++,a>>>=1;return l},getPatternPosition:function(a){return s.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,u){switch(a){case r.PATTERN000:return(l+u)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return u%3==0;case r.PATTERN011:return(l+u)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(u/3))%2==0;case r.PATTERN101:return l*u%2+l*u%3==0;case r.PATTERN110:return(l*u%2+l*u%3)%2==0;case r.PATTERN111:return(l*u%3+(l+u)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new e([1],0),u=0;u<a;u++)l=l.multiply(new e([1,t.gexp(u)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(l<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+l)},getLostPoint:function(a){for(var l=a.getModuleCount(),u=0,f=0;f<l;f++)for(var m=0;m<l;m++){for(var y=0,_=a.isDark(f,m),b=-1;b<=1;b++)if(!(f+b<0||l<=f+b))for(var E=-1;E<=1;E++)m+E<0||l<=m+E||b==0&&E==0||_==a.isDark(f+b,m+E)&&y++;y>5&&(u+=3+y-5)}for(var f=0;f<l-1;f++)for(var m=0;m<l-1;m++){var T=0;a.isDark(f,m)&&T++,a.isDark(f+1,m)&&T++,a.isDark(f,m+1)&&T++,a.isDark(f+1,m+1)&&T++,(T==0||T==4)&&(u+=3)}for(var f=0;f<l;f++)for(var m=0;m<l-6;m++)a.isDark(f,m)&&!a.isDark(f,m+1)&&a.isDark(f,m+2)&&a.isDark(f,m+3)&&a.isDark(f,m+4)&&!a.isDark(f,m+5)&&a.isDark(f,m+6)&&(u+=40);for(var m=0;m<l;m++)for(var f=0;f<l-6;f++)a.isDark(f,m)&&!a.isDark(f+1,m)&&a.isDark(f+2,m)&&a.isDark(f+3,m)&&a.isDark(f+4,m)&&!a.isDark(f+5,m)&&a.isDark(f+6,m)&&(u+=40);for(var C=0,m=0;m<l;m++)for(var f=0;f<l;f++)a.isDark(f,m)&&C++;var N=Math.abs(100*C/l/l-50)/5;return u+=N*10,u}};return BT=s,BT}var UT,YO;function Wee(){if(YO)return UT;YO=1;var n=Uee(),e=Fee(),t=zee(),r=qee(),s=d3();function a(u,f){this.typeNumber=u,this.errorCorrectLevel=f,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=a.prototype;return l.addData=function(u){var f=new n(u);this.dataList.push(f),this.dataCache=null},l.isDark=function(u,f){if(u<0||this.moduleCount<=u||f<0||this.moduleCount<=f)throw new Error(u+","+f);return this.modules[u][f]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var u=1;for(u=1;u<40;u++){for(var f=e.getRSBlocks(u,this.errorCorrectLevel),m=new t,y=0,_=0;_<f.length;_++)y+=f[_].dataCount;for(var _=0;_<this.dataList.length;_++){var b=this.dataList[_];m.put(b.mode,4),m.put(b.getLength(),r.getLengthInBits(b.mode,u)),b.write(m)}if(m.getLengthInBits()<=y*8)break}this.typeNumber=u}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(u,f){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var m=0;m<this.moduleCount;m++){this.modules[m]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[m][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(u,f),this.typeNumber>=7&&this.setupTypeNumber(u),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,f)},l.setupPositionProbePattern=function(u,f){for(var m=-1;m<=7;m++)if(!(u+m<=-1||this.moduleCount<=u+m))for(var y=-1;y<=7;y++)f+y<=-1||this.moduleCount<=f+y||(0<=m&&m<=6&&(y==0||y==6)||0<=y&&y<=6&&(m==0||m==6)||2<=m&&m<=4&&2<=y&&y<=4?this.modules[u+m][f+y]=!0:this.modules[u+m][f+y]=!1)},l.getBestMaskPattern=function(){for(var u=0,f=0,m=0;m<8;m++){this.makeImpl(!0,m);var y=r.getLostPoint(this);(m==0||u>y)&&(u=y,f=m)}return f},l.createMovieClip=function(u,f,m){var y=u.createEmptyMovieClip(f,m),_=1;this.make();for(var b=0;b<this.modules.length;b++)for(var E=b*_,T=0;T<this.modules[b].length;T++){var C=T*_,N=this.modules[b][T];N&&(y.beginFill(0,100),y.moveTo(C,E),y.lineTo(C+_,E),y.lineTo(C+_,E+_),y.lineTo(C,E+_),y.endFill())}return y},l.setupTimingPattern=function(){for(var u=8;u<this.moduleCount-8;u++)this.modules[u][6]==null&&(this.modules[u][6]=u%2==0);for(var f=8;f<this.moduleCount-8;f++)this.modules[6][f]==null&&(this.modules[6][f]=f%2==0)},l.setupPositionAdjustPattern=function(){for(var u=r.getPatternPosition(this.typeNumber),f=0;f<u.length;f++)for(var m=0;m<u.length;m++){var y=u[f],_=u[m];if(this.modules[y][_]==null)for(var b=-2;b<=2;b++)for(var E=-2;E<=2;E++)b==-2||b==2||E==-2||E==2||b==0&&E==0?this.modules[y+b][_+E]=!0:this.modules[y+b][_+E]=!1}},l.setupTypeNumber=function(u){for(var f=r.getBCHTypeNumber(this.typeNumber),m=0;m<18;m++){var y=!u&&(f>>m&1)==1;this.modules[Math.floor(m/3)][m%3+this.moduleCount-8-3]=y}for(var m=0;m<18;m++){var y=!u&&(f>>m&1)==1;this.modules[m%3+this.moduleCount-8-3][Math.floor(m/3)]=y}},l.setupTypeInfo=function(u,f){for(var m=this.errorCorrectLevel<<3|f,y=r.getBCHTypeInfo(m),_=0;_<15;_++){var b=!u&&(y>>_&1)==1;_<6?this.modules[_][8]=b:_<8?this.modules[_+1][8]=b:this.modules[this.moduleCount-15+_][8]=b}for(var _=0;_<15;_++){var b=!u&&(y>>_&1)==1;_<8?this.modules[8][this.moduleCount-_-1]=b:_<9?this.modules[8][15-_-1+1]=b:this.modules[8][15-_-1]=b}this.modules[this.moduleCount-8][8]=!u},l.mapData=function(u,f){for(var m=-1,y=this.moduleCount-1,_=7,b=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var T=0;T<2;T++)if(this.modules[y][E-T]==null){var C=!1;b<u.length&&(C=(u[b]>>>_&1)==1);var N=r.getMask(f,y,E-T);N&&(C=!C),this.modules[y][E-T]=C,_--,_==-1&&(b++,_=7)}if(y+=m,y<0||this.moduleCount<=y){y-=m,m=-m;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(u,f,m){for(var y=e.getRSBlocks(u,f),_=new t,b=0;b<m.length;b++){var E=m[b];_.put(E.mode,4),_.put(E.getLength(),r.getLengthInBits(E.mode,u)),E.write(_)}for(var T=0,b=0;b<y.length;b++)T+=y[b].dataCount;if(_.getLengthInBits()>T*8)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+T*8+")");for(_.getLengthInBits()+4<=T*8&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=T*8||(_.put(a.PAD0,8),_.getLengthInBits()>=T*8));)_.put(a.PAD1,8);return a.createBytes(_,y)},a.createBytes=function(u,f){for(var m=0,y=0,_=0,b=new Array(f.length),E=new Array(f.length),T=0;T<f.length;T++){var C=f[T].dataCount,N=f[T].totalCount-C;y=Math.max(y,C),_=Math.max(_,N),b[T]=new Array(C);for(var M=0;M<b[T].length;M++)b[T][M]=255&u.buffer[M+m];m+=C;var B=r.getErrorCorrectPolynomial(N),U=new s(b[T],B.getLength()-1),Y=U.mod(B);E[T]=new Array(B.getLength()-1);for(var M=0;M<E[T].length;M++){var W=M+Y.getLength()-E[T].length;E[T][M]=W>=0?Y.get(W):0}}for(var K=0,M=0;M<f.length;M++)K+=f[M].totalCount;for(var D=new Array(K),P=0,M=0;M<y;M++)for(var T=0;T<f.length;T++)M<b[T].length&&(D[P++]=b[T][M]);for(var M=0;M<_;M++)for(var T=0;T<f.length;T++)M<E[T].length&&(D[P++]=E[T][M]);return D},UT=a,UT}var Ex={},KO;function Hee(){if(KO)return Ex;KO=1,Object.defineProperty(Ex,"__esModule",{value:!0});var n=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(m[b]=_[b])}return m},e=o3(),t=a(e),r=Zm(),s=a(r);function a(m){return m&&m.__esModule?m:{default:m}}function l(m,y){var _={};for(var b in m)y.indexOf(b)>=0||Object.prototype.hasOwnProperty.call(m,b)&&(_[b]=m[b]);return _}var u={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},f=(0,r.forwardRef)(function(m,y){var _=m.bgColor,b=m.bgD,E=m.fgD,T=m.fgColor,C=m.size,N=m.title,M=m.viewBoxSize,B=m.xmlns,U=B===void 0?"http://www.w3.org/2000/svg":B,Y=l(m,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",n({},Y,{height:C,ref:y,viewBox:"0 0 "+M+" "+M,width:C,xmlns:U}),N?s.default.createElement("title",null,N):null,s.default.createElement("path",{d:b,fill:_}),s.default.createElement("path",{d:E,fill:T}))});return f.displayName="QRCodeSvg",f.propTypes=u,Ex.default=f,Ex}var QO;function $ee(){if(QO)return Pg;QO=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.QRCode=void 0;var n=Object.assign||function(C){for(var N=1;N<arguments.length;N++){var M=arguments[N];for(var B in M)Object.prototype.hasOwnProperty.call(M,B)&&(C[B]=M[B])}return C},e=o3(),t=_(e),r=l3(),s=_(r),a=Wee(),l=_(a),u=Zm(),f=_(u),m=Hee(),y=_(m);function _(C){return C&&C.__esModule?C:{default:C}}function b(C,N){var M={};for(var B in C)N.indexOf(B)>=0||Object.prototype.hasOwnProperty.call(C,B)&&(M[B]=C[B]);return M}var E={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},T=(0,u.forwardRef)(function(C,N){var M=C.bgColor,B=M===void 0?"#FFFFFF":M,U=C.fgColor,Y=U===void 0?"#000000":U,W=C.level,K=W===void 0?"L":W,D=C.size,P=D===void 0?256:D,L=C.value,V=b(C,["bgColor","fgColor","level","size","value"]),q=new l.default(-1,s.default[K]);q.addData(L),q.make();var J=q.modules;return f.default.createElement(y.default,n({},V,{bgColor:B,bgD:J.map(function($,Ee){return $.map(function(de,X){return de?"":"M "+X+" "+Ee+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:Y,fgD:J.map(function($,Ee){return $.map(function(de,X){return de?"M "+X+" "+Ee+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:N,size:P,viewBoxSize:J.length}))});return Pg.QRCode=T,T.displayName="QRCode",T.propTypes=E,Pg.default=T,Pg}var Gee=$ee();const Yee=L1(Gee),JO="google-maps-script";function Kee(n={}){const[e,t]=I.useState(!1),[r,s]=I.useState(null),[a,l]=I.useState(!1),u=n.apiKey||"AIzaSyBQBn0DxrGy_BQeoJMDYaZ7c6sAOf1hXcA";I.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}const m=document.getElementById(JO);if(m){m.addEventListener("load",()=>t(!0)),m.addEventListener("error",()=>s("Failed to load Google Maps script"));return}const y=document.createElement("script");return y.id=JO,y.src=`https://maps.googleapis.com/maps/api/js?key=${u}&libraries=places`,y.async=!0,y.defer=!0,y.onload=()=>t(!0),y.onerror=()=>s("Failed to load Google Maps script"),document.head.appendChild(y),()=>{}},[u]);const f=I.useCallback(async(m,y)=>!e||!window.google?(s("Google Maps not loaded yet"),null):(l(!0),s(null),new Promise((_,b)=>{new window.google.maps.DistanceMatrixService().getDistanceMatrix({origins:[m],destinations:[y],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.IMPERIAL},(T,C)=>{if(l(!1),C!=="OK"){const M=`Distance Matrix failed: ${C}`;s(M),b(new Error(M));return}const N=T.rows[0].elements[0];if(N.status!=="OK"){const M=`Could not calculate distance: ${N.status}`;console.warn(M),_(null);return}_({distance:N.distance,duration:N.duration})})})),[e]);return{isLoaded:e,error:r,isLoading:a,calculateDistance:f,apiKey:u}}function Qee({jobs:n,workers:e,vehicles:t,equipment:r,companyId:s}){const[a,l]=I.useState(!1),[u,f]=I.useState({customer_name:"",status:Dr.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0]}),[m,y]=I.useState(!1),[_,b]=I.useState("details"),[E,T]=I.useState({customer_name:"",status:Dr.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0],inventory_data:"[]"}),[C,N]=I.useState(null),[M,B]=I.useState(0),[U,Y]=I.useState(null),[W,K]=I.useState(!1),D=Iu(),{calculateDistance:P}=Kee(),L=ds({mutationFn:async de=>await Xm.getInstance().insertJob([{...de,company_id:s}]),onSuccess:()=>{D.invalidateQueries({queryKey:["jobs"]}),l(!1),y(!1),q()}}),V=ds({mutationFn:async de=>{await Xm.getInstance().deleteJobByIDs([de])},onSuccess:()=>{D.invalidateQueries({queryKey:["jobs"]}),U&&K(!1)}}),q=()=>{f({customer_name:"",status:Dr.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0]}),T({customer_name:"",status:Dr.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0],inventory_data:"[]"}),b("details"),N(null),B(0)},J=async()=>{if(_==="details")b("inventory");else if(_==="inventory"){if(E.pickup_address&&E.dropoff_address)try{const de=await P(E.pickup_address,E.dropoff_address);if(de){N(de.distance);const ce=200+de.distance.value/1609.34*2;B(Math.round(ce)),T(se=>({...se,estimated_cost:Math.round(ce)}))}}catch(de){console.error(de)}b("review")}},$=de=>{Y(de),K(!0)},Ee=de=>{const ce={[Dr.Unspecified]:{variant:"outline",label:"Unspecified"},[Dr.Quote]:{variant:"secondary",label:"Quote"},[Dr.Booked]:{variant:"default",label:"Booked"},[Dr.InProgress]:{variant:"default",label:"In Progress"},[Dr.Completed]:{variant:"outline",label:"Completed"},[Dr.Canceled]:{variant:"destructive",label:"Canceled"}}[de];return g.jsx(Ki,{variant:ce.variant,children:ce.label})};return g.jsxs(Pr,{className:"h-full flex flex-col",children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Jobs Management"}),g.jsx(Ti,{children:"Manage your moving jobs"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs($e,{onClick:()=>y(!0),variant:"outline",children:[g.jsx(D8,{className:"h-4 w-4 mr-2"}),"Create Quote with AI Inventory"]}),g.jsxs(rl,{open:a,onOpenChange:l,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Quick Job"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create New Job"}),g.jsx(gc,{children:"Schedule a new moving job"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quick-customer",children:"Customer Name"}),g.jsx(Jt,{id:"quick-customer",value:u.customer_name,onChange:de=>f({...u,customer_name:de.target.value}),placeholder:"Jane Smith"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quick-pickup",children:"Pickup Address"}),g.jsx(Jt,{id:"quick-pickup",value:u.pickup_address,onChange:de=>f({...u,pickup_address:de.target.value})})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quick-dropoff",children:"Dropoff Address"}),g.jsx(Jt,{id:"quick-dropoff",value:u.dropoff_address,onChange:de=>f({...u,dropoff_address:de.target.value})})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quick-date",children:"Date"}),g.jsx(Jt,{id:"quick-date",type:"date",value:u.scheduled_date,onChange:de=>f({...u,scheduled_date:de.target.value})})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),g.jsx($e,{onClick:()=>L.mutate(u),children:"Create Job"})]})]})]})]})]})}),g.jsx(Mr,{className:"flex-1 overflow-auto",children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(lS,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("h3",{className:"text-lg font-semibold",children:"No jobs yet. Create your first job to get started."})]}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Customer"}),g.jsx(Rn,{children:"Date"}),g.jsx(Rn,{children:"Pickup"}),g.jsx(Rn,{children:"Dropoff"}),g.jsx(Rn,{children:"Cost"}),g.jsx(Rn,{children:"Status"}),g.jsx(Rn,{className:"text-right",children:"Actions"})]})}),g.jsx(Qy,{children:n.map(de=>{var X;return g.jsxs(fo,{onClick:()=>$(de),className:"cursor-pointer hover:bg-muted/50",children:[g.jsx(In,{className:"font-medium",children:de.customer_name}),g.jsx(In,{children:(()=>{const ce=de.scheduled_date,se=parseInt(ce);return!isNaN(se)&&se>31536e4&&/^\d+$/.test(ce)?new Date(se*1e3).toLocaleDateString():new Date(ce).toLocaleDateString()})()}),g.jsx(In,{className:"truncate max-w-[150px]",title:de.pickup_address,children:de.pickup_address}),g.jsx(In,{className:"truncate max-w-[150px]",title:de.dropoff_address,children:de.dropoff_address}),g.jsxs(In,{children:["$",((X=de.estimated_cost)==null?void 0:X.toFixed(2))||"0.00"]}),g.jsx(In,{children:Ee(de.status)}),g.jsx(In,{className:"text-right",children:g.jsx($e,{variant:"ghost",size:"sm",onClick:ce=>{ce.stopPropagation(),V.mutate(de.id)},children:g.jsx(oc,{className:"h-4 w-4"})})})]},de.id)})})]})}),g.jsx(rl,{open:m,onOpenChange:y,children:g.jsxs(sl,{className:"max-w-4xl h-[800px] flex flex-col",children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create Quote with AI-Powered Inventory"}),g.jsxs(gc,{children:[_==="details"&&"Step 1: Job Details",_==="inventory"&&"Step 2: Inventory Assessment",_==="review"&&"Step 3: Review Quote"]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[_==="details"&&g.jsxs("div",{className:"grid gap-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quote-customer",children:"Customer Name"}),g.jsx(Jt,{id:"quote-customer",value:E.customer_name,onChange:de=>T({...E,customer_name:de.target.value}),placeholder:"John Doe"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quote-pickup",children:"Pickup Address"}),g.jsx(Jt,{id:"quote-pickup",value:E.pickup_address,onChange:de=>T({...E,pickup_address:de.target.value}),placeholder:"123 Start St"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quote-dropoff",children:"Dropoff Address"}),g.jsx(Jt,{id:"quote-dropoff",value:E.dropoff_address,onChange:de=>T({...E,dropoff_address:de.target.value}),placeholder:"456 End Ln"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"quote-date",children:"Preferred Move Date"}),g.jsx(Jt,{id:"quote-date",type:"date",value:E.scheduled_date,onChange:de=>T({...E,scheduled_date:de.target.value})})]})]}),_==="inventory"&&g.jsx("div",{className:"h-full",children:g.jsx(M1,{onInventoryChange:de=>{T({...E,inventory_data:JSON.stringify(de)})},initialRooms:E.inventory_data?JSON.parse(E.inventory_data):[]})}),_==="review"&&g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"rounded-lg border p-4",children:[g.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Move Details"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-muted-foreground",children:"From:"}),g.jsx("p",{className:"font-medium",children:E.pickup_address})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-muted-foreground",children:"To:"}),g.jsx("p",{className:"font-medium",children:E.dropoff_address})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-muted-foreground",children:"Distance:"}),g.jsx("p",{className:"font-medium",children:(C==null?void 0:C.text)||"Calculating..."})]}),g.jsxs("div",{children:[g.jsx("span",{className:"text-muted-foreground",children:"Date:"}),g.jsx("p",{className:"font-medium",children:E.scheduled_date})]})]})]}),g.jsx("div",{className:"rounded-lg border p-4 bg-muted/20",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold",children:"Estimated Quote"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on distance and inventory volume"})]}),g.jsxs("div",{className:"text-3xl font-bold text-primary",children:["$",M.toFixed(2)]})]})})]})]}),g.jsxs(pc,{children:[_==="details"&&g.jsx($e,{onClick:J,children:"Next: Add Inventory"}),_==="inventory"&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx($e,{variant:"outline",onClick:()=>b("details"),children:"Back"}),g.jsx($e,{onClick:J,children:"Next: Review Quote"})]}),_==="review"&&g.jsxs("div",{className:"flex gap-2",children:[g.jsx($e,{variant:"outline",onClick:()=>b("inventory"),children:"Back"}),g.jsx($e,{onClick:()=>L.mutate(E),children:"Save Quote"})]})]})]})}),g.jsx(rl,{open:W,onOpenChange:K,children:g.jsxs(sl,{className:"max-w-4xl h-[800px] flex flex-col",children:[g.jsx(il,{children:g.jsxs(al,{children:["Job Details: ",U==null?void 0:U.customer_name]})}),U&&g.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-8",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Job Details"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx(lt,{children:"Status"}),g.jsx("div",{className:"mt-1",children:Ee(U.status)})]}),g.jsxs("div",{children:[g.jsx(lt,{children:"Date"}),g.jsx("div",{className:"mt-1 font-medium",children:(()=>{const de=U.scheduled_date,X=parseInt(de);return!isNaN(X)&&X>31536e4&&/^\d+$/.test(de)?new Date(X*1e3).toLocaleDateString():new Date(de).toLocaleDateString()})()})]}),g.jsxs("div",{children:[g.jsx(lt,{children:"Pickup"}),g.jsx("div",{className:"mt-1 font-medium",children:U.pickup_address})]}),g.jsxs("div",{children:[g.jsx(lt,{children:"Dropoff"}),g.jsx("div",{className:"mt-1 font-medium",children:U.dropoff_address})]})]})]}),U.inventory_data&&g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inventory & Images"}),g.jsxs("div",{className:"hidden",children:[JSON.parse(U.inventory_data).map((de,X)=>g.jsx("span",{children:de.roomName},X)),JSON.parse(U.inventory_data).flatMap(de=>de.items).map((de,X)=>g.jsx("span",{children:de.name},`item-${X}`))]}),g.jsx("div",{className:"border rounded-md p-4",children:g.jsx(M1,{onInventoryChange:()=>{},initialRooms:JSON.parse(U.inventory_data)})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Job QR Code"}),g.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Scan to access job details on mobile"}),g.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white border rounded-lg max-w-xs mx-auto","data-testid":"qr-code-container",children:[g.jsx(Yee,{value:`${window.location.origin}/jobs/${U.id}`}),g.jsx("p",{className:"mt-2 font-mono text-xs text-muted-foreground break-all text-center",children:`${window.location.host}/jobs/${U.id}`})]})]})]})]})})]})}function Jee({workers:n,companyId:e}){var _,b;const[t,r]=I.useState(!1),[s,a]=I.useState({full_name:"",role:Gl.Mover,status:Ql.Active}),l=Iu(),u=ds({mutationFn:async E=>await Iy.getInstance().insertWorker([{...E,company_id:e}]),onSuccess:()=>{l.invalidateQueries({queryKey:["workers"]}),r(!1),a({full_name:"",role:Gl.Mover,status:Ql.Active})}}),f=ds({mutationFn:async E=>{await Iy.getInstance().deleteWorkerByIDs([E])},onSuccess:()=>{l.invalidateQueries({queryKey:["workers"]})}}),m=E=>({[Gl.Unspecified]:"Unspecified",[Gl.Mover]:"Mover",[Gl.Driver]:"Driver",[Gl.Supervisor]:"Supervisor"})[E],y=E=>{const C={[Ql.Unspecified]:{variant:"outline",label:"Unspecified"},[Ql.Active]:{variant:"default",label:"Active"},[Ql.Inactive]:{variant:"secondary",label:"Inactive"}}[E];return g.jsx(Ki,{variant:C.variant,children:C.label})};return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Workers Management"}),g.jsx(Ti,{children:"Manage your moving company workers"})]}),g.jsxs(rl,{open:t,onOpenChange:r,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"New Worker"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create New Worker"}),g.jsx(gc,{children:"Add a new worker to your team"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"full_name",children:"Full Name"}),g.jsx(Jt,{id:"full_name",value:s.full_name,onChange:E=>a({...s,full_name:E.target.value}),placeholder:"John Doe"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),g.jsx(Jt,{id:"hourly_rate",type:"number",value:s.hourly_rate||"",onChange:E=>a({...s,hourly_rate:parseFloat(E.target.value)}),placeholder:"20.00"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),g.jsx(Jt,{id:"hourly_rate",type:"number",value:s.hourly_rate||"",onChange:E=>a({...s,hourly_rate:parseFloat(E.target.value)}),placeholder:"20.00"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"role",children:"Role"}),g.jsxs(Aa,{value:(_=s.role)==null?void 0:_.toString(),onValueChange:E=>a({...s,role:parseInt(E)}),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select role"})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:Gl.Mover.toString(),children:"Mover"}),g.jsx(Jn,{value:Gl.Driver.toString(),children:"Driver"}),g.jsx(Jn,{value:Gl.Supervisor.toString(),children:"Supervisor"})]})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"status",children:"Status"}),g.jsxs(Aa,{value:(b=s.status)==null?void 0:b.toString(),onValueChange:E=>a({...s,status:parseInt(E)}),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select status"})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:Ql.Active.toString(),children:"Active"}),g.jsx(Jn,{value:Ql.Inactive.toString(),children:"Inactive"})]})]})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),g.jsx($e,{onClick:()=>u.mutate(s),children:"Create Worker"})]})]})]})]})}),g.jsx(Mr,{children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(TM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"No workers yet. Add your first worker to get started."})]}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Name"}),g.jsx(Rn,{children:"Role"}),g.jsx(Rn,{children:"Status"}),g.jsx(Rn,{className:"text-right",children:"Actions"})]})}),g.jsx(Qy,{children:n.map(E=>g.jsxs(fo,{children:[g.jsx(In,{className:"font-medium",children:E.full_name}),g.jsx(In,{children:m(E.role)}),g.jsx(In,{children:y(E.status)}),g.jsx(In,{className:"text-right",children:g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>f.mutate(E.id),children:g.jsx(oc,{className:"h-4 w-4"})})})]},E.id))})]})})]})}function Xee({equipment:n,companyId:e}){const[t,r]=I.useState(!1),[s,a]=I.useState({name:"",total_quantity:0}),l=Iu(),u=ds({mutationFn:async m=>await Vb.getInstance().insertEquipment([{...m,company_id:e}]),onSuccess:()=>{l.invalidateQueries({queryKey:["equipment"]}),r(!1),a({name:"",total_quantity:0})}}),f=ds({mutationFn:async m=>{await Vb.getInstance().deleteEquipmentByIDs([m])},onSuccess:()=>{l.invalidateQueries({queryKey:["equipment"]})}});return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Equipment Management"}),g.jsx(Ti,{children:"Manage moving equipment and supplies"})]}),g.jsxs(rl,{open:t,onOpenChange:r,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"New Equipment"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create New Equipment"}),g.jsx(gc,{children:"Add new equipment to your inventory"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"name",children:"Equipment Name"}),g.jsx(Jt,{id:"name",value:s.name,onChange:m=>a({...s,name:m.target.value}),placeholder:"Dolly, Blankets, Straps, etc."})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"total_quantity",children:"Total Quantity"}),g.jsx(Jt,{id:"total_quantity",type:"number",value:s.total_quantity||"",onChange:m=>a({...s,total_quantity:parseInt(m.target.value)||0}),placeholder:"10"})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),g.jsx($e,{onClick:()=>u.mutate(s),children:"Create Equipment"})]})]})]})]})}),g.jsx(Mr,{children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(cS,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"No equipment yet. Add your first equipment item to get started."})]}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Name"}),g.jsx(Rn,{className:"text-right",children:"Total Quantity"}),g.jsx(Rn,{className:"text-right",children:"Actions"})]})}),g.jsx(Qy,{children:n.map(m=>g.jsxs(fo,{children:[g.jsx(In,{className:"font-medium",children:m.name}),g.jsx(In,{className:"text-right",children:m.total_quantity}),g.jsx(In,{className:"text-right",children:g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>f.mutate(m.id),children:g.jsx(oc,{className:"h-4 w-4"})})})]},m.id))})]})})]})}var xa=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Routine=1]="Routine",n[n.Repair=2]="Repair",n[n.Inspection=3]="Inspection",n[n.Upgrade=4]="Upgrade",n))(xa||{});const mm=class mm{constructor(){mr(this,"collectionName","maintenance_records")}static getInstance(){return mm.instance||(mm.instance=new mm),mm.instance}getCurrentUserId(){var e;return((e=Ei.currentUser)==null?void 0:e.uid)||"system"}getCurrentTime(){return new Date().toISOString()}async getMaintenanceRecordByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Ze(De(ae,this.collectionName),qe("id","in",a));(await Be(l)).forEach(f=>{t.push(f.data())})}return t}async deleteMaintenanceRecordByIDs(e){const t=e.map(r=>Je(Me(ae,this.collectionName,r)));await Promise.all(t)}async getAllMaintenanceRecord(){return(await Be(De(ae,this.collectionName))).docs.map(t=>t.data())}async insertMaintenanceRecord(e){const t=[];for(const r of e){const s=Me(De(ae,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),u={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await Tr(s,u),t.push(u)}return t}async purgeAllMaintenanceRecord(){const t=(await Be(De(ae,this.collectionName))).docs.map(r=>Je(r.ref));await Promise.all(t)}async listMaintenanceRecord(e,t,r){var f,m,y,_;let s=[];if(e!=null&&e.simples)for(const b of e.simples){let E;(f=b.value)!=null&&f.string?E=b.value.string:((m=b.value)==null?void 0:m.number)!==void 0?E=b.value.number:((y=b.value)==null?void 0:y.enumeration)!==void 0?E=b.value.enumeration:((_=b.value)==null?void 0:_.boolean)!==void 0&&(E=b.value.boolean),E!==void 0&&b.symbol===1&&s.push(qe(b.field,"==",E))}if(t!=null&&t.orders)for(const b of t.orders)s.push(yc(b.field,b.symbol===1?"asc":"desc"));const a=Ze(De(ae,this.collectionName),...s),u=(await Be(a)).docs.map(b=>b.data());return[u,{number:1,size:u.length,total:u.length}]}async getMaintenanceRecordById(e){const t=Me(ae,this.collectionName,e),r=await jr(t);return r.exists()?[r.data()]:[]}async setMaintenanceRecordById(e,t){const r=Me(ae,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await jr(r);let u=l.exists()?l.data():null;const f={...t,id:e,data_updater:a,update_time:s,data_creator:(u==null?void 0:u.data_creator)||t.data_creator||a,create_time:(u==null?void 0:u.create_time)||t.create_time||s};return await Tr(r,f),[f]}async deleteMaintenanceRecordById(e){await Je(Me(ae,this.collectionName,e))}async getMaintenanceRecordByCompanyId(e){const t=Ze(De(ae,this.collectionName),qe("company_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setMaintenanceRecordByCompanyId(e,t){if(t.id)return this.setMaintenanceRecordById(t.id,t);const r=await this.getMaintenanceRecordByCompanyId(e);return r.length>0?this.setMaintenanceRecordById(r[0].id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByCompanyId(e){const r=(await this.getMaintenanceRecordByCompanyId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByVehicleId(e){const t=Ze(De(ae,this.collectionName),qe("vehicle_id","==",e));return(await Be(t)).docs.map(s=>s.data())}async setMaintenanceRecordByVehicleId(e,t){if(t.id)return this.setMaintenanceRecordById(t.id,t);const r=await this.getMaintenanceRecordByVehicleId(e);return r.length>0?this.setMaintenanceRecordById(r[0].id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByVehicleId(e){const r=(await this.getMaintenanceRecordByVehicleId(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByServiceDate(e){const t=Ze(De(ae,this.collectionName),qe("service_date","==",e));return(await Be(t)).docs.map(s=>s.data())}async setMaintenanceRecordByServiceDate(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByServiceDate(e){const r=(await this.getMaintenanceRecordByServiceDate(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByDataCreator(e){const t=Ze(De(ae,this.collectionName),qe("data_creator","==",e));return(await Be(t)).docs.map(s=>s.data())}async setMaintenanceRecordByDataCreator(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByDataCreator(e){const r=(await this.getMaintenanceRecordByDataCreator(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByDataUpdater(e){const t=Ze(De(ae,this.collectionName),qe("data_updater","==",e));return(await Be(t)).docs.map(s=>s.data())}async setMaintenanceRecordByDataUpdater(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByDataUpdater(e){const r=(await this.getMaintenanceRecordByDataUpdater(e)).map(s=>Je(Me(ae,this.collectionName,s.id)));await Promise.all(r)}};mr(mm,"instance",null);let j1=mm;function Zee({...n}){return g.jsx(XL,{"data-slot":"sheet",...n})}function ete({...n}){return g.jsx(ZL,{"data-slot":"sheet-portal",...n})}function tte({className:n,...e}){return g.jsx(e3,{"data-slot":"sheet-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function nte({className:n,children:e,side:t="right",...r}){return g.jsxs(ete,{children:[g.jsx(tte,{}),g.jsxs(t3,{"data-slot":"sheet-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,g.jsxs(s3,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[g.jsx(fR,{className:"size-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function rte({className:n,...e}){return g.jsx("div",{"data-slot":"sheet-header",className:Fe("flex flex-col gap-1.5 p-4",n),...e})}function ste({className:n,...e}){return g.jsx(n3,{"data-slot":"sheet-title",className:Fe("text-foreground font-semibold",n),...e})}function ite({className:n,...e}){return g.jsx(r3,{"data-slot":"sheet-description",className:Fe("text-muted-foreground text-sm",n),...e})}function ate({className:n,...e}){return g.jsx("textarea",{"data-slot":"textarea",className:Fe("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function ote({vehicles:n,companyId:e}){var U,Y;const[t,r]=I.useState(!1),[s,a]=I.useState(null),[l,u]=I.useState(!1),[f,m]=I.useState({vehicle_name:"",license_plate:"",type:no.BoxTruck16ft,capacity_cft:0}),[y,_]=I.useState({service_date:pb(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:xa.Routine,notes:""}),b=Iu(),{data:E}=$l({queryKey:["maintenance",s==null?void 0:s.id],queryFn:async()=>s?(await j1.getInstance().getAllMaintenanceRecord()).filter(D=>D.vehicle_id===s.id):[],enabled:!!s}),T=ds({mutationFn:async W=>await Bb.getInstance().insertVehicle([{...W,company_id:e}]),onSuccess:()=>{b.invalidateQueries({queryKey:["vehicles"]}),r(!1),m({vehicle_name:"",license_plate:"",type:no.BoxTruck16ft,capacity_cft:0})}}),C=ds({mutationFn:async W=>{await Bb.getInstance().deleteVehicleByIDs([W])},onSuccess:()=>{b.invalidateQueries({queryKey:["vehicles"]})}}),N=ds({mutationFn:async W=>{if(!s)throw new Error("No vehicle selected");return await j1.getInstance().insertMaintenanceRecord([{...W,vehicle_id:s.id,company_id:e}])},onSuccess:()=>{b.invalidateQueries({queryKey:["maintenance",s==null?void 0:s.id]}),_({service_date:pb(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:xa.Routine,notes:""})}}),M=W=>({[no.Unspecified]:"Unspecified",[no.BoxTruck16ft]:"Box Truck 16ft",[no.BoxTruck26ft]:"Box Truck 26ft",[no.CargoVan]:"Cargo Van",[no.Flatbed]:"Flatbed"})[W],B=W=>({[xa.Unspecified]:"Unspecified",[xa.Routine]:"Routine",[xa.Repair]:"Repair",[xa.Inspection]:"Inspection",[xa.Upgrade]:"Upgrade"})[W];return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Vehicles Management"}),g.jsx(Ti,{children:"Manage your fleet of moving vehicles"})]}),g.jsxs(rl,{open:t,onOpenChange:r,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"New Vehicle"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create New Vehicle"}),g.jsx(gc,{children:"Add a new vehicle to your fleet"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"vehicle_name",children:"Vehicle Name"}),g.jsx(Jt,{id:"vehicle_name",value:f.vehicle_name,onChange:W=>m({...f,vehicle_name:W.target.value}),placeholder:"Truck 1"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"license_plate",children:"License Plate"}),g.jsx(Jt,{id:"license_plate",value:f.license_plate,onChange:W=>m({...f,license_plate:W.target.value}),placeholder:"ABC-1234"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"type",children:"Vehicle Type"}),g.jsxs(Aa,{value:(U=f.type)==null?void 0:U.toString(),onValueChange:W=>m({...f,type:parseInt(W)}),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select type"})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:no.BoxTruck16ft.toString(),children:"Box Truck 16ft"}),g.jsx(Jn,{value:no.BoxTruck26ft.toString(),children:"Box Truck 26ft"}),g.jsx(Jn,{value:no.CargoVan.toString(),children:"Cargo Van"}),g.jsx(Jn,{value:no.Flatbed.toString(),children:"Flatbed"})]})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"capacity_cft",children:"Capacity (cubic feet)"}),g.jsx(Jt,{id:"capacity_cft",type:"number",value:f.capacity_cft||"",onChange:W=>m({...f,capacity_cft:parseFloat(W.target.value)||0}),placeholder:"1000"})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),g.jsx($e,{onClick:()=>T.mutate(f),children:"Create Vehicle"})]})]})]})]})}),g.jsx(Mr,{children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(uS,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"No vehicles yet. Add your first vehicle to get started."})]}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Name"}),g.jsx(Rn,{children:"License Plate"}),g.jsx(Rn,{children:"Type"}),g.jsx(Rn,{className:"text-right",children:"Capacity (cu ft)"}),g.jsx(Rn,{className:"text-right",children:"Actions"})]})}),g.jsx(Qy,{children:n.map(W=>g.jsxs(fo,{children:[g.jsx(In,{className:"font-medium",children:W.vehicle_name}),g.jsx(In,{children:W.license_plate}),g.jsx(In,{children:M(W.type)}),g.jsx(In,{className:"text-right",children:W.capacity_cft||"-"}),g.jsx(In,{className:"text-right",children:g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>{a(W),u(!0)},children:g.jsx(p7,{className:"h-4 w-4"})}),g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>C.mutate(W.id),children:g.jsx(oc,{className:"h-4 w-4"})})]})})]},W.id))})]})}),g.jsx(Zee,{open:l,onOpenChange:W=>{u(W),W||(a(null),_({service_date:pb(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:xa.Routine,notes:""}))},children:g.jsxs(nte,{className:"overflow-y-auto sm:max-w-xl",children:[g.jsxs(rte,{children:[g.jsx(ste,{children:"Maintenance Records"}),g.jsxs(ite,{children:["Maintenance history for ",s==null?void 0:s.vehicle_name," (",s==null?void 0:s.license_plate,")"]})]}),g.jsxs("div",{className:"py-6 space-y-6",children:[g.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-muted/20",children:[g.jsx("h3",{className:"font-semibold text-sm",children:"Add Maintenance Log"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_date",children:"Date"}),g.jsx(Jt,{id:"m_date",type:"date",value:y.service_date,onChange:W=>_({...y,service_date:W.target.value})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_type",children:"Type"}),g.jsxs(Aa,{value:(Y=y.type)==null?void 0:Y.toString(),onValueChange:W=>_({...y,type:parseInt(W)}),children:[g.jsx(Ia,{id:"m_type",children:g.jsx(Ra,{})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:xa.Routine.toString(),children:"Routine"}),g.jsx(Jn,{value:xa.Repair.toString(),children:"Repair"}),g.jsx(Jn,{value:xa.Inspection.toString(),children:"Inspection"}),g.jsx(Jn,{value:xa.Upgrade.toString(),children:"Upgrade"})]})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_desc",children:"Description"}),g.jsx(Jt,{id:"m_desc",value:y.description,onChange:W=>_({...y,description:W.target.value}),placeholder:"Oil change, brake pad replacement..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_cost",children:"Cost ($)"}),g.jsx(Jt,{id:"m_cost",type:"number",value:y.cost,onChange:W=>_({...y,cost:parseFloat(W.target.value)||0})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_odo",children:"Odometer"}),g.jsx(Jt,{id:"m_odo",type:"number",value:y.odometer_reading||"",onChange:W=>_({...y,odometer_reading:parseFloat(W.target.value)||0})})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_performed",children:"Performed By"}),g.jsx(Jt,{id:"m_performed",value:y.performed_by,onChange:W=>_({...y,performed_by:W.target.value}),placeholder:"Mechanic or shop name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(lt,{htmlFor:"m_notes",children:"Notes"}),g.jsx(ate,{id:"m_notes",value:y.notes||"",onChange:W=>_({...y,notes:W.target.value})})]}),g.jsx($e,{className:"w-full",onClick:()=>N.mutate(y),disabled:!y.description||!y.service_date,children:"Add Record"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-sm mb-4",children:"History"}),!E||E.length===0?g.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No maintenance records found."}):g.jsx("div",{className:"space-y-4",children:E.map(W=>g.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("div",{className:"font-medium",children:W.description}),g.jsxs("div",{className:"text-sm font-semibold",children:["$",W.cost.toFixed(2)]})]}),g.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[g.jsxs("div",{children:["Date: ",W.service_date]}),g.jsxs("div",{children:["Type: ",B(W.type)]}),W.odometer_reading&&g.jsxs("div",{children:["Odo: ",W.odometer_reading]})]}),g.jsxs("div",{className:"text-xs text-muted-foreground",children:["By: ",W.performed_by]}),W.notes&&g.jsx("div",{className:"text-xs bg-muted p-2 rounded mt-2",children:W.notes})]},W.id))})]})]})]})})]})}function lte({payrollRecords:n,workers:e,companyId:t}){const[r,s]=I.useState(!1),[a,l]=I.useState({worker_id:"",pay_period_start:"",pay_period_end:"",hourly_wage:0,hours_worked:0,total_pay:0,status:Yo.Draft}),u=Iu(),f=ds({mutationFn:async T=>{const C=Xg.getInstance(),N=T.pay_period_start?Math.floor(new Date(T.pay_period_start).getTime()/1e3).toString():"",M=T.pay_period_end?Math.floor(new Date(T.pay_period_end).getTime()/1e3).toString():"";return await C.insertPayrollRecord([{...T,company_id:t,pay_period_start:N,pay_period_end:M,total_pay:(T.hourly_wage||0)*(T.hours_worked||0)}])},onSuccess:()=>{u.invalidateQueries({queryKey:["payrollRecords"]}),s(!1),l({worker_id:"",pay_period_start:"",pay_period_end:"",hourly_wage:0,hours_worked:0,total_pay:0,status:Yo.Draft})}}),m=ds({mutationFn:async({id:T,status:C})=>{const N=Xg.getInstance(),M=await N.getPayrollRecordByIDs([T]);if(M.length>0){const B={...M[0],status:C};await N.setPayrollRecordById(T,B)}},onSuccess:()=>{u.invalidateQueries({queryKey:["payrollRecords"]})}}),y=ds({mutationFn:async T=>{await Xg.getInstance().deletePayrollRecordByIDs([T])},onSuccess:()=>{u.invalidateQueries({queryKey:["payrollRecords"]})}}),_=()=>{f.mutate(a)},b=T=>{const N={[Yo.Unspecified]:{variant:"outline",label:"Unspecified"},[Yo.Draft]:{variant:"secondary",label:"Draft"},[Yo.Approved]:{variant:"default",label:"Approved"},[Yo.Paid]:{variant:"outline",label:"Paid"}}[T];return g.jsx(Ki,{variant:N.variant,children:N.label})},E=T=>{const C=e.find(N=>N.id===T);return(C==null?void 0:C.full_name)||"Unknown Worker"};return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Payroll Management"}),g.jsx(Ti,{children:"Manage worker wages and payroll records"})]}),g.jsxs(rl,{open:r,onOpenChange:s,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"New Payroll Record"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Create Payroll Record"}),g.jsx(gc,{children:"Enter payroll details for a worker"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"worker_id",children:"Worker"}),g.jsxs(Aa,{value:a.worker_id,onValueChange:T=>l({...a,worker_id:T}),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select worker"})}),g.jsx(Na,{children:e.map(T=>g.jsx(Jn,{value:T.id,children:T.full_name},T.id))})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"pay_period_start",children:"Pay Period Start"}),g.jsx(Jt,{id:"pay_period_start",type:"date",value:a.pay_period_start,onChange:T=>l({...a,pay_period_start:T.target.value})})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"pay_period_end",children:"Pay Period End"}),g.jsx(Jt,{id:"pay_period_end",type:"date",value:a.pay_period_end,onChange:T=>l({...a,pay_period_end:T.target.value})})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"hourly_wage",children:"Hourly Wage ($)"}),g.jsx(Jt,{id:"hourly_wage",type:"number",value:a.hourly_wage||"",onChange:T=>l({...a,hourly_wage:parseFloat(T.target.value)||0}),placeholder:"25.00"})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"hours_worked",children:"Hours Worked"}),g.jsx(Jt,{id:"hours_worked",type:"number",value:a.hours_worked||"",onChange:T=>l({...a,hours_worked:parseFloat(T.target.value)||0}),placeholder:"40"})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{children:"Total Pay"}),g.jsxs("div",{className:"text-2xl font-bold",children:["$",((a.hourly_wage||0)*(a.hours_worked||0)).toFixed(2)]})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),g.jsx($e,{onClick:_,children:"Create Payroll Record"})]})]})]})]})}),g.jsx(Mr,{children:n.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(wM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"No payroll records yet. Create your first payroll record to get started."})]}):g.jsxs(Yy,{children:[g.jsx(Ky,{children:g.jsxs(fo,{children:[g.jsx(Rn,{children:"Worker"}),g.jsx(Rn,{children:"Pay Period"}),g.jsx(Rn,{children:"Hourly Wage"}),g.jsx(Rn,{children:"Hours Worked"}),g.jsx(Rn,{children:"Total Pay"}),g.jsx(Rn,{children:"Status"}),g.jsx(Rn,{className:"text-right",children:"Actions"})]})}),g.jsx(Qy,{children:n.map(T=>g.jsxs(fo,{children:[g.jsx(In,{className:"font-medium",children:E(T.worker_id)}),g.jsxs(In,{children:[new Date(parseInt(T.pay_period_start)*1e3).toLocaleDateString()," - ",new Date(parseInt(T.pay_period_end)*1e3).toLocaleDateString()]}),g.jsxs(In,{children:["$",T.hourly_wage.toFixed(2)]}),g.jsx(In,{children:T.hours_worked}),g.jsxs(In,{className:"font-medium",children:["$",T.total_pay.toFixed(2)]}),g.jsx(In,{children:b(T.status)}),g.jsx(In,{className:"text-right",children:g.jsxs("div",{className:"flex gap-2 justify-end",children:[T.status===Yo.Draft&&g.jsx($e,{variant:"outline",size:"sm",onClick:()=>m.mutate({id:T.id,status:Yo.Approved}),children:"Approve"}),T.status===Yo.Approved&&g.jsx($e,{variant:"outline",size:"sm",onClick:()=>m.mutate({id:T.id,status:Yo.Paid}),children:"Mark Paid"}),g.jsx($e,{variant:"ghost",size:"sm",onClick:()=>y.mutate(T.id),children:g.jsx(oc,{className:"h-4 w-4"})})]})})]},T.id))})]})})]})}function cte({jobs:n,workers:e,equipment:t,vehicles:r,jobAssignments:s,vehicleAssignments:a,equipmentAllocations:l,companyId:u}){const[f,m]=I.useState(!1),[y,_]=I.useState(""),[b,E]=I.useState("worker"),[T,C]=I.useState(""),[N,M]=I.useState(""),[B,U]=I.useState(""),Y=Iu(),W=ds({mutationFn:async({jobId:_e,workerId:Q})=>{await Ub.getInstance().insertJobWorkerAssignment([{job_id:_e,worker_id:Q,company_id:u}])},onSuccess:()=>{Y.invalidateQueries({queryKey:["jobAssignments"]}),q()}}),K=ds({mutationFn:async({jobId:_e,vehicleId:Q})=>{await Fb.getInstance().insertJobVehicleAssignment([{job_id:_e,vehicle_id:Q,company_id:u}])},onSuccess:()=>{Y.invalidateQueries({queryKey:["vehicleAssignments"]}),q()}}),D=ds({mutationFn:async({jobId:_e,equipmentId:Q})=>{await zb.getInstance().insertJobEquipmentAllocation([{job_id:_e,equipment_id:Q,company_id:u}])},onSuccess:()=>{Y.invalidateQueries({queryKey:["equipmentAllocations"]}),q()}}),P=ds({mutationFn:async _e=>{await Ub.getInstance().deleteJobWorkerAssignmentByIDs([_e])},onSuccess:()=>{Y.invalidateQueries({queryKey:["jobAssignments"]})}}),L=ds({mutationFn:async _e=>{await Fb.getInstance().deleteJobVehicleAssignmentByIDs([_e])},onSuccess:()=>{Y.invalidateQueries({queryKey:["vehicleAssignments"]})}}),V=ds({mutationFn:async _e=>{await zb.getInstance().deleteJobEquipmentAllocationByIDs([_e])},onSuccess:()=>{Y.invalidateQueries({queryKey:["equipmentAllocations"]})}}),q=()=>{m(!1),_(""),C(""),M(""),U("")},J=()=>{y&&(b==="worker"&&T?W.mutate({jobId:y,workerId:T}):b==="vehicle"&&B?K.mutate({jobId:y,vehicleId:B}):b==="equipment"&&N&&D.mutate({jobId:y,equipmentId:N}))},$=_e=>{const Q=e.find(ye=>ye.id===_e);return(Q==null?void 0:Q.full_name)||"Unknown Worker"},Ee=_e=>s.filter(Q=>Q.job_id===_e),de=_e=>a.filter(Q=>Q.job_id===_e),X=_e=>l.filter(Q=>Q.job_id===_e),ce=_e=>{const Q=r.find(ye=>ye.id===_e);return(Q==null?void 0:Q.vehicle_name)||"Unknown Vehicle"},se=_e=>{const Q=t.find(ye=>ye.id===_e);return(Q==null?void 0:Q.name)||"Unknown Equipment"},Pe=n.filter(_e=>_e.status===Dr.Booked||_e.status===Dr.InProgress);return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:"Job Scheduling"}),g.jsx(Ti,{children:"Assign workers, equipment, and vehicles to jobs"})]}),g.jsxs(rl,{open:f,onOpenChange:m,children:[g.jsx(Gy,{asChild:!0,children:g.jsxs($e,{children:[g.jsx(hc,{className:"h-4 w-4 mr-2"}),"Assign Resources"]})}),g.jsxs(sl,{children:[g.jsxs(il,{children:[g.jsx(al,{children:"Assign Resources to Job"}),g.jsx(gc,{children:"Select a job and resources to create assignments"})]}),g.jsxs("div",{className:"grid gap-4 py-4",children:[g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"job",children:"Job"}),g.jsxs(Aa,{value:y,onValueChange:_,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select job"})}),g.jsx(Na,{children:Pe.map(_e=>g.jsxs(Jn,{value:_e.id,children:[_e.customer_name," - ",new Date(parseInt(_e.scheduled_date)*1e3).toLocaleDateString()]},_e.id))})]})]}),g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"resourceType",children:"Resource Type"}),g.jsxs(Aa,{value:b,onValueChange:_e=>E(_e),children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select resource type"})}),g.jsxs(Na,{children:[g.jsx(Jn,{value:"worker",children:"Worker"}),g.jsx(Jn,{value:"equipment",children:"Equipment"}),g.jsx(Jn,{value:"vehicle",children:"Vehicle"})]})]})]}),b==="worker"&&g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"worker",children:"Worker"}),g.jsxs(Aa,{value:T,onValueChange:C,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select worker"})}),g.jsx(Na,{children:e.filter(_e=>_e.status===Ql.Active).map(_e=>g.jsx(Jn,{value:_e.id,children:_e.full_name},_e.id))})]})]}),b==="equipment"&&g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"equipment",children:"Equipment"}),g.jsxs(Aa,{value:N,onValueChange:M,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select equipment"})}),g.jsx(Na,{children:t.map(_e=>g.jsx(Jn,{value:_e.id,children:_e.name},_e.id))})]})]}),b==="vehicle"&&g.jsxs("div",{className:"grid gap-2",children:[g.jsx(lt,{htmlFor:"vehicle",children:"Vehicle"}),g.jsxs(Aa,{value:B,onValueChange:U,children:[g.jsx(Ia,{children:g.jsx(Ra,{placeholder:"Select vehicle"})}),g.jsx(Na,{children:r.map(_e=>g.jsx(Jn,{value:_e.id,children:_e.vehicle_name},_e.id))})]})]})]}),g.jsxs(pc,{children:[g.jsx($e,{variant:"outline",onClick:q,children:"Cancel"}),g.jsx($e,{onClick:J,children:"Assign Resource"})]})]})]})]})}),g.jsx(Mr,{children:Pe.length===0?g.jsxs("div",{className:"text-center py-12",children:[g.jsx(bM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),g.jsx("p",{className:"text-muted-foreground",children:"No active jobs to schedule. Create or book a job first."})]}):g.jsx("div",{className:"grid gap-4",children:Pe.map(_e=>{const Q=Ee(_e.id),ye=de(_e.id),Ce=X(_e.id),Ne=Q.length===0&&ye.length===0&&Ce.length===0;return g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(Wr,{className:"text-lg",children:_e.customer_name}),g.jsxs(Ti,{children:[new Date(parseInt(_e.scheduled_date)*1e3).toLocaleDateString()," - ",_e.pickup_address,"  ",_e.dropoff_address]})]}),g.jsx(Ki,{children:_e.status===Dr.Booked?"Booked":"In Progress"})]})}),g.jsx(Mr,{children:Ne?g.jsx("p",{className:"text-muted-foreground text-sm",children:"No resources assigned yet"}):g.jsxs("div",{className:"space-y-4",children:[Q.length>0&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Workers:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:Q.map(Ue=>g.jsxs(Ki,{variant:"outline",className:"flex items-center gap-2",children:[$(Ue.worker_id),g.jsx($e,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>P.mutate(Ue.id),children:g.jsx(oc,{className:"h-3 w-3"})})]},Ue.id))})]}),ye.length>0&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Vehicles:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:ye.map(Ue=>g.jsxs(Ki,{variant:"secondary",className:"flex items-center gap-2",children:[ce(Ue.vehicle_id),g.jsx($e,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>L.mutate(Ue.id),children:g.jsx(oc,{className:"h-3 w-3"})})]},Ue.id))})]}),Ce.length>0&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("p",{className:"text-sm font-medium",children:"Equipment:"}),g.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.map(Ue=>g.jsxs(Ki,{variant:"default",className:"flex items-center gap-2",children:[se(Ue.equipment_id),g.jsx($e,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:()=>V.mutate(Ue.id),children:g.jsx(oc,{className:"h-3 w-3"})})]},Ue.id))})]})]})})]},_e.id)})})})]})}const ute=wu("/")({component:dte});function dte(){const[n,e]=I.useState("dashboard");Iu();const{isAuthenticated:t,isLoading:r,companyId:s,role:a}=mS(),l=ep();I.useEffect(()=>{r||(t?a==="customer"?l({to:"/portal"}):s||l({to:"/onboarding"}):l({to:"/login"}))},[r,t,s,a,l]);const{data:u}=$l({queryKey:["company",s],enabled:!!s,queryFn:async()=>s&&(await wy.getInstance().getCompanyById(s))[0]||null}),{data:f=[]}=$l({queryKey:["jobs",s],enabled:!!s,queryFn:async()=>s?await Xm.getInstance().getJobsByCompanyId(s):[]}),{data:m=[]}=$l({queryKey:["workers",s],enabled:!!s,queryFn:async()=>s?await Iy.getInstance().getWorkersByCompanyId(s):[]}),{data:y=[]}=$l({queryKey:["equipment",s],enabled:!!s,queryFn:async()=>s?await Vb.getInstance().getEquipmentByCompanyId(s):[]}),{data:_=[]}=$l({queryKey:["vehicles",s],enabled:!!s,queryFn:async()=>s?await Bb.getInstance().getVehiclesByCompanyId(s):[]}),{data:b=[]}=$l({queryKey:["payrollRecords",s],enabled:!!s,queryFn:async()=>s?await Xg.getInstance().getPayrollRecordsByCompanyId(s):[]}),{data:E=[]}=$l({queryKey:["jobAssignments",s],enabled:!!s,queryFn:async()=>s?await Ub.getInstance().getJobWorkerAssignmentByCompanyId(s):[]}),{data:T=[]}=$l({queryKey:["vehicleAssignments",s],enabled:!!s,queryFn:async()=>s?await Fb.getInstance().getJobVehicleAssignmentByCompanyId(s):[]}),{data:C=[]}=$l({queryKey:["equipmentAllocations",s],enabled:!!s,queryFn:async()=>s?await zb.getInstance().getJobEquipmentAllocationByCompanyId(s):[]}),N=m.filter(B=>B.status===Ql.Active),M=f.filter(B=>B.status===Dr.Booked||B.status===Dr.InProgress);return r?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):!t&&!r?null:g.jsxs("div",{className:"flex min-h-[calc(100vh-3.5rem)]",children:[g.jsxs("aside",{className:"w-64 border-r bg-muted/30 p-4 shrink-0",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-lg font-bold tracking-tight px-2",children:(u==null?void 0:u.name)||"Loading..."}),g.jsx("p",{className:"text-sm text-muted-foreground px-2",children:"Moving Company Manager"})]}),g.jsxs("nav",{className:"space-y-1",children:[g.jsxs($e,{variant:n==="dashboard"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("dashboard"),children:[g.jsx(Q8,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),g.jsxs($e,{variant:n==="jobs"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("jobs"),children:[g.jsx(lS,{className:"mr-2 h-4 w-4"}),"Jobs"]}),g.jsxs($e,{variant:n==="scheduling"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("scheduling"),children:[g.jsx(bM,{className:"mr-2 h-4 w-4"}),"Scheduling"]}),g.jsxs($e,{variant:n==="workers"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("workers"),children:[g.jsx(TM,{className:"mr-2 h-4 w-4"}),"Workers"]}),g.jsxs($e,{variant:n==="equipment"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("equipment"),children:[g.jsx(cS,{className:"mr-2 h-4 w-4"}),"Equipment"]}),g.jsxs($e,{variant:n==="vehicles"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("vehicles"),children:[g.jsx(uS,{className:"mr-2 h-4 w-4"}),"Vehicles"]}),g.jsxs($e,{variant:n==="payroll"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("payroll"),children:[g.jsx(wM,{className:"mr-2 h-4 w-4"}),"Payroll"]})]})]}),g.jsx("main",{className:"flex-1 p-6 overflow-auto",children:g.jsxs(xj,{value:n,onValueChange:e,className:"space-y-6",children:[g.jsx(em,{value:"dashboard",className:"m-0",children:g.jsx(Lee,{jobs:f,workers:m,equipment:y,vehicles:_,activeWorkers:N,upcomingJobs:M})}),g.jsx(em,{value:"jobs",className:"m-0",children:g.jsx(Qee,{jobs:f,workers:m,vehicles:_,equipment:y,companyId:(u==null?void 0:u.id)||""})}),g.jsx(em,{value:"scheduling",className:"m-0",children:g.jsx(cte,{jobs:f,workers:m,equipment:y,vehicles:_,jobAssignments:E,vehicleAssignments:T,equipmentAllocations:C,companyId:(u==null?void 0:u.id)||""})}),g.jsx(em,{value:"workers",className:"m-0",children:g.jsx(Jee,{workers:m,companyId:(u==null?void 0:u.id)||""})}),g.jsx(em,{value:"equipment",className:"m-0",children:g.jsx(Xee,{equipment:y,companyId:(u==null?void 0:u.id)||""})}),g.jsx(em,{value:"vehicles",className:"m-0",children:g.jsx(ote,{vehicles:_,companyId:(u==null?void 0:u.id)||""})}),g.jsx(em,{value:"payroll",className:"m-0",children:g.jsx(lte,{payrollRecords:b,workers:m,companyId:(u==null?void 0:u.id)||""})})]})})]})}const fte=wu("/portal/")({component:hte});function hte(){return g.jsx("div",{children:'Hello "/portal/"!'})}function mte(){const{jobId:n}=F1({from:"/jobs/$jobId"}),[e,t]=I.useState(null),[r,s]=I.useState(null),[a,l]=I.useState(!0),[u,f]=I.useState(null);return I.useEffect(()=>{n&&(async()=>{try{const _=await Xm.getInstance().getJobById(n);if(_.length===0)f("Job not found");else if(t(_[0]),_[0].company_id){const E=await wy.getInstance().getCompanyById(_[0].company_id);E.length>0&&s(E[0])}}catch(y){console.error(y),f("Failed to load job details")}finally{l(!1)}})()},[n]),a?g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading job details..."}):u||!e?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-4",children:[g.jsx("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Error"}),g.jsx("p",{className:"text-muted-foreground",children:u||"Job not found"})]}):g.jsx("div",{className:"min-h-screen bg-gray-50/50 p-4 md:p-8",children:g.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[g.jsxs("div",{className:"text-center space-y-2",children:[g.jsx("h1",{className:"text-2xl font-bold",children:(r==null?void 0:r.name)||"Moving Company"}),g.jsx("p",{className:"text-sm text-muted-foreground",children:"Job Details & Inventory"})]}),g.jsxs(Pr,{children:[g.jsx(qr,{children:g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx(Wr,{children:e.customer_name}),g.jsxs(Ti,{children:["Move scheduled for ",new Date(e.scheduled_date).toLocaleDateString()]})]}),g.jsx(Ki,{variant:e.status===1?"secondary":"default",children:e.status===1?"Quote":"Booked"})]})}),g.jsxs(Mr,{className:"space-y-6",children:[g.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(G_,{icon:y1,label:"Pickup Location"}),g.jsx("p",{className:"font-medium",children:e.pickup_address})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(G_,{icon:y1,label:"Dropoff Location"}),g.jsx("p",{className:"font-medium",children:e.dropoff_address})]})]}),g.jsx(Db,{}),g.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx(G_,{icon:lS,label:"Date"}),g.jsx("p",{className:"font-medium",children:new Date(e.scheduled_date).toLocaleDateString()})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx(G_,{icon:uS,label:"Distance"}),g.jsx("p",{className:"font-medium",children:e.estimated_cost?"Calculated":"Pending"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx(G_,{icon:cS,label:"Items"}),g.jsxs("p",{className:"font-medium",children:[e.inventory_data?JSON.parse(e.inventory_data).reduce((m,y)=>m+y.totalItems,0):0," items"]})]})]}),g.jsx(Db,{}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inventory"}),e.inventory_data?g.jsx(M1,{initialRooms:JSON.parse(e.inventory_data),readOnly:!0,onInventoryChange:()=>{}}):g.jsx("p",{className:"text-muted-foreground text-sm",children:"No inventory data available."})]})]})]})]})})}function G_({icon:n,label:e}){return g.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[g.jsx(n,{className:"w-4 h-4 mr-1"}),g.jsx("span",{children:e})]})}const pte=wu("/jobs/$jobId")({component:mte}),f3=ZW.update({id:"/portal",path:"/portal",getParentRoute:()=>ip}),gte=aH.update({id:"/onboarding",path:"/onboarding",getParentRoute:()=>ip}),yte=f$.update({id:"/login",path:"/login",getParentRoute:()=>ip}),vte=Mee.update({id:"/get-quote",path:"/get-quote",getParentRoute:()=>ip}),_te=ute.update({id:"/",path:"/",getParentRoute:()=>ip}),bte=fte.update({id:"/",path:"/",getParentRoute:()=>f3}),wte=pte.update({id:"/jobs/$jobId",path:"/jobs/$jobId",getParentRoute:()=>ip}),xte={PortalIndexRoute:bte},Ste=f3._addFileChildren(xte),Ete={IndexRoute:_te,GetQuoteRoute:vte,LoginRoute:yte,OnboardingRoute:gte,PortalRoute:Ste,JobsJobIdRoute:wte},Tte=ip._addFileChildren(Ete)._addFileTypes();Cte();function Cte(){const n=Ate();return window.APP_CONFIG=n,console.log("App Configuration:",{userId:n.userId,projectId:n.projectId,taskId:n.taskId,workspaceId:n.workspaceId,uploadFolder:n.uploadFolder,baseUrl:n.baseUrl,isValidBuildUrl:n.isValidBuildUrl,currentUrl:window.location.href}),Promise.resolve().then(()=>{WW()}),n}function Ate(){const n=window.location.href,e=/^(https?:\/\/[^\/]+)\/builds\/([^\/]+)\/([^\/]+)\/([^\/]+)\/dist/,t=n.match(e);if(t){const[,r,s,a,l]=t,u=`${a}-${l}`;return{userId:s,projectId:a,taskId:l,workspaceId:u,uploadFolder:"resources",baseUrl:r,isValidBuildUrl:!0}}return{userId:null,projectId:null,taskId:null,workspaceId:null,uploadFolder:null,baseUrl:null,isValidBuildUrl:!1}}const Rte=new $3({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}}),Ite=$6({routeTree:Tte,context:{},defaultPreload:"intent",scrollRestoration:!0,defaultStructuralSharing:!0,defaultPreloadStaleTime:0,basepath:"/"}),FT=document.getElementById("app");FT&&!FT.innerHTML&&tB.createRoot(FT).render(g.jsx(I.StrictMode,{children:g.jsx(Y3,{client:Rte,children:g.jsx(K6,{router:Ite})})}));
