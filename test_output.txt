
 RUN  v3.2.4 /Users/mmioi/Downloads/creao-build-695955accc326a23abf3140a

 âœ“ src/components/ui/__tests__/avatar.test.tsx (3 tests) 100ms
 â¯ src/components/ui/__tests__/separator.test.tsx (3 tests | 2 failed) 69ms
   Ã— Separator > renders horizontal by default 57ms
     â†’ [2mexpect([22m[31melement[39m[2m).toHaveClass([22m[32m[32m"h-[1px]"[32m[39m[2m)[22m

Expected the element to have class:
[32m  h-[1px][39m
Received:
[31m  bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px[39m
   Ã— Separator > renders vertical 7ms
     â†’ [2mexpect([22m[31melement[39m[2m).toHaveClass([22m[32m[32m"h-full"[32m[39m[2m)[22m

Expected the element to have class:
[32m  h-full[39m
Received:
[31m  bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px[39m
   âœ“ Separator > applies decorative prop 3ms
 âœ“ src/features/vehicles/components/__tests__/VehicleMaintenance.test.tsx (3 tests) 941ms
   âœ“ VehiclesView Maintenance > allows adding a new maintenance record  562ms
 âœ“ src/features/auth/__tests__/LoginView.test.tsx (5 tests) 890ms
 âœ“ src/features/quote/__tests__/PublicQuoteFlow.test.tsx (1 test) 894ms
   âœ“ PublicQuoteFlow Integration > completes full quote flow  892ms
 âœ“ src/features/worker/components/__tests__/ReportIncidentView.test.tsx (2 tests) 412ms
   âœ“ ReportIncidentView > submits the form  314ms
stderr | src/features/payroll/components/__tests__/PayrollView.test.tsx > PayrollView > opens create payroll dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/payroll/components/__tests__/PayrollView.test.tsx (3 tests) 247ms
stderr | src/features/jobs/components/__tests__/QuoteGenerator.test.tsx > Quote Generator Flow > allows navigating through the quote wizard
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/jobs/components/__tests__/QuoteGenerator.test.tsx (2 tests) 274ms
stderr | src/features/vehicles/components/__tests__/VehiclesView.test.tsx > VehiclesView > opens create vehicle dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/vehicles/components/__tests__/VehiclesView.test.tsx (3 tests) 246ms
stderr | src/features/jobs/components/__tests__/JobsViewInventory.test.tsx > JobsView Inventory Persistence > displays inventory section in edit dialog when inventory_data is present
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

stderr | src/features/jobs/components/__tests__/JobsViewInventory.test.tsx > JobsView Inventory Persistence > does not display inventory section when inventory_data is missing
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/jobs/components/__tests__/JobsViewInventory.test.tsx (2 tests) 250ms
stderr | src/features/scheduling/components/__tests__/SchedulingView.test.tsx > SchedulingView > opens assign resource dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/scheduling/components/__tests__/SchedulingView.test.tsx (3 tests) 262ms
stderr | src/features/jobs/components/__tests__/JobsView.test.tsx > JobsView > opens create job dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/jobs/components/__tests__/JobsView.test.tsx (3 tests) 238ms
stderr | src/features/workers/components/__tests__/WorkersView.test.tsx > WorkersView > opens create worker dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/workers/components/__tests__/WorkersView.test.tsx (3 tests) 256ms
stderr | src/features/equipment/components/__tests__/EquipmentView.test.tsx > EquipmentView > opens create equipment dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/equipment/components/__tests__/EquipmentView.test.tsx (3 tests) 212ms
 âœ“ src/features/portal/components/__tests__/PortalDashboard.test.tsx (4 tests) 208ms
stderr | src/features/jobs/components/__tests__/JobsViewQRCode.test.tsx > JobsView QR Code > displays QR code in edit dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/jobs/components/__tests__/JobsViewQRCode.test.tsx (1 test) 204ms
 âœ“ src/features/foreman/__tests__/ForemanWorkflow.test.tsx (3 tests) 171ms
 âœ“ src/features/foreman/__tests__/ForemanDashboard.test.tsx (2 tests) 153ms
 âœ“ src/components/ui/__tests__/checkbox.test.tsx (4 tests) 142ms
 âœ“ src/features/worker/components/__tests__/WorkerDashboard.test.tsx (4 tests) 144ms
stderr | src/features/team/__tests__/TeamManager.test.tsx > TeamManager > opens invite dialog
`DialogContent` requires a `DialogTitle` for the component to be accessible for screen reader users.

If you want to hide the `DialogTitle`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/dialog
Warning: Missing `Description` or `aria-describedby={undefined}` for {DialogContent}.

 âœ“ src/features/team/__tests__/TeamManager.test.tsx (2 tests) 154ms
 âœ“ src/components/ui/__tests__/textarea.test.tsx (4 tests) 123ms
 âœ“ src/components/ui/__tests__/switch.test.tsx (3 tests) 112ms
 âœ“ src/components/ui/__tests__/button.test.tsx (5 tests) 117ms
 âœ“ src/features/dashboard/components/__tests__/DashboardView.test.tsx (3 tests) 100ms
 âœ“ src/features/quote/__tests__/QuoteGeneration.test.tsx (2 tests) 103ms
 âœ“ src/components/ui/__tests__/input.test.tsx (4 tests) 107ms
 âœ“ src/features/onboarding/__tests__/OnboardingView.test.tsx (2 tests) 81ms
 âœ“ src/components/ui/__tests__/card.test.tsx (2 tests) 48ms
 âœ“ src/components/ui/__tests__/badge.test.tsx (5 tests) 48ms
 âœ“ src/components/ui/__tests__/label.test.tsx (2 tests) 42ms
 âœ“ src/components/ui/__tests__/skeleton.test.tsx (2 tests) 39ms
 âœ“ src/components/AppTest.test.tsx (2 tests) 28ms
 âœ“ src/hooks/__tests__/use-mobile.test.ts (2 tests) 24ms
 âœ“ src/lib/__tests__/utils.test.ts (6 tests) 12ms

â¯â¯â¯â¯â¯â¯ Failed Suites 3 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/features/auth/__tests__/InvitationAcceptance.test.tsx [ src/features/auth/__tests__/InvitationAcceptance.test.tsx ]
Error: [vitest] There was an error when mocking a module. If you are using "vi.mock" factory, make sure there are no top level variables inside, since this call is hoisted to top of the file. Read more: https://vitest.dev/api/vi.html#vi-mock
 â¯ src/routes/invite.tsx:5:1
      3| import { useState, useEffect } from "react";
      4| import { InvitationORM, type InvitationModel } from "@/sdk/database/orâ€¦
      5| import { createUserWithEmailAndPassword } from "firebase/auth";
       | ^
      6| import { auth, db } from "@/lib/firebase";
      7| import { doc, setDoc } from "firebase/firestore";

Caused by: ReferenceError: Cannot access 'mockCreateUser' before initialization
 â¯ src/features/auth/__tests__/InvitationAcceptance.test.tsx:29:37
 â¯ src/routes/invite.tsx:5:1

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/5]â¯

 FAIL  src/features/jobs/lib/__tests__/job-utils.test.ts [ src/features/jobs/lib/__tests__/job-utils.test.ts ]
Error: Failed to resolve import "../../sdk/database/orm/orm_job" from "src/features/jobs/lib/__tests__/job-utils.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/mmioi/Downloads/creao-build-695955accc326a23abf3140a/src/features/jobs/lib/__tests__/job-utils.test.ts:3:26
  1  |  import { describe, it, expect } from "vitest";
  2  |  import { JobStatus } from "../../sdk/database/orm/orm_job";
     |                             ^
  3  |  describe("JobStatus", () => {
  4  |    it("has correct enum values", () => {
 â¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42528:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42525:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40504:23
 â¯ node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40623:37
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40550:7
 â¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42323:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:35739:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/5]â¯

 FAIL  src/sdk/core/internal/__tests__/auth-helpers.test.ts [ src/sdk/core/internal/__tests__/auth-helpers.test.ts ]
Error: Failed to resolve import "../../../sdk/core/auth" from "src/sdk/core/internal/__tests__/auth-helpers.test.ts". Does the file exist?
  Plugin: vite:import-analysis
  File: /Users/mmioi/Downloads/creao-build-695955accc326a23abf3140a/src/sdk/core/internal/__tests__/auth-helpers.test.ts:3:0
  8  |    };
  9  |  });
  10 |  const __vi_import_0__ = await import("../../../sdk/core/auth");
     |                                       ^
  11 |  import { describe, it, expect, vi, beforeEach } from "vitest";
  12 |  
 â¯ TransformPluginContext._formatLog node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42528:41
 â¯ TransformPluginContext.error node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42525:16
 â¯ normalizeUrl node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40504:23
 â¯ node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40623:37
 â¯ TransformPluginContext.transform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:40550:7
 â¯ EnvironmentPluginContainer.transform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:42323:18
 â¯ loadAndTransform node_modules/vite/dist/node/chunks/dep-D4NMHUTW.js:35739:27

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/5]â¯


â¯â¯â¯â¯â¯â¯â¯ Failed Tests 2 â¯â¯â¯â¯â¯â¯â¯

 FAIL  src/components/ui/__tests__/separator.test.tsx > Separator > renders horizontal by default
Error: [2mexpect([22m[31melement[39m[2m).toHaveClass([22m[32m[32m"h-[1px]"[32m[39m[2m)[22m

Expected the element to have class:
[32m  h-[1px][39m
Received:
[31m  bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px[39m
 â¯ src/components/ui/__tests__/separator.test.tsx:11:21
      9|         render(<Separator data-testid="sep" />);
     10|         const sep = screen.getByTestId('sep');
     11|         expect(sep).toHaveClass('h-[1px]');
       |                     ^
     12|         expect(sep).toHaveClass('w-full');
     13|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/5]â¯

 FAIL  src/components/ui/__tests__/separator.test.tsx > Separator > renders vertical
Error: [2mexpect([22m[31melement[39m[2m).toHaveClass([22m[32m[32m"h-full"[32m[39m[2m)[22m

Expected the element to have class:
[32m  h-full[39m
Received:
[31m  bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px[39m
 â¯ src/components/ui/__tests__/separator.test.tsx:18:21
     16|         render(<Separator orientation="vertical" data-testid="sep" />);
     17|         const sep = screen.getByTestId('sep');
     18|         expect(sep).toHaveClass('h-full');
       |                     ^
     19|         expect(sep).toHaveClass('w-[1px]');
     20|     });

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/5]â¯


 Test Files  4 failed | 34 passed (38)
      Tests  2 failed | 101 passed (103)
   Start at  15:26:52
   Duration  59.29s (transform 834ms, setup 2.38s, collect 15.79s, tests 7.45s, environment 17.48s, prepare 3.32s)

