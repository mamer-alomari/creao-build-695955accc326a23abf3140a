{"version":3,"file":"@radix-ui_react-checkbox.js","names":["Fragment"],"sources":["../../@radix-ui/react-checkbox/dist/index.mjs"],"sourcesContent":["\"use client\";\n\n// src/checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProviderImpl, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nfunction CheckboxProvider(props) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = \"on\",\n    // @ts-expect-error\n    internal_do_not_use_render\n  } = props;\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME\n  });\n  const [control, setControl] = React.useState(null);\n  const [bubbleInput, setBubbleInput] = React.useState(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control ? !!form || !!control.closest(\"form\") : (\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    true\n  );\n  const context = {\n    checked,\n    disabled,\n    setChecked,\n    control,\n    setControl,\n    name,\n    form,\n    value,\n    hasConsumerStoppedPropagationRef,\n    required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl,\n    bubbleInput,\n    setBubbleInput\n  };\n  return /* @__PURE__ */ jsx(\n    CheckboxProviderImpl,\n    {\n      scope: __scopeCheckbox,\n      ...context,\n      children: isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children\n    }\n  );\n}\nvar TRIGGER_NAME = \"CheckboxTrigger\";\nvar CheckboxTrigger = React.forwardRef(\n  ({ __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }, forwardedRef) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener(\"reset\", reset);\n        return () => form.removeEventListener(\"reset\", reset);\n      }\n    }, [control, setChecked]);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"checkbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        \"aria-required\": required,\n        \"data-state\": getState(checked),\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        value,\n        ...checkboxProps,\n        ref: composedRefs,\n        onKeyDown: composeEventHandlers(onKeyDown, (event) => {\n          if (event.key === \"Enter\") event.preventDefault();\n        }),\n        onClick: composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })\n      }\n    );\n  }\n);\nCheckboxTrigger.displayName = TRIGGER_NAME;\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    return /* @__PURE__ */ jsx(\n      CheckboxProvider,\n      {\n        __scopeCheckbox,\n        checked,\n        defaultChecked,\n        disabled,\n        required,\n        onCheckedChange,\n        name,\n        form,\n        value,\n        internal_do_not_use_render: ({ isFormControl }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            CheckboxTrigger,\n            {\n              ...checkboxProps,\n              ref: forwardedRef,\n              __scopeCheckbox\n            }\n          ),\n          isFormControl && /* @__PURE__ */ jsx(\n            CheckboxBubbleInput,\n            {\n              __scopeCheckbox\n            }\n          )\n        ] })\n      }\n    );\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(context.checked) || context.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            \"data-state\": getState(context.checked),\n            \"data-disabled\": context.disabled ? \"\" : void 0,\n            ...indicatorProps,\n            ref: forwardedRef,\n            style: { pointerEvents: \"none\", ...props.style }\n          }\n        )\n      }\n    );\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"CheckboxBubbleInput\";\nvar CheckboxBubbleInput = React.forwardRef(\n  ({ __scopeCheckbox, ...props }, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n        required,\n        disabled,\n        name,\n        value,\n        form,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: \"translateX(-100%)\"\n        }\n      }\n    );\n  }\n);\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  CheckboxIndicator as Indicator,\n  Checkbox as Root,\n  createCheckboxScope,\n  CheckboxBubbleInput as unstable_BubbleInput,\n  CheckboxBubbleInput as unstable_CheckboxBubbleInput,\n  CheckboxProvider as unstable_CheckboxProvider,\n  CheckboxTrigger as unstable_CheckboxTrigger,\n  CheckboxProvider as unstable_Provider,\n  CheckboxTrigger as unstable_Trigger\n};\n//# sourceMappingURL=index.mjs.map\n"],"mappings":"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"}