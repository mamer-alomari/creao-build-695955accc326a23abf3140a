var E3=Object.defineProperty;var XR=n=>{throw TypeError(n)};var T3=(n,e,t)=>e in n?E3(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var an=(n,e,t)=>T3(n,typeof e!="symbol"?e+"":e,t),ex=(n,e,t)=>e.has(n)||XR("Cannot "+t);var Y=(n,e,t)=>(ex(n,e,"read from private field"),t?t.call(n):e.get(n)),Ye=(n,e,t)=>e.has(n)?XR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ke=(n,e,t,r)=>(ex(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),gt=(n,e,t)=>(ex(n,e,"access private method"),t);var gy=(n,e,t,r)=>({set _(s){ke(n,e,s,t)},get _(){return Y(n,e,r)}});function C3(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function r_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var tx={exports:{}},nm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR;function R3(){if(ZR)return nm;ZR=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,a){var l=null;if(a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),"key"in s){a={};for(var c in s)c!=="key"&&(a[c]=s[c])}else a=s;return s=a.ref,{$$typeof:n,type:r,key:l,ref:s!==void 0?s:null,props:a}}return nm.Fragment=e,nm.jsx=t,nm.jsxs=t,nm}var eA;function A3(){return eA||(eA=1,tx.exports=R3()),tx.exports}var h=A3(),Vh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},N3={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},dl,NS,eD,I3=(eD=class{constructor(){Ye(this,dl,N3);Ye(this,NS,!1)}setTimeoutProvider(n){ke(this,dl,n)}setTimeout(n,e){return Y(this,dl).setTimeout(n,e)}clearTimeout(n){Y(this,dl).clearTimeout(n)}setInterval(n,e){return Y(this,dl).setInterval(n,e)}clearInterval(n){Y(this,dl).clearInterval(n)}},dl=new WeakMap,NS=new WeakMap,eD),$c=new I3;function k3(n){setTimeout(n,0)}var cu=typeof window>"u"||"Deno"in globalThis;function Mr(){}function D3(n,e){return typeof n=="function"?n(e):n}function h0(n){return typeof n=="number"&&n>=0&&n!==1/0}function dD(n,e){return Math.max(n+(e||0)-Date.now(),0)}function El(n,e){return typeof n=="function"?n(e):n}function zs(n,e){return typeof n=="function"?n(e):n}function tA(n,e){const{type:t="all",exact:r,fetchStatus:s,predicate:a,queryKey:l,stale:c}=n;if(l){if(r){if(e.queryHash!==IS(l,e.options))return!1}else if(!Bm(e.queryKey,l))return!1}if(t!=="all"){const d=e.isActive();if(t==="active"&&!d||t==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||s&&s!==e.state.fetchStatus||a&&!a(e))}function nA(n,e){const{exact:t,status:r,predicate:s,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(uu(e.options.mutationKey)!==uu(a))return!1}else if(!Bm(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function IS(n,e){return((e==null?void 0:e.queryKeyHashFn)||uu)(n)}function uu(n){return JSON.stringify(n,(e,t)=>f0(t)?Object.keys(t).sort().reduce((r,s)=>(r[s]=t[s],r),{}):t)}function Bm(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Bm(n[t],e[t])):!1}var P3=Object.prototype.hasOwnProperty;function hD(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=rA(n)&&rA(e);if(!r&&!(f0(n)&&f0(e)))return e;const a=(r?n:Object.keys(n)).length,l=r?e:Object.keys(e),c=l.length,d=r?new Array(c):{};let f=0;for(let p=0;p<c;p++){const g=r?p:l[p],v=n[g],w=e[g];if(v===w){d[g]=v,(r?p<a:P3.call(n,g))&&f++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){d[g]=w;continue}const x=hD(v,w,t+1);d[g]=x,x===v&&f++}return a===c&&f===a?n:d}function ev(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function rA(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function f0(n){if(!sA(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!sA(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function sA(n){return Object.prototype.toString.call(n)==="[object Object]"}function O3(n){return new Promise(e=>{$c.setTimeout(e,n)})}function m0(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?hD(n,e):e}function M3(n,e,t=0){const r=[...n,e];return t&&r.length>t?r.slice(1):r}function j3(n,e,t=0){const r=[e,...n];return t&&r.length>t?r.slice(0,-1):r}var kS=Symbol();function fD(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===kS?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function DS(n,e){return typeof n=="function"?n(...e):!!n}function L3(n,e,t){let r=!1,s;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(s??(s=e()),r||(r=!0,s.aborted?t():s.addEventListener("abort",t,{once:!0})),s)}),n}var Xc,hl,ih,tD,V3=(tD=class extends Vh{constructor(){super();Ye(this,Xc);Ye(this,hl);Ye(this,ih);ke(this,ih,e=>{if(!cu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){Y(this,hl)||this.setEventListener(Y(this,ih))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,hl))==null||e.call(this),ke(this,hl,void 0))}setEventListener(e){var t;ke(this,ih,e),(t=Y(this,hl))==null||t.call(this),ke(this,hl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Y(this,Xc)!==e&&(ke(this,Xc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof Y(this,Xc)=="boolean"?Y(this,Xc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xc=new WeakMap,hl=new WeakMap,ih=new WeakMap,tD),PS=new V3;function p0(){let n,e;const t=new Promise((s,a)=>{n=s,e=a});t.status="pending",t.catch(()=>{});function r(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{r({status:"fulfilled",value:s}),n(s)},t.reject=s=>{r({status:"rejected",reason:s}),e(s)},t}var B3=k3;function U3(){let n=[],e=0,t=c=>{c()},r=c=>{c()},s=B3;const a=c=>{e?n.push(c):s(()=>{t(c)})},l=()=>{const c=n;n=[],c.length&&s(()=>{r(()=>{c.forEach(d=>{t(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{a(()=>{c(...d)})},schedule:a,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{s=c}}}var Zn=U3(),ah,fl,oh,nD,F3=(nD=class extends Vh{constructor(){super();Ye(this,ah,!0);Ye(this,fl);Ye(this,oh);ke(this,oh,e=>{if(!cu&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){Y(this,fl)||this.setEventListener(Y(this,oh))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,fl))==null||e.call(this),ke(this,fl,void 0))}setEventListener(e){var t;ke(this,oh,e),(t=Y(this,fl))==null||t.call(this),ke(this,fl,e(this.setOnline.bind(this)))}setOnline(e){Y(this,ah)!==e&&(ke(this,ah,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Y(this,ah)}},ah=new WeakMap,fl=new WeakMap,oh=new WeakMap,nD),tv=new F3;function z3(n){return Math.min(1e3*2**n,3e4)}function mD(n){return(n??"online")==="online"?tv.isOnline():!0}var g0=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function pD(n){let e=!1,t=0,r;const s=p0(),a=()=>s.status!=="pending",l=E=>{var C;if(!a()){const k=new g0(E);v(k),(C=n.onCancel)==null||C.call(n,k)}},c=()=>{e=!0},d=()=>{e=!1},f=()=>PS.isFocused()&&(n.networkMode==="always"||tv.isOnline())&&n.canRun(),p=()=>mD(n.networkMode)&&n.canRun(),g=E=>{a()||(r==null||r(),s.resolve(E))},v=E=>{a()||(r==null||r(),s.reject(E))},w=()=>new Promise(E=>{var C;r=k=>{(a()||f())&&E(k)},(C=n.onPause)==null||C.call(n)}).then(()=>{var E;r=void 0,a()||(E=n.onContinue)==null||E.call(n)}),x=()=>{if(a())return;let E;const C=t===0?n.initialPromise:void 0;try{E=C??n.fn()}catch(k){E=Promise.reject(k)}Promise.resolve(E).then(g).catch(k=>{var z;if(a())return;const O=n.retry??(cu?0:3),M=n.retryDelay??z3,F=typeof M=="function"?M(t,k):M,V=O===!0||typeof O=="number"&&t<O||typeof O=="function"&&O(t,k);if(e||!V){v(k);return}t++,(z=n.onFail)==null||z.call(n,t,k),O3(F).then(()=>f()?void 0:w()).then(()=>{e?v(k):x()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r==null||r(),s),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?x():w().then(x),s)}}var Zc,rD,gD=(rD=class{constructor(){Ye(this,Zc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),h0(this.gcTime)&&ke(this,Zc,$c.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(cu?1/0:300*1e3))}clearGcTimeout(){Y(this,Zc)&&($c.clearTimeout(Y(this,Zc)),ke(this,Zc,void 0))}},Zc=new WeakMap,rD),eu,lh,Fs,tu,or,fp,nu,hi,Ja,sD,q3=(sD=class extends gD{constructor(t){super();Ye(this,hi);Ye(this,eu);Ye(this,lh);Ye(this,Fs);Ye(this,tu);Ye(this,or);Ye(this,fp);Ye(this,nu);ke(this,nu,!1),ke(this,fp,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,tu,t.client),ke(this,Fs,Y(this,tu).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,eu,aA(this.options)),this.state=t.state??Y(this,eu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Y(this,or))==null?void 0:t.promise}setOptions(t){if(this.options={...Y(this,fp),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=aA(this.options);r.data!==void 0&&(this.setState(iA(r.data,r.dataUpdatedAt)),ke(this,eu,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,Fs).remove(this)}setData(t,r){const s=m0(this.state.data,t,this.options);return gt(this,hi,Ja).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(t,r){gt(this,hi,Ja).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var s,a;const r=(s=Y(this,or))==null?void 0:s.promise;return(a=Y(this,or))==null||a.cancel(t),r?r.then(Mr).catch(Mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,eu))}isActive(){return this.observers.some(t=>zs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>El(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!dD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,or))==null||r.continue()}onOnline(){var r;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Y(this,or))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Y(this,Fs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Y(this,or)&&(Y(this,nu)?Y(this,or).cancel({revert:!0}):Y(this,or).cancelRetry()),this.scheduleGc()),Y(this,Fs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gt(this,hi,Ja).call(this,{type:"invalidate"})}async fetch(t,r){var f,p,g,v,w,x,E,C,k,O,M,F;if(this.state.fetchStatus!=="idle"&&((f=Y(this,or))==null?void 0:f.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,or))return Y(this,or).continueRetry(),Y(this,or).promise}if(t&&this.setOptions(t),!this.options.queryFn){const V=this.observers.find(z=>z.options.queryFn);V&&this.setOptions(V.options)}const s=new AbortController,a=V=>{Object.defineProperty(V,"signal",{enumerable:!0,get:()=>(ke(this,nu,!0),s.signal)})},l=()=>{const V=fD(this.options,r),N=(()=>{const I={client:Y(this,tu),queryKey:this.queryKey,meta:this.meta};return a(I),I})();return ke(this,nu,!1),this.options.persister?this.options.persister(V,N,this):V(N)},d=(()=>{const V={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,tu),state:this.state,fetchFn:l};return a(V),V})();(p=this.options.behavior)==null||p.onFetch(d,this),ke(this,lh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=d.fetchOptions)==null?void 0:g.meta))&&gt(this,hi,Ja).call(this,{type:"fetch",meta:(v=d.fetchOptions)==null?void 0:v.meta}),ke(this,or,pD({initialPromise:r==null?void 0:r.initialPromise,fn:d.fetchFn,onCancel:V=>{V instanceof g0&&V.revert&&this.setState({...Y(this,lh),fetchStatus:"idle"}),s.abort()},onFail:(V,z)=>{gt(this,hi,Ja).call(this,{type:"failed",failureCount:V,error:z})},onPause:()=>{gt(this,hi,Ja).call(this,{type:"pause"})},onContinue:()=>{gt(this,hi,Ja).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0}));try{const V=await Y(this,or).start();if(V===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(V),(x=(w=Y(this,Fs).config).onSuccess)==null||x.call(w,V,this),(C=(E=Y(this,Fs).config).onSettled)==null||C.call(E,V,this.state.error,this),V}catch(V){if(V instanceof g0){if(V.silent)return Y(this,or).promise;if(V.revert){if(this.state.data===void 0)throw V;return this.state.data}}throw gt(this,hi,Ja).call(this,{type:"error",error:V}),(O=(k=Y(this,Fs).config).onError)==null||O.call(k,V,this),(F=(M=Y(this,Fs).config).onSettled)==null||F.call(M,this.state.data,V,this),V}finally{this.scheduleGc()}}},eu=new WeakMap,lh=new WeakMap,Fs=new WeakMap,tu=new WeakMap,or=new WeakMap,fp=new WeakMap,nu=new WeakMap,hi=new WeakSet,Ja=function(t){const r=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yD(s.data,this.options),fetchMeta:t.meta??null};case"success":const a={...s,...iA(t.data,t.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,lh,t.manual?a:void 0),a;case"error":const l=t.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=r(this.state),Zn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Y(this,Fs).notify({query:this,type:"updated",action:t})})},sD);function yD(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mD(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function iA(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function aA(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,r=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var $r,Pt,mp,Or,ru,ch,Xa,ml,pp,uh,dh,su,iu,pl,hh,Gt,gm,y0,v0,_0,b0,w0,x0,S0,vD,iD,H3=(iD=class extends Vh{constructor(e,t){super();Ye(this,Gt);Ye(this,$r);Ye(this,Pt);Ye(this,mp);Ye(this,Or);Ye(this,ru);Ye(this,ch);Ye(this,Xa);Ye(this,ml);Ye(this,pp);Ye(this,uh);Ye(this,dh);Ye(this,su);Ye(this,iu);Ye(this,pl);Ye(this,hh,new Set);this.options=t,ke(this,$r,e),ke(this,ml,null),ke(this,Xa,p0()),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,Pt).addObserver(this),oA(Y(this,Pt),this.options)?gt(this,Gt,gm).call(this):this.updateResult(),gt(this,Gt,b0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return E0(Y(this,Pt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E0(Y(this,Pt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,gt(this,Gt,w0).call(this),gt(this,Gt,x0).call(this),Y(this,Pt).removeObserver(this)}setOptions(e){const t=this.options,r=Y(this,Pt);if(this.options=Y(this,$r).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof zs(this.options.enabled,Y(this,Pt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");gt(this,Gt,S0).call(this),Y(this,Pt).setOptions(this.options),t._defaulted&&!ev(this.options,t)&&Y(this,$r).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,Pt),observer:this});const s=this.hasListeners();s&&lA(Y(this,Pt),r,this.options,t)&&gt(this,Gt,gm).call(this),this.updateResult(),s&&(Y(this,Pt)!==r||zs(this.options.enabled,Y(this,Pt))!==zs(t.enabled,Y(this,Pt))||El(this.options.staleTime,Y(this,Pt))!==El(t.staleTime,Y(this,Pt)))&&gt(this,Gt,y0).call(this);const a=gt(this,Gt,v0).call(this);s&&(Y(this,Pt)!==r||zs(this.options.enabled,Y(this,Pt))!==zs(t.enabled,Y(this,Pt))||a!==Y(this,pl))&&gt(this,Gt,_0).call(this,a)}getOptimisticResult(e){const t=Y(this,$r).getQueryCache().build(Y(this,$r),e),r=this.createResult(t,e);return $3(this,r)&&(ke(this,Or,r),ke(this,ch,this.options),ke(this,ru,Y(this,Pt).state)),r}getCurrentResult(){return Y(this,Or)}trackResult(e,t){return new Proxy(e,{get:(r,s)=>(this.trackProp(s),t==null||t(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,Xa).status==="pending"&&Y(this,Xa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(e){Y(this,hh).add(e)}getCurrentQuery(){return Y(this,Pt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=Y(this,$r).defaultQueryOptions(e),r=Y(this,$r).getQueryCache().build(Y(this,$r),t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return gt(this,Gt,gm).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,Or)))}createResult(e,t){var P;const r=Y(this,Pt),s=this.options,a=Y(this,Or),l=Y(this,ru),c=Y(this,ch),f=e!==r?e.state:Y(this,mp),{state:p}=e;let g={...p},v=!1,w;if(t._optimisticResults){const D=this.hasListeners(),L=!D&&oA(e,t),H=D&&lA(e,r,t,s);(L||H)&&(g={...g,...yD(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:x,errorUpdatedAt:E,status:C}=g;w=g.data;let k=!1;if(t.placeholderData!==void 0&&w===void 0&&C==="pending"){let D;a!=null&&a.isPlaceholderData&&t.placeholderData===(c==null?void 0:c.placeholderData)?(D=a.data,k=!0):D=typeof t.placeholderData=="function"?t.placeholderData((P=Y(this,dh))==null?void 0:P.state.data,Y(this,dh)):t.placeholderData,D!==void 0&&(C="success",w=m0(a==null?void 0:a.data,D,t),v=!0)}if(t.select&&w!==void 0&&!k)if(a&&w===(l==null?void 0:l.data)&&t.select===Y(this,pp))w=Y(this,uh);else try{ke(this,pp,t.select),w=t.select(w),w=m0(a==null?void 0:a.data,w,t),ke(this,uh,w),ke(this,ml,null)}catch(D){ke(this,ml,D)}Y(this,ml)&&(x=Y(this,ml),w=Y(this,uh),E=Date.now(),C="error");const O=g.fetchStatus==="fetching",M=C==="pending",F=C==="error",V=M&&O,z=w!==void 0,I={status:C,fetchStatus:g.fetchStatus,isPending:M,isSuccess:C==="success",isError:F,isInitialLoading:V,isLoading:V,data:w,dataUpdatedAt:g.dataUpdatedAt,error:x,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:O,isRefetching:O&&!M,isLoadingError:F&&!z,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:F&&z,isStale:OS(e,t),refetch:this.refetch,promise:Y(this,Xa),isEnabled:zs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=I.data!==void 0,L=I.status==="error"&&!D,H=ie=>{L?ie.reject(I.error):D&&ie.resolve(I.data)},B=()=>{const ie=ke(this,Xa,I.promise=p0());H(ie)},Q=Y(this,Xa);switch(Q.status){case"pending":e.queryHash===r.queryHash&&H(Q);break;case"fulfilled":(L||I.data!==Q.value)&&B();break;case"rejected":(!L||I.error!==Q.reason)&&B();break}}return I}updateResult(){const e=Y(this,Or),t=this.createResult(Y(this,Pt),this.options);if(ke(this,ru,Y(this,Pt).state),ke(this,ch,this.options),Y(this,ru).data!==void 0&&ke(this,dh,Y(this,Pt)),ev(t,e))return;ke(this,Or,t);const r=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!Y(this,hh).size)return!0;const l=new Set(a??Y(this,hh));return this.options.throwOnError&&l.add("error"),Object.keys(Y(this,Or)).some(c=>{const d=c;return Y(this,Or)[d]!==e[d]&&l.has(d)})};gt(this,Gt,vD).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&gt(this,Gt,b0).call(this)}},$r=new WeakMap,Pt=new WeakMap,mp=new WeakMap,Or=new WeakMap,ru=new WeakMap,ch=new WeakMap,Xa=new WeakMap,ml=new WeakMap,pp=new WeakMap,uh=new WeakMap,dh=new WeakMap,su=new WeakMap,iu=new WeakMap,pl=new WeakMap,hh=new WeakMap,Gt=new WeakSet,gm=function(e){gt(this,Gt,S0).call(this);let t=Y(this,Pt).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(Mr)),t},y0=function(){gt(this,Gt,w0).call(this);const e=El(this.options.staleTime,Y(this,Pt));if(cu||Y(this,Or).isStale||!h0(e))return;const r=dD(Y(this,Or).dataUpdatedAt,e)+1;ke(this,su,$c.setTimeout(()=>{Y(this,Or).isStale||this.updateResult()},r))},v0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,Pt)):this.options.refetchInterval)??!1},_0=function(e){gt(this,Gt,x0).call(this),ke(this,pl,e),!(cu||zs(this.options.enabled,Y(this,Pt))===!1||!h0(Y(this,pl))||Y(this,pl)===0)&&ke(this,iu,$c.setInterval(()=>{(this.options.refetchIntervalInBackground||PS.isFocused())&&gt(this,Gt,gm).call(this)},Y(this,pl)))},b0=function(){gt(this,Gt,y0).call(this),gt(this,Gt,_0).call(this,gt(this,Gt,v0).call(this))},w0=function(){Y(this,su)&&($c.clearTimeout(Y(this,su)),ke(this,su,void 0))},x0=function(){Y(this,iu)&&($c.clearInterval(Y(this,iu)),ke(this,iu,void 0))},S0=function(){const e=Y(this,$r).getQueryCache().build(Y(this,$r),this.options);if(e===Y(this,Pt))return;const t=Y(this,Pt);ke(this,Pt,e),ke(this,mp,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},vD=function(e){Zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(Y(this,Or))}),Y(this,$r).getQueryCache().notify({query:Y(this,Pt),type:"observerResultsUpdated"})})},iD);function W3(n,e){return zs(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function oA(n,e){return W3(n,e)||n.state.data!==void 0&&E0(n,e,e.refetchOnMount)}function E0(n,e,t){if(zs(e.enabled,n)!==!1&&El(e.staleTime,n)!=="static"){const r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&OS(n,e)}return!1}function lA(n,e,t,r){return(n!==e||zs(r.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&OS(n,t)}function OS(n,e){return zs(e.enabled,n)!==!1&&n.isStaleByTime(El(e.staleTime,n))}function $3(n,e){return!ev(n.getCurrentResult(),e)}function cA(n){return{onFetch:(e,t)=>{var p,g,v,w,x;const r=e.options,s=(v=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:v.direction,a=((w=e.state.data)==null?void 0:w.pages)||[],l=((x=e.state.data)==null?void 0:x.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let E=!1;const C=M=>{L3(M,()=>e.signal,()=>E=!0)},k=fD(e.options,e.fetchOptions),O=async(M,F,V)=>{if(E)return Promise.reject();if(F==null&&M.pages.length)return Promise.resolve(M);const N=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:F,direction:V?"backward":"forward",meta:e.options.meta};return C(L),L})(),I=await k(N),{maxPages:P}=e.options,D=V?j3:M3;return{pages:D(M.pages,I,P),pageParams:D(M.pageParams,F,P)}};if(s&&a.length){const M=s==="backward",F=M?G3:uA,V={pages:a,pageParams:l},z=F(r,V);c=await O(V,z,M)}else{const M=n??a.length;do{const F=d===0?l[0]??r.initialPageParam:uA(r,c);if(d>0&&F==null)break;c=await O(c,F),d++}while(d<M)}return c};e.options.persister?e.fetchFn=()=>{var E,C;return(C=(E=e.options).persister)==null?void 0:C.call(E,f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=f}}}function uA(n,{pages:e,pageParams:t}){const r=e.length-1;return e.length>0?n.getNextPageParam(e[r],e,t[r],t):void 0}function G3(n,{pages:e,pageParams:t}){var r;return e.length>0?(r=n.getPreviousPageParam)==null?void 0:r.call(n,e[0],e,t[0],t):void 0}var gp,na,Tr,au,ra,sl,aD,Y3=(aD=class extends gD{constructor(t){super();Ye(this,ra);Ye(this,gp);Ye(this,na);Ye(this,Tr);Ye(this,au);ke(this,gp,t.client),this.mutationId=t.mutationId,ke(this,Tr,t.mutationCache),ke(this,na,[]),this.state=t.state||_D(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Y(this,na).includes(t)||(Y(this,na).push(t),this.clearGcTimeout(),Y(this,Tr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,na,Y(this,na).filter(r=>r!==t)),this.scheduleGc(),Y(this,Tr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Y(this,na).length||(this.state.status==="pending"?this.scheduleGc():Y(this,Tr).remove(this))}continue(){var t;return((t=Y(this,au))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,g,v,w,x,E,C,k,O,M,F,V,z,N,I;const r=()=>{gt(this,ra,sl).call(this,{type:"continue"})},s={client:Y(this,gp),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,au,pD({fn:()=>this.options.mutationFn?this.options.mutationFn(t,s):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{gt(this,ra,sl).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{gt(this,ra,sl).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,Tr).canRun(this)}));const a=this.state.status==="pending",l=!Y(this,au).canStart();try{if(a)r();else{gt(this,ra,sl).call(this,{type:"pending",variables:t,isPaused:l}),Y(this,Tr).config.onMutate&&await Y(this,Tr).config.onMutate(t,this,s);const D=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,s));D!==this.state.context&&gt(this,ra,sl).call(this,{type:"pending",context:D,variables:t,isPaused:l})}const P=await Y(this,au).start();return await((p=(f=Y(this,Tr).config).onSuccess)==null?void 0:p.call(f,P,t,this.state.context,this,s)),await((v=(g=this.options).onSuccess)==null?void 0:v.call(g,P,t,this.state.context,s)),await((x=(w=Y(this,Tr).config).onSettled)==null?void 0:x.call(w,P,null,this.state.variables,this.state.context,this,s)),await((C=(E=this.options).onSettled)==null?void 0:C.call(E,P,null,t,this.state.context,s)),gt(this,ra,sl).call(this,{type:"success",data:P}),P}catch(P){try{await((O=(k=Y(this,Tr).config).onError)==null?void 0:O.call(k,P,t,this.state.context,this,s))}catch(D){Promise.reject(D)}try{await((F=(M=this.options).onError)==null?void 0:F.call(M,P,t,this.state.context,s))}catch(D){Promise.reject(D)}try{await((z=(V=Y(this,Tr).config).onSettled)==null?void 0:z.call(V,void 0,P,this.state.variables,this.state.context,this,s))}catch(D){Promise.reject(D)}try{await((I=(N=this.options).onSettled)==null?void 0:I.call(N,void 0,P,t,this.state.context,s))}catch(D){Promise.reject(D)}throw gt(this,ra,sl).call(this,{type:"error",error:P}),P}finally{Y(this,Tr).runNext(this)}}},gp=new WeakMap,na=new WeakMap,Tr=new WeakMap,au=new WeakMap,ra=new WeakSet,sl=function(t){const r=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zn.batch(()=>{Y(this,na).forEach(s=>{s.onMutationUpdate(t)}),Y(this,Tr).notify({mutation:this,type:"updated",action:t})})},aD);function _D(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Za,fi,yp,oD,K3=(oD=class extends Vh{constructor(e={}){super();Ye(this,Za);Ye(this,fi);Ye(this,yp);this.config=e,ke(this,Za,new Set),ke(this,fi,new Map),ke(this,yp,0)}build(e,t,r){const s=new Y3({client:e,mutationCache:this,mutationId:++gy(this,yp)._,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){Y(this,Za).add(e);const t=yy(e);if(typeof t=="string"){const r=Y(this,fi).get(t);r?r.push(e):Y(this,fi).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,Za).delete(e)){const t=yy(e);if(typeof t=="string"){const r=Y(this,fi).get(t);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&Y(this,fi).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=yy(e);if(typeof t=="string"){const r=Y(this,fi).get(t),s=r==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const t=yy(e);if(typeof t=="string"){const s=(r=Y(this,fi).get(t))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zn.batch(()=>{Y(this,Za).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,Za).clear(),Y(this,fi).clear()})}getAll(){return Array.from(Y(this,Za))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>nA(t,r))}findAll(e={}){return this.getAll().filter(t=>nA(e,t))}notify(e){Zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Mr))))}},Za=new WeakMap,fi=new WeakMap,yp=new WeakMap,oD);function yy(n){var e;return(e=n.options.scope)==null?void 0:e.id}var eo,gl,Gr,to,co,Ly,T0,lD,Q3=(lD=class extends Vh{constructor(t,r){super();Ye(this,co);Ye(this,eo);Ye(this,gl);Ye(this,Gr);Ye(this,to);ke(this,eo,t),this.setOptions(r),this.bindMethods(),gt(this,co,Ly).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const r=this.options;this.options=Y(this,eo).defaultMutationOptions(t),ev(this.options,r)||Y(this,eo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Gr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&uu(r.mutationKey)!==uu(this.options.mutationKey)?this.reset():((s=Y(this,Gr))==null?void 0:s.state.status)==="pending"&&Y(this,Gr).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=Y(this,Gr))==null||t.removeObserver(this)}onMutationUpdate(t){gt(this,co,Ly).call(this),gt(this,co,T0).call(this,t)}getCurrentResult(){return Y(this,gl)}reset(){var t;(t=Y(this,Gr))==null||t.removeObserver(this),ke(this,Gr,void 0),gt(this,co,Ly).call(this),gt(this,co,T0).call(this)}mutate(t,r){var s;return ke(this,to,r),(s=Y(this,Gr))==null||s.removeObserver(this),ke(this,Gr,Y(this,eo).getMutationCache().build(Y(this,eo),this.options)),Y(this,Gr).addObserver(this),Y(this,Gr).execute(t)}},eo=new WeakMap,gl=new WeakMap,Gr=new WeakMap,to=new WeakMap,co=new WeakSet,Ly=function(){var r;const t=((r=Y(this,Gr))==null?void 0:r.state)??_D();ke(this,gl,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},T0=function(t){Zn.batch(()=>{var r,s,a,l,c,d,f,p;if(Y(this,to)&&this.hasListeners()){const g=Y(this,gl).variables,v=Y(this,gl).context,w={client:Y(this,eo),meta:this.options.meta,mutationKey:this.options.mutationKey};if((t==null?void 0:t.type)==="success"){try{(s=(r=Y(this,to)).onSuccess)==null||s.call(r,t.data,g,v,w)}catch(x){Promise.reject(x)}try{(l=(a=Y(this,to)).onSettled)==null||l.call(a,t.data,null,g,v,w)}catch(x){Promise.reject(x)}}else if((t==null?void 0:t.type)==="error"){try{(d=(c=Y(this,to)).onError)==null||d.call(c,t.error,g,v,w)}catch(x){Promise.reject(x)}try{(p=(f=Y(this,to)).onSettled)==null||p.call(f,void 0,t.error,g,v,w)}catch(x){Promise.reject(x)}}}this.listeners.forEach(g=>{g(Y(this,gl))})})},lD),sa,cD,J3=(cD=class extends Vh{constructor(e={}){super();Ye(this,sa);this.config=e,ke(this,sa,new Map)}build(e,t,r){const s=t.queryKey,a=t.queryHash??IS(s,t);let l=this.get(a);return l||(l=new q3({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){Y(this,sa).has(e.queryHash)||(Y(this,sa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Y(this,sa).get(e.queryHash);t&&(e.destroy(),t===e&&Y(this,sa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,sa).get(e)}getAll(){return[...Y(this,sa).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>tA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>tA(e,r)):t}notify(e){Zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},sa=new WeakMap,cD),An,yl,vl,fh,mh,_l,ph,gh,uD,X3=(uD=class{constructor(n={}){Ye(this,An);Ye(this,yl);Ye(this,vl);Ye(this,fh);Ye(this,mh);Ye(this,_l);Ye(this,ph);Ye(this,gh);ke(this,An,n.queryCache||new J3),ke(this,yl,n.mutationCache||new K3),ke(this,vl,n.defaultOptions||{}),ke(this,fh,new Map),ke(this,mh,new Map),ke(this,_l,0)}mount(){gy(this,_l)._++,Y(this,_l)===1&&(ke(this,ph,PS.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,An).onFocus())})),ke(this,gh,tv.subscribe(async n=>{n&&(await this.resumePausedMutations(),Y(this,An).onOnline())})))}unmount(){var n,e;gy(this,_l)._--,Y(this,_l)===0&&((n=Y(this,ph))==null||n.call(this),ke(this,ph,void 0),(e=Y(this,gh))==null||e.call(this),ke(this,gh,void 0))}isFetching(n){return Y(this,An).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return Y(this,yl).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,An).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=Y(this,An).build(this,e),r=t.state.data;return r===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(El(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(n){return Y(this,An).findAll(n).map(({queryKey:e,state:t})=>{const r=t.data;return[e,r]})}setQueryData(n,e,t){const r=this.defaultQueryOptions({queryKey:n}),s=Y(this,An).get(r.queryHash),a=s==null?void 0:s.state.data,l=D3(e,a);if(l!==void 0)return Y(this,An).build(this,r).setData(l,{...t,manual:!0})}setQueriesData(n,e,t){return Zn.batch(()=>Y(this,An).findAll(n).map(({queryKey:r})=>[r,this.setQueryData(r,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=Y(this,An).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=Y(this,An);Zn.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=Y(this,An);return Zn.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},r=Zn.batch(()=>Y(this,An).findAll(n).map(s=>s.cancel(t)));return Promise.all(r).then(Mr).catch(Mr)}invalidateQueries(n,e={}){return Zn.batch(()=>(Y(this,An).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},r=Zn.batch(()=>Y(this,An).findAll(n).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,t);return t.throwOnError||(a=a.catch(Mr)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Mr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=Y(this,An).build(this,e);return t.isStaleByTime(El(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Mr).catch(Mr)}fetchInfiniteQuery(n){return n.behavior=cA(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Mr).catch(Mr)}ensureInfiniteQueryData(n){return n.behavior=cA(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return tv.isOnline()?Y(this,yl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,An)}getMutationCache(){return Y(this,yl)}getDefaultOptions(){return Y(this,vl)}setDefaultOptions(n){ke(this,vl,n)}setQueryDefaults(n,e){Y(this,fh).set(uu(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...Y(this,fh).values()],t={};return e.forEach(r=>{Bm(n,r.queryKey)&&Object.assign(t,r.defaultOptions)}),t}setMutationDefaults(n,e){Y(this,mh).set(uu(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...Y(this,mh).values()],t={};return e.forEach(r=>{Bm(n,r.mutationKey)&&Object.assign(t,r.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...Y(this,vl).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=IS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===kS&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...Y(this,vl).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){Y(this,An).clear(),Y(this,yl).clear()}},An=new WeakMap,yl=new WeakMap,vl=new WeakMap,fh=new WeakMap,mh=new WeakMap,_l=new WeakMap,ph=new WeakMap,gh=new WeakMap,uD),nx={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function Z3(){if(dA)return lt;dA=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(W){return W===null||typeof W!="object"?null:(W=v&&W[v]||W["@@iterator"],typeof W=="function"?W:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function k(W,ae,he){this.props=W,this.context=ae,this.refs=C,this.updater=he||x}k.prototype.isReactComponent={},k.prototype.setState=function(W,ae){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ae,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function O(){}O.prototype=k.prototype;function M(W,ae,he){this.props=W,this.context=ae,this.refs=C,this.updater=he||x}var F=M.prototype=new O;F.constructor=M,E(F,k.prototype),F.isPureReactComponent=!0;var V=Array.isArray;function z(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function P(W,ae,he){var me=he.ref;return{$$typeof:n,type:W,key:ae,ref:me!==void 0?me:null,props:he}}function D(W,ae){return P(W.type,ae,W.props)}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function H(W){var ae={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(he){return ae[he]})}var B=/\/+/g;function Q(W,ae){return typeof W=="object"&&W!==null&&W.key!=null?H(""+W.key):ae.toString(36)}function ie(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(z,z):(W.status="pending",W.then(function(ae){W.status==="pending"&&(W.status="fulfilled",W.value=ae)},function(ae){W.status==="pending"&&(W.status="rejected",W.reason=ae)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function $(W,ae,he,me,Ie){var Ve=typeof W;(Ve==="undefined"||Ve==="boolean")&&(W=null);var ue=!1;if(W===null)ue=!0;else switch(Ve){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(W.$$typeof){case n:case e:ue=!0;break;case p:return ue=W._init,$(ue(W._payload),ae,he,me,Ie)}}if(ue)return Ie=Ie(W),ue=me===""?"."+Q(W,0):me,V(Ie)?(he="",ue!=null&&(he=ue.replace(B,"$&/")+"/"),$(Ie,ae,he,"",function(Ge){return Ge})):Ie!=null&&(L(Ie)&&(Ie=D(Ie,he+(Ie.key==null||W&&W.key===Ie.key?"":(""+Ie.key).replace(B,"$&/")+"/")+ue)),ae.push(Ie)),1;ue=0;var He=me===""?".":me+":";if(V(W))for(var ve=0;ve<W.length;ve++)me=W[ve],Ve=He+Q(me,ve),ue+=$(me,ae,he,Ve,Ie);else if(ve=w(W),typeof ve=="function")for(W=ve.call(W),ve=0;!(me=W.next()).done;)me=me.value,Ve=He+Q(me,ve++),ue+=$(me,ae,he,Ve,Ie);else if(Ve==="object"){if(typeof W.then=="function")return $(ie(W),ae,he,me,Ie);throw ae=String(W),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ee(W,ae,he){if(W==null)return W;var me=[],Ie=0;return $(W,me,"","",function(Ve){return ae.call(he,Ve,Ie++)}),me}function q(W){if(W._status===-1){var ae=W._result;ae=ae(),ae.then(function(he){(W._status===0||W._status===-1)&&(W._status=1,W._result=he)},function(he){(W._status===0||W._status===-1)&&(W._status=2,W._result=he)}),W._status===-1&&(W._status=0,W._result=ae)}if(W._status===1)return W._result.default;throw W._result}var X=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},ge={map:ee,forEach:function(W,ae,he){ee(W,function(){ae.apply(this,arguments)},he)},count:function(W){var ae=0;return ee(W,function(){ae++}),ae},toArray:function(W){return ee(W,function(ae){return ae})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return lt.Activity=g,lt.Children=ge,lt.Component=k,lt.Fragment=t,lt.Profiler=s,lt.PureComponent=M,lt.StrictMode=r,lt.Suspense=d,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,lt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return N.H.useMemoCache(W)}},lt.cache=function(W){return function(){return W.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(W,ae,he){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var me=E({},W.props),Ie=W.key;if(ae!=null)for(Ve in ae.key!==void 0&&(Ie=""+ae.key),ae)!I.call(ae,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ae.ref===void 0||(me[Ve]=ae[Ve]);var Ve=arguments.length-2;if(Ve===1)me.children=he;else if(1<Ve){for(var ue=Array(Ve),He=0;He<Ve;He++)ue[He]=arguments[He+2];me.children=ue}return P(W.type,Ie,me)},lt.createContext=function(W){return W={$$typeof:l,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},lt.createElement=function(W,ae,he){var me,Ie={},Ve=null;if(ae!=null)for(me in ae.key!==void 0&&(Ve=""+ae.key),ae)I.call(ae,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ie[me]=ae[me]);var ue=arguments.length-2;if(ue===1)Ie.children=he;else if(1<ue){for(var He=Array(ue),ve=0;ve<ue;ve++)He[ve]=arguments[ve+2];Ie.children=He}if(W&&W.defaultProps)for(me in ue=W.defaultProps,ue)Ie[me]===void 0&&(Ie[me]=ue[me]);return P(W,Ve,Ie)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(W){return{$$typeof:c,render:W}},lt.isValidElement=L,lt.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:q}},lt.memo=function(W,ae){return{$$typeof:f,type:W,compare:ae===void 0?null:ae}},lt.startTransition=function(W){var ae=N.T,he={};N.T=he;try{var me=W(),Ie=N.S;Ie!==null&&Ie(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(z,X)}catch(Ve){X(Ve)}finally{ae!==null&&he.types!==null&&(ae.types=he.types),N.T=ae}},lt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},lt.use=function(W){return N.H.use(W)},lt.useActionState=function(W,ae,he){return N.H.useActionState(W,ae,he)},lt.useCallback=function(W,ae){return N.H.useCallback(W,ae)},lt.useContext=function(W){return N.H.useContext(W)},lt.useDebugValue=function(){},lt.useDeferredValue=function(W,ae){return N.H.useDeferredValue(W,ae)},lt.useEffect=function(W,ae){return N.H.useEffect(W,ae)},lt.useEffectEvent=function(W){return N.H.useEffectEvent(W)},lt.useId=function(){return N.H.useId()},lt.useImperativeHandle=function(W,ae,he){return N.H.useImperativeHandle(W,ae,he)},lt.useInsertionEffect=function(W,ae){return N.H.useInsertionEffect(W,ae)},lt.useLayoutEffect=function(W,ae){return N.H.useLayoutEffect(W,ae)},lt.useMemo=function(W,ae){return N.H.useMemo(W,ae)},lt.useOptimistic=function(W,ae){return N.H.useOptimistic(W,ae)},lt.useReducer=function(W,ae,he){return N.H.useReducer(W,ae,he)},lt.useRef=function(W){return N.H.useRef(W)},lt.useState=function(W){return N.H.useState(W)},lt.useSyncExternalStore=function(W,ae,he){return N.H.useSyncExternalStore(W,ae,he)},lt.useTransition=function(){return N.H.useTransition()},lt.version="19.2.4",lt}var hA;function ku(){return hA||(hA=1,nx.exports=Z3()),nx.exports}var S=ku();const we=r_(S),MS=C3({__proto__:null,default:we},[S]);var bD=S.createContext(void 0),Ii=n=>{const e=S.useContext(bD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},e6=({client:n,children:e})=>(S.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),h.jsx(bD.Provider,{value:n,children:e})),wD=S.createContext(!1),t6=()=>S.useContext(wD);wD.Provider;function n6(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var r6=S.createContext(n6()),s6=()=>S.useContext(r6),i6=(n,e,t)=>{const r=t!=null&&t.state.error&&typeof n.throwOnError=="function"?DS(n.throwOnError,[t.state.error,t]):n.throwOnError;(n.suspense||n.experimental_prefetchInRender||r)&&(e.isReset()||(n.retryOnMount=!1))},a6=n=>{S.useEffect(()=>{n.clearReset()},[n])},o6=({result:n,errorResetBoundary:e,throwOnError:t,query:r,suspense:s})=>n.isError&&!e.isReset()&&!n.isFetching&&r&&(s&&n.data===void 0||DS(t,[n.error,r])),l6=n=>{if(n.suspense){const t=s=>s==="static"?s:Math.max(s??1e3,1e3),r=n.staleTime;n.staleTime=typeof r=="function"?(...s)=>t(r(...s)):t(r),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},c6=(n,e)=>n.isLoading&&n.isFetching&&!e,u6=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,fA=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function d6(n,e,t){var v,w,x,E;const r=t6(),s=s6(),a=Ii(),l=a.defaultQueryOptions(n);(w=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||w.call(v,l);const c=a.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",l6(l),i6(l,s,c),a6(s);const d=!a.getQueryCache().get(l.queryHash),[f]=S.useState(()=>new e(a,l)),p=f.getOptimisticResult(l),g=!r&&n.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(C=>{const k=g?f.subscribe(Zn.batchCalls(C)):Mr;return f.updateResult(),k},[f,g]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),S.useEffect(()=>{f.setOptions(l)},[l,f]),u6(l,p))throw fA(l,f,s);if(o6({result:p,errorResetBoundary:s,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw p.error;if((E=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||E.call(x,l,p),l.experimental_prefetchInRender&&!cu&&c6(p,r)){const C=d?fA(l,f,s):c==null?void 0:c.promise;C==null||C.catch(Mr).finally(()=>{f.updateResult()})}return l.notifyOnChangeProps?p:f.trackResult(p)}function Yr(n,e){return d6(n,H3)}function ur(n,e){const t=Ii(),[r]=S.useState(()=>new Q3(t,n));S.useEffect(()=>{r.setOptions(n)},[r,n]);const s=S.useSyncExternalStore(S.useCallback(l=>r.subscribe(Zn.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=S.useCallback((l,c)=>{r.mutate(l,c).catch(Mr)},[r]);if(s.error&&DS(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const C0=new WeakMap,h6=new WeakMap,nv={current:[]};let rx=!1,Nm=0;const ym=new Set,vy=new Map;function xD(n){for(const e of n){if(nv.current.includes(e))continue;nv.current.push(e),e.recompute();const t=h6.get(e);if(t)for(const r of t){const s=C0.get(r);s!=null&&s.length&&xD(s)}}}function f6(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function m6(n){const e={prevVal:n.prevState,currentVal:n.state};for(const t of n.listeners)t(e)}function SD(n){if(Nm>0&&!vy.has(n)&&vy.set(n,n.prevState),ym.add(n),!(Nm>0)&&!rx)try{for(rx=!0;ym.size>0;){const e=Array.from(ym);ym.clear();for(const t of e){const r=vy.get(t)??t.prevState;t.prevState=r,f6(t)}for(const t of e){const r=C0.get(t);r&&(nv.current.push(t),xD(r))}for(const t of e){const r=C0.get(t);if(r)for(const s of r)m6(s)}}}finally{rx=!1,nv.current=[],vy.clear()}}function p6(n){Nm++;try{n()}finally{if(Nm--,Nm===0){const e=ym.values().next().value;e&&SD(e)}}}function g6(n){return typeof n=="function"}class y6{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var s,a;this.listeners.add(r);const l=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,r,this);return()=>{this.listeners.delete(r),l==null||l()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,r,s;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):g6(e)?this.state=e(this.prevState):this.state=e,(s=(r=this.options)==null?void 0:r.onUpdate)==null||s.call(r),SD(this)}}const Tl="__TSR_index",mA="popstate",pA="beforeunload";function v6(n){let e=n.getLocation();const t=new Set,r=l=>{e=n.getLocation(),t.forEach(c=>c({location:e,action:l}))},s=l=>{n.notifyOnIndexChange??!0?r(l):e=n.getLocation()},a=async({task:l,navigateOpts:c,...d})=>{var v,w;if((c==null?void 0:c.ignoreBlocker)??!1){l();return}const p=((v=n.getBlockers)==null?void 0:v.call(n))??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&p.length&&g)for(const x of p){const E=rv(d.path,d.state);if(await x.blockerFn({currentLocation:e,nextLocation:E,action:d.type})){(w=n.onBlocked)==null||w.call(n);return}}l()};return{get location(){return e},get length(){return n.getLength()},subscribers:t,subscribe:l=>(t.add(l),()=>{t.delete(l)}),push:(l,c,d)=>{const f=e.state[Tl];c=gA(f+1,c),a({task:()=>{n.pushState(l,c),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{const f=e.state[Tl];c=gA(f,c),a({task:()=>{n.replaceState(l,c),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{a({task:()=>{n.go(l),s({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{a({task:()=>{n.back((l==null?void 0:l.ignoreBlocker)??!1),s({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{n.forward((l==null?void 0:l.ignoreBlocker)??!1),s({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},canGoBack:()=>e.state[Tl]!==0,createHref:l=>n.createHref(l),block:l=>{var d;if(!n.setBlockers)return()=>{};const c=((d=n.getBlockers)==null?void 0:d.call(n))??[];return n.setBlockers([...c,l]),()=>{var p,g;const f=((p=n.getBlockers)==null?void 0:p.call(n))??[];(g=n.setBlockers)==null||g.call(n,f.filter(v=>v!==l))}},flush:()=>{var l;return(l=n.flush)==null?void 0:l.call(n)},destroy:()=>{var l;return(l=n.destroy)==null?void 0:l.call(n)},notify:r}}function gA(n,e){e||(e={});const t=jS();return{...e,key:t,__TSR_key:t,[Tl]:n}}function _6(n){var I,P;const e=typeof document<"u"?window:void 0,t=e.history.pushState,r=e.history.replaceState;let s=[];const a=()=>s,l=D=>s=D,c=(D=>D),d=(()=>rv(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!((I=e.history.state)!=null&&I.__TSR_key)&&!((P=e.history.state)!=null&&P.key)){const D=jS();e.history.replaceState({[Tl]:0,key:D,__TSR_key:D},"")}let f=d(),p,g=!1,v=!1,w=!1,x=!1;const E=()=>f;let C,k;const O=()=>{C&&(N._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),N._ignoreSubscribers=!1,C=void 0,k=void 0,p=void 0)},M=(D,L,H)=>{const B=c(L);k||(p=f),f=rv(L,H),C={href:B,state:H,isPush:(C==null?void 0:C.isPush)||D==="push"},k||(k=Promise.resolve().then(()=>O()))},F=D=>{f=d(),N.notify({type:D})},V=async()=>{if(v){v=!1;return}const D=d(),L=D.state[Tl]-f.state[Tl],H=L===1,B=L===-1,Q=!H&&!B||g;g=!1;const ie=Q?"GO":B?"BACK":"FORWARD",$=Q?{type:"GO",index:L}:{type:B?"BACK":"FORWARD"};if(w)w=!1;else{const ee=a();if(typeof document<"u"&&ee.length){for(const q of ee)if(await q.blockerFn({currentLocation:f,nextLocation:D,action:ie})){v=!0,e.history.go(1),N.notify($);return}}}f=d(),N.notify($)},z=D=>{if(x){x=!1;return}let L=!1;const H=a();if(typeof document<"u"&&H.length)for(const B of H){const Q=B.enableBeforeUnload??!0;if(Q===!0){L=!0;break}if(typeof Q=="function"&&Q()===!0){L=!0;break}}if(L)return D.preventDefault(),D.returnValue=""},N=v6({getLocation:E,getLength:()=>e.history.length,pushState:(D,L)=>M("push",D,L),replaceState:(D,L)=>M("replace",D,L),back:D=>(D&&(w=!0),x=!0,e.history.back()),forward:D=>{D&&(w=!0),x=!0,e.history.forward()},go:D=>{g=!0,e.history.go(D)},createHref:D=>c(D),flush:O,destroy:()=>{e.history.pushState=t,e.history.replaceState=r,e.removeEventListener(pA,z,{capture:!0}),e.removeEventListener(mA,V)},onBlocked:()=>{p&&f!==p&&(f=p)},getBlockers:a,setBlockers:l,notifyOnIndexChange:!1});return e.addEventListener(pA,z,{capture:!0}),e.addEventListener(mA,V),e.history.pushState=function(...D){const L=t.apply(e.history,D);return N._ignoreSubscribers||F("PUSH"),L},e.history.replaceState=function(...D){const L=r.apply(e.history,D);return N._ignoreSubscribers||F("REPLACE"),L},N}function b6(n){let e=n.replace(/[\x00-\x1f\x7f]/g,"");return e.startsWith("//")&&(e="/"+e.replace(/^\/+/,"")),e}function rv(n,e){const t=b6(n),r=t.indexOf("#"),s=t.indexOf("?"),a=jS();return{href:t,pathname:t.substring(0,r>0?s>0?Math.min(r,s):r:s>0?s:t.length),hash:r>-1?t.substring(r):"",search:s>-1?t.slice(s,r===-1?void 0:r):"",state:e||{[Tl]:0,key:a,__TSR_key:a}}}function jS(){return(Math.random()+1).toString(36).substring(7)}const w6=!1;function Im(n){let e;return p6(()=>{e=n()}),e}function Um(n){return n[n.length-1]}function x6(n){return typeof n=="function"}function bl(n,e){return x6(n)?n(e):n}const S6=Object.prototype.hasOwnProperty,yA=Object.prototype.propertyIsEnumerable;function ds(n,e,t=0){if(n===e)return n;if(t>500)return e;const r=e,s=bA(n)&&bA(r);if(!s&&!(sv(n)&&sv(r)))return r;const a=s?n:vA(n);if(!a)return r;const l=s?r:vA(r);if(!l)return r;const c=a.length,d=l.length,f=s?new Array(d):{};let p=0;for(let g=0;g<d;g++){const v=s?g:l[g],w=n[v],x=r[v];if(w===x){f[v]=w,(s?g<c:S6.call(n,v))&&p++;continue}if(w===null||x===null||typeof w!="object"||typeof x!="object"){f[v]=x;continue}const E=ds(w,x,t+1);f[v]=E,E===w&&p++}return c===d&&p===c?n:f}function vA(n){const e=Object.getOwnPropertyNames(n);for(const s of e)if(!yA.call(n,s))return!1;const t=Object.getOwnPropertySymbols(n);if(t.length===0)return e;const r=e;for(const s of t){if(!yA.call(n,s))return!1;r.push(s)}return r}function sv(n){if(!_A(n))return!1;const e=n.constructor;if(typeof e>"u")return!0;const t=e.prototype;return!(!_A(t)||!t.hasOwnProperty("isPrototypeOf"))}function _A(n){return Object.prototype.toString.call(n)==="[object Object]"}function bA(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function ou(n,e,t){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;for(let r=0,s=n.length;r<s;r++)if(!ou(n[r],e[r],t))return!1;return!0}if(sv(n)&&sv(e)){const r=(t==null?void 0:t.ignoreUndefined)??!0;if(t!=null&&t.partial){for(const l in e)if((!r||e[l]!==void 0)&&!ou(n[l],e[l],t))return!1;return!0}let s=0;if(!r)s=Object.keys(n).length;else for(const l in n)n[l]!==void 0&&s++;let a=0;for(const l in e)if((!r||e[l]!==void 0)&&(a++,a>s||!ou(n[l],e[l],t)))return!1;return s===a}return!1}function yh(n){let e,t;const r=new Promise((s,a)=>{e=s,t=a});return r.status="pending",r.resolve=s=>{r.status="resolved",r.value=s,e(s),n==null||n(s)},r.reject=s=>{r.status="rejected",t(s)},r}function Wd(n){return!!(n&&typeof n=="object"&&typeof n.then=="function")}function E6(n){return n.replace(/[\x00-\x1f\x7f]/g,"")}function wA(n){let e;try{e=decodeURI(n)}catch{e=n.replaceAll(/%[0-9A-F]{2}/gi,t=>{try{return decodeURI(t)}catch{return t}})}return E6(e)}const ED=["http:","https:","mailto:","tel:"];function iv(n){if(!n)return!1;try{const e=new URL(n);return!ED.includes(e.protocol)}catch{return!1}}function rm(n){if(!n)return{path:n,handledProtocolRelativeURL:!1};if(!/[%\\\x00-\x1f\x7f]/.test(n)&&!n.startsWith("//"))return{path:n,handledProtocolRelativeURL:!1};const e=/%25|%5C/gi;let t=0,r="",s;for(;(s=e.exec(n))!==null;)r+=wA(n.slice(t,s.index))+s[0],t=e.lastIndex;r=r+wA(t?n.slice(t):n);let a=!1;return r.startsWith("//")&&(a=!0,r="/"+r.replace(/^\/+/,"")),{path:r,handledProtocolRelativeURL:a}}function T6(n){return/\s|[^\u0000-\u007F]/.test(n)?n.replace(/\s|[^\u0000-\u007F]/gu,encodeURIComponent):n}var C6="Invariant failed";function uo(n,e){if(!n)throw new Error(C6)}function av(n){const e=new Map;let t,r;const s=a=>{a.next&&(a.prev?(a.prev.next=a.next,a.next.prev=a.prev,a.next=void 0,r&&(r.next=a,a.prev=r)):(a.next.prev=void 0,t=a.next,a.next=void 0,r&&(a.prev=r,r.next=a)),r=a)};return{get(a){const l=e.get(a);if(l)return s(l),l.value},set(a,l){if(e.size>=n&&t){const d=t;e.delete(d.key),d.next&&(t=d.next,d.next.prev=void 0),d===r&&(r=void 0)}const c=e.get(a);if(c)c.value=l,s(c);else{const d={key:a,value:l,prev:r};r&&(r.next=d),r=d,t||(t=d),e.set(a,d)}},clear(){e.clear(),t=void 0,r=void 0}}}const vh=0,du=1,hu=2,Fm=3,Gc=4,TD=5;function R6(n){const e=n.indexOf("{");if(e===-1)return null;const t=n.indexOf("}",e);return t===-1||e+1>=n.length?null:[e,t]}function LS(n,e,t=new Uint16Array(6)){const r=n.indexOf("/",e),s=r===-1?n.length:r,a=n.substring(e,s);if(!a||!a.includes("$"))return t[0]=vh,t[1]=e,t[2]=e,t[3]=s,t[4]=s,t[5]=s,t;if(a==="$"){const c=n.length;return t[0]=hu,t[1]=e,t[2]=e,t[3]=c,t[4]=c,t[5]=c,t}if(a.charCodeAt(0)===36)return t[0]=du,t[1]=e,t[2]=e+1,t[3]=s,t[4]=s,t[5]=s,t;const l=R6(a);if(l){const[c,d]=l,f=a.charCodeAt(c+1);if(f===45){if(c+2<a.length&&a.charCodeAt(c+2)===36){const p=c+3,g=d;if(p<g)return t[0]=Fm,t[1]=e+c,t[2]=e+p,t[3]=e+g,t[4]=e+d+1,t[5]=s,t}}else if(f===36){const p=c+1,g=c+2;return g===d?(t[0]=hu,t[1]=e+c,t[2]=e+p,t[3]=e+g,t[4]=e+d+1,t[5]=n.length,t):(t[0]=du,t[1]=e+c,t[2]=e+g,t[3]=e+d,t[4]=e+d+1,t[5]=s,t)}}return t[0]=vh,t[1]=e,t[2]=e,t[3]=s,t[4]=s,t[5]=s,t}function s_(n,e,t,r,s,a,l){var d,f,p,g,v,w,x,E,C,k,O,M,F;l==null||l(t);let c=r;{const V=t.fullPath??t.from,z=V.length,N=((d=t.options)==null?void 0:d.caseSensitive)??n,I=!!((p=(f=t.options)==null?void 0:f.params)!=null&&p.parse&&((v=(g=t.options)==null?void 0:g.skipRouteOnParseError)!=null&&v.params));for(;c<z;){const D=LS(V,c,e);let L;const H=c,B=D[5];switch(c=B+1,a++,D[0]){case vh:{const ie=V.substring(D[2],D[3]);if(N){const $=(w=s.static)==null?void 0:w.get(ie);if($)L=$;else{s.static??(s.static=new Map);const ee=Yc(t.fullPath??t.from);ee.parent=s,ee.depth=a,L=ee,s.static.set(ie,ee)}}else{const $=ie.toLowerCase(),ee=(x=s.staticInsensitive)==null?void 0:x.get($);if(ee)L=ee;else{s.staticInsensitive??(s.staticInsensitive=new Map);const q=Yc(t.fullPath??t.from);q.parent=s,q.depth=a,L=q,s.staticInsensitive.set($,q)}}break}case du:{const ie=V.substring(H,D[1]),$=V.substring(D[4],B),ee=N&&!!(ie||$),q=ie?ee?ie:ie.toLowerCase():void 0,X=$?ee?$:$.toLowerCase():void 0,ge=!I&&((E=s.dynamic)==null?void 0:E.find(W=>!W.skipOnParamError&&W.caseSensitive===ee&&W.prefix===q&&W.suffix===X));if(ge)L=ge;else{const W=ix(du,t.fullPath??t.from,ee,q,X);L=W,W.depth=a,W.parent=s,s.dynamic??(s.dynamic=[]),s.dynamic.push(W)}break}case Fm:{const ie=V.substring(H,D[1]),$=V.substring(D[4],B),ee=N&&!!(ie||$),q=ie?ee?ie:ie.toLowerCase():void 0,X=$?ee?$:$.toLowerCase():void 0,ge=!I&&((C=s.optional)==null?void 0:C.find(W=>!W.skipOnParamError&&W.caseSensitive===ee&&W.prefix===q&&W.suffix===X));if(ge)L=ge;else{const W=ix(Fm,t.fullPath??t.from,ee,q,X);L=W,W.parent=s,W.depth=a,s.optional??(s.optional=[]),s.optional.push(W)}break}case hu:{const ie=V.substring(H,D[1]),$=V.substring(D[4],B),ee=N&&!!(ie||$),q=ie?ee?ie:ie.toLowerCase():void 0,X=$?ee?$:$.toLowerCase():void 0,ge=ix(hu,t.fullPath??t.from,ee,q,X);L=ge,ge.parent=s,ge.depth=a,s.wildcard??(s.wildcard=[]),s.wildcard.push(ge)}}s=L}if(I&&t.children&&!t.isRoot&&t.id&&t.id.charCodeAt(t.id.lastIndexOf("/")+1)===95){const D=Yc(t.fullPath??t.from);D.kind=TD,D.parent=s,a++,D.depth=a,s.pathless??(s.pathless=[]),s.pathless.push(D),s=D}const P=(t.path||!t.children)&&!t.isRoot;if(P&&V.endsWith("/")){const D=Yc(t.fullPath??t.from);D.kind=Gc,D.parent=s,a++,D.depth=a,s.index=D,s=D}s.parse=((O=(k=t.options)==null?void 0:k.params)==null?void 0:O.parse)??null,s.skipOnParamError=I,s.parsingPriority=((F=(M=t.options)==null?void 0:M.skipRouteOnParseError)==null?void 0:F.priority)??0,P&&!s.route&&(s.route=t,s.fullPath=t.fullPath??t.from)}if(t.children)for(const V of t.children)s_(n,e,V,c,s,a,l)}function sx(n,e){if(n.skipOnParamError&&!e.skipOnParamError)return-1;if(!n.skipOnParamError&&e.skipOnParamError)return 1;if(n.skipOnParamError&&e.skipOnParamError&&(n.parsingPriority||e.parsingPriority))return e.parsingPriority-n.parsingPriority;if(n.prefix&&e.prefix&&n.prefix!==e.prefix){if(n.prefix.startsWith(e.prefix))return-1;if(e.prefix.startsWith(n.prefix))return 1}if(n.suffix&&e.suffix&&n.suffix!==e.suffix){if(n.suffix.endsWith(e.suffix))return-1;if(e.suffix.endsWith(n.suffix))return 1}return n.prefix&&!e.prefix?-1:!n.prefix&&e.prefix?1:n.suffix&&!e.suffix?-1:!n.suffix&&e.suffix?1:n.caseSensitive&&!e.caseSensitive?-1:!n.caseSensitive&&e.caseSensitive?1:0}function al(n){var e,t,r;if(n.pathless)for(const s of n.pathless)al(s);if(n.static)for(const s of n.static.values())al(s);if(n.staticInsensitive)for(const s of n.staticInsensitive.values())al(s);if((e=n.dynamic)!=null&&e.length){n.dynamic.sort(sx);for(const s of n.dynamic)al(s)}if((t=n.optional)!=null&&t.length){n.optional.sort(sx);for(const s of n.optional)al(s)}if((r=n.wildcard)!=null&&r.length){n.wildcard.sort(sx);for(const s of n.wildcard)al(s)}}function Yc(n){return{kind:vh,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:n,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0}}function ix(n,e,t,r,s){return{kind:n,depth:0,pathless:null,index:null,static:null,staticInsensitive:null,dynamic:null,optional:null,wildcard:null,route:null,fullPath:e,parent:null,parse:null,skipOnParamError:!1,parsingPriority:0,caseSensitive:t,prefix:r,suffix:s}}function A6(n,e){const t=Yc("/"),r=new Uint16Array(6);for(const s of n)s_(!1,r,s,1,t,0);al(t),e.masksTree=t,e.flatCache=av(1e3)}function N6(n,e){n||(n="/");const t=e.flatCache.get(n);if(t)return t;const r=VS(n,e.masksTree);return e.flatCache.set(n,r),r}function I6(n,e,t,r,s){n||(n="/"),r||(r="/");const a=e?`case\0${n}`:n;let l=s.singleCache.get(a);if(!l){l=Yc("/");const c=new Uint16Array(6);s_(e,c,{from:n},1,l,0),s.singleCache.set(a,l)}return VS(r,l,t)}function k6(n,e,t=!1){const r=t?n:`nofuzz\0${n}`,s=e.matchCache.get(r);if(s!==void 0)return s;n||(n="/");let a;try{a=VS(n,e.segmentTree,t)}catch(l){if(l instanceof URIError)a=null;else throw l}return a&&(a.branch=O6(a.route)),e.matchCache.set(r,a),a}function D6(n){return n==="/"?n:n.replace(/\/{1,}$/,"")}function P6(n,e=!1,t){const r=Yc(n.fullPath),s=new Uint16Array(6),a={},l={};let c=0;return s_(e,s,n,1,r,0,f=>{if(t==null||t(f,c),uo(!(f.id in a),`Duplicate routes found with id: ${String(f.id)}`),a[f.id]=f,c!==0&&f.path){const p=D6(f.fullPath);(!l[p]||f.fullPath.endsWith("/"))&&(l[p]=f)}c++}),al(r),{processedTree:{segmentTree:r,singleCache:av(1e3),matchCache:av(1e3),flatCache:null,masksTree:null},routesById:a,routesByPath:l}}function VS(n,e,t=!1){const r=n.split("/"),s=j6(n,r,e,t);if(!s)return null;const[a]=CD(n,r,s);return{route:s.node.route,rawParams:a,parsedParams:s.parsedParams}}function CD(n,e,t){var p,g,v,w,x,E,C,k,O,M;const r=M6(t.node);let s=null;const a={};let l=((p=t.extract)==null?void 0:p.part)??0,c=((g=t.extract)==null?void 0:g.node)??0,d=((v=t.extract)==null?void 0:v.path)??0,f=((w=t.extract)==null?void 0:w.segment)??0;for(;c<r.length;l++,c++,d++,f++){const F=r[c];if(F.kind===Gc)break;if(F.kind===TD){f--,l--,d--;continue}const V=e[l],z=d;if(V&&(d+=V.length),F.kind===du){s??(s=t.node.fullPath.split("/"));const N=s[f],I=((x=F.prefix)==null?void 0:x.length)??0;if(N.charCodeAt(I)===123){const D=((E=F.suffix)==null?void 0:E.length)??0,L=N.substring(I+2,N.length-D-1),H=V.substring(I,V.length-D);a[L]=decodeURIComponent(H)}else{const D=N.substring(1);a[D]=decodeURIComponent(V)}}else if(F.kind===Fm){if(t.skipped&1<<c){l--,d=z-1;continue}s??(s=t.node.fullPath.split("/"));const N=s[f],I=((C=F.prefix)==null?void 0:C.length)??0,P=((k=F.suffix)==null?void 0:k.length)??0,D=N.substring(I+3,N.length-P-1),L=F.suffix||F.prefix?V.substring(I,V.length-P):V;L&&(a[D]=decodeURIComponent(L))}else if(F.kind===hu){const N=F,I=n.substring(z+(((O=N.prefix)==null?void 0:O.length)??0),n.length-(((M=N.suffix)==null?void 0:M.length)??0)),P=decodeURIComponent(I);a["*"]=P,a._splat=P;break}}return t.rawParams&&Object.assign(a,t.rawParams),[a,{part:l,node:c,path:d,segment:f}]}function O6(n){const e=[n];for(;n.parentRoute;)n=n.parentRoute,e.push(n);return e.reverse(),e}function M6(n){const e=Array(n.depth+1);do e[n.depth]=n,n=n.parent;while(n);return e}function j6(n,e,t,r){if(n==="/"&&t.index)return{node:t.index,skipped:0};const s=!Um(e),a=s&&n!=="/",l=e.length-(s?1:0),c=[{node:t,index:1,skipped:0,depth:1,statics:1,dynamics:0,optionals:0}];let d=null,f=null,p=null;for(;c.length;){const g=c.pop(),{node:v,index:w,skipped:x,depth:E,statics:C,dynamics:k,optionals:O}=g;let{extract:M,rawParams:F,parsedParams:V}=g;if(v.skipOnParamError){if(!ax(n,e,g))continue;F=g.rawParams,M=g.extract,V=g.parsedParams}r&&v.route&&v.kind!==Gc&&sm(f,g)&&(f=g);const z=w===l;if(z&&(v.route&&!a&&sm(p,g)&&(p=g),!v.optional&&!v.wildcard&&!v.index&&!v.pathless))continue;const N=z?void 0:e[w];let I;if(z&&v.index){const P={node:v.index,index:w,skipped:x,depth:E+1,statics:C,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V};let D=!0;if(v.index.skipOnParamError&&(ax(n,e,P)||(D=!1)),D){if(C===l&&!k&&!O&&!x)return P;sm(p,P)&&(p=P)}}if(v.wildcard&&sm(d,g))for(const P of v.wildcard){const{prefix:D,suffix:L}=P;if(D&&(z||!(P.caseSensitive?N:I??(I=N.toLowerCase())).startsWith(D)))continue;if(L){if(z)continue;const B=e.slice(w).join("/").slice(-L.length);if((P.caseSensitive?B:B.toLowerCase())!==L)continue}const H={node:P,index:l,skipped:x,depth:E,statics:C,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V};if(!(P.skipOnParamError&&!ax(n,e,H))){d=H;break}}if(v.optional){const P=x|1<<E,D=E+1;for(let L=v.optional.length-1;L>=0;L--){const H=v.optional[L];c.push({node:H,index:w,skipped:P,depth:D,statics:C,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V})}if(!z)for(let L=v.optional.length-1;L>=0;L--){const H=v.optional[L],{prefix:B,suffix:Q}=H;if(B||Q){const ie=H.caseSensitive?N:I??(I=N.toLowerCase());if(B&&!ie.startsWith(B)||Q&&!ie.endsWith(Q))continue}c.push({node:H,index:w+1,skipped:x,depth:D,statics:C,dynamics:k,optionals:O+1,extract:M,rawParams:F,parsedParams:V})}}if(!z&&v.dynamic&&N)for(let P=v.dynamic.length-1;P>=0;P--){const D=v.dynamic[P],{prefix:L,suffix:H}=D;if(L||H){const B=D.caseSensitive?N:I??(I=N.toLowerCase());if(L&&!B.startsWith(L)||H&&!B.endsWith(H))continue}c.push({node:D,index:w+1,skipped:x,depth:E+1,statics:C,dynamics:k+1,optionals:O,extract:M,rawParams:F,parsedParams:V})}if(!z&&v.staticInsensitive){const P=v.staticInsensitive.get(I??(I=N.toLowerCase()));P&&c.push({node:P,index:w+1,skipped:x,depth:E+1,statics:C+1,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V})}if(!z&&v.static){const P=v.static.get(N);P&&c.push({node:P,index:w+1,skipped:x,depth:E+1,statics:C+1,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V})}if(v.pathless){const P=E+1;for(let D=v.pathless.length-1;D>=0;D--){const L=v.pathless[D];c.push({node:L,index:w,skipped:x,depth:P,statics:C,dynamics:k,optionals:O,extract:M,rawParams:F,parsedParams:V})}}}if(p&&d)return sm(d,p)?p:d;if(p)return p;if(d)return d;if(r&&f){let g=f.index;for(let w=0;w<f.index;w++)g+=e[w].length;const v=g===n.length?"/":n.slice(g);return f.rawParams??(f.rawParams={}),f.rawParams["**"]=decodeURIComponent(v),f}return null}function ax(n,e,t){try{const[r,s]=CD(n,e,t);t.rawParams=r,t.extract=s;const a=t.node.parse(r);return t.parsedParams=Object.assign({},t.parsedParams,a),!0}catch{return null}}function sm(n,e){return n?e.statics>n.statics||e.statics===n.statics&&(e.dynamics>n.dynamics||e.dynamics===n.dynamics&&(e.optionals>n.optionals||e.optionals===n.optionals&&((e.node.kind===Gc)>(n.node.kind===Gc)||e.node.kind===Gc==(n.node.kind===Gc)&&e.depth>n.depth))):!0}function Vy(n){return BS(n.filter(e=>e!==void 0).join("/"))}function BS(n){return n.replace(/\/{2,}/g,"/")}function RD(n){return n==="/"?n:n.replace(/^\/{1,}/,"")}function ro(n){const e=n.length;return e>1&&n[e-1]==="/"?n.replace(/\/{1,}$/,""):n}function AD(n){return ro(RD(n))}function ov(n,e){return n!=null&&n.endsWith("/")&&n!=="/"&&n!==`${e}/`?n.slice(0,-1):n}function L6(n,e,t){return ov(n,t)===ov(e,t)}function V6({base:n,to:e,trailingSlash:t="never",cache:r}){const s=e.startsWith("/"),a=!s&&e===".";let l;if(r){l=s?e:a?n:n+"\0"+e;const g=r.get(l);if(g)return g}let c;if(a)c=n.split("/");else if(s)c=e.split("/");else{for(c=n.split("/");c.length>1&&Um(c)==="";)c.pop();const g=e.split("/");for(let v=0,w=g.length;v<w;v++){const x=g[v];x===""?v?v===w-1&&c.push(x):c=[x]:x===".."?c.pop():x==="."||c.push(x)}}c.length>1&&(Um(c)===""?t==="never"&&c.pop():t==="always"&&c.push(""));let d,f="";for(let g=0;g<c.length;g++){g>0&&(f+="/");const v=c[g];if(!v)continue;d=LS(v,0,d);const w=d[0];if(w===vh){f+=v;continue}const x=d[5],E=v.substring(0,d[1]),C=v.substring(d[4],x),k=v.substring(d[2],d[3]);w===du?f+=E||C?`${E}{$${k}}${C}`:`$${k}`:w===hu?f+=E||C?`${E}{$}${C}`:"$":f+=`${E}{-$${k}}${C}`}f=BS(f);const p=f||"/";return l&&r&&r.set(l,p),p}function B6(n){const e=new Map(n.map(s=>[encodeURIComponent(s),s])),t=Array.from(e.keys()).map(s=>s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),r=new RegExp(t,"g");return s=>s.replace(r,a=>e.get(a)??a)}function ox(n,e,t){const r=e[n];return typeof r!="string"?r:n==="_splat"?/^[a-zA-Z0-9\-._~!/]*$/.test(r)?r:r.split("/").map(s=>xA(s,t)).join("/"):xA(r,t)}function lx({path:n,params:e,decoder:t,...r}){let s=!1;const a={};if(!n||n==="/")return{interpolatedPath:"/",usedParams:a,isMissingParams:s};if(!n.includes("$"))return{interpolatedPath:n,usedParams:a,isMissingParams:s};const l=n.length;let c=0,d,f="";for(;c<l;){const g=c;d=LS(n,g,d);const v=d[5];if(c=v+1,g===v)continue;const w=d[0];if(w===vh){f+="/"+n.substring(g,v);continue}if(w===hu){const x=e._splat;a._splat=x,a["*"]=x;const E=n.substring(g,d[1]),C=n.substring(d[4],v);if(!x){s=!0,(E||C)&&(f+="/"+E+C);continue}const k=ox("_splat",e,t);f+="/"+E+k+C;continue}if(w===du){const x=n.substring(d[2],d[3]);!s&&!(x in e)&&(s=!0),a[x]=e[x];const E=n.substring(g,d[1]),C=n.substring(d[4],v),k=ox(x,e,t)??"undefined";f+="/"+E+k+C;continue}if(w===Fm){const x=n.substring(d[2],d[3]),E=e[x];if(E==null)continue;a[x]=E;const C=n.substring(g,d[1]),k=n.substring(d[4],v),O=ox(x,e,t)??"";f+="/"+C+O+k;continue}}return n.endsWith("/")&&(f+="/"),{usedParams:a,interpolatedPath:f||"/",isMissingParams:s}}function xA(n,e){const t=encodeURIComponent(n);return(e==null?void 0:e(t))??t}function vs(n){return!!(n!=null&&n.isNotFound)}function U6(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const R0="tsr-scroll-restoration-v1_3",F6=(n,e)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{n(...r),t=null},e))}};function z6(){const n=U6();if(!n)return null;const e=n.getItem(R0);let t=e?JSON.parse(e):{};return{state:t,set:r=>{t=bl(r,t)||t;try{n.setItem(R0,JSON.stringify(t))}catch{console.warn("[ts-router] Could not persist scroll restoration state to sessionStorage.")}}}}const _y=z6(),q6=n=>n.state.__TSR_key||n.href;function H6(n){const e=[];let t;for(;t=n.parentNode;)e.push(`${n.tagName}:nth-child(${Array.prototype.indexOf.call(t.children,n)+1})`),n=t;return`${e.reverse().join(" > ")}`.toLowerCase()}let lv=!1;function W6({storageKey:n,key:e,behavior:t,shouldScrollRestoration:r,scrollToTopSelectors:s,location:a}){var f,p;let l;try{l=JSON.parse(sessionStorage.getItem(n)||"{}")}catch(g){console.error(g);return}const c=e||((f=window.history.state)==null?void 0:f.__TSR_key),d=l[c];lv=!0;e:{if(r&&d&&Object.keys(d).length>0){for(const w in d){const x=d[w];if(w==="window")window.scrollTo({top:x.scrollY,left:x.scrollX,behavior:t});else if(w){const E=document.querySelector(w);E&&(E.scrollLeft=x.scrollX,E.scrollTop=x.scrollY)}}break e}const g=(a??window.location).hash.split("#",2)[1];if(g){const w=((p=window.history.state)==null?void 0:p.__hashScrollIntoViewOptions)??!0;if(w){const x=document.getElementById(g);x&&x.scrollIntoView(w)}break e}const v={top:0,left:0,behavior:t};if(window.scrollTo(v),s)for(const w of s){if(w==="window")continue;const x=typeof w=="function"?w():document.querySelector(w);x&&x.scrollTo(v)}}lv=!1}function $6(n,e){if(!_y||((n.options.scrollRestoration??!1)&&(n.isScrollRestoring=!0),n.isScrollRestorationSetup||!_y))return;n.isScrollRestorationSetup=!0,lv=!1;const r=n.options.getScrollRestorationKey||q6;window.history.scrollRestoration="manual";const s=a=>{if(lv||!n.isScrollRestoring)return;let l="";if(a.target===document||a.target===window)l="window";else{const d=a.target.getAttribute("data-scroll-restoration-id");d?l=`[data-scroll-restoration-id="${d}"]`:l=H6(a.target)}const c=r(n.state.location);_y.set(d=>{const f=d[c]||(d[c]={}),p=f[l]||(f[l]={});if(l==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(l){const g=document.querySelector(l);g&&(p.scrollX=g.scrollLeft||0,p.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",F6(s,100),!0),n.subscribe("onRendered",a=>{const l=r(a.toLocation);if(!n.resetNextScroll){n.resetNextScroll=!0;return}typeof n.options.scrollRestoration=="function"&&!n.options.scrollRestoration({location:n.latestLocation})||(W6({storageKey:R0,key:l,behavior:n.options.scrollRestorationBehavior,shouldScrollRestoration:n.isScrollRestoring,scrollToTopSelectors:n.options.scrollToTopSelectors,location:n.history.location}),n.isScrollRestoring&&_y.set(c=>(c[l]||(c[l]={}),c)))})}function G6(n){if(typeof document<"u"&&document.querySelector){const e=n.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&n.state.location.hash!==""){const t=document.getElementById(n.state.location.hash);t&&t.scrollIntoView(e)}}}function Y6(n,e=String){const t=new URLSearchParams;for(const r in n){const s=n[r];s!==void 0&&t.set(r,e(s))}return t.toString()}function cx(n){return n?n==="false"?!1:n==="true"?!0:+n*0===0&&+n+""===n?+n:n:""}function K6(n){const e=new URLSearchParams(n),t={};for(const[r,s]of e.entries()){const a=t[r];a==null?t[r]=cx(s):Array.isArray(a)?a.push(cx(s)):t[r]=[a,cx(s)]}return t}const Q6=X6(JSON.parse),J6=Z6(JSON.stringify,JSON.parse);function X6(n){return e=>{e[0]==="?"&&(e=e.substring(1));const t=K6(e);for(const r in t){const s=t[r];if(typeof s=="string")try{t[r]=n(s)}catch{}}return t}}function Z6(n,e){const t=typeof e=="function";function r(s){if(typeof s=="object"&&s!==null)try{return n(s)}catch{}else if(t&&typeof s=="string")try{return e(s),n(s)}catch{}return s}return s=>{const a=Y6(s,r);return a?`?${a}`:""}}const qs="__root__";function A0(n){if(n.statusCode=n.statusCode||n.code||307,!n._builtLocation&&typeof n.href=="string"&&iv(n.href))throw new Error(`Redirect blocked: unsafe protocol in href "${n.href}". Only ${ED.join(", ")} protocols are allowed.`);if(!n._builtLocation&&!n.reloadDocument&&typeof n.href=="string")try{new URL(n.href),n.reloadDocument=!0}catch{}const e=new Headers(n.headers);n.href&&e.get("Location")===null&&e.set("Location",n.href);const t=new Response(null,{status:n.statusCode,headers:e});if(t.options=n,n.throw)throw t;return t}function Hs(n){return n instanceof Response&&!!n.options}const By=n=>{var e;if(!n.rendered)return n.rendered=!0,(e=n.onReady)==null?void 0:e.call(n)},i_=(n,e)=>!!(n.preload&&!n.router.state.matches.some(t=>t.id===e)),$d=(n,e,t=!0)=>{const r={...n.router.options.context??{}},s=t?e:e-1;for(let a=0;a<=s;a++){const l=n.matches[a];if(!l)continue;const c=n.router.getMatch(l.id);c&&Object.assign(r,c.__routeContext,c.__beforeLoadContext)}return r},ND=(n,e,t)=>{var l;const r=n.router.routesById[e.routeId??""]??n.router.routeTree;!r.options.notFoundComponent&&((l=n.router.options)!=null&&l.defaultNotFoundComponent)&&(r.options.notFoundComponent=n.router.options.defaultNotFoundComponent);const s=t==="BEFORE_LOAD"&&r.parentRoute;s||uo(r.options.notFoundComponent);const a=n.matches.find(c=>c.routeId===r.id);uo(a,"Could not find match for route: "+r.id),n.updateMatch(a.id,c=>({...c,status:"notFound",error:e,isFetching:!1})),s&&(e.routeId=r.parentRoute.id,ND(n,e,t))},wl=(n,e,t,r)=>{var s,a,l;if(!(!Hs(t)&&!vs(t))){if(Hs(t)&&t.redirectHandled&&!t.options.reloadDocument)throw t;if(e){(s=e._nonReactive.beforeLoadPromise)==null||s.resolve(),(a=e._nonReactive.loaderPromise)==null||a.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const c=Hs(t)?"redirected":"notFound";e._nonReactive.error=t,n.updateMatch(e.id,d=>({...d,status:c,context:$d(n,e.index),isFetching:!1,error:t})),vs(t)&&!t.routeId&&(t.routeId=e.routeId),(l=e._nonReactive.loadPromise)==null||l.resolve()}throw Hs(t)?(n.rendered=!0,t.options._fromLocation=n.location,t.redirectHandled=!0,t=n.router.resolveRedirect(t),t):(ND(n,t,r),t)}},ID=(n,e)=>!!n.router.getMatch(e)._nonReactive.dehydrated,im=(n,e,t,r)=>{var c,d;const{id:s,routeId:a}=n.matches[e],l=n.router.looseRoutesById[a];if(t instanceof Promise)throw t;t.routerCode=r,n.firstBadMatchIndex??(n.firstBadMatchIndex=e),wl(n,n.router.getMatch(s),t,r);try{(d=(c=l.options).onError)==null||d.call(c,t)}catch(f){t=f,wl(n,n.router.getMatch(s),t,r)}n.updateMatch(s,f=>{var p,g;return(p=f._nonReactive.beforeLoadPromise)==null||p.resolve(),f._nonReactive.beforeLoadPromise=void 0,(g=f._nonReactive.loadPromise)==null||g.resolve(),{...f,error:t,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}})},kD=(n,e,t,r)=>{var l;if(r._nonReactive.pendingTimeout!==void 0)return;const s=t.options.pendingMs??n.router.options.defaultPendingMs;if(!!(n.onReady&&!i_(n,e)&&(t.options.loader||t.options.beforeLoad||OD(t))&&typeof s=="number"&&s!==1/0&&(t.options.pendingComponent??((l=n.router.options)==null?void 0:l.defaultPendingComponent)))){const c=setTimeout(()=>{By(n)},s);r._nonReactive.pendingTimeout=c}},e5=(n,e,t)=>{const r=n.router.getMatch(e);if(!r._nonReactive.beforeLoadPromise&&!r._nonReactive.loaderPromise)return;kD(n,e,t,r);const s=()=>{const a=n.router.getMatch(e);a.preload&&(a.status==="redirected"||a.status==="notFound")&&wl(n,a,a.error)};return r._nonReactive.beforeLoadPromise?r._nonReactive.beforeLoadPromise.then(s):s()},t5=(n,e,t,r)=>{const s=n.router.getMatch(e),a=s._nonReactive.loadPromise;s._nonReactive.loadPromise=yh(()=>{a==null||a.resolve()});const{paramsError:l,searchError:c}=s;l&&im(n,t,l,"PARSE_PARAMS"),c&&im(n,t,c,"VALIDATE_SEARCH"),kD(n,e,r,s);const d=new AbortController;let f=!1;const p=()=>{f||(f=!0,n.updateMatch(e,F=>({...F,isFetching:"beforeLoad",fetchCount:F.fetchCount+1,abortController:d})))},g=()=>{var F;(F=s._nonReactive.beforeLoadPromise)==null||F.resolve(),s._nonReactive.beforeLoadPromise=void 0,n.updateMatch(e,V=>({...V,isFetching:!1}))};if(!r.options.beforeLoad){Im(()=>{p(),g()});return}s._nonReactive.beforeLoadPromise=yh();const v={...$d(n,t,!1),...s.__routeContext},{search:w,params:x,cause:E}=s,C=i_(n,e),k={search:w,abortController:d,params:x,preload:C,context:v,location:n.location,navigate:F=>n.router.navigate({...F,_fromLocation:n.location}),buildLocation:n.router.buildLocation,cause:C?"preload":E,matches:n.matches,routeId:r.id,...n.router.options.additionalContext},O=F=>{if(F===void 0){Im(()=>{p(),g()});return}(Hs(F)||vs(F))&&(p(),im(n,t,F,"BEFORE_LOAD")),Im(()=>{p(),n.updateMatch(e,V=>({...V,__beforeLoadContext:F})),g()})};let M;try{if(M=r.options.beforeLoad(k),Wd(M))return p(),M.catch(F=>{im(n,t,F,"BEFORE_LOAD")}).then(O)}catch(F){p(),im(n,t,F,"BEFORE_LOAD")}O(M)},n5=(n,e)=>{const{id:t,routeId:r}=n.matches[e],s=n.router.looseRoutesById[r],a=()=>c(),l=()=>t5(n,t,e,s),c=()=>{if(ID(n,t))return;const d=e5(n,t,s);return Wd(d)?d.then(l):l()};return a()},r5=(n,e,t)=>{var a,l,c,d,f,p;const r=n.router.getMatch(e);if(!r||!t.options.head&&!t.options.scripts&&!t.options.headers)return;const s={ssr:n.router.options.ssr,matches:n.matches,match:r,params:r.params,loaderData:r.loaderData};return Promise.all([(l=(a=t.options).head)==null?void 0:l.call(a,s),(d=(c=t.options).scripts)==null?void 0:d.call(c,s),(p=(f=t.options).headers)==null?void 0:p.call(f,s)]).then(([g,v,w])=>{const x=g==null?void 0:g.meta,E=g==null?void 0:g.links,C=g==null?void 0:g.scripts,k=g==null?void 0:g.styles;return{meta:x,links:E,headScripts:C,headers:w,scripts:v,styles:k}})},DD=(n,e,t,r)=>{const s=n.matchPromises[t-1],{params:a,loaderDeps:l,abortController:c,cause:d}=n.router.getMatch(e),f=$d(n,t),p=i_(n,e);return{params:a,deps:l,preload:!!p,parentMatchPromise:s,abortController:c,context:f,location:n.location,navigate:g=>n.router.navigate({...g,_fromLocation:n.location}),cause:p?"preload":d,route:r,...n.router.options.additionalContext}},SA=async(n,e,t,r)=>{var s,a,l,c,d,f,p;try{const g=n.router.getMatch(e);try{(!(w6??n.router.isServer)||g.ssr===!0)&&PD(r);const v=(a=(s=r.options).loader)==null?void 0:a.call(s,DD(n,e,t,r)),w=r.options.loader&&Wd(v);if(!!(w||r._lazyPromise||r._componentsPromise||r.options.head||r.options.scripts||r.options.headers||g._nonReactive.minPendingPromise)&&n.updateMatch(e,C=>({...C,isFetching:"loader"})),r.options.loader){const C=w?await v:v;wl(n,n.router.getMatch(e),C),C!==void 0&&n.updateMatch(e,k=>({...k,loaderData:C}))}r._lazyPromise&&await r._lazyPromise;const E=g._nonReactive.minPendingPromise;E&&await E,r._componentsPromise&&await r._componentsPromise,n.updateMatch(e,C=>({...C,error:void 0,context:$d(n,t),status:"success",isFetching:!1,updatedAt:Date.now()}))}catch(v){let w=v;if((w==null?void 0:w.name)==="AbortError"){if(g.abortController.signal.aborted){(l=g._nonReactive.loaderPromise)==null||l.resolve(),g._nonReactive.loaderPromise=void 0;return}n.updateMatch(e,E=>({...E,status:E.status==="pending"?"success":E.status,isFetching:!1,context:$d(n,t)}));return}const x=g._nonReactive.minPendingPromise;x&&await x,vs(v)&&await((d=(c=r.options.notFoundComponent)==null?void 0:c.preload)==null?void 0:d.call(c)),wl(n,n.router.getMatch(e),v);try{(p=(f=r.options).onError)==null||p.call(f,v)}catch(E){w=E,wl(n,n.router.getMatch(e),E)}n.updateMatch(e,E=>({...E,error:w,context:$d(n,t),status:"error",isFetching:!1}))}}catch(g){const v=n.router.getMatch(e);v&&(v._nonReactive.loaderPromise=void 0),wl(n,v,g)}},s5=async(n,e)=>{var p,g;async function t(v,w,x,E){const C=Date.now()-w.updatedAt,k=v?E.options.preloadStaleTime??n.router.options.defaultPreloadStaleTime??3e4:E.options.staleTime??n.router.options.defaultStaleTime??0,O=E.options.shouldReload,M=typeof O=="function"?O(DD(n,r,e,E)):O,{status:F,invalid:V}=x;a=F==="success"&&(V||(M??C>k)),v&&E.options.preload===!1||(a&&!n.sync?(l=!0,(async()=>{var z,N;try{await SA(n,r,e,E);const I=n.router.getMatch(r);(z=I._nonReactive.loaderPromise)==null||z.resolve(),(N=I._nonReactive.loadPromise)==null||N.resolve(),I._nonReactive.loaderPromise=void 0}catch(I){Hs(I)&&await n.router.navigate(I.options)}})()):(F!=="success"||a&&n.sync)&&await SA(n,r,e,E))}const{id:r,routeId:s}=n.matches[e];let a=!1,l=!1;const c=n.router.looseRoutesById[s];if(!ID(n,r)){const v=n.router.getMatch(r),w=i_(n,r);if(v._nonReactive.loaderPromise){if(v.status==="success"&&!n.sync&&!v.preload)return v;await v._nonReactive.loaderPromise;const x=n.router.getMatch(r),E=x._nonReactive.error||x.error;E&&wl(n,x,E),x.status==="pending"&&await t(w,v,x,c)}else{const x=w&&!n.router.state.matches.some(C=>C.id===r),E=n.router.getMatch(r);E._nonReactive.loaderPromise=yh(),x!==E.preload&&n.updateMatch(r,C=>({...C,preload:x})),await t(w,v,E,c)}}const d=n.router.getMatch(r);l||((p=d._nonReactive.loaderPromise)==null||p.resolve(),(g=d._nonReactive.loadPromise)==null||g.resolve()),clearTimeout(d._nonReactive.pendingTimeout),d._nonReactive.pendingTimeout=void 0,l||(d._nonReactive.loaderPromise=void 0),d._nonReactive.dehydrated=void 0;const f=l?d.isFetching:!1;return f!==d.isFetching||d.invalid!==!1?(n.updateMatch(r,v=>({...v,isFetching:f,invalid:!1})),n.router.getMatch(r)):d};async function EA(n){const e=Object.assign(n,{matchPromises:[]});e.router.state.matches.some(t=>t._forcePending)&&By(e);try{for(let c=0;c<e.matches.length;c++){const d=n5(e,c);Wd(d)&&await d}const t=e.firstBadMatchIndex??e.matches.length;for(let c=0;c<t;c++)e.matchPromises.push(s5(e,c));const s=(await Promise.allSettled(e.matchPromises)).filter(c=>c.status==="rejected").map(c=>c.reason);let a;for(const c of s){if(Hs(c))throw c;!a&&vs(c)&&(a=c)}for(const c of e.matches){const{id:d,routeId:f}=c,p=e.router.looseRoutesById[f];try{const g=r5(e,d,p);if(g){const v=await g;e.updateMatch(d,w=>({...w,...v}))}}catch(g){console.error(`Error executing head for route ${f}:`,g)}}if(a)throw a;const l=By(e);Wd(l)&&await l}catch(t){if(vs(t)&&!e.preload){const r=By(e);throw Wd(r)&&await r,t}if(Hs(t))throw t}return e.matches}async function PD(n){if(!n._lazyLoaded&&n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(e=>{const{id:t,...r}=e.options;Object.assign(n.options,r),n._lazyLoaded=!0,n._lazyPromise=void 0}):n._lazyLoaded=!0),!n._componentsLoaded&&n._componentsPromise===void 0){const e=()=>{var r;const t=[];for(const s of MD){const a=(r=n.options[s])==null?void 0:r.preload;a&&t.push(a())}if(t.length)return Promise.all(t).then(()=>{n._componentsLoaded=!0,n._componentsPromise=void 0});n._componentsLoaded=!0,n._componentsPromise=void 0};n._componentsPromise=n._lazyPromise?n._lazyPromise.then(e):e()}return n._componentsPromise}function OD(n){var e;for(const t of MD)if((e=n.options[t])!=null&&e.preload)return!0;return!1}const MD=["component","errorComponent","pendingComponent","notFoundComponent"];function i5(n){return{input:({url:e})=>{for(const t of n)e=N0(t,e);return e},output:({url:e})=>{for(let t=n.length-1;t>=0;t--)e=jD(n[t],e);return e}}}function a5(n){const e=AD(n.basepath),t=`/${e}`,r=`${t}/`,s=n.caseSensitive?t:t.toLowerCase(),a=n.caseSensitive?r:r.toLowerCase();return{input:({url:l})=>{const c=n.caseSensitive?l.pathname:l.pathname.toLowerCase();return c===s?l.pathname="/":c.startsWith(a)&&(l.pathname=l.pathname.slice(t.length)),l},output:({url:l})=>(l.pathname=Vy(["/",e,l.pathname]),l)}}function N0(n,e){var r;const t=(r=n==null?void 0:n.input)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function jD(n,e){var r;const t=(r=n==null?void 0:n.output)==null?void 0:r.call(n,{url:e});if(t){if(typeof t=="string")return new URL(t);if(t instanceof URL)return t}return e}function lu(n){const e=n.resolvedLocation,t=n.location,r=(e==null?void 0:e.pathname)!==t.pathname,s=(e==null?void 0:e.href)!==t.href,a=(e==null?void 0:e.hash)!==t.hash;return{fromLocation:e,toLocation:t,pathChanged:r,hrefChanged:s,hashChanged:a}}class o5{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{var v;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const r=this.options,s=this.basepath??(r==null?void 0:r.basepath)??"/",a=this.basepath===void 0,l=r==null?void 0:r.rewrite;if(this.options={...r,...t},this.isServer=this.options.isServer??typeof document>"u",this.options.pathParamsAllowedCharacters&&(this.pathParamsDecoder=B6(this.options.pathParamsAllowedCharacters)),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.history=_6()),this.origin=this.options.origin,this.origin||(window!=null&&window.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree){this.routeTree=this.options.routeTree;let w;this.resolvePathCache=av(1e3),w=this.buildRouteTree(),this.setRoutes(w)}!this.__store&&this.latestLocation&&(this.__store=new y6(c5(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(w=>!["redirected"].includes(w.status))}}}),$6(this));let c=!1;const d=this.options.basepath??"/",f=this.options.rewrite;if(a||s!==d||l!==f){this.basepath=d;const w=[],x=AD(d);x&&x!=="/"&&w.push(a5({basepath:d})),f&&w.push(f),this.rewrite=w.length===0?void 0:w.length===1?w[0]:i5(w),this.history&&this.updateLatestLocation(),c=!0}c&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof((v=window.CSS)==null?void 0:v.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const t=P6(this.routeTree,this.options.caseSensitive,(r,s)=>{r.init({originalIndex:s})});return this.options.routeMasks&&A6(this.options.routeMasks,t.processedTree),t},this.subscribe=(t,r)=>{const s={eventType:t,fn:r};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const s=({pathname:d,search:f,hash:p,href:g,state:v})=>{if(!this.rewrite&&!/[ \x00-\x1f\x7f\u0080-\uffff]/.test(d)){const O=this.options.parseSearch(f),M=this.options.stringifySearch(O);return{href:d+M+p,publicHref:g,pathname:rm(d).path,external:!1,searchStr:M,search:ds(r==null?void 0:r.search,O),hash:rm(p.slice(1)).path,state:ds(r==null?void 0:r.state,v)}}const w=new URL(g,this.origin),x=N0(this.rewrite,w),E=this.options.parseSearch(x.search),C=this.options.stringifySearch(E);return x.search=C,{href:x.href.replace(x.origin,""),publicHref:g,pathname:rm(x.pathname).path,external:!!this.rewrite&&x.origin!==this.origin,searchStr:C,search:ds(r==null?void 0:r.search,E),hash:rm(x.hash.slice(1)).path,state:ds(r==null?void 0:r.state,v)}},a=s(t),{__tempLocation:l,__tempKey:c}=a.state;if(l&&(!c||c===this.tempLocationKey)){const d=s(l);return d.state.key=a.state.key,d.state.__TSR_key=a.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:a}}return a},this.resolvePathWithBase=(t,r)=>V6({base:t,to:BS(r),trailingSlash:this.options.trailingSlash,cache:this.resolvePathCache}),this.matchRoutes=(t,r,s)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},s):this.matchRoutesInternal(t,r),this.getMatchedRoutes=t=>u5({pathname:t,routesById:this.routesById,processedTree:this.processedTree}),this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r._nonReactive.pendingTimeout),r._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{const t=this.state.matches.filter(a=>a.status==="pending"),r=this.state.matches.filter(a=>a.isFetching==="loader");new Set([...this.state.pendingMatches??[],...t,...r]).forEach(a=>{this.cancelMatch(a.id)})},this.buildLocation=t=>{const r=(a={})=>{var B,Q;const l=a._fromLocation||this.pendingBuiltLocation||this.latestLocation,c=this.matchRoutesLightweight(l);a.from;const d=a.unsafeRelative==="path"?l.pathname:a.from??c.fullPath,f=this.resolvePathWithBase(d,"."),p=c.search,g={...c.params},v=a.to?this.resolvePathWithBase(f,`${a.to}`):this.resolvePathWithBase(f,"."),w=a.params===!1||a.params===null?{}:(a.params??!0)===!0?g:Object.assign(g,bl(a.params,g)),x=lx({path:v,params:w,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath,E=this.getMatchedRoutes(x);let C=E.matchedRoutes;(E.foundRoute?E.foundRoute.path!=="/"&&E.routeParams["**"]:ro(x))&&this.options.notFoundRoute&&(C=[...C,this.options.notFoundRoute]);let O=!1;if(Object.keys(w).length>0)for(const ie of C){const $=((B=ie.options.params)==null?void 0:B.stringify)??ie.options.stringifyParams;$&&(O=!0,Object.assign(w,$(w)))}const M=t.leaveParams?v:rm(O?lx({path:v,params:w,decoder:this.pathParamsDecoder,server:this.isServer}).interpolatedPath:x).path;let F=p;if(t._includeValidateSearch&&((Q=this.options.search)!=null&&Q.strict)){const ie={};C.forEach($=>{if($.options.validateSearch)try{Object.assign(ie,Uy($.options.validateSearch,{...ie,...F}))}catch{}}),F=ie}F=d5({search:F,dest:a,destRoutes:C,_includeValidateSearch:t._includeValidateSearch}),F=ds(p,F);const V=this.options.stringifySearch(F),z=a.hash===!0?l.hash:a.hash?bl(a.hash,l.hash):void 0,N=z?`#${z}`:"";let I=a.state===!0?l.state:a.state?bl(a.state,l.state):{};I=ds(l.state,I);const P=`${M}${V}${N}`;let D,L,H=!1;if(this.rewrite){const ie=new URL(P,this.origin),$=jD(this.rewrite,ie);D=ie.href.replace(ie.origin,""),$.origin!==this.origin?(L=$.href,H=!0):L=$.pathname+$.search+$.hash}else D=T6(P),L=D;return{publicHref:L,href:D,pathname:M,search:F,searchStr:V,state:I,hash:z??"",external:H,unmaskOnReload:a.unmaskOnReload}},s=(a={},l)=>{const c=r(a);let d=l?r(l):void 0;if(!d){const f={};if(this.options.routeMasks){const p=N6(c.pathname,this.processedTree);if(p){Object.assign(f,p.rawParams);const{from:g,params:v,...w}=p.route,x=v===!1||v===null?{}:(v??!0)===!0?f:Object.assign(f,bl(v,f));l={from:t.from,...w,params:x},d=r(l)}}}return d&&(c.maskedLocation=d),c};return t.mask?s(t,{from:t.from,...t.mask}):s(t)},this.commitLocation=async({viewTransition:t,ignoreBlocker:r,...s})=>{const a=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(p=>{s.state[p]=this.latestLocation.state[p]});const f=ou(s.state,this.latestLocation.state);return d.forEach(p=>{delete s.state[p]}),f},l=ro(this.latestLocation.href)===ro(s.href),c=this.commitLocationPromise;if(this.commitLocationPromise=yh(()=>{c==null||c.resolve()}),l&&a())this.load();else{let{maskedLocation:d,hashScrollIntoView:f,...p}=s;d&&(p={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=f??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[s.replace?"replace":"push"](p.publicHref,p.state,{ignoreBlocker:r})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:s,viewTransition:a,ignoreBlocker:l,href:c,...d}={})=>{if(c){const g=this.history.location.state.__TSR_index,v=rv(c,{__TSR_index:t?g:g+1}),w=new URL(v.pathname,this.origin),x=N0(this.rewrite,w);d.to=x.pathname,d.search=this.options.parseSearch(v.search),d.hash=v.hash.slice(1)}const f=this.buildLocation({...d,_includeValidateSearch:!0});this.pendingBuiltLocation=f;const p=this.commitLocation({...f,viewTransition:a,replace:t,resetScroll:r,hashScrollIntoView:s,ignoreBlocker:l});return Promise.resolve().then(()=>{this.pendingBuiltLocation===f&&(this.pendingBuiltLocation=void 0)}),p},this.navigate=async({to:t,reloadDocument:r,href:s,publicHref:a,...l})=>{var d;let c=!1;if(s)try{new URL(`${s}`),c=!0}catch{}if(c&&!r&&(r=!0),r){if(t!==void 0||!s){const p=this.buildLocation({to:t,...l});s=s??p.publicHref,a=a??p.publicHref}const f=!c&&a?a:s;if(iv(f))return Promise.resolve();if(!l.ignoreBlocker){const p=this.history,g=((d=p.getBlockers)==null?void 0:d.call(p))??[];for(const v of g)if(v!=null&&v.blockerFn&&await v.blockerFn({currentLocation:this.latestLocation,nextLocation:this.latestLocation,action:"PUSH"}))return Promise.resolve()}return l.replace?window.location.replace(f):window.location.href=f,Promise.resolve()}return this.buildAndCommitLocation({...l,href:s,to:t,_isNavigate:!0})},this.beforeLoad=()=>{this.cancelMatches(),this.updateLatestLocation();const t=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:r.cachedMatches.filter(s=>!t.some(a=>a.id===s.id))}))},this.load=async t=>{let r,s,a;for(a=new Promise(c=>{this.startTransition(async()=>{var d;try{this.beforeLoad();const f=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...lu({resolvedLocation:p,location:f})}),this.emit({type:"onBeforeLoad",...lu({resolvedLocation:p,location:f})}),await EA({router:this,sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:f,updateMatch:this.updateMatch,onReady:async()=>{this.startTransition(()=>{this.startViewTransition(async()=>{let g=[],v=[],w=[];Im(()=>{this.__store.setState(x=>{const E=x.matches,C=x.pendingMatches||x.matches;return g=E.filter(k=>!C.some(O=>O.id===k.id)),v=C.filter(k=>!E.some(O=>O.id===k.id)),w=C.filter(k=>E.some(O=>O.id===k.id)),{...x,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...x.cachedMatches,...g.filter(k=>k.status!=="error"&&k.status!=="notFound")]}}),this.clearExpiredCache()}),[[g,"onLeave"],[v,"onEnter"],[w,"onStay"]].forEach(([x,E])=>{x.forEach(C=>{var k,O;(O=(k=this.looseRoutesById[C.routeId].options)[E])==null||O.call(k,C)})})})})}})}catch(f){Hs(f)?(r=f,this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):vs(f)&&(s=f),this.__store.setState(p=>({...p,statusCode:r?r.status:s?404:p.matches.some(g=>g.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&((d=this.commitLocationPromise)==null||d.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),c()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;let l;this.hasNotFoundMatch()?l=404:this.__store.state.matches.some(c=>c.status==="error")&&(l=500),l!==void 0&&this.__store.setState(c=>({...c,statusCode:l}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(this.shouldViewTransition=void 0,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,l=this.state.resolvedLocation,c=typeof r.types=="function"?r.types(lu({resolvedLocation:l,location:a})):r.types;if(c===!1){t();return}s={update:t,types:c}}else s=t;document.startViewTransition(s)}else t()},this.updateMatch=(t,r)=>{this.startTransition(()=>{var a;const s=(a=this.state.pendingMatches)!=null&&a.some(l=>l.id===t)?"pendingMatches":this.state.matches.some(l=>l.id===t)?"matches":this.state.cachedMatches.some(l=>l.id===t)?"cachedMatches":"";s&&this.__store.setState(l=>{var c;return{...l,[s]:(c=l[s])==null?void 0:c.map(d=>d.id===t?r(d):d)}})})},this.getMatch=t=>{var s;const r=a=>a.id===t;return this.state.cachedMatches.find(r)??((s=this.state.pendingMatches)==null?void 0:s.find(r))??this.state.matches.find(r)},this.invalidate=t=>{const r=s=>{var a;return((a=t==null?void 0:t.filter)==null?void 0:a.call(t,s))??!0?{...s,invalid:!0,...t!=null&&t.forcePending||s.status==="error"||s.status==="notFound"?{status:"pending",error:void 0}:void 0}:s};return this.__store.setState(s=>{var a;return{...s,matches:s.matches.map(r),cachedMatches:s.cachedMatches.map(r),pendingMatches:(a=s.pendingMatches)==null?void 0:a.map(r)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.getParsedLocationHref=t=>t.publicHref||"/",this.resolveRedirect=t=>{const r=t.headers.get("Location");if(!t.options.href||t.options._builtLocation){const s=t.options._builtLocation??this.buildLocation(t.options),a=this.getParsedLocationHref(s);t.options.href=a,t.headers.set("Location",a)}else if(r)try{const s=new URL(r);if(this.origin&&s.origin===this.origin){const a=s.pathname+s.search+s.hash;t.options.href=a,t.headers.set("Location",a)}}catch{}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(a=>!r(a))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const s=this.looseRoutesById[r.routeId];if(!s.options.loader)return!0;const a=(r.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??300*1e3;return r.status==="error"?!0:Date.now()-r.updatedAt>=a};this.clearCache({filter:t})},this.loadRouteChunk=PD,this.preloadRoute=async t=>{const r=this.buildLocation(t);let s=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...a,...this.state.cachedMatches.map(c=>c.id)]);Im(()=>{s.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return s=await EA({router:this,matches:s,location:r,preload:!0,updateMatch:(c,d)=>{a.has(c)?s=s.map(f=>f.id===c?d(f):f):this.updateMatch(c,d)}}),s}catch(c){if(Hs(c))return c.options.reloadDocument?void 0:await this.preloadRoute({...c.options,_fromLocation:r});vs(c)||console.error(c);return}},this.matchRoute=(t,r)=>{const s={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},a=this.buildLocation(s);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const c=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=I6(a.pathname,(r==null?void 0:r.caseSensitive)??!1,(r==null?void 0:r.fuzzy)??!1,c.pathname,this.processedTree);return!d||t.params&&!ou(d.rawParams,t.params,{partial:!0})?!1:(r==null?void 0:r.includeSearch)??!0?ou(c.search,a.search,{partial:!0})?d.rawParams:!1:d.rawParams},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??J6,parseSearch:e.parseSearch??Q6}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}setRoutes({routesById:e,routesByPath:t,processedTree:r}){this.routesById=e,this.routesByPath=t,this.processedTree=r;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999}),this.routesById[s.id]=s)}get looseRoutesById(){return this.routesById}getParentContext(e){return(e==null?void 0:e.id)?e.context??this.options.context??void 0:this.options.context??void 0}matchRoutesInternal(e,t){var v,w;const r=this.getMatchedRoutes(e.pathname),{foundRoute:s,routeParams:a,parsedParams:l}=r;let{matchedRoutes:c}=r,d=!1;(s?s.path!=="/"&&a["**"]:ro(e.pathname))&&(this.options.notFoundRoute?c=[...c,this.options.notFoundRoute]:d=!0);const f=d?f5(this.options.notFoundMode,c):void 0,p=new Array(c.length),g=new Map(this.state.matches.map(x=>[x.routeId,x]));for(let x=0;x<c.length;x++){const E=c[x],C=p[x-1];let k,O,M;{const $=(C==null?void 0:C.search)??e.search,ee=(C==null?void 0:C._strictSearch)??void 0;try{const q=Uy(E.options.validateSearch,{...$})??void 0;k={...$,...q},O={...ee,...q},M=void 0}catch(q){let X=q;if(q instanceof cv||(X=new cv(q.message,{cause:q})),t!=null&&t.throwOnError)throw X;k=$,O={},M=X}}const F=((w=(v=E.options).loaderDeps)==null?void 0:w.call(v,{search:k}))??"",V=F?JSON.stringify(F):"",{interpolatedPath:z,usedParams:N}=lx({path:E.fullPath,params:a,decoder:this.pathParamsDecoder,server:this.isServer}),I=E.id+z+V,P=this.getMatch(I),D=g.get(E.id),L=(P==null?void 0:P._strictParams)??N;let H;if(!P)try{TA(E,N,l,L)}catch($){if(vs($)||Hs($)?H=$:H=new l5($.message,{cause:$}),t!=null&&t.throwOnError)throw H}Object.assign(a,L);const B=D?"stay":"enter";let Q;if(P)Q={...P,cause:B,params:(D==null?void 0:D.params)??a,_strictParams:L,search:ds(D?D.search:P.search,k),_strictSearch:O};else{const $=E.options.loader||E.options.beforeLoad||E.lazyFn||OD(E)?"pending":"success";Q={id:I,ssr:E.options.ssr,index:x,routeId:E.id,params:(D==null?void 0:D.params)??a,_strictParams:L,pathname:z,updatedAt:Date.now(),search:D?ds(D.search,k):k,_strictSearch:O,searchError:void 0,status:$,isFetching:!1,error:void 0,paramsError:H,__routeContext:void 0,_nonReactive:{loadPromise:yh()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:D?ds(D.loaderDeps,F):F,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:E.options.staticData||{},fullPath:E.fullPath}}t!=null&&t.preload||(Q.globalNotFound=f===E.id),Q.searchError=M;const ie=this.getParentContext(C);Q.context={...ie,...Q.__routeContext,...Q.__beforeLoadContext},p[x]=Q}for(let x=0;x<p.length;x++){const E=p[x],C=this.looseRoutesById[E.routeId],k=this.getMatch(E.id),O=g.get(E.routeId);if(E.params=O?ds(O.params,a):a,!k){const M=p[x-1],F=this.getParentContext(M);if(C.options.context){const V={deps:E.loaderDeps,params:E.params,context:F??{},location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:E.cause,abortController:E.abortController,preload:!!E.preload,matches:p,routeId:C.id};E.__routeContext=C.options.context(V)??void 0}E.context={...F,...E.__routeContext,...E.__beforeLoadContext}}}return p}matchRoutesLightweight(e){const{matchedRoutes:t,routeParams:r,parsedParams:s}=this.getMatchedRoutes(e.pathname),a=Um(t),l={...e.search};for(const p of t)try{Object.assign(l,Uy(p.options.validateSearch,l))}catch{}const c=Um(this.state.matches),d=c&&c.routeId===a.id&&e.pathname===this.state.location.pathname;let f;if(d)f=c.params;else{const p={...r};for(const g of t)try{TA(g,r,s??{},p)}catch{}f=p}return{matchedRoutes:t,fullPath:a.fullPath,search:l,params:f}}}class cv extends Error{}class l5 extends Error{}function c5(n){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:n,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Uy(n,e){if(n==null)return{};if("~standard"in n){const t=n["~standard"].validate(e);if(t instanceof Promise)throw new cv("Async validation not supported");if(t.issues)throw new cv(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in n?n.parse(e):typeof n=="function"?n(e):{}}function u5({pathname:n,routesById:e,processedTree:t}){const r={},s=ro(n);let a,l;const c=k6(s,t,!0);return c&&(a=c.route,Object.assign(r,c.rawParams),l=Object.assign({},c.parsedParams)),{matchedRoutes:(c==null?void 0:c.branch)||[e[qs]],routeParams:r,foundRoute:a,parsedParams:l}}function d5({search:n,dest:e,destRoutes:t,_includeValidateSearch:r}){return h5(t)(n,e,r??!1)}function h5(n){var s;const e={dest:null,_includeValidateSearch:!1,middlewares:[]};for(const a of n){if("search"in a.options)(s=a.options.search)!=null&&s.middlewares&&e.middlewares.push(...a.options.search.middlewares);else if(a.options.preSearchFilters||a.options.postSearchFilters){const l=({search:c,next:d})=>{let f=c;"preSearchFilters"in a.options&&a.options.preSearchFilters&&(f=a.options.preSearchFilters.reduce((g,v)=>v(g),c));const p=d(f);return"postSearchFilters"in a.options&&a.options.postSearchFilters?a.options.postSearchFilters.reduce((g,v)=>v(g),p):p};e.middlewares.push(l)}if(a.options.validateSearch){const l=({search:c,next:d})=>{const f=d(c);if(!e._includeValidateSearch)return f;try{return{...f,...Uy(a.options.validateSearch,f)??void 0}}catch{return f}};e.middlewares.push(l)}}const t=({search:a})=>{const l=e.dest;return l.search?l.search===!0?a:bl(l.search,a):{}};e.middlewares.push(t);const r=(a,l,c)=>{if(a>=c.length)return l;const d=c[a];return d({search:l,next:p=>r(a+1,p,c)})};return function(l,c,d){return e.dest=c,e._includeValidateSearch=d,r(0,l,e.middlewares)}}function f5(n,e){if(n!=="root")for(let t=e.length-1;t>=0;t--){const r=e[t];if(r.children)return r.id}return qs}function TA(n,e,t,r){var a;const s=((a=n.options.params)==null?void 0:a.parse)??n.options.parseParams;if(s)if(n.options.skipRouteOnParseError)for(const l in e)l in t&&(r[l]=t[l]);else{const l=s(r);Object.assign(r,l)}}const m5="Error preloading route! ";class LD{constructor(e){if(this.init=t=>{var f,p;this.originalIndex=t.originalIndex;const r=this.options,s=!(r!=null&&r.path)&&!(r!=null&&r.id);this.parentRoute=(p=(f=this.options).getParentRoute)==null?void 0:p.call(f),s?this._path=qs:this.parentRoute||uo(!1);let a=s?qs:r==null?void 0:r.path;a&&a!=="/"&&(a=RD(a));const l=(r==null?void 0:r.id)||a;let c=s?qs:Vy([this.parentRoute.id===qs?"":this.parentRoute.id,l]);a===qs&&(a="/"),c!==qs&&(c=Vy(["/",c]));const d=c===qs?"/":Vy([this.parentRoute.fullPath,a]);this._path=a,this._id=c,this._fullPath=d,this._to=ro(d)},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.redirect=t=>A0({from:this.fullPath,...t}),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class p5 extends LD{constructor(e){super(e)}}const by=typeof window<"u"?S.useLayoutEffect:S.useEffect;function ux(n){const e=S.useRef({value:n,prev:null}),t=e.current.value;return n!==t&&(e.current={value:n,prev:t}),e.current.prev}function g5(n,e,t={},r={}){S.useEffect(()=>{if(!n.current||r.disabled||typeof IntersectionObserver!="function")return;const s=new IntersectionObserver(([a])=>{e(a)},t);return s.observe(n.current),()=>{s.disconnect()}},[e,t,r.disabled,n])}function y5(n){const e=S.useRef(null);return S.useImperativeHandle(n,()=>e.current,[]),e}function US(n){const e=n.errorComponent??FS;return h.jsx(v5,{getResetKey:n.getResetKey,onCatch:n.onCatch,children:({error:t,reset:r})=>t?S.createElement(e,{error:t,reset:r}):n.children})}class v5 extends S.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,t){t.error&&t.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,t){this.props.onCatch&&this.props.onCatch(e,t)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function FS({error:n}){const[e,t]=S.useState(!1);return h.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[h.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),h.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>t(r=>!r),children:e?"Hide Error":"Show Error"})]}),h.jsx("div",{style:{height:".25rem"}}),e?h.jsx("div",{children:h.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:n.message?h.jsx("code",{children:n.message}):null})}):null]})}function _5({children:n,fallback:e=null}){return VD()?h.jsx(we.Fragment,{children:n}):h.jsx(we.Fragment,{children:e})}function VD(){return we.useSyncExternalStore(b5,()=>!0,()=>!1)}function b5(){return()=>{}}var dx={exports:{}},hx={},fx={exports:{}},mx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CA;function w5(){if(CA)return mx;CA=1;var n=ku();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,s=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function c(g,v){var w=v(),x=r({inst:{value:w,getSnapshot:v}}),E=x[0].inst,C=x[1];return a(function(){E.value=w,E.getSnapshot=v,d(E)&&C({inst:E})},[g,w,v]),s(function(){return d(E)&&C({inst:E}),g(function(){d(E)&&C({inst:E})})},[g]),l(w),w}function d(g){var v=g.getSnapshot;g=g.value;try{var w=v();return!t(g,w)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return mx.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:p,mx}var RA;function x5(){return RA||(RA=1,fx.exports=w5()),fx.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AA;function S5(){if(AA)return hx;AA=1;var n=ku(),e=x5();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return hx.useSyncExternalStoreWithSelector=function(f,p,g,v,w){var x=a(null);if(x.current===null){var E={hasValue:!1,value:null};x.current=E}else E=x.current;x=c(function(){function k(z){if(!O){if(O=!0,M=z,z=v(z),w!==void 0&&E.hasValue){var N=E.value;if(w(N,z))return F=N}return F=z}if(N=F,r(M,z))return N;var I=v(z);return w!==void 0&&w(N,I)?(M=z,N):(M=z,F=I)}var O=!1,M,F,V=g===void 0?null:g;return[function(){return k(p())},V===null?void 0:function(){return k(V())}]},[p,g,v,w]);var C=s(f,x[0],x[1]);return l(function(){E.hasValue=!0,E.value=C},[C]),d(C),C},hx}var NA;function E5(){return NA||(NA=1,dx.exports=S5()),dx.exports}var T5=E5();function C5(n,e=r=>r,t={}){const r=t.equal??R5;return T5.useSyncExternalStoreWithSelector(n.subscribe,()=>n.state,()=>n.state,e,r)}function R5(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(const[r,s]of n)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(const r of n)if(!e.has(r))return!1;return!0}if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();const t=IA(n);if(t.length!==IA(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}function IA(n){return Object.keys(n).concat(Object.getOwnPropertySymbols(n))}const px=S.createContext(null);function BD(){return typeof document>"u"?px:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=px,px)}function Ys(n){const e=S.useContext(BD());return n==null||n.warn,e}function Ws(n){const e=Ys({warn:(n==null?void 0:n.router)===void 0}),t=(n==null?void 0:n.router)||e,r=S.useRef(void 0);return C5(t.__store,s=>{if(n!=null&&n.select){if(n.structuralSharing??t.options.defaultStructuralSharing){const a=ds(r.current,n.select(s));return r.current=a,a}return n.select(s)}return s})}const a_=S.createContext(void 0),A5=S.createContext(void 0);function pa(n){const e=S.useContext(n.from?A5:a_);return Ws({select:r=>{const s=r.matches.find(a=>n.from?n.from===a.routeId:a.id===e);if(uo(!((n.shouldThrow??!0)&&!s),`Could not find ${n.from?`an active match from "${n.from}"`:"a nearest match!"}`),s!==void 0)return n.select?n.select(s):s},structuralSharing:n.structuralSharing})}function zS(n){return pa({from:n.from,strict:n.strict,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.loaderData):e.loaderData})}function qS(n){const{select:e,...t}=n;return pa({...t,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function o_(n){return pa({from:n.from,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,strict:n.strict,select:e=>{const t=n.strict===!1?e.params:e._strictParams;return n.select?n.select(t):t}})}function vp(n){return pa({from:n.from,strict:n.strict,shouldThrow:n.shouldThrow,structuralSharing:n.structuralSharing,select:e=>n.select?n.select(e.search):e.search})}function ki(n){const e=Ys();return S.useCallback(t=>e.navigate({...t,from:t.from??(n==null?void 0:n.from)}),[n==null?void 0:n.from,e])}var gx={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kA;function N5(){if(kA)return Sr;kA=1;var n=ku();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(d,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(d,f,null,p)},Sr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Sr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Sr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Sr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,w=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):p==="script"&&r.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Sr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Sr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Sr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Sr.requestFormReset=function(d){r.d.r(d)},Sr.unstable_batchedUpdates=function(d,f){return d(f)},Sr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sr.version="19.2.4",Sr}var DA;function UD(){if(DA)return gx.exports;DA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gx.exports=N5(),gx.exports}var Bh=UD();const I5=r_(Bh);function k5(n,e){const t=Ys(),r=y5(e),{activeProps:s,inactiveProps:a,activeOptions:l,to:c,preload:d,preloadDelay:f,hashScrollIntoView:p,replace:g,startTransition:v,resetScroll:w,viewTransition:x,children:E,target:C,disabled:k,style:O,className:M,onClick:F,onFocus:V,onMouseEnter:z,onMouseLeave:N,onTouchStart:I,ignoreBlocker:P,params:D,search:L,hash:H,state:B,mask:Q,reloadDocument:ie,unsafeRelative:$,from:ee,_fromLocation:q,...X}=n,ge=VD(),W=Ws({select:Bt=>Bt.location.search,structuralSharing:!0}),ae=n.from,he=S.useMemo(()=>({...n,from:ae}),[t,W,ae,n._fromLocation,n.hash,n.to,n.search,n.params,n.state,n.mask,n.unsafeRelative]),me=S.useMemo(()=>t.buildLocation({...he}),[t,he]),Ie=me.maskedLocation?me.maskedLocation.publicHref:me.publicHref,Ve=me.maskedLocation?me.maskedLocation.external:me.external,ue=S.useMemo(()=>L5(Ie,Ve,t.history,k),[k,Ve,Ie,t.history]),He=S.useMemo(()=>{if(ue!=null&&ue.external)return iv(ue.href)?void 0:ue.href;if(!V5(c)&&!(typeof c!="string"||c.indexOf(":")===-1))try{return new URL(c),iv(c)?void 0:c}catch{}},[c,ue]),ve=Ws({select:Bt=>{if(He)return!1;if(l!=null&&l.exact){if(!L6(Bt.location.pathname,me.pathname,t.basepath))return!1}else{const En=ov(Bt.location.pathname,t.basepath),Tn=ov(me.pathname,t.basepath);if(!(En.startsWith(Tn)&&(En.length===Tn.length||En[Tn.length]==="/")))return!1}return((l==null?void 0:l.includeSearch)??!0)&&!ou(Bt.location.search,me.search,{partial:!(l!=null&&l.exact),ignoreUndefined:!(l!=null&&l.explicitUndefined)})?!1:l!=null&&l.includeHash?ge&&Bt.location.hash===me.hash:!0}}),Ge=ve?bl(s,{})??D5:yx,st=ve?yx:bl(a,{})??yx,ot=[M,Ge.className,st.className].filter(Boolean).join(" "),dn=(O||Ge.style||st.style)&&{...O,...Ge.style,...st.style},[hn,hr]=S.useState(!1),rr=S.useRef(!1),jn=n.reloadDocument||He?!1:d??t.options.defaultPreload,Xr=f??t.options.defaultPreloadDelay??0,kt=S.useCallback(()=>{t.preloadRoute({...he}).catch(Bt=>{console.warn(Bt),console.warn(m5)})},[t,he]),_n=S.useCallback(Bt=>{Bt!=null&&Bt.isIntersecting&&kt()},[kt]);g5(r,_n,j5,{disabled:!!k||jn!=="viewport"}),S.useEffect(()=>{rr.current||!k&&jn==="render"&&(kt(),rr.current=!0)},[k,kt,jn]);const Es=Bt=>{const En=Bt.currentTarget.getAttribute("target"),Tn=C!==void 0?C:En;if(!k&&!B5(Bt)&&!Bt.defaultPrevented&&(!Tn||Tn==="_self")&&Bt.button===0){Bt.preventDefault(),Bh.flushSync(()=>{hr(!0)});const wo=t.subscribe("onResolved",()=>{wo(),hr(!1)});t.navigate({...he,replace:g,resetScroll:w,hashScrollIntoView:p,startTransition:v,viewTransition:x,ignoreBlocker:P})}};if(He)return{...X,ref:r,href:He,...E&&{children:E},...C&&{target:C},...k&&{disabled:k},...O&&{style:O},...M&&{className:M},...F&&{onClick:F},...V&&{onFocus:V},...z&&{onMouseEnter:z},...N&&{onMouseLeave:N},...I&&{onTouchStart:I}};const bo=Bt=>{k||jn&&kt()},Ia=bo,kn=Bt=>{if(!(k||!jn))if(!Xr)kt();else{const En=Bt.target;if(am.has(En))return;const Tn=setTimeout(()=>{am.delete(En),kt()},Xr);am.set(En,Tn)}},Zr=Bt=>{if(k||!jn||!Xr)return;const En=Bt.target,Tn=am.get(En);Tn&&(clearTimeout(Tn),am.delete(En))};return{...X,...Ge,...st,href:ue==null?void 0:ue.href,ref:r,onClick:om([F,Es]),onFocus:om([V,bo]),onMouseEnter:om([z,kn]),onMouseLeave:om([N,Zr]),onTouchStart:om([I,Ia]),disabled:!!k,target:C,...dn&&{style:dn},...ot&&{className:ot},...k&&P5,...ve&&O5,...ge&&hn&&M5}}const yx={},D5={className:"active"},P5={role:"link","aria-disabled":!0},O5={"data-status":"active","aria-current":"page"},M5={"data-transitioning":"transitioning"},am=new WeakMap,j5={rootMargin:"100px"},om=n=>e=>{for(const t of n)if(t){if(e.defaultPrevented)return;t(e)}};function L5(n,e,t,r){if(!r)return e?{href:n,external:!0}:{href:t.createHref(n)||"/",external:!1}}function V5(n){if(typeof n!="string")return!1;const e=n.charCodeAt(0);return e===47?n.charCodeAt(1)!==47:e===46}const fu=S.forwardRef((n,e)=>{const{_asChild:t,...r}=n,{type:s,...a}=k5(r,e),l=typeof r.children=="function"?r.children({isActive:a["data-status"]==="active"}):r.children;if(!t){const{disabled:c,...d}=a;return S.createElement("a",d,l)}return S.createElement(t,a,l)});function B5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}let U5=class extends LD{constructor(e){super(e),this.useMatch=t=>pa({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>pa({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>vp({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>o_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>qS({...t,from:this.id}),this.useLoaderData=t=>zS({...t,from:this.id}),this.useNavigate=()=>ki({from:this.fullPath}),this.Link=we.forwardRef((t,r)=>h.jsx(fu,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}};function F5(n){return new U5(n)}class z5 extends p5{constructor(e){super(e),this.useMatch=t=>pa({select:t==null?void 0:t.select,from:this.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>pa({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>vp({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useParams=t=>o_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.id}),this.useLoaderDeps=t=>qS({...t,from:this.id}),this.useLoaderData=t=>zS({...t,from:this.id}),this.useNavigate=()=>ki({from:this.fullPath}),this.Link=we.forwardRef((t,r)=>h.jsx(fu,{ref:r,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function q5(n){return new z5(n)}function nr(n){return typeof n=="object"?new PA(n,{silent:!0}).createRoute(n):new PA(n,{silent:!0}).createRoute}class PA{constructor(e,t){this.path=e,this.createRoute=r=>{this.silent;const s=F5(r);return s.isRoot=!1,s},this.silent=t==null?void 0:t.silent}}class OA{constructor(e){this.useMatch=t=>pa({select:t==null?void 0:t.select,from:this.options.id,structuralSharing:t==null?void 0:t.structuralSharing}),this.useRouteContext=t=>pa({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>vp({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useParams=t=>o_({select:t==null?void 0:t.select,structuralSharing:t==null?void 0:t.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>qS({...t,from:this.options.id}),this.useLoaderData=t=>zS({...t,from:this.options.id}),this.useNavigate=()=>{const t=Ys();return ki({from:t.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function MA(n){return typeof n=="object"?new OA(n):e=>new OA({id:n,...e})}function H5(){const n=Ys(),e=S.useRef({router:n,mounted:!1}),[t,r]=S.useState(!1),{hasPendingMatches:s,isLoading:a}=Ws({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),l=ux(a),c=a||t||s,d=ux(c),f=a||s,p=ux(f);return n.startTransition=g=>{r(!0),S.startTransition(()=>{g(),r(!1)})},S.useEffect(()=>{const g=n.history.subscribe(n.load),v=n.buildLocation({to:n.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ro(n.latestLocation.publicHref)!==ro(v.publicHref)&&n.commitLocation({...v,replace:!0}),()=>{g()}},[n,n.history]),by(()=>{if(typeof window<"u"&&n.ssr||e.current.router===n&&e.current.mounted)return;e.current={router:n,mounted:!0},(async()=>{try{await n.load()}catch(v){console.error(v)}})()},[n]),by(()=>{l&&!a&&n.emit({type:"onLoad",...lu(n.state)})},[l,n,a]),by(()=>{p&&!f&&n.emit({type:"onBeforeRouteMount",...lu(n.state)})},[f,p,n]),by(()=>{if(d&&!c){const g=lu(n.state);n.emit({type:"onResolved",...g}),n.__store.setState(v=>({...v,status:"idle",resolvedLocation:v.location})),g.hrefChanged&&G6(n)}},[c,d,n]),null}function W5(n){const e=Ws({select:t=>`not-found-${t.location.pathname}-${t.status}`});return h.jsx(US,{getResetKey:()=>e,onCatch:(t,r)=>{var s;if(vs(t))(s=n.onCatch)==null||s.call(n,t,r);else throw t},errorComponent:({error:t})=>{var r;if(vs(t))return(r=n.fallback)==null?void 0:r.call(n,t);throw t},children:n.children})}function $5(){return h.jsx("p",{children:"Not Found"})}function Ld(n){return h.jsx(h.Fragment,{children:n.children})}function FD(n,e,t){return e.options.notFoundComponent?h.jsx(e.options.notFoundComponent,{...t}):n.options.defaultNotFoundComponent?h.jsx(n.options.defaultNotFoundComponent,{...t}):h.jsx($5,{})}function G5(){return Ys().isScrollRestoring,null}const zD=S.memo(function({matchId:e}){var E,C;const t=Ys(),r=Ws({select:k=>{var F;const O=k.matches.findIndex(V=>V.id===e),M=k.matches[O];return uo(M),{routeId:M.routeId,ssr:M.ssr,_displayPending:M._displayPending,resetKey:k.loadedAt,parentRouteId:(F=k.matches[O-1])==null?void 0:F.routeId}},structuralSharing:!0}),s=t.routesById[r.routeId],a=s.options.pendingComponent??t.options.defaultPendingComponent,l=a?h.jsx(a,{}):null,c=s.options.errorComponent??t.options.defaultErrorComponent,d=s.options.onCatch??t.options.defaultOnCatch,f=s.isRoot?s.options.notFoundComponent??((E=t.options.notFoundRoute)==null?void 0:E.options.component):s.options.notFoundComponent,p=r.ssr===!1||r.ssr==="data-only",g=(!s.isRoot||s.options.wrapInSuspense||p)&&(s.options.wrapInSuspense??a??(((C=s.options.errorComponent)==null?void 0:C.preload)||p))?S.Suspense:Ld,v=c?US:Ld,w=f?W5:Ld,x=s.isRoot?s.options.shellComponent??Ld:Ld;return h.jsxs(x,{children:[h.jsx(a_.Provider,{value:e,children:h.jsx(g,{fallback:l,children:h.jsx(v,{getResetKey:()=>r.resetKey,errorComponent:c||FS,onCatch:(k,O)=>{if(vs(k))throw k;d==null||d(k,O)},children:h.jsx(w,{fallback:k=>{if(!f||k.routeId&&k.routeId!==r.routeId||!k.routeId&&!s.isRoot)throw k;return S.createElement(f,k)},children:p||r._displayPending?h.jsx(_5,{fallback:l,children:h.jsx(jA,{matchId:e})}):h.jsx(jA,{matchId:e})})})})}),r.parentRouteId===qs&&t.options.scrollRestoration?h.jsxs(h.Fragment,{children:[h.jsx(Y5,{}),h.jsx(G5,{})]}):null]})});function Y5(){const n=Ys(),e=S.useRef(void 0);return h.jsx("script",{suppressHydrationWarning:!0,ref:t=>{t&&(e.current===void 0||e.current.href!==n.latestLocation.href)&&(n.emit({type:"onRendered",...lu(n.state)}),e.current=n.latestLocation)}},n.latestLocation.state.__TSR_key)}const jA=S.memo(function({matchId:e}){var d,f,p,g;const t=Ys(),{match:r,key:s,routeId:a}=Ws({select:v=>{const w=v.matches.find(O=>O.id===e),x=w.routeId,E=t.routesById[x].options.remountDeps??t.options.defaultRemountDeps,C=E==null?void 0:E({routeId:x,loaderDeps:w.loaderDeps,params:w._strictParams,search:w._strictSearch});return{key:C?JSON.stringify(C):void 0,routeId:x,match:{id:w.id,status:w.status,error:w.error,invalid:w.invalid,_forcePending:w._forcePending,_displayPending:w._displayPending}}},structuralSharing:!0}),l=t.routesById[a],c=S.useMemo(()=>{const v=l.options.component??t.options.defaultComponent;return v?h.jsx(v,{},s):h.jsx(_p,{})},[s,l.options.component,t.options.defaultComponent]);if(r._displayPending)throw(d=t.getMatch(r.id))==null?void 0:d._nonReactive.displayPendingPromise;if(r._forcePending)throw(f=t.getMatch(r.id))==null?void 0:f._nonReactive.minPendingPromise;if(r.status==="pending"){const v=l.options.pendingMinMs??t.options.defaultPendingMinMs;if(v){const w=t.getMatch(r.id);if(w&&!w._nonReactive.minPendingPromise){const x=yh();w._nonReactive.minPendingPromise=x,setTimeout(()=>{x.resolve(),w._nonReactive.minPendingPromise=void 0},v)}}throw(p=t.getMatch(r.id))==null?void 0:p._nonReactive.loadPromise}if(r.status==="notFound")return uo(vs(r.error)),FD(t,l,r.error);if(r.status==="redirected")throw uo(Hs(r.error)),(g=t.getMatch(r.id))==null?void 0:g._nonReactive.loadPromise;if(r.status==="error")throw r.error;return c}),_p=S.memo(function(){const e=Ys(),t=S.useContext(a_),r=Ws({select:f=>{var p;return(p=f.matches.find(g=>g.id===t))==null?void 0:p.routeId}}),s=e.routesById[r],a=Ws({select:f=>{const g=f.matches.find(v=>v.id===t);return uo(g),g.globalNotFound}}),l=Ws({select:f=>{var v;const p=f.matches,g=p.findIndex(w=>w.id===t);return(v=p[g+1])==null?void 0:v.id}}),c=e.options.defaultPendingComponent?h.jsx(e.options.defaultPendingComponent,{}):null;if(a)return FD(e,s,void 0);if(!l)return null;const d=h.jsx(zD,{matchId:l});return r===qs?h.jsx(S.Suspense,{fallback:c,children:d}):d});function K5(){const n=Ys(),t=n.routesById[qs].options.pendingComponent??n.options.defaultPendingComponent,r=t?h.jsx(t,{}):null,s=typeof document<"u"&&n.ssr?Ld:S.Suspense,a=h.jsxs(s,{fallback:r,children:[h.jsx(H5,{}),h.jsx(Q5,{})]});return n.options.InnerWrap?h.jsx(n.options.InnerWrap,{children:a}):a}function Q5(){const n=Ys(),e=Ws({select:s=>{var a;return(a=s.matches[0])==null?void 0:a.id}}),t=Ws({select:s=>s.loadedAt}),r=e?h.jsx(zD,{matchId:e}):null;return h.jsx(a_.Provider,{value:e,children:n.options.disableGlobalCatchBoundary?r:h.jsx(US,{getResetKey:()=>t,errorComponent:FS,onCatch:s=>{s.message||s.toString()},children:r})})}const J5=n=>new X5(n);class X5 extends o5{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=nr,globalThis.createLazyFileRoute=MA):typeof window<"u"&&(window.createFileRoute=nr,window.createLazyFileRoute=MA);function Z5({router:n,children:e,...t}){Object.keys(t).length>0&&n.update({...n.options,...t,context:{...n.options.context,...t.context}});const r=BD(),s=h.jsx(r.Provider,{value:n,children:e});return n.options.Wrap?h.jsx(n.options.Wrap,{children:s}):s}function eB({router:n,...e}){return h.jsx(Z5,{router:n,...e,children:h.jsx(K5,{})})}var vx={exports:{}},lm={},_x={exports:{}},bx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LA;function tB(){return LA||(LA=1,(function(n){function e($,ee){var q=$.length;$.push(ee);e:for(;0<q;){var X=q-1>>>1,ge=$[X];if(0<s(ge,ee))$[X]=ee,$[q]=ge,q=X;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],q=$.pop();if(q!==ee){$[0]=q;e:for(var X=0,ge=$.length,W=ge>>>1;X<W;){var ae=2*(X+1)-1,he=$[ae],me=ae+1,Ie=$[me];if(0>s(he,q))me<ge&&0>s(Ie,he)?($[X]=Ie,$[me]=q,X=me):($[X]=he,$[ae]=q,X=ae);else if(me<ge&&0>s(Ie,q))$[X]=Ie,$[me]=q,X=me;else break e}}return ee}function s($,ee){var q=$.sortIndex-ee.sortIndex;return q!==0?q:$.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,g=null,v=3,w=!1,x=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function F($){for(var ee=t(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=$)r(f),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=t(f)}}function V($){if(E=!1,F($),!x)if(t(d)!==null)x=!0,z||(z=!0,H());else{var ee=t(f);ee!==null&&ie(V,ee.startTime-$)}}var z=!1,N=-1,I=5,P=-1;function D(){return C?!0:!(n.unstable_now()-P<I)}function L(){if(C=!1,z){var $=n.unstable_now();P=$;var ee=!0;try{e:{x=!1,E&&(E=!1,O(N),N=-1),w=!0;var q=v;try{t:{for(F($),g=t(d);g!==null&&!(g.expirationTime>$&&D());){var X=g.callback;if(typeof X=="function"){g.callback=null,v=g.priorityLevel;var ge=X(g.expirationTime<=$);if($=n.unstable_now(),typeof ge=="function"){g.callback=ge,F($),ee=!0;break t}g===t(d)&&r(d),F($)}else r(d);g=t(d)}if(g!==null)ee=!0;else{var W=t(f);W!==null&&ie(V,W.startTime-$),ee=!1}}break e}finally{g=null,v=q,w=!1}ee=void 0}}finally{ee?H():z=!1}}}var H;if(typeof M=="function")H=function(){M(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=L,H=function(){Q.postMessage(null)}}else H=function(){k(L,0)};function ie($,ee){N=k(function(){$(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function($){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var q=v;v=ee;try{return $()}finally{v=q}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var q=v;v=$;try{return ee()}finally{v=q}},n.unstable_scheduleCallback=function($,ee,q){var X=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?X+q:X):q=X,$){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=q+ge,$={id:p++,callback:ee,priorityLevel:$,startTime:q,expirationTime:ge,sortIndex:-1},q>X?($.sortIndex=q,e(f,$),t(d)===null&&$===t(f)&&(E?(O(N),N=-1):E=!0,ie(V,q-X))):($.sortIndex=ge,e(d,$),x||w||(x=!0,z||(z=!0,H()))),$},n.unstable_shouldYield=D,n.unstable_wrapCallback=function($){var ee=v;return function(){var q=v;v=ee;try{return $.apply(this,arguments)}finally{v=q}}}})(bx)),bx}var VA;function nB(){return VA||(VA=1,_x.exports=tB()),_x.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function rB(){if(BA)return lm;BA=1;var n=nB(),e=ku(),t=UD();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(a(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=a(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,m=o;;){var _=u.return;if(_===null)break;var b=_.alternate;if(b===null){if(m=_.return,m!==null){u=m;continue}break}if(_.child===b.child){for(b=_.child;b;){if(b===u)return d(_),i;if(b===m)return d(_),o;b=b.sibling}throw Error(r(188))}if(u.return!==m.return)u=_,m=b;else{for(var R=!1,j=_.child;j;){if(j===u){R=!0,u=_,m=b;break}if(j===m){R=!0,m=_,u=b;break}j=j.sibling}if(!R){for(j=b.child;j;){if(j===u){R=!0,u=b,m=_;break}if(j===m){R=!0,m=b,u=_;break}j=j.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function p(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=p(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function Q(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case k:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case z:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case M:return i.displayName||"Context";case O:return(i._context.displayName||"Context")+".Consumer";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return o=i.displayName||null,o!==null?o:Q(i.type)||"Memo";case I:o=i._payload,i=i._init;try{return Q(i(o))}catch{}}return null}var ie=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},X=[],ge=-1;function W(i){return{current:i}}function ae(i){0>ge||(i.current=X[ge],X[ge]=null,ge--)}function he(i,o){ge++,X[ge]=i.current,i.current=o}var me=W(null),Ie=W(null),Ve=W(null),ue=W(null);function He(i,o){switch(he(Ve,o),he(Ie,i),he(me,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?wR(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=wR(o),i=xR(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ae(me),he(me,i)}function ve(){ae(me),ae(Ie),ae(Ve)}function Ge(i){i.memoizedState!==null&&he(ue,i);var o=me.current,u=xR(o,i.type);o!==u&&(he(Ie,i),he(me,u))}function st(i){Ie.current===i&&(ae(me),ae(Ie)),ue.current===i&&(ae(ue),Xf._currentValue=q)}var ot,dn;function hn(i){if(ot===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ot=o&&o[1]||"",dn=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ot+i+dn}var hr=!1;function rr(i,o){if(!i||hr)return"";hr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var pe=function(){throw Error()};if(Object.defineProperty(pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pe,[])}catch(le){var se=le}Reflect.construct(i,[],pe)}else{try{pe.call()}catch(le){se=le}i.call(pe.prototype)}}else{try{throw Error()}catch(le){se=le}(pe=i())&&typeof pe.catch=="function"&&pe.catch(function(){})}}catch(le){if(le&&se&&typeof le.stack=="string")return[le.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),R=b[0],j=b[1];if(R&&j){var G=R.split(`
`),re=j.split(`
`);for(_=m=0;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;for(;_<re.length&&!re[_].includes("DetermineComponentFrameRoot");)_++;if(m===G.length||_===re.length)for(m=G.length-1,_=re.length-1;1<=m&&0<=_&&G[m]!==re[_];)_--;for(;1<=m&&0<=_;m--,_--)if(G[m]!==re[_]){if(m!==1||_!==1)do if(m--,_--,0>_||G[m]!==re[_]){var ce=`
`+G[m].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=m&&0<=_);break}}}finally{hr=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?hn(u):""}function jn(i,o){switch(i.tag){case 26:case 27:case 5:return hn(i.type);case 16:return hn("Lazy");case 13:return i.child!==o&&o!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return rr(i.type,!1);case 11:return rr(i.type.render,!1);case 1:return rr(i.type,!0);case 31:return hn("Activity");default:return""}}function Xr(i){try{var o="",u=null;do o+=jn(i,u),u=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var kt=Object.prototype.hasOwnProperty,_n=n.unstable_scheduleCallback,Es=n.unstable_cancelCallback,bo=n.unstable_shouldYield,Ia=n.unstable_requestPaint,kn=n.unstable_now,Zr=n.unstable_getCurrentPriorityLevel,Bt=n.unstable_ImmediatePriority,En=n.unstable_UserBlockingPriority,Tn=n.unstable_NormalPriority,wo=n.unstable_LowPriority,Bu=n.unstable_IdlePriority,Uu=n.log,Fu=n.unstable_setDisableYieldValue,es=null,Qn=null;function Vr(i){if(typeof Uu=="function"&&Fu(i),Qn&&typeof Qn.setStrictMode=="function")try{Qn.setStrictMode(es,i)}catch{}}var bn=Math.clz32?Math.clz32:tc,ec=Math.log,xo=Math.LN2;function tc(i){return i>>>=0,i===0?32:31-(ec(i)/xo|0)|0}var Ze=256,vt=262144,Oe=4194304;function ht(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function gn(i,o,u){var m=i.pendingLanes;if(m===0)return 0;var _=0,b=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var j=m&134217727;return j!==0?(m=j&~b,m!==0?_=ht(m):(R&=j,R!==0?_=ht(R):u||(u=j&~i,u!==0&&(_=ht(u))))):(j=m&~b,j!==0?_=ht(j):R!==0?_=ht(R):u||(u=m&~i,u!==0&&(_=ht(u)))),_===0?0:o!==0&&o!==_&&(o&b)===0&&(b=_&-_,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:_}function it(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function tf(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zu(){var i=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),i}function Ts(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Js(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function nc(i,o,u,m,_,b){var R=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var j=i.entanglements,G=i.expirationTimes,re=i.hiddenUpdates;for(u=R&~u;0<u;){var ce=31-bn(u),pe=1<<ce;j[ce]=0,G[ce]=-1;var se=re[ce];if(se!==null)for(re[ce]=null,ce=0;ce<se.length;ce++){var le=se[ce];le!==null&&(le.lane&=-536870913)}u&=~pe}m!==0&&rc(i,m,0),b!==0&&_===0&&i.tag!==0&&(i.suspendedLanes|=b&~(R&~o))}function rc(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-bn(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|u&261930}function nf(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var m=31-bn(u),_=1<<m;_&o|i[m]&o&&(i[m]|=o),u&=~_}}function rf(i,o){var u=o&-o;return u=(u&42)!==0?1:sc(u),(u&(i.suspendedLanes|o))!==0?0:u}function sc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ka(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Yp(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:WR(i.type))}function Xs(i,o){var u=ee.p;try{return ee.p=i,o()}finally{ee.p=u}}var Zs=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Zs,sr="__reactProps$"+Zs,ji="__reactContainer$"+Zs,qu="__reactEvents$"+Zs,ab="__reactListeners$"+Zs,Kp="__reactHandles$"+Zs,Qp="__reactResources$"+Zs,Li="__reactMarker$"+Zs;function Hu(i){delete i[Ln],delete i[sr],delete i[qu],delete i[ab],delete i[Kp]}function Vi(i){var o=i[Ln];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ji]||u[Ln]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=NR(i);i!==null;){if(u=i[Ln])return u;i=NR(i)}return o}i=u,u=i.parentNode}return null}function Cs(i){if(i=i[Ln]||i[ji]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function ts(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Bi(i){var o=i[Qp];return o||(o=i[Qp]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Vn(i){i[Li]=!0}var sf=new Set,af={};function Ui(i,o){Fi(i,o),Fi(i+"Capture",o)}function Fi(i,o){for(af[i]=o,i=0;i<o.length;i++)sf.add(o[i])}var of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lf={},cf={};function Jp(i){return kt.call(cf,i)?!0:kt.call(lf,i)?!1:of.test(i)?cf[i]=!0:(lf[i]=!0,!1)}function Wu(i,o,u){if(Jp(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function ns(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Bn(i,o,u,m){if(m===null)i.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+m)}}function ir(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function So(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function uf(i,o,u){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var _=m.get,b=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return _.call(this)},set:function(R){u=""+R,b.call(this,R)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Yt(i){if(!i._valueTracker){var o=So(i)?"checked":"value";i._valueTracker=uf(i,o,""+i[o])}}function ic(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return i&&(m=So(i)?i.checked?"true":"false":i.value),i=m,i!==u?(o.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ac=/[\n"\\]/g;function Br(i){return i.replace(ac,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function $u(i,o,u,m,_,b,R,j){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),o!=null?R==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+ir(o)):i.value!==""+ir(o)&&(i.value=""+ir(o)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),o!=null?df(i,R,ir(o)):u!=null?df(i,R,ir(u)):m!=null&&i.removeAttribute("value"),_==null&&b!=null&&(i.defaultChecked=!!b),_!=null&&(i.checked=_&&typeof _!="function"&&typeof _!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+ir(j):i.removeAttribute("name")}function Xp(i,o,u,m,_,b,R,j){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){Yt(i);return}u=u!=null?""+ir(u):"",o=o!=null?""+ir(o):u,j||o===i.value||(i.value=o),i.defaultValue=o}m=m??_,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=j?i.checked:!!m,i.defaultChecked=!!m,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Yt(i)}function df(i,o,u){o==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Eo(i,o,u,m){if(i=i.options,o){o={};for(var _=0;_<u.length;_++)o["$"+u[_]]=!0;for(u=0;u<i.length;u++)_=o.hasOwnProperty("$"+i[u].value),i[u].selected!==_&&(i[u].selected=_),_&&m&&(i[u].defaultSelected=!0)}else{for(u=""+ir(u),o=null,_=0;_<i.length;_++){if(i[_].value===u){i[_].selected=!0,m&&(i[_].defaultSelected=!0);return}o!==null||i[_].disabled||(o=i[_])}o!==null&&(o.selected=!0)}}function Zp(i,o,u){if(o!=null&&(o=""+ir(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+ir(u):""}function To(i,o,u,m){if(o==null){if(m!=null){if(u!=null)throw Error(r(92));if(ie(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),o=u}u=ir(o),i.defaultValue=u,m=i.textContent,m===u&&m!==""&&m!==null&&(i.value=m),Yt(i)}function Ur(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(i,o,u){var m=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,u):typeof u!="number"||u===0||eg.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function ff(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var m in u)!u.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var _ in o)m=o[_],o.hasOwnProperty(_)&&u[_]!==m&&hf(i,_,m)}else for(var b in o)o.hasOwnProperty(b)&&hf(i,b,o[b])}function Gu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yu(i){return Co.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ei(){}var mf=null;function Rs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ro=null,qi=null;function oc(i){var o=Cs(i);if(o&&(i=o.stateNode)){var u=i[sr]||null;e:switch(i=o.stateNode,o.type){case"input":if($u(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Br(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==i&&m.form===i.form){var _=m[sr]||null;if(!_)throw Error(r(90));$u(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<u.length;o++)m=u[o],m.form===i.form&&ic(m)}break e;case"textarea":Zp(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&Eo(i,!!u.multiple,o,!1)}}}var Ku=!1;function Ao(i,o,u){if(Ku)return i(o,u);Ku=!0;try{var m=i(o);return m}finally{if(Ku=!1,(Ro!==null||qi!==null)&&(Yg(),Ro&&(o=Ro,i=qi,qi=Ro=null,oc(o),i)))for(o=0;o<i.length;o++)oc(i[o])}}function ti(i,o){var u=i.stateNode;if(u===null)return null;var m=u[sr]||null;if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lc=!1;if(As)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){lc=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{lc=!1}var Hi=null,pf=null,cc=null;function gf(){if(cc)return cc;var i,o=pf,u=o.length,m,_="value"in Hi?Hi.value:Hi.textContent,b=_.length;for(i=0;i<u&&o[i]===_[i];i++);var R=u-i;for(m=1;m<=R&&o[u-m]===_[b-m];m++);return cc=_.slice(i,1<m?1-m:void 0)}function uc(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Da(){return!0}function ni(){return!1}function fr(i){function o(u,m,_,b,R){this._reactName=u,this._targetInst=_,this.type=m,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(u=i[j],this[j]=u?u(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Da:ni,this.isPropagationStopped=ni,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),o}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=fr(Pa),No=g({},Pa,{view:0,detail:0}),yf=fr(No),Io,Qu,$i,Ju=g({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ko,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(Io=i.screenX-$i.screenX,Qu=i.screenY-$i.screenY):Qu=Io=0,$i=i),Io)},movementY:function(i){return"movementY"in i?i.movementY:Qu}}),vf=fr(Ju),dc=g({},Ju,{dataTransfer:0}),ng=fr(dc),rg=g({},No,{relatedTarget:0}),hc=fr(rg),_f=g({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),sg=fr(_f),Xu=g({},Pa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ig=fr(Xu),ag=g({},Pa,{data:0}),Gi=fr(ag),og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ug(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=cg[i])?!!o[i]:!1}function ko(){return ug}var Dr=g({},No,{key:function(i){if(i.key){var o=og[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=uc(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lg[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ko,charCode:function(i){return i.type==="keypress"?uc(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?uc(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dg=fr(Dr),hg=g({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oa=fr(hg),y=g({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ko}),T=fr(y),A=g({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=fr(A),te=g({},Ju,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),oe=fr(te),Te=g({},Pa,{newState:0,oldState:0}),ft=fr(Te),Dn=[9,13,27,32],qt=As&&"CompositionEvent"in window,yn=null;As&&"documentMode"in document&&(yn=document.documentMode);var Ns=As&&"TextEvent"in window&&!yn,Yi=As&&(!qt||yn&&8<yn&&11>=yn),ri=" ",si=!1;function fc(i,o){switch(i){case"keyup":return Dn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ed=!1;function YL(i,o){switch(i){case"compositionend":return Zu(o);case"keypress":return o.which!==32?null:(si=!0,ri);case"textInput":return i=o.data,i===ri&&si?null:i;default:return null}}function KL(i,o){if(ed)return i==="compositionend"||!qt&&fc(i,o)?(i=gf(),cc=pf=Hi=null,ed=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Yi&&o.locale!=="ko"?null:o.data;default:return null}}var QL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DE(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!QL[i.type]:o==="textarea"}function PE(i,o,u,m){Ro?qi?qi.push(m):qi=[m]:Ro=m,o=ty(o,"onChange"),0<o.length&&(u=new Wi("onChange","change",null,u,m),i.push({event:u,listeners:o}))}var bf=null,wf=null;function JL(i){pR(i,0)}function fg(i){var o=ts(i);if(ic(o))return i}function OE(i,o){if(i==="change")return o}var ME=!1;if(As){var ob;if(As){var lb="oninput"in document;if(!lb){var jE=document.createElement("div");jE.setAttribute("oninput","return;"),lb=typeof jE.oninput=="function"}ob=lb}else ob=!1;ME=ob&&(!document.documentMode||9<document.documentMode)}function LE(){bf&&(bf.detachEvent("onpropertychange",VE),wf=bf=null)}function VE(i){if(i.propertyName==="value"&&fg(wf)){var o=[];PE(o,wf,i,Rs(i)),Ao(JL,o)}}function XL(i,o,u){i==="focusin"?(LE(),bf=o,wf=u,bf.attachEvent("onpropertychange",VE)):i==="focusout"&&LE()}function ZL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return fg(wf)}function eV(i,o){if(i==="click")return fg(o)}function tV(i,o){if(i==="input"||i==="change")return fg(o)}function nV(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rs=typeof Object.is=="function"?Object.is:nV;function xf(i,o){if(rs(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var _=u[m];if(!kt.call(o,_)||!rs(i[_],o[_]))return!1}return!0}function BE(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function UE(i,o){var u=BE(i);i=0;for(var m;u;){if(u.nodeType===3){if(m=i+u.textContent.length,i<=o&&m>=o)return{node:u,offset:o-i};i=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=BE(u)}}function FE(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?FE(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function zE(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=zi(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=zi(i.document)}return o}function cb(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var rV=As&&"documentMode"in document&&11>=document.documentMode,td=null,ub=null,Sf=null,db=!1;function qE(i,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;db||td==null||td!==zi(m)||(m=td,"selectionStart"in m&&cb(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Sf&&xf(Sf,m)||(Sf=m,m=ty(ub,"onSelect"),0<m.length&&(o=new Wi("onSelect","select",null,o,u),i.push({event:o,listeners:m}),o.target=td)))}function mc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var nd={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionrun:mc("Transition","TransitionRun"),transitionstart:mc("Transition","TransitionStart"),transitioncancel:mc("Transition","TransitionCancel"),transitionend:mc("Transition","TransitionEnd")},hb={},HE={};As&&(HE=document.createElement("div").style,"AnimationEvent"in window||(delete nd.animationend.animation,delete nd.animationiteration.animation,delete nd.animationstart.animation),"TransitionEvent"in window||delete nd.transitionend.transition);function pc(i){if(hb[i])return hb[i];if(!nd[i])return i;var o=nd[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in HE)return hb[i]=o[u];return i}var WE=pc("animationend"),$E=pc("animationiteration"),GE=pc("animationstart"),sV=pc("transitionrun"),iV=pc("transitionstart"),aV=pc("transitioncancel"),YE=pc("transitionend"),KE=new Map,fb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fb.push("scrollEnd");function ii(i,o){KE.set(i,o),Ui(o,[i])}var mg=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Is=[],rd=0,mb=0;function pg(){for(var i=rd,o=mb=rd=0;o<i;){var u=Is[o];Is[o++]=null;var m=Is[o];Is[o++]=null;var _=Is[o];Is[o++]=null;var b=Is[o];if(Is[o++]=null,m!==null&&_!==null){var R=m.pending;R===null?_.next=_:(_.next=R.next,R.next=_),m.pending=_}b!==0&&QE(u,_,b)}}function gg(i,o,u,m){Is[rd++]=i,Is[rd++]=o,Is[rd++]=u,Is[rd++]=m,mb|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function pb(i,o,u,m){return gg(i,o,u,m),yg(i)}function gc(i,o){return gg(i,null,null,o),yg(i)}function QE(i,o,u){i.lanes|=u;var m=i.alternate;m!==null&&(m.lanes|=u);for(var _=!1,b=i.return;b!==null;)b.childLanes|=u,m=b.alternate,m!==null&&(m.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(_=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,_&&o!==null&&(_=31-bn(u),i=b.hiddenUpdates,m=i[_],m===null?i[_]=[o]:m.push(o),o.lane=u|536870912),b):null}function yg(i){if(50<Wf)throw Wf=0,Ew=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var sd={};function oV(i,o,u,m){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(i,o,u,m){return new oV(i,o,u,m)}function gb(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ma(i,o){var u=i.alternate;return u===null?(u=ss(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function JE(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function vg(i,o,u,m,_,b){var R=0;if(m=i,typeof i=="function")gb(i)&&(R=1);else if(typeof i=="string")R=h3(i,u,me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=ss(31,u,o,_),i.elementType=P,i.lanes=b,i;case E:return yc(u.children,_,b,o);case C:R=8,_|=24;break;case k:return i=ss(12,u,o,_|2),i.elementType=k,i.lanes=b,i;case V:return i=ss(13,u,o,_),i.elementType=V,i.lanes=b,i;case z:return i=ss(19,u,o,_),i.elementType=z,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:R=10;break e;case O:R=9;break e;case F:R=11;break e;case N:R=14;break e;case I:R=16,m=null;break e}R=29,u=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=ss(R,u,o,_),o.elementType=i,o.type=m,o.lanes=b,o}function yc(i,o,u,m){return i=ss(7,i,m,o),i.lanes=u,i}function yb(i,o,u){return i=ss(6,i,null,o),i.lanes=u,i}function XE(i){var o=ss(18,null,null,0);return o.stateNode=i,o}function vb(i,o,u){return o=ss(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var ZE=new WeakMap;function ks(i,o){if(typeof i=="object"&&i!==null){var u=ZE.get(i);return u!==void 0?u:(o={value:i,source:o,stack:Xr(o)},ZE.set(i,o),o)}return{value:i,source:o,stack:Xr(o)}}var id=[],ad=0,_g=null,Ef=0,Ds=[],Ps=0,Do=null,Ki=1,Qi="";function ja(i,o){id[ad++]=Ef,id[ad++]=_g,_g=i,Ef=o}function eT(i,o,u){Ds[Ps++]=Ki,Ds[Ps++]=Qi,Ds[Ps++]=Do,Do=i;var m=Ki;i=Qi;var _=32-bn(m)-1;m&=~(1<<_),u+=1;var b=32-bn(o)+_;if(30<b){var R=_-_%5;b=(m&(1<<R)-1).toString(32),m>>=R,_-=R,Ki=1<<32-bn(o)+_|u<<_|m,Qi=b+i}else Ki=1<<b|u<<_|m,Qi=i}function _b(i){i.return!==null&&(ja(i,1),eT(i,1,0))}function bb(i){for(;i===_g;)_g=id[--ad],id[ad]=null,Ef=id[--ad],id[ad]=null;for(;i===Do;)Do=Ds[--Ps],Ds[Ps]=null,Qi=Ds[--Ps],Ds[Ps]=null,Ki=Ds[--Ps],Ds[Ps]=null}function tT(i,o){Ds[Ps++]=Ki,Ds[Ps++]=Qi,Ds[Ps++]=Do,Ki=o.id,Qi=o.overflow,Do=i}var mr=null,fn=null,Dt=!1,Po=null,Os=!1,wb=Error(r(519));function Oo(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tf(ks(o,i)),wb}function nT(i){var o=i.stateNode,u=i.type,m=i.memoizedProps;switch(o[Ln]=i,o[sr]=m,u){case"dialog":wt("cancel",o),wt("close",o);break;case"iframe":case"object":case"embed":wt("load",o);break;case"video":case"audio":for(u=0;u<Gf.length;u++)wt(Gf[u],o);break;case"source":wt("error",o);break;case"img":case"image":case"link":wt("error",o),wt("load",o);break;case"details":wt("toggle",o);break;case"input":wt("invalid",o),Xp(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":wt("invalid",o);break;case"textarea":wt("invalid",o),To(o,m.value,m.defaultValue,m.children)}u=m.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||m.suppressHydrationWarning===!0||_R(o.textContent,u)?(m.popover!=null&&(wt("beforetoggle",o),wt("toggle",o)),m.onScroll!=null&&wt("scroll",o),m.onScrollEnd!=null&&wt("scrollend",o),m.onClick!=null&&(o.onclick=ei),o=!0):o=!1,o||Oo(i,!0)}function rT(i){for(mr=i.return;mr;)switch(mr.tag){case 5:case 31:case 13:Os=!1;return;case 27:case 3:Os=!0;return;default:mr=mr.return}}function od(i){if(i!==mr)return!1;if(!Dt)return rT(i),Dt=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Bw(i.type,i.memoizedProps)),u=!u),u&&fn&&Oo(i),rT(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fn=AR(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));fn=AR(i)}else o===27?(o=fn,Yo(i.type)?(i=Hw,Hw=null,fn=i):fn=o):fn=mr?js(i.stateNode.nextSibling):null;return!0}function vc(){fn=mr=null,Dt=!1}function xb(){var i=Po;return i!==null&&(Hr===null?Hr=i:Hr.push.apply(Hr,i),Po=null),i}function Tf(i){Po===null?Po=[i]:Po.push(i)}var Sb=W(null),_c=null,La=null;function Mo(i,o,u){he(Sb,o._currentValue),o._currentValue=u}function Va(i){i._currentValue=Sb.current,ae(Sb)}function Eb(i,o,u){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===u)break;i=i.return}}function Tb(i,o,u,m){var _=i.child;for(_!==null&&(_.return=i);_!==null;){var b=_.dependencies;if(b!==null){var R=_.child;b=b.firstContext;e:for(;b!==null;){var j=b;b=_;for(var G=0;G<o.length;G++)if(j.context===o[G]){b.lanes|=u,j=b.alternate,j!==null&&(j.lanes|=u),Eb(b.return,u,i),m||(R=null);break e}b=j.next}}else if(_.tag===18){if(R=_.return,R===null)throw Error(r(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),Eb(R,u,i),R=null}else R=_.child;if(R!==null)R.return=_;else for(R=_;R!==null;){if(R===i){R=null;break}if(_=R.sibling,_!==null){_.return=R.return,R=_;break}R=R.return}_=R}}function ld(i,o,u,m){i=null;for(var _=o,b=!1;_!==null;){if(!b){if((_.flags&524288)!==0)b=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var R=_.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var j=_.type;rs(_.pendingProps.value,R.value)||(i!==null?i.push(j):i=[j])}}else if(_===ue.current){if(R=_.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(i!==null?i.push(Xf):i=[Xf])}_=_.return}i!==null&&Tb(o,i,u,m),o.flags|=262144}function bg(i){for(i=i.firstContext;i!==null;){if(!rs(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function bc(i){_c=i,La=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pr(i){return sT(_c,i)}function wg(i,o){return _c===null&&bc(i),sT(i,o)}function sT(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},La===null){if(i===null)throw Error(r(308));La=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else La=La.next=o;return u}var lV=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},cV=n.unstable_scheduleCallback,uV=n.unstable_NormalPriority,Un={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cb(){return{controller:new lV,data:new Map,refCount:0}}function Cf(i){i.refCount--,i.refCount===0&&cV(uV,function(){i.controller.abort()})}var Rf=null,Rb=0,cd=0,ud=null;function dV(i,o){if(Rf===null){var u=Rf=[];Rb=0,cd=Iw(),ud={status:"pending",value:void 0,then:function(m){u.push(m)}}}return Rb++,o.then(iT,iT),o}function iT(){if(--Rb===0&&Rf!==null){ud!==null&&(ud.status="fulfilled");var i=Rf;Rf=null,cd=0,ud=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function hV(i,o){var u=[],m={status:"pending",value:null,reason:null,then:function(_){u.push(_)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var _=0;_<u.length;_++)(0,u[_])(o)},function(_){for(m.status="rejected",m.reason=_,_=0;_<u.length;_++)(0,u[_])(void 0)}),m}var aT=$.S;$.S=function(i,o){qC=kn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&dV(i,o),aT!==null&&aT(i,o)};var wc=W(null);function Ab(){var i=wc.current;return i!==null?i:cn.pooledCache}function xg(i,o){o===null?he(wc,wc.current):he(wc,o.pool)}function oT(){var i=Ab();return i===null?null:{parent:Un._currentValue,pool:i}}var dd=Error(r(460)),Nb=Error(r(474)),Sg=Error(r(542)),Eg={then:function(){}};function lT(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cT(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ei,ei),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,dT(i),i;default:if(typeof o.status=="string")o.then(ei,ei);else{if(i=cn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=m}},function(m){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,dT(i),i}throw Sc=o,dd}}function xc(i){try{var o=i._init;return o(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Sc=u,dd):u}}var Sc=null;function uT(){if(Sc===null)throw Error(r(459));var i=Sc;return Sc=null,i}function dT(i){if(i===dd||i===Sg)throw Error(r(483))}var hd=null,Af=0;function Tg(i){var o=Af;return Af+=1,hd===null&&(hd=[]),cT(hd,i,o)}function Nf(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Cg(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function hT(i){function o(Z,K){if(i){var ne=Z.deletions;ne===null?(Z.deletions=[K],Z.flags|=16):ne.push(K)}}function u(Z,K){if(!i)return null;for(;K!==null;)o(Z,K),K=K.sibling;return null}function m(Z){for(var K=new Map;Z!==null;)Z.key!==null?K.set(Z.key,Z):K.set(Z.index,Z),Z=Z.sibling;return K}function _(Z,K){return Z=Ma(Z,K),Z.index=0,Z.sibling=null,Z}function b(Z,K,ne){return Z.index=ne,i?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<K?(Z.flags|=67108866,K):ne):(Z.flags|=67108866,K)):(Z.flags|=1048576,K)}function R(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function j(Z,K,ne,fe){return K===null||K.tag!==6?(K=yb(ne,Z.mode,fe),K.return=Z,K):(K=_(K,ne),K.return=Z,K)}function G(Z,K,ne,fe){var Je=ne.type;return Je===E?ce(Z,K,ne.props.children,fe,ne.key):K!==null&&(K.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===I&&xc(Je)===K.type)?(K=_(K,ne.props),Nf(K,ne),K.return=Z,K):(K=vg(ne.type,ne.key,ne.props,null,Z.mode,fe),Nf(K,ne),K.return=Z,K)}function re(Z,K,ne,fe){return K===null||K.tag!==4||K.stateNode.containerInfo!==ne.containerInfo||K.stateNode.implementation!==ne.implementation?(K=vb(ne,Z.mode,fe),K.return=Z,K):(K=_(K,ne.children||[]),K.return=Z,K)}function ce(Z,K,ne,fe,Je){return K===null||K.tag!==7?(K=yc(ne,Z.mode,fe,Je),K.return=Z,K):(K=_(K,ne),K.return=Z,K)}function pe(Z,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=yb(""+K,Z.mode,ne),K.return=Z,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return ne=vg(K.type,K.key,K.props,null,Z.mode,ne),Nf(ne,K),ne.return=Z,ne;case x:return K=vb(K,Z.mode,ne),K.return=Z,K;case I:return K=xc(K),pe(Z,K,ne)}if(ie(K)||H(K))return K=yc(K,Z.mode,ne,null),K.return=Z,K;if(typeof K.then=="function")return pe(Z,Tg(K),ne);if(K.$$typeof===M)return pe(Z,wg(Z,K),ne);Cg(Z,K)}return null}function se(Z,K,ne,fe){var Je=K!==null?K.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Je!==null?null:j(Z,K,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return ne.key===Je?G(Z,K,ne,fe):null;case x:return ne.key===Je?re(Z,K,ne,fe):null;case I:return ne=xc(ne),se(Z,K,ne,fe)}if(ie(ne)||H(ne))return Je!==null?null:ce(Z,K,ne,fe,null);if(typeof ne.then=="function")return se(Z,K,Tg(ne),fe);if(ne.$$typeof===M)return se(Z,K,wg(Z,ne),fe);Cg(Z,ne)}return null}function le(Z,K,ne,fe,Je){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(ne)||null,j(K,Z,""+fe,Je);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case w:return Z=Z.get(fe.key===null?ne:fe.key)||null,G(K,Z,fe,Je);case x:return Z=Z.get(fe.key===null?ne:fe.key)||null,re(K,Z,fe,Je);case I:return fe=xc(fe),le(Z,K,ne,fe,Je)}if(ie(fe)||H(fe))return Z=Z.get(ne)||null,ce(K,Z,fe,Je,null);if(typeof fe.then=="function")return le(Z,K,ne,Tg(fe),Je);if(fe.$$typeof===M)return le(Z,K,ne,wg(K,fe),Je);Cg(K,fe)}return null}function Be(Z,K,ne,fe){for(var Je=null,Ut=null,We=K,pt=K=0,Ct=null;We!==null&&pt<ne.length;pt++){We.index>pt?(Ct=We,We=null):Ct=We.sibling;var Ft=se(Z,We,ne[pt],fe);if(Ft===null){We===null&&(We=Ct);break}i&&We&&Ft.alternate===null&&o(Z,We),K=b(Ft,K,pt),Ut===null?Je=Ft:Ut.sibling=Ft,Ut=Ft,We=Ct}if(pt===ne.length)return u(Z,We),Dt&&ja(Z,pt),Je;if(We===null){for(;pt<ne.length;pt++)We=pe(Z,ne[pt],fe),We!==null&&(K=b(We,K,pt),Ut===null?Je=We:Ut.sibling=We,Ut=We);return Dt&&ja(Z,pt),Je}for(We=m(We);pt<ne.length;pt++)Ct=le(We,Z,pt,ne[pt],fe),Ct!==null&&(i&&Ct.alternate!==null&&We.delete(Ct.key===null?pt:Ct.key),K=b(Ct,K,pt),Ut===null?Je=Ct:Ut.sibling=Ct,Ut=Ct);return i&&We.forEach(function(Zo){return o(Z,Zo)}),Dt&&ja(Z,pt),Je}function et(Z,K,ne,fe){if(ne==null)throw Error(r(151));for(var Je=null,Ut=null,We=K,pt=K=0,Ct=null,Ft=ne.next();We!==null&&!Ft.done;pt++,Ft=ne.next()){We.index>pt?(Ct=We,We=null):Ct=We.sibling;var Zo=se(Z,We,Ft.value,fe);if(Zo===null){We===null&&(We=Ct);break}i&&We&&Zo.alternate===null&&o(Z,We),K=b(Zo,K,pt),Ut===null?Je=Zo:Ut.sibling=Zo,Ut=Zo,We=Ct}if(Ft.done)return u(Z,We),Dt&&ja(Z,pt),Je;if(We===null){for(;!Ft.done;pt++,Ft=ne.next())Ft=pe(Z,Ft.value,fe),Ft!==null&&(K=b(Ft,K,pt),Ut===null?Je=Ft:Ut.sibling=Ft,Ut=Ft);return Dt&&ja(Z,pt),Je}for(We=m(We);!Ft.done;pt++,Ft=ne.next())Ft=le(We,Z,pt,Ft.value,fe),Ft!==null&&(i&&Ft.alternate!==null&&We.delete(Ft.key===null?pt:Ft.key),K=b(Ft,K,pt),Ut===null?Je=Ft:Ut.sibling=Ft,Ut=Ft);return i&&We.forEach(function(S3){return o(Z,S3)}),Dt&&ja(Z,pt),Je}function sn(Z,K,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===E&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:e:{for(var Je=ne.key;K!==null;){if(K.key===Je){if(Je=ne.type,Je===E){if(K.tag===7){u(Z,K.sibling),fe=_(K,ne.props.children),fe.return=Z,Z=fe;break e}}else if(K.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===I&&xc(Je)===K.type){u(Z,K.sibling),fe=_(K,ne.props),Nf(fe,ne),fe.return=Z,Z=fe;break e}u(Z,K);break}else o(Z,K);K=K.sibling}ne.type===E?(fe=yc(ne.props.children,Z.mode,fe,ne.key),fe.return=Z,Z=fe):(fe=vg(ne.type,ne.key,ne.props,null,Z.mode,fe),Nf(fe,ne),fe.return=Z,Z=fe)}return R(Z);case x:e:{for(Je=ne.key;K!==null;){if(K.key===Je)if(K.tag===4&&K.stateNode.containerInfo===ne.containerInfo&&K.stateNode.implementation===ne.implementation){u(Z,K.sibling),fe=_(K,ne.children||[]),fe.return=Z,Z=fe;break e}else{u(Z,K);break}else o(Z,K);K=K.sibling}fe=vb(ne,Z.mode,fe),fe.return=Z,Z=fe}return R(Z);case I:return ne=xc(ne),sn(Z,K,ne,fe)}if(ie(ne))return Be(Z,K,ne,fe);if(H(ne)){if(Je=H(ne),typeof Je!="function")throw Error(r(150));return ne=Je.call(ne),et(Z,K,ne,fe)}if(typeof ne.then=="function")return sn(Z,K,Tg(ne),fe);if(ne.$$typeof===M)return sn(Z,K,wg(Z,ne),fe);Cg(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,K!==null&&K.tag===6?(u(Z,K.sibling),fe=_(K,ne),fe.return=Z,Z=fe):(u(Z,K),fe=yb(ne,Z.mode,fe),fe.return=Z,Z=fe),R(Z)):u(Z,K)}return function(Z,K,ne,fe){try{Af=0;var Je=sn(Z,K,ne,fe);return hd=null,Je}catch(We){if(We===dd||We===Sg)throw We;var Ut=ss(29,We,null,Z.mode);return Ut.lanes=fe,Ut.return=Z,Ut}finally{}}}var Ec=hT(!0),fT=hT(!1),jo=!1;function Ib(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kb(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Lo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Vo(i,o,u){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(Ht&2)!==0){var _=m.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),m.pending=o,o=yg(i),QE(i,null,u),o}return gg(i,m,o,u),yg(i)}function If(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,nf(i,u)}}function Db(i,o){var u=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var _=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?_=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?_=b=o:b=b.next=o}else _=b=o;u={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var Pb=!1;function kf(){if(Pb){var i=ud;if(i!==null)throw i}}function Df(i,o,u,m){Pb=!1;var _=i.updateQueue;jo=!1;var b=_.firstBaseUpdate,R=_.lastBaseUpdate,j=_.shared.pending;if(j!==null){_.shared.pending=null;var G=j,re=G.next;G.next=null,R===null?b=re:R.next=re,R=G;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,j=ce.lastBaseUpdate,j!==R&&(j===null?ce.firstBaseUpdate=re:j.next=re,ce.lastBaseUpdate=G))}if(b!==null){var pe=_.baseState;R=0,ce=re=G=null,j=b;do{var se=j.lane&-536870913,le=se!==j.lane;if(le?(Tt&se)===se:(m&se)===se){se!==0&&se===cd&&(Pb=!0),ce!==null&&(ce=ce.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var Be=i,et=j;se=o;var sn=u;switch(et.tag){case 1:if(Be=et.payload,typeof Be=="function"){pe=Be.call(sn,pe,se);break e}pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=et.payload,se=typeof Be=="function"?Be.call(sn,pe,se):Be,se==null)break e;pe=g({},pe,se);break e;case 2:jo=!0}}se=j.callback,se!==null&&(i.flags|=64,le&&(i.flags|=8192),le=_.callbacks,le===null?_.callbacks=[se]:le.push(se))}else le={lane:se,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ce===null?(re=ce=le,G=pe):ce=ce.next=le,R|=se;if(j=j.next,j===null){if(j=_.shared.pending,j===null)break;le=j,j=le.next,le.next=null,_.lastBaseUpdate=le,_.shared.pending=null}}while(!0);ce===null&&(G=pe),_.baseState=G,_.firstBaseUpdate=re,_.lastBaseUpdate=ce,b===null&&(_.shared.lanes=0),qo|=R,i.lanes=R,i.memoizedState=pe}}function mT(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function pT(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)mT(u[i],o)}var fd=W(null),Rg=W(0);function gT(i,o){i=Ga,he(Rg,i),he(fd,o),Ga=i|o.baseLanes}function Ob(){he(Rg,Ga),he(fd,fd.current)}function Mb(){Ga=Rg.current,ae(fd),ae(Rg)}var is=W(null),Ms=null;function Bo(i){var o=i.alternate;he(Pn,Pn.current&1),he(is,i),Ms===null&&(o===null||fd.current!==null||o.memoizedState!==null)&&(Ms=i)}function jb(i){he(Pn,Pn.current),he(is,i),Ms===null&&(Ms=i)}function yT(i){i.tag===22?(he(Pn,Pn.current),he(is,i),Ms===null&&(Ms=i)):Uo()}function Uo(){he(Pn,Pn.current),he(is,is.current)}function as(i){ae(is),Ms===i&&(Ms=null),ae(Pn)}var Pn=W(0);function Ag(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||zw(u)||qw(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ba=0,mt=null,nn=null,Fn=null,Ng=!1,md=!1,Tc=!1,Ig=0,Pf=0,pd=null,fV=0;function Cn(){throw Error(r(321))}function Lb(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!rs(i[u],o[u]))return!1;return!0}function Vb(i,o,u,m,_,b){return Ba=b,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=i===null||i.memoizedState===null?eC:Zb,Tc=!1,b=u(m,_),Tc=!1,md&&(b=_T(o,u,m,_)),vT(i),b}function vT(i){$.H=jf;var o=nn!==null&&nn.next!==null;if(Ba=0,Fn=nn=mt=null,Ng=!1,Pf=0,pd=null,o)throw Error(r(300));i===null||zn||(i=i.dependencies,i!==null&&bg(i)&&(zn=!0))}function _T(i,o,u,m){mt=i;var _=0;do{if(md&&(pd=null),Pf=0,md=!1,25<=_)throw Error(r(301));if(_+=1,Fn=nn=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=tC,b=o(u,m)}while(md);return b}function mV(){var i=$.H,o=i.useState()[0];return o=typeof o.then=="function"?Of(o):o,i=i.useState()[0],(nn!==null?nn.memoizedState:null)!==i&&(mt.flags|=1024),o}function Bb(){var i=Ig!==0;return Ig=0,i}function Ub(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function Fb(i){if(Ng){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ng=!1}Ba=0,Fn=nn=mt=null,md=!1,Pf=Ig=0,pd=null}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?mt.memoizedState=Fn=i:Fn=Fn.next=i,Fn}function On(){if(nn===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=nn.next;var o=Fn===null?mt.memoizedState:Fn.next;if(o!==null)Fn=o,nn=i;else{if(i===null)throw mt.alternate===null?Error(r(467)):Error(r(310));nn=i,i={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},Fn===null?mt.memoizedState=Fn=i:Fn=Fn.next=i}return Fn}function kg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(i){var o=Pf;return Pf+=1,pd===null&&(pd=[]),i=cT(pd,i,o),o=mt,(Fn===null?o.memoizedState:Fn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?eC:Zb),i}function Dg(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Of(i);if(i.$$typeof===M)return pr(i)}throw Error(r(438,String(i)))}function zb(i){var o=null,u=mt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var m=mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=kg(),mt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),m=0;m<i;m++)u[m]=D;return o.index++,u}function Ua(i,o){return typeof o=="function"?o(i):o}function Pg(i){var o=On();return qb(o,nn,i)}function qb(i,o,u){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var _=i.baseQueue,b=m.pending;if(b!==null){if(_!==null){var R=_.next;_.next=b.next,b.next=R}o.baseQueue=_=b,m.pending=null}if(b=i.baseState,_===null)i.memoizedState=b;else{o=_.next;var j=R=null,G=null,re=o,ce=!1;do{var pe=re.lane&-536870913;if(pe!==re.lane?(Tt&pe)===pe:(Ba&pe)===pe){var se=re.revertLane;if(se===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),pe===cd&&(ce=!0);else if((Ba&se)===se){re=re.next,se===cd&&(ce=!0);continue}else pe={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(j=G=pe,R=b):G=G.next=pe,mt.lanes|=se,qo|=se;pe=re.action,Tc&&u(b,pe),b=re.hasEagerState?re.eagerState:u(b,pe)}else se={lane:pe,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(j=G=se,R=b):G=G.next=se,mt.lanes|=pe,qo|=pe;re=re.next}while(re!==null&&re!==o);if(G===null?R=b:G.next=j,!rs(b,i.memoizedState)&&(zn=!0,ce&&(u=ud,u!==null)))throw u;i.memoizedState=b,i.baseState=R,i.baseQueue=G,m.lastRenderedState=b}return _===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function Hb(i){var o=On(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var m=u.dispatch,_=u.pending,b=o.memoizedState;if(_!==null){u.pending=null;var R=_=_.next;do b=i(b,R.action),R=R.next;while(R!==_);rs(b,o.memoizedState)||(zn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,m]}function bT(i,o,u){var m=mt,_=On(),b=Dt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var R=!rs((nn||_).memoizedState,u);if(R&&(_.memoizedState=u,zn=!0),_=_.queue,Gb(ST.bind(null,m,_,i),[i]),_.getSnapshot!==o||R||Fn!==null&&Fn.memoizedState.tag&1){if(m.flags|=2048,gd(9,{destroy:void 0},xT.bind(null,m,_,u,o),null),cn===null)throw Error(r(349));b||(Ba&127)!==0||wT(m,o,u)}return u}function wT(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=mt.updateQueue,o===null?(o=kg(),mt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function xT(i,o,u,m){o.value=u,o.getSnapshot=m,ET(o)&&TT(i)}function ST(i,o,u){return u(function(){ET(o)&&TT(i)})}function ET(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!rs(i,u)}catch{return!0}}function TT(i){var o=gc(i,2);o!==null&&Wr(o,i,2)}function Wb(i){var o=Pr();if(typeof i=="function"){var u=i;if(i=u(),Tc){Vr(!0);try{u()}finally{Vr(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:i},o}function CT(i,o,u,m){return i.baseState=u,qb(i,nn,typeof m=="function"?m:Ua)}function pV(i,o,u,m,_){if(jg(i))throw Error(r(485));if(i=o.action,i!==null){var b={payload:_,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};$.T!==null?u(!0):b.isTransition=!1,m(b),u=o.pending,u===null?(b.next=o.pending=b,RT(o,b)):(b.next=u.next,o.pending=u.next=b)}}function RT(i,o){var u=o.action,m=o.payload,_=i.state;if(o.isTransition){var b=$.T,R={};$.T=R;try{var j=u(_,m),G=$.S;G!==null&&G(R,j),AT(i,o,j)}catch(re){$b(i,o,re)}finally{b!==null&&R.types!==null&&(b.types=R.types),$.T=b}}else try{b=u(_,m),AT(i,o,b)}catch(re){$b(i,o,re)}}function AT(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(m){NT(i,o,m)},function(m){return $b(i,o,m)}):NT(i,o,u)}function NT(i,o,u){o.status="fulfilled",o.value=u,IT(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,RT(i,u)))}function $b(i,o,u){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=u,IT(o),o=o.next;while(o!==m)}i.action=null}function IT(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function kT(i,o){return o}function DT(i,o){if(Dt){var u=cn.formState;if(u!==null){e:{var m=mt;if(Dt){if(fn){t:{for(var _=fn,b=Os;_.nodeType!==8;){if(!b){_=null;break t}if(_=js(_.nextSibling),_===null){_=null;break t}}b=_.data,_=b==="F!"||b==="F"?_:null}if(_){fn=js(_.nextSibling),m=_.data==="F!";break e}}Oo(m)}m=!1}m&&(o=u[0])}}return u=Pr(),u.memoizedState=u.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kT,lastRenderedState:o},u.queue=m,u=JT.bind(null,mt,m),m.dispatch=u,m=Wb(!1),b=Xb.bind(null,mt,!1,m.queue),m=Pr(),_={state:o,dispatch:null,action:i,pending:null},m.queue=_,u=pV.bind(null,mt,_,b,u),_.dispatch=u,m.memoizedState=i,[o,u,!1]}function PT(i){var o=On();return OT(o,nn,i)}function OT(i,o,u){if(o=qb(i,o,kT)[0],i=Pg(Ua)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Of(o)}catch(R){throw R===dd?Sg:R}else m=o;o=On();var _=o.queue,b=_.dispatch;return u!==o.memoizedState&&(mt.flags|=2048,gd(9,{destroy:void 0},gV.bind(null,_,u),null)),[m,b,i]}function gV(i,o){i.action=o}function MT(i){var o=On(),u=nn;if(u!==null)return OT(o,u,i);On(),o=o.memoizedState,u=On();var m=u.queue.dispatch;return u.memoizedState=i,[o,m,!1]}function gd(i,o,u,m){return i={tag:i,create:u,deps:m,inst:o,next:null},o=mt.updateQueue,o===null&&(o=kg(),mt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(m=u.next,u.next=i,i.next=m,o.lastEffect=i),i}function jT(){return On().memoizedState}function Og(i,o,u,m){var _=Pr();mt.flags|=i,_.memoizedState=gd(1|o,{destroy:void 0},u,m===void 0?null:m)}function Mg(i,o,u,m){var _=On();m=m===void 0?null:m;var b=_.memoizedState.inst;nn!==null&&m!==null&&Lb(m,nn.memoizedState.deps)?_.memoizedState=gd(o,b,u,m):(mt.flags|=i,_.memoizedState=gd(1|o,b,u,m))}function LT(i,o){Og(8390656,8,i,o)}function Gb(i,o){Mg(2048,8,i,o)}function yV(i){mt.flags|=4;var o=mt.updateQueue;if(o===null)o=kg(),mt.updateQueue=o,o.events=[i];else{var u=o.events;u===null?o.events=[i]:u.push(i)}}function VT(i){var o=On().memoizedState;return yV({ref:o,nextImpl:i}),function(){if((Ht&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function BT(i,o){return Mg(4,2,i,o)}function UT(i,o){return Mg(4,4,i,o)}function FT(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function zT(i,o,u){u=u!=null?u.concat([i]):null,Mg(4,4,FT.bind(null,o,i),u)}function Yb(){}function qT(i,o){var u=On();o=o===void 0?null:o;var m=u.memoizedState;return o!==null&&Lb(o,m[1])?m[0]:(u.memoizedState=[i,o],i)}function HT(i,o){var u=On();o=o===void 0?null:o;var m=u.memoizedState;if(o!==null&&Lb(o,m[1]))return m[0];if(m=i(),Tc){Vr(!0);try{i()}finally{Vr(!1)}}return u.memoizedState=[m,o],m}function Kb(i,o,u){return u===void 0||(Ba&1073741824)!==0&&(Tt&261930)===0?i.memoizedState=o:(i.memoizedState=u,i=WC(),mt.lanes|=i,qo|=i,u)}function WT(i,o,u,m){return rs(u,o)?u:fd.current!==null?(i=Kb(i,u,m),rs(i,o)||(zn=!0),i):(Ba&42)===0||(Ba&1073741824)!==0&&(Tt&261930)===0?(zn=!0,i.memoizedState=u):(i=WC(),mt.lanes|=i,qo|=i,o)}function $T(i,o,u,m,_){var b=ee.p;ee.p=b!==0&&8>b?b:8;var R=$.T,j={};$.T=j,Xb(i,!1,o,u);try{var G=_(),re=$.S;if(re!==null&&re(j,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=hV(G,m);Mf(i,o,ce,cs(i))}else Mf(i,o,m,cs(i))}catch(pe){Mf(i,o,{then:function(){},status:"rejected",reason:pe},cs())}finally{ee.p=b,R!==null&&j.types!==null&&(R.types=j.types),$.T=R}}function vV(){}function Qb(i,o,u,m){if(i.tag!==5)throw Error(r(476));var _=GT(i).queue;$T(i,_,o,q,u===null?vV:function(){return YT(i),u(m)})}function GT(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:q},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ua,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function YT(i){var o=GT(i);o.next===null&&(o=i.alternate.memoizedState),Mf(i,o.next.queue,{},cs())}function Jb(){return pr(Xf)}function KT(){return On().memoizedState}function QT(){return On().memoizedState}function _V(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=cs();i=Lo(u);var m=Vo(o,i,u);m!==null&&(Wr(m,o,u),If(m,o,u)),o={cache:Cb()},i.payload=o;return}o=o.return}}function bV(i,o,u){var m=cs();u={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},jg(i)?XT(o,u):(u=pb(i,o,u,m),u!==null&&(Wr(u,i,m),ZT(u,o,m)))}function JT(i,o,u){var m=cs();Mf(i,o,u,m)}function Mf(i,o,u,m){var _={lane:m,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(jg(i))XT(o,_);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var R=o.lastRenderedState,j=b(R,u);if(_.hasEagerState=!0,_.eagerState=j,rs(j,R))return gg(i,o,_,0),cn===null&&pg(),!1}catch{}finally{}if(u=pb(i,o,_,m),u!==null)return Wr(u,i,m),ZT(u,o,m),!0}return!1}function Xb(i,o,u,m){if(m={lane:2,revertLane:Iw(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},jg(i)){if(o)throw Error(r(479))}else o=pb(i,u,m,2),o!==null&&Wr(o,i,2)}function jg(i){var o=i.alternate;return i===mt||o!==null&&o===mt}function XT(i,o){md=Ng=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function ZT(i,o,u){if((u&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,u|=m,o.lanes=u,nf(i,u)}}var jf={readContext:pr,use:Dg,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};jf.useEffectEvent=Cn;var eC={readContext:pr,use:Dg,useCallback:function(i,o){return Pr().memoizedState=[i,o===void 0?null:o],i},useContext:pr,useEffect:LT,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Og(4194308,4,FT.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Og(4194308,4,i,o)},useInsertionEffect:function(i,o){Og(4,2,i,o)},useMemo:function(i,o){var u=Pr();o=o===void 0?null:o;var m=i();if(Tc){Vr(!0);try{i()}finally{Vr(!1)}}return u.memoizedState=[m,o],m},useReducer:function(i,o,u){var m=Pr();if(u!==void 0){var _=u(o);if(Tc){Vr(!0);try{u(o)}finally{Vr(!1)}}}else _=o;return m.memoizedState=m.baseState=_,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:_},m.queue=i,i=i.dispatch=bV.bind(null,mt,i),[m.memoizedState,i]},useRef:function(i){var o=Pr();return i={current:i},o.memoizedState=i},useState:function(i){i=Wb(i);var o=i.queue,u=JT.bind(null,mt,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:Yb,useDeferredValue:function(i,o){var u=Pr();return Kb(u,i,o)},useTransition:function(){var i=Wb(!1);return i=$T.bind(null,mt,i.queue,!0,!1),Pr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var m=mt,_=Pr();if(Dt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),cn===null)throw Error(r(349));(Tt&127)!==0||wT(m,o,u)}_.memoizedState=u;var b={value:u,getSnapshot:o};return _.queue=b,LT(ST.bind(null,m,b,i),[i]),m.flags|=2048,gd(9,{destroy:void 0},xT.bind(null,m,b,u,o),null),u},useId:function(){var i=Pr(),o=cn.identifierPrefix;if(Dt){var u=Qi,m=Ki;u=(m&~(1<<32-bn(m)-1)).toString(32)+u,o="_"+o+"R_"+u,u=Ig++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=fV++,o="_"+o+"r_"+u.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Jb,useFormState:DT,useActionState:DT,useOptimistic:function(i){var o=Pr();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Xb.bind(null,mt,!0,u),u.dispatch=o,[i,o]},useMemoCache:zb,useCacheRefresh:function(){return Pr().memoizedState=_V.bind(null,mt)},useEffectEvent:function(i){var o=Pr(),u={impl:i};return o.memoizedState=u,function(){if((Ht&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Zb={readContext:pr,use:Dg,useCallback:qT,useContext:pr,useEffect:Gb,useImperativeHandle:zT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:HT,useReducer:Pg,useRef:jT,useState:function(){return Pg(Ua)},useDebugValue:Yb,useDeferredValue:function(i,o){var u=On();return WT(u,nn.memoizedState,i,o)},useTransition:function(){var i=Pg(Ua)[0],o=On().memoizedState;return[typeof i=="boolean"?i:Of(i),o]},useSyncExternalStore:bT,useId:KT,useHostTransitionStatus:Jb,useFormState:PT,useActionState:PT,useOptimistic:function(i,o){var u=On();return CT(u,nn,i,o)},useMemoCache:zb,useCacheRefresh:QT};Zb.useEffectEvent=VT;var tC={readContext:pr,use:Dg,useCallback:qT,useContext:pr,useEffect:Gb,useImperativeHandle:zT,useInsertionEffect:BT,useLayoutEffect:UT,useMemo:HT,useReducer:Hb,useRef:jT,useState:function(){return Hb(Ua)},useDebugValue:Yb,useDeferredValue:function(i,o){var u=On();return nn===null?Kb(u,i,o):WT(u,nn.memoizedState,i,o)},useTransition:function(){var i=Hb(Ua)[0],o=On().memoizedState;return[typeof i=="boolean"?i:Of(i),o]},useSyncExternalStore:bT,useId:KT,useHostTransitionStatus:Jb,useFormState:MT,useActionState:MT,useOptimistic:function(i,o){var u=On();return nn!==null?CT(u,nn,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:zb,useCacheRefresh:QT};tC.useEffectEvent=VT;function ew(i,o,u,m){o=i.memoizedState,u=u(m,o),u=u==null?o:g({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var tw={enqueueSetState:function(i,o,u){i=i._reactInternals;var m=cs(),_=Lo(m);_.payload=o,u!=null&&(_.callback=u),o=Vo(i,_,m),o!==null&&(Wr(o,i,m),If(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var m=cs(),_=Lo(m);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=Vo(i,_,m),o!==null&&(Wr(o,i,m),If(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=cs(),m=Lo(u);m.tag=2,o!=null&&(m.callback=o),o=Vo(i,m,u),o!==null&&(Wr(o,i,u),If(o,i,u))}};function nC(i,o,u,m,_,b,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,b,R):o.prototype&&o.prototype.isPureReactComponent?!xf(u,m)||!xf(_,b):!0}function rC(i,o,u,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==i&&tw.enqueueReplaceState(o,o.state,null)}function Cc(i,o){var u=o;if("ref"in o){u={};for(var m in o)m!=="ref"&&(u[m]=o[m])}if(i=i.defaultProps){u===o&&(u=g({},u));for(var _ in i)u[_]===void 0&&(u[_]=i[_])}return u}function sC(i){mg(i)}function iC(i){console.error(i)}function aC(i){mg(i)}function Lg(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function oC(i,o,u){try{var m=i.onCaughtError;m(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function nw(i,o,u){return u=Lo(u),u.tag=3,u.payload={element:null},u.callback=function(){Lg(i,o)},u}function lC(i){return i=Lo(i),i.tag=3,i}function cC(i,o,u,m){var _=u.type.getDerivedStateFromError;if(typeof _=="function"){var b=m.value;i.payload=function(){return _(b)},i.callback=function(){oC(o,u,m)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){oC(o,u,m),typeof _!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var j=m.stack;this.componentDidCatch(m.value,{componentStack:j!==null?j:""})})}function wV(i,o,u,m,_){if(u.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=u.alternate,o!==null&&ld(o,u,_,!0),u=is.current,u!==null){switch(u.tag){case 31:case 13:return Ms===null?Kg():u.alternate===null&&Rn===0&&(Rn=3),u.flags&=-257,u.flags|=65536,u.lanes=_,m===Eg?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([m]):o.add(m),Rw(i,m,_)),!1;case 22:return u.flags|=65536,m===Eg?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([m]):u.add(m)),Rw(i,m,_)),!1}throw Error(r(435,u.tag))}return Rw(i,m,_),Kg(),!1}if(Dt)return o=is.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,m!==wb&&(i=Error(r(422),{cause:m}),Tf(ks(i,u)))):(m!==wb&&(o=Error(r(423),{cause:m}),Tf(ks(o,u))),i=i.current.alternate,i.flags|=65536,_&=-_,i.lanes|=_,m=ks(m,u),_=nw(i.stateNode,m,_),Db(i,_),Rn!==4&&(Rn=2)),!1;var b=Error(r(520),{cause:m});if(b=ks(b,u),Hf===null?Hf=[b]:Hf.push(b),Rn!==4&&(Rn=2),o===null)return!0;m=ks(m,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=_&-_,u.lanes|=i,i=nw(u.stateNode,m,i),Db(u,i),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ho===null||!Ho.has(b))))return u.flags|=65536,_&=-_,u.lanes|=_,_=lC(_),cC(_,i,u,m),Db(u,_),!1}u=u.return}while(u!==null);return!1}var rw=Error(r(461)),zn=!1;function gr(i,o,u,m){o.child=i===null?fT(o,null,u,m):Ec(o,i.child,u,m)}function uC(i,o,u,m,_){u=u.render;var b=o.ref;if("ref"in m){var R={};for(var j in m)j!=="ref"&&(R[j]=m[j])}else R=m;return bc(o),m=Vb(i,o,u,R,b,_),j=Bb(),i!==null&&!zn?(Ub(i,o,_),Fa(i,o,_)):(Dt&&j&&_b(o),o.flags|=1,gr(i,o,m,_),o.child)}function dC(i,o,u,m,_){if(i===null){var b=u.type;return typeof b=="function"&&!gb(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,hC(i,o,b,m,_)):(i=vg(u.type,null,m,o,o.mode,_),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,!dw(i,_)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:xf,u(R,m)&&i.ref===o.ref)return Fa(i,o,_)}return o.flags|=1,i=Ma(b,m),i.ref=o.ref,i.return=o,o.child=i}function hC(i,o,u,m,_){if(i!==null){var b=i.memoizedProps;if(xf(b,m)&&i.ref===o.ref)if(zn=!1,o.pendingProps=m=b,dw(i,_))(i.flags&131072)!==0&&(zn=!0);else return o.lanes=i.lanes,Fa(i,o,_)}return sw(i,o,u,m,_)}function fC(i,o,u,m){var _=m.children,b=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(m=o.child=i.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&~b}else m=0,o.child=null;return mC(i,o,b,u,m)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&xg(o,b!==null?b.cachePool:null),b!==null?gT(o,b):Ob(),yT(o);else return m=o.lanes=536870912,mC(i,o,b!==null?b.baseLanes|u:u,u,m)}else b!==null?(xg(o,b.cachePool),gT(o,b),Uo(),o.memoizedState=null):(i!==null&&xg(o,null),Ob(),Uo());return gr(i,o,_,u),o.child}function Lf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function mC(i,o,u,m,_){var b=Ab();return b=b===null?null:{parent:Un._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&xg(o,null),Ob(),yT(o),i!==null&&ld(i,o,m,!0),o.childLanes=_,null}function Vg(i,o){return o=Ug({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function pC(i,o,u){return Ec(o,i.child,null,u),i=Vg(o,o.pendingProps),i.flags|=2,as(o),o.memoizedState=null,i}function xV(i,o,u){var m=o.pendingProps,_=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Dt){if(m.mode==="hidden")return i=Vg(o,m),o.lanes=536870912,Lf(null,i);if(jb(o),(i=fn)?(i=RR(i,Os),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Do!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},u=XE(i),u.return=o,o.child=u,mr=o,fn=null)):i=null,i===null)throw Oo(o);return o.lanes=536870912,null}return Vg(o,m)}var b=i.memoizedState;if(b!==null){var R=b.dehydrated;if(jb(o),_)if(o.flags&256)o.flags&=-257,o=pC(i,o,u);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(zn||ld(i,o,u,!1),_=(u&i.childLanes)!==0,zn||_){if(m=cn,m!==null&&(R=rf(m,u),R!==0&&R!==b.retryLane))throw b.retryLane=R,gc(i,R),Wr(m,i,R),rw;Kg(),o=pC(i,o,u)}else i=b.treeContext,fn=js(R.nextSibling),mr=o,Dt=!0,Po=null,Os=!1,i!==null&&tT(o,i),o=Vg(o,m),o.flags|=4096;return o}return i=Ma(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Bg(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function sw(i,o,u,m,_){return bc(o),u=Vb(i,o,u,m,void 0,_),m=Bb(),i!==null&&!zn?(Ub(i,o,_),Fa(i,o,_)):(Dt&&m&&_b(o),o.flags|=1,gr(i,o,u,_),o.child)}function gC(i,o,u,m,_,b){return bc(o),o.updateQueue=null,u=_T(o,m,u,_),vT(i),m=Bb(),i!==null&&!zn?(Ub(i,o,b),Fa(i,o,b)):(Dt&&m&&_b(o),o.flags|=1,gr(i,o,u,b),o.child)}function yC(i,o,u,m,_){if(bc(o),o.stateNode===null){var b=sd,R=u.contextType;typeof R=="object"&&R!==null&&(b=pr(R)),b=new u(m,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tw,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=m,b.state=o.memoizedState,b.refs={},Ib(o),R=u.contextType,b.context=typeof R=="object"&&R!==null?pr(R):sd,b.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(ew(o,u,R,m),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&tw.enqueueReplaceState(b,b.state,null),Df(o,m,b,_),kf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){b=o.stateNode;var j=o.memoizedProps,G=Cc(u,j);b.props=G;var re=b.context,ce=u.contextType;R=sd,typeof ce=="object"&&ce!==null&&(R=pr(ce));var pe=u.getDerivedStateFromProps;ce=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function",j=o.pendingProps!==j,ce||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(j||re!==R)&&rC(o,b,m,R),jo=!1;var se=o.memoizedState;b.state=se,Df(o,m,b,_),kf(),re=o.memoizedState,j||se!==re||jo?(typeof pe=="function"&&(ew(o,u,pe,m),re=o.memoizedState),(G=jo||nC(o,u,G,m,se,re,R))?(ce||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=re),b.props=m,b.state=re,b.context=R,m=G):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{b=o.stateNode,kb(i,o),R=o.memoizedProps,ce=Cc(u,R),b.props=ce,pe=o.pendingProps,se=b.context,re=u.contextType,G=sd,typeof re=="object"&&re!==null&&(G=pr(re)),j=u.getDerivedStateFromProps,(re=typeof j=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==pe||se!==G)&&rC(o,b,m,G),jo=!1,se=o.memoizedState,b.state=se,Df(o,m,b,_),kf();var le=o.memoizedState;R!==pe||se!==le||jo||i!==null&&i.dependencies!==null&&bg(i.dependencies)?(typeof j=="function"&&(ew(o,u,j,m),le=o.memoizedState),(ce=jo||nC(o,u,ce,m,se,le,G)||i!==null&&i.dependencies!==null&&bg(i.dependencies))?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,le,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,le,G)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=le),b.props=m,b.state=le,b.context=G,m=ce):(typeof b.componentDidUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),m=!1)}return b=m,Bg(i,o),m=(o.flags&128)!==0,b||m?(b=o.stateNode,u=m&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,i!==null&&m?(o.child=Ec(o,i.child,null,_),o.child=Ec(o,null,u,_)):gr(i,o,u,_),o.memoizedState=b.state,i=o.child):i=Fa(i,o,_),i}function vC(i,o,u,m){return vc(),o.flags|=256,gr(i,o,u,m),o.child}var iw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function aw(i){return{baseLanes:i,cachePool:oT()}}function ow(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=ls),i}function _C(i,o,u){var m=o.pendingProps,_=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=i!==null&&i.memoizedState===null?!1:(Pn.current&2)!==0),R&&(_=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,i===null){if(Dt){if(_?Bo(o):Uo(),(i=fn)?(i=RR(i,Os),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Do!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},u=XE(i),u.return=o,o.child=u,mr=o,fn=null)):i=null,i===null)throw Oo(o);return qw(i)?o.lanes=32:o.lanes=536870912,null}var j=m.children;return m=m.fallback,_?(Uo(),_=o.mode,j=Ug({mode:"hidden",children:j},_),m=yc(m,_,u,null),j.return=o,m.return=o,j.sibling=m,o.child=j,m=o.child,m.memoizedState=aw(u),m.childLanes=ow(i,R,u),o.memoizedState=iw,Lf(null,m)):(Bo(o),lw(o,j))}var G=i.memoizedState;if(G!==null&&(j=G.dehydrated,j!==null)){if(b)o.flags&256?(Bo(o),o.flags&=-257,o=cw(i,o,u)):o.memoizedState!==null?(Uo(),o.child=i.child,o.flags|=128,o=null):(Uo(),j=m.fallback,_=o.mode,m=Ug({mode:"visible",children:m.children},_),j=yc(j,_,u,null),j.flags|=2,m.return=o,j.return=o,m.sibling=j,o.child=m,Ec(o,i.child,null,u),m=o.child,m.memoizedState=aw(u),m.childLanes=ow(i,R,u),o.memoizedState=iw,o=Lf(null,m));else if(Bo(o),qw(j)){if(R=j.nextSibling&&j.nextSibling.dataset,R)var re=R.dgst;R=re,m=Error(r(419)),m.stack="",m.digest=R,Tf({value:m,source:null,stack:null}),o=cw(i,o,u)}else if(zn||ld(i,o,u,!1),R=(u&i.childLanes)!==0,zn||R){if(R=cn,R!==null&&(m=rf(R,u),m!==0&&m!==G.retryLane))throw G.retryLane=m,gc(i,m),Wr(R,i,m),rw;zw(j)||Kg(),o=cw(i,o,u)}else zw(j)?(o.flags|=192,o.child=i.child,o=null):(i=G.treeContext,fn=js(j.nextSibling),mr=o,Dt=!0,Po=null,Os=!1,i!==null&&tT(o,i),o=lw(o,m.children),o.flags|=4096);return o}return _?(Uo(),j=m.fallback,_=o.mode,G=i.child,re=G.sibling,m=Ma(G,{mode:"hidden",children:m.children}),m.subtreeFlags=G.subtreeFlags&65011712,re!==null?j=Ma(re,j):(j=yc(j,_,u,null),j.flags|=2),j.return=o,m.return=o,m.sibling=j,o.child=m,Lf(null,m),m=o.child,j=i.child.memoizedState,j===null?j=aw(u):(_=j.cachePool,_!==null?(G=Un._currentValue,_=_.parent!==G?{parent:G,pool:G}:_):_=oT(),j={baseLanes:j.baseLanes|u,cachePool:_}),m.memoizedState=j,m.childLanes=ow(i,R,u),o.memoizedState=iw,Lf(i.child,m)):(Bo(o),u=i.child,i=u.sibling,u=Ma(u,{mode:"visible",children:m.children}),u.return=o,u.sibling=null,i!==null&&(R=o.deletions,R===null?(o.deletions=[i],o.flags|=16):R.push(i)),o.child=u,o.memoizedState=null,u)}function lw(i,o){return o=Ug({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ug(i,o){return i=ss(22,i,null,o),i.lanes=0,i}function cw(i,o,u){return Ec(o,i.child,null,u),i=lw(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function bC(i,o,u){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),Eb(i.return,o,u)}function uw(i,o,u,m,_,b){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:_,treeForkCount:b}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=u,R.tailMode=_,R.treeForkCount=b)}function wC(i,o,u){var m=o.pendingProps,_=m.revealOrder,b=m.tail;m=m.children;var R=Pn.current,j=(R&2)!==0;if(j?(R=R&1|2,o.flags|=128):R&=1,he(Pn,R),gr(i,o,m,u),m=Dt?Ef:0,!j&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&bC(i,u,o);else if(i.tag===19)bC(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(_){case"forwards":for(u=o.child,_=null;u!==null;)i=u.alternate,i!==null&&Ag(i)===null&&(_=u),u=u.sibling;u=_,u===null?(_=o.child,o.child=null):(_=u.sibling,u.sibling=null),uw(o,!1,_,u,b,m);break;case"backwards":case"unstable_legacy-backwards":for(u=null,_=o.child,o.child=null;_!==null;){if(i=_.alternate,i!==null&&Ag(i)===null){o.child=_;break}i=_.sibling,_.sibling=u,u=_,_=i}uw(o,!0,u,null,b,m);break;case"together":uw(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function Fa(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),qo|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(ld(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Ma(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ma(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function dw(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&bg(i)))}function SV(i,o,u){switch(o.tag){case 3:He(o,o.stateNode.containerInfo),Mo(o,Un,i.memoizedState.cache),vc();break;case 27:case 5:Ge(o);break;case 4:He(o,o.stateNode.containerInfo);break;case 10:Mo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,jb(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(Bo(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_C(i,o,u):(Bo(o),i=Fa(i,o,u),i!==null?i.sibling:null);Bo(o);break;case 19:var _=(i.flags&128)!==0;if(m=(u&o.childLanes)!==0,m||(ld(i,o,u,!1),m=(u&o.childLanes)!==0),_){if(m)return wC(i,o,u);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),he(Pn,Pn.current),m)break;return null;case 22:return o.lanes=0,fC(i,o,u,o.pendingProps);case 24:Mo(o,Un,i.memoizedState.cache)}return Fa(i,o,u)}function xC(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)zn=!0;else{if(!dw(i,u)&&(o.flags&128)===0)return zn=!1,SV(i,o,u);zn=(i.flags&131072)!==0}else zn=!1,Dt&&(o.flags&1048576)!==0&&eT(o,Ef,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=xc(o.elementType),o.type=i,typeof i=="function")gb(i)?(m=Cc(i,m),o.tag=1,o=yC(null,o,i,m,u)):(o.tag=0,o=sw(null,o,i,m,u));else{if(i!=null){var _=i.$$typeof;if(_===F){o.tag=11,o=uC(null,o,i,m,u);break e}else if(_===N){o.tag=14,o=dC(null,o,i,m,u);break e}}throw o=Q(i)||i,Error(r(306,o,""))}}return o;case 0:return sw(i,o,o.type,o.pendingProps,u);case 1:return m=o.type,_=Cc(m,o.pendingProps),yC(i,o,m,_,u);case 3:e:{if(He(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var b=o.memoizedState;_=b.element,kb(i,o),Df(o,m,null,u);var R=o.memoizedState;if(m=R.cache,Mo(o,Un,m),m!==b.cache&&Tb(o,[Un],u,!0),kf(),m=R.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=vC(i,o,m,u);break e}else if(m!==_){_=ks(Error(r(424)),o),Tf(_),o=vC(i,o,m,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(fn=js(i.firstChild),mr=o,Dt=!0,Po=null,Os=!0,u=fT(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vc(),m===_){o=Fa(i,o,u);break e}gr(i,o,m,u)}o=o.child}return o;case 26:return Bg(i,o),i===null?(u=PR(o.type,null,o.pendingProps,null))?o.memoizedState=u:Dt||(u=o.type,i=o.pendingProps,m=ny(Ve.current).createElement(u),m[Ln]=o,m[sr]=i,yr(m,u,i),Vn(m),o.stateNode=m):o.memoizedState=PR(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ge(o),i===null&&Dt&&(m=o.stateNode=IR(o.type,o.pendingProps,Ve.current),mr=o,Os=!0,_=fn,Yo(o.type)?(Hw=_,fn=js(m.firstChild)):fn=_),gr(i,o,o.pendingProps.children,u),Bg(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Dt&&((_=m=fn)&&(m=ZV(m,o.type,o.pendingProps,Os),m!==null?(o.stateNode=m,mr=o,fn=js(m.firstChild),Os=!1,_=!0):_=!1),_||Oo(o)),Ge(o),_=o.type,b=o.pendingProps,R=i!==null?i.memoizedProps:null,m=b.children,Bw(_,b)?m=null:R!==null&&Bw(_,R)&&(o.flags|=32),o.memoizedState!==null&&(_=Vb(i,o,mV,null,null,u),Xf._currentValue=_),Bg(i,o),gr(i,o,m,u),o.child;case 6:return i===null&&Dt&&((i=u=fn)&&(u=e3(u,o.pendingProps,Os),u!==null?(o.stateNode=u,mr=o,fn=null,i=!0):i=!1),i||Oo(o)),null;case 13:return _C(i,o,u);case 4:return He(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=Ec(o,null,m,u):gr(i,o,m,u),o.child;case 11:return uC(i,o,o.type,o.pendingProps,u);case 7:return gr(i,o,o.pendingProps,u),o.child;case 8:return gr(i,o,o.pendingProps.children,u),o.child;case 12:return gr(i,o,o.pendingProps.children,u),o.child;case 10:return m=o.pendingProps,Mo(o,o.type,m.value),gr(i,o,m.children,u),o.child;case 9:return _=o.type._context,m=o.pendingProps.children,bc(o),_=pr(_),m=m(_),o.flags|=1,gr(i,o,m,u),o.child;case 14:return dC(i,o,o.type,o.pendingProps,u);case 15:return hC(i,o,o.type,o.pendingProps,u);case 19:return wC(i,o,u);case 31:return xV(i,o,u);case 22:return fC(i,o,u,o.pendingProps);case 24:return bc(o),m=pr(Un),i===null?(_=Ab(),_===null&&(_=cn,b=Cb(),_.pooledCache=b,b.refCount++,b!==null&&(_.pooledCacheLanes|=u),_=b),o.memoizedState={parent:m,cache:_},Ib(o),Mo(o,Un,_)):((i.lanes&u)!==0&&(kb(i,o),Df(o,null,null,u),kf()),_=i.memoizedState,b=o.memoizedState,_.parent!==m?(_={parent:m,cache:m},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),Mo(o,Un,m)):(m=b.cache,Mo(o,Un,m),m!==_.cache&&Tb(o,[Un],u,!0))),gr(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function za(i){i.flags|=4}function hw(i,o,u,m,_){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(_&335544128)===_)if(i.stateNode.complete)i.flags|=8192;else if(KC())i.flags|=8192;else throw Sc=Eg,Nb}else i.flags&=-16777217}function SC(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!VR(o))if(KC())i.flags|=8192;else throw Sc=Eg,Nb}function Fg(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?zu():536870912,i.lanes|=o,bd|=o)}function Vf(i,o){if(!Dt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function mn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,m=0;if(o)for(var _=i.child;_!==null;)u|=_.lanes|_.childLanes,m|=_.subtreeFlags&65011712,m|=_.flags&65011712,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)u|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=m,i.childLanes=u,o}function EV(i,o,u){var m=o.pendingProps;switch(bb(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(o),null;case 1:return mn(o),null;case 3:return u=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Va(Un),ve(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(od(o)?za(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xb())),mn(o),null;case 26:var _=o.type,b=o.memoizedState;return i===null?(za(o),b!==null?(mn(o),SC(o,b)):(mn(o),hw(o,_,null,m,u))):b?b!==i.memoizedState?(za(o),mn(o),SC(o,b)):(mn(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&za(o),mn(o),hw(o,_,i,m,u)),null;case 27:if(st(o),u=Ve.current,_=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return mn(o),null}i=me.current,od(o)?nT(o):(i=IR(_,m,u),o.stateNode=i,za(o))}return mn(o),null;case 5:if(st(o),_=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&za(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return mn(o),null}if(b=me.current,od(o))nT(o);else{var R=ny(Ve.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?R.createElement("select",{is:m.is}):R.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?R.createElement(_,{is:m.is}):R.createElement(_)}}b[Ln]=o,b[sr]=m;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=b;e:switch(yr(b,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&za(o)}}return mn(o),hw(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,u),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&za(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=Ve.current,od(o)){if(i=o.stateNode,u=o.memoizedProps,m=null,_=mr,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}i[Ln]=o,i=!!(i.nodeValue===u||m!==null&&m.suppressHydrationWarning===!0||_R(i.nodeValue,u)),i||Oo(o,!0)}else i=ny(i).createTextNode(m),i[Ln]=o,o.stateNode=i}return mn(o),null;case 31:if(u=o.memoizedState,i===null||i.memoizedState!==null){if(m=od(o),u!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Ln]=o}else vc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;mn(o),i=!1}else u=xb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return o.flags&256?(as(o),o):(as(o),null);if((o.flags&128)!==0)throw Error(r(558))}return mn(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_=od(o),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Ln]=o}else vc(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;mn(o),_=!1}else _=xb(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(as(o),o):(as(o),null)}return as(o),(o.flags&128)!==0?(o.lanes=u,o):(u=m!==null,i=i!==null&&i.memoizedState!==null,u&&(m=o.child,_=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(_=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==_&&(m.flags|=2048)),u!==i&&u&&(o.child.flags|=8192),Fg(o,o.updateQueue),mn(o),null);case 4:return ve(),i===null&&Ow(o.stateNode.containerInfo),mn(o),null;case 10:return Va(o.type),mn(o),null;case 19:if(ae(Pn),m=o.memoizedState,m===null)return mn(o),null;if(_=(o.flags&128)!==0,b=m.rendering,b===null)if(_)Vf(m,!1);else{if(Rn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(b=Ag(i),b!==null){for(o.flags|=128,Vf(m,!1),i=b.updateQueue,o.updateQueue=i,Fg(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)JE(u,i),u=u.sibling;return he(Pn,Pn.current&1|2),Dt&&ja(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&kn()>$g&&(o.flags|=128,_=!0,Vf(m,!1),o.lanes=4194304)}else{if(!_)if(i=Ag(b),i!==null){if(o.flags|=128,_=!0,i=i.updateQueue,o.updateQueue=i,Fg(o,i),Vf(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!Dt)return mn(o),null}else 2*kn()-m.renderingStartTime>$g&&u!==536870912&&(o.flags|=128,_=!0,Vf(m,!1),o.lanes=4194304);m.isBackwards?(b.sibling=o.child,o.child=b):(i=m.last,i!==null?i.sibling=b:o.child=b,m.last=b)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=kn(),i.sibling=null,u=Pn.current,he(Pn,_?u&1|2:u&1),Dt&&ja(o,m.treeForkCount),i):(mn(o),null);case 22:case 23:return as(o),Mb(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(u&536870912)!==0&&(o.flags&128)===0&&(mn(o),o.subtreeFlags&6&&(o.flags|=8192)):mn(o),u=o.updateQueue,u!==null&&Fg(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048),i!==null&&ae(wc),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Va(Un),mn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function TV(i,o){switch(bb(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Va(Un),ve(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return st(o),null;case 31:if(o.memoizedState!==null){if(as(o),o.alternate===null)throw Error(r(340));vc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(as(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));vc()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ae(Pn),null;case 4:return ve(),null;case 10:return Va(o.type),null;case 22:case 23:return as(o),Mb(),i!==null&&ae(wc),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Va(Un),null;case 25:return null;default:return null}}function EC(i,o){switch(bb(o),o.tag){case 3:Va(Un),ve();break;case 26:case 27:case 5:st(o);break;case 4:ve();break;case 31:o.memoizedState!==null&&as(o);break;case 13:as(o);break;case 19:ae(Pn);break;case 10:Va(o.type);break;case 22:case 23:as(o),Mb(),i!==null&&ae(wc);break;case 24:Va(Un)}}function Bf(i,o){try{var u=o.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var _=m.next;u=_;do{if((u.tag&i)===i){m=void 0;var b=u.create,R=u.inst;m=b(),R.destroy=m}u=u.next}while(u!==_)}}catch(j){Qt(o,o.return,j)}}function Fo(i,o,u){try{var m=o.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var b=_.next;m=b;do{if((m.tag&i)===i){var R=m.inst,j=R.destroy;if(j!==void 0){R.destroy=void 0,_=o;var G=u,re=j;try{re()}catch(ce){Qt(_,G,ce)}}}m=m.next}while(m!==b)}}catch(ce){Qt(o,o.return,ce)}}function TC(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{pT(o,u)}catch(m){Qt(i,i.return,m)}}}function CC(i,o,u){u.props=Cc(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(m){Qt(i,o,m)}}function Uf(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(_){Qt(i,o,_)}}function Ji(i,o){var u=i.ref,m=i.refCleanup;if(u!==null)if(typeof m=="function")try{m()}catch(_){Qt(i,o,_)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(_){Qt(i,o,_)}else u.current=null}function RC(i){var o=i.type,u=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&m.focus();break e;case"img":u.src?m.src=u.src:u.srcSet&&(m.srcset=u.srcSet)}}catch(_){Qt(i,i.return,_)}}function fw(i,o,u){try{var m=i.stateNode;GV(m,i.type,u,o),m[sr]=o}catch(_){Qt(i,i.return,_)}}function AC(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yo(i.type)||i.tag===4}function mw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||AC(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yo(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pw(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=ei));else if(m!==4&&(m===27&&Yo(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(pw(i,o,u),i=i.sibling;i!==null;)pw(i,o,u),i=i.sibling}function zg(i,o,u){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(m!==4&&(m===27&&Yo(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(zg(i,o,u),i=i.sibling;i!==null;)zg(i,o,u),i=i.sibling}function NC(i){var o=i.stateNode,u=i.memoizedProps;try{for(var m=i.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);yr(o,m,u),o[Ln]=i,o[sr]=u}catch(b){Qt(i,i.return,b)}}var qa=!1,qn=!1,gw=!1,IC=typeof WeakSet=="function"?WeakSet:Set,ar=null;function CV(i,o){if(i=i.containerInfo,Lw=cy,i=zE(i),cb(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var _=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var R=0,j=-1,G=-1,re=0,ce=0,pe=i,se=null;t:for(;;){for(var le;pe!==u||_!==0&&pe.nodeType!==3||(j=R+_),pe!==b||m!==0&&pe.nodeType!==3||(G=R+m),pe.nodeType===3&&(R+=pe.nodeValue.length),(le=pe.firstChild)!==null;)se=pe,pe=le;for(;;){if(pe===i)break t;if(se===u&&++re===_&&(j=R),se===b&&++ce===m&&(G=R),(le=pe.nextSibling)!==null)break;pe=se,se=pe.parentNode}pe=le}u=j===-1||G===-1?null:{start:j,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(Vw={focusedElem:i,selectionRange:u},cy=!1,ar=o;ar!==null;)if(o=ar,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ar=i;else for(;ar!==null;){switch(o=ar,b=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)_=i[u],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=o,_=b.memoizedProps,b=b.memoizedState,m=u.stateNode;try{var Be=Cc(u.type,_);i=m.getSnapshotBeforeUpdate(Be,b),m.__reactInternalSnapshotBeforeUpdate=i}catch(et){Qt(u,u.return,et)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Fw(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Fw(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,ar=i;break}ar=o.return}}function kC(i,o,u){var m=u.flags;switch(u.tag){case 0:case 11:case 15:Wa(i,u),m&4&&Bf(5,u);break;case 1:if(Wa(i,u),m&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(R){Qt(u,u.return,R)}else{var _=Cc(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(_,o,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Qt(u,u.return,R)}}m&64&&TC(u),m&512&&Uf(u,u.return);break;case 3:if(Wa(i,u),m&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{pT(i,o)}catch(R){Qt(u,u.return,R)}}break;case 27:o===null&&m&4&&NC(u);case 26:case 5:Wa(i,u),o===null&&m&4&&RC(u),m&512&&Uf(u,u.return);break;case 12:Wa(i,u);break;case 31:Wa(i,u),m&4&&OC(i,u);break;case 13:Wa(i,u),m&4&&MC(i,u),m&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=MV.bind(null,u),t3(i,u))));break;case 22:if(m=u.memoizedState!==null||qa,!m){o=o!==null&&o.memoizedState!==null||qn,_=qa;var b=qn;qa=m,(qn=o)&&!b?$a(i,u,(u.subtreeFlags&8772)!==0):Wa(i,u),qa=_,qn=b}break;case 30:break;default:Wa(i,u)}}function DC(i){var o=i.alternate;o!==null&&(i.alternate=null,DC(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Hu(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var vn=null,Fr=!1;function Ha(i,o,u){for(u=u.child;u!==null;)PC(i,o,u),u=u.sibling}function PC(i,o,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(es,u)}catch{}switch(u.tag){case 26:qn||Ji(u,o),Ha(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:qn||Ji(u,o);var m=vn,_=Fr;Yo(u.type)&&(vn=u.stateNode,Fr=!1),Ha(i,o,u),Kf(u.stateNode),vn=m,Fr=_;break;case 5:qn||Ji(u,o);case 6:if(m=vn,_=Fr,vn=null,Ha(i,o,u),vn=m,Fr=_,vn!==null)if(Fr)try{(vn.nodeType===9?vn.body:vn.nodeName==="HTML"?vn.ownerDocument.body:vn).removeChild(u.stateNode)}catch(b){Qt(u,o,b)}else try{vn.removeChild(u.stateNode)}catch(b){Qt(u,o,b)}break;case 18:vn!==null&&(Fr?(i=vn,TR(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),Ad(i)):TR(vn,u.stateNode));break;case 4:m=vn,_=Fr,vn=u.stateNode.containerInfo,Fr=!0,Ha(i,o,u),vn=m,Fr=_;break;case 0:case 11:case 14:case 15:Fo(2,u,o),qn||Fo(4,u,o),Ha(i,o,u);break;case 1:qn||(Ji(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"&&CC(u,o,m)),Ha(i,o,u);break;case 21:Ha(i,o,u);break;case 22:qn=(m=qn)||u.memoizedState!==null,Ha(i,o,u),qn=m;break;default:Ha(i,o,u)}}function OC(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ad(i)}catch(u){Qt(o,o.return,u)}}}function MC(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ad(i)}catch(u){Qt(o,o.return,u)}}function RV(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new IC),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new IC),o;default:throw Error(r(435,i.tag))}}function qg(i,o){var u=RV(i);o.forEach(function(m){if(!u.has(m)){u.add(m);var _=jV.bind(null,i,m);m.then(_,_)}})}function zr(i,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var _=u[m],b=i,R=o,j=R;e:for(;j!==null;){switch(j.tag){case 27:if(Yo(j.type)){vn=j.stateNode,Fr=!1;break e}break;case 5:vn=j.stateNode,Fr=!1;break e;case 3:case 4:vn=j.stateNode.containerInfo,Fr=!0;break e}j=j.return}if(vn===null)throw Error(r(160));PC(b,R,_),vn=null,Fr=!1,b=_.alternate,b!==null&&(b.return=null),_.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)jC(o,i),o=o.sibling}var ai=null;function jC(i,o){var u=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:zr(o,i),qr(i),m&4&&(Fo(3,i,i.return),Bf(3,i),Fo(5,i,i.return));break;case 1:zr(o,i),qr(i),m&512&&(qn||u===null||Ji(u,u.return)),m&64&&qa&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?m:u.concat(m))));break;case 26:var _=ai;if(zr(o,i),qr(i),m&512&&(qn||u===null||Ji(u,u.return)),m&4){var b=u!==null?u.memoizedState:null;if(m=i.memoizedState,u===null)if(m===null)if(i.stateNode===null){e:{m=i.type,u=i.memoizedProps,_=_.ownerDocument||_;t:switch(m){case"title":b=_.getElementsByTagName("title")[0],(!b||b[Li]||b[Ln]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=_.createElement(m),_.head.insertBefore(b,_.querySelector("head > title"))),yr(b,m,u),b[Ln]=i,Vn(b),m=b;break e;case"link":var R=jR("link","href",_).get(m+(u.href||""));if(R){for(var j=0;j<R.length;j++)if(b=R[j],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(j,1);break t}}b=_.createElement(m),yr(b,m,u),_.head.appendChild(b);break;case"meta":if(R=jR("meta","content",_).get(m+(u.content||""))){for(j=0;j<R.length;j++)if(b=R[j],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(j,1);break t}}b=_.createElement(m),yr(b,m,u),_.head.appendChild(b);break;default:throw Error(r(468,m))}b[Ln]=i,Vn(b),m=b}i.stateNode=m}else LR(_,i.type,i.stateNode);else i.stateNode=MR(_,m,i.memoizedProps);else b!==m?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,m===null?LR(_,i.type,i.stateNode):MR(_,m,i.memoizedProps)):m===null&&i.stateNode!==null&&fw(i,i.memoizedProps,u.memoizedProps)}break;case 27:zr(o,i),qr(i),m&512&&(qn||u===null||Ji(u,u.return)),u!==null&&m&4&&fw(i,i.memoizedProps,u.memoizedProps);break;case 5:if(zr(o,i),qr(i),m&512&&(qn||u===null||Ji(u,u.return)),i.flags&32){_=i.stateNode;try{Ur(_,"")}catch(Be){Qt(i,i.return,Be)}}m&4&&i.stateNode!=null&&(_=i.memoizedProps,fw(i,_,u!==null?u.memoizedProps:_)),m&1024&&(gw=!0);break;case 6:if(zr(o,i),qr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,u=i.stateNode;try{u.nodeValue=m}catch(Be){Qt(i,i.return,Be)}}break;case 3:if(iy=null,_=ai,ai=ry(o.containerInfo),zr(o,i),ai=_,qr(i),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Ad(o.containerInfo)}catch(Be){Qt(i,i.return,Be)}gw&&(gw=!1,LC(i));break;case 4:m=ai,ai=ry(i.stateNode.containerInfo),zr(o,i),qr(i),ai=m;break;case 12:zr(o,i),qr(i);break;case 31:zr(o,i),qr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qg(i,m)));break;case 13:zr(o,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wg=kn()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qg(i,m)));break;case 22:_=i.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,re=qa,ce=qn;if(qa=re||_,qn=ce||G,zr(o,i),qn=ce,qa=re,qr(i),m&8192)e:for(o=i.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(u===null||G||qa||qn||Rc(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){G=u=o;try{if(b=G.stateNode,_)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{j=G.stateNode;var pe=G.memoizedProps.style,se=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;j.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Be){Qt(G,G.return,Be)}}}else if(o.tag===6){if(u===null){G=o;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(Be){Qt(G,G.return,Be)}}}else if(o.tag===18){if(u===null){G=o;try{var le=G.stateNode;_?CR(le,!0):CR(G.stateNode,!1)}catch(Be){Qt(G,G.return,Be)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(u=m.retryQueue,u!==null&&(m.retryQueue=null,qg(i,u))));break;case 19:zr(o,i),qr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,qg(i,m)));break;case 30:break;case 21:break;default:zr(o,i),qr(i)}}function qr(i){var o=i.flags;if(o&2){try{for(var u,m=i.return;m!==null;){if(AC(m)){u=m;break}m=m.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var _=u.stateNode,b=mw(i);zg(i,b,_);break;case 5:var R=u.stateNode;u.flags&32&&(Ur(R,""),u.flags&=-33);var j=mw(i);zg(i,j,R);break;case 3:case 4:var G=u.stateNode.containerInfo,re=mw(i);pw(i,re,G);break;default:throw Error(r(161))}}catch(ce){Qt(i,i.return,ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function LC(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;LC(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Wa(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kC(i,o.alternate,o),o=o.sibling}function Rc(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Fo(4,o,o.return),Rc(o);break;case 1:Ji(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&CC(o,o.return,u),Rc(o);break;case 27:Kf(o.stateNode);case 26:case 5:Ji(o,o.return),Rc(o);break;case 22:o.memoizedState===null&&Rc(o);break;case 30:Rc(o);break;default:Rc(o)}i=i.sibling}}function $a(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,_=i,b=o,R=b.flags;switch(b.tag){case 0:case 11:case 15:$a(_,b,u),Bf(4,b);break;case 1:if($a(_,b,u),m=b,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(re){Qt(m,m.return,re)}if(m=b,_=m.updateQueue,_!==null){var j=m.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)mT(G[_],j)}catch(re){Qt(m,m.return,re)}}u&&R&64&&TC(b),Uf(b,b.return);break;case 27:NC(b);case 26:case 5:$a(_,b,u),u&&m===null&&R&4&&RC(b),Uf(b,b.return);break;case 12:$a(_,b,u);break;case 31:$a(_,b,u),u&&R&4&&OC(_,b);break;case 13:$a(_,b,u),u&&R&4&&MC(_,b);break;case 22:b.memoizedState===null&&$a(_,b,u),Uf(b,b.return);break;case 30:break;default:$a(_,b,u)}o=o.sibling}}function yw(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Cf(u))}function vw(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cf(i))}function oi(i,o,u,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)VC(i,o,u,m),o=o.sibling}function VC(i,o,u,m){var _=o.flags;switch(o.tag){case 0:case 11:case 15:oi(i,o,u,m),_&2048&&Bf(9,o);break;case 1:oi(i,o,u,m);break;case 3:oi(i,o,u,m),_&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Cf(i)));break;case 12:if(_&2048){oi(i,o,u,m),i=o.stateNode;try{var b=o.memoizedProps,R=b.id,j=b.onPostCommit;typeof j=="function"&&j(R,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(G){Qt(o,o.return,G)}}else oi(i,o,u,m);break;case 31:oi(i,o,u,m);break;case 13:oi(i,o,u,m);break;case 23:break;case 22:b=o.stateNode,R=o.alternate,o.memoizedState!==null?b._visibility&2?oi(i,o,u,m):Ff(i,o):b._visibility&2?oi(i,o,u,m):(b._visibility|=2,yd(i,o,u,m,(o.subtreeFlags&10256)!==0||!1)),_&2048&&yw(R,o);break;case 24:oi(i,o,u,m),_&2048&&vw(o.alternate,o);break;default:oi(i,o,u,m)}}function yd(i,o,u,m,_){for(_=_&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=i,R=o,j=u,G=m,re=R.flags;switch(R.tag){case 0:case 11:case 15:yd(b,R,j,G,_),Bf(8,R);break;case 23:break;case 22:var ce=R.stateNode;R.memoizedState!==null?ce._visibility&2?yd(b,R,j,G,_):Ff(b,R):(ce._visibility|=2,yd(b,R,j,G,_)),_&&re&2048&&yw(R.alternate,R);break;case 24:yd(b,R,j,G,_),_&&re&2048&&vw(R.alternate,R);break;default:yd(b,R,j,G,_)}o=o.sibling}}function Ff(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,m=o,_=m.flags;switch(m.tag){case 22:Ff(u,m),_&2048&&yw(m.alternate,m);break;case 24:Ff(u,m),_&2048&&vw(m.alternate,m);break;default:Ff(u,m)}o=o.sibling}}var zf=8192;function vd(i,o,u){if(i.subtreeFlags&zf)for(i=i.child;i!==null;)BC(i,o,u),i=i.sibling}function BC(i,o,u){switch(i.tag){case 26:vd(i,o,u),i.flags&zf&&i.memoizedState!==null&&f3(u,ai,i.memoizedState,i.memoizedProps);break;case 5:vd(i,o,u);break;case 3:case 4:var m=ai;ai=ry(i.stateNode.containerInfo),vd(i,o,u),ai=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=zf,zf=16777216,vd(i,o,u),zf=m):vd(i,o,u));break;default:vd(i,o,u)}}function UC(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function qf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];ar=m,zC(m,i)}UC(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)FC(i),i=i.sibling}function FC(i){switch(i.tag){case 0:case 11:case 15:qf(i),i.flags&2048&&Fo(9,i,i.return);break;case 3:qf(i);break;case 12:qf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Hg(i)):qf(i);break;default:qf(i)}}function Hg(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var m=o[u];ar=m,zC(m,i)}UC(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Fo(8,o,o.return),Hg(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Hg(o));break;default:Hg(o)}i=i.sibling}}function zC(i,o){for(;ar!==null;){var u=ar;switch(u.tag){case 0:case 11:case 15:Fo(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var m=u.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Cf(u.memoizedState.cache)}if(m=u.child,m!==null)m.return=u,ar=m;else e:for(u=i;ar!==null;){m=ar;var _=m.sibling,b=m.return;if(DC(m),m===u){ar=null;break e}if(_!==null){_.return=b,ar=_;break e}ar=b}}}var AV={getCacheForType:function(i){var o=pr(Un),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u},cacheSignal:function(){return pr(Un).controller.signal}},NV=typeof WeakMap=="function"?WeakMap:Map,Ht=0,cn=null,bt=null,Tt=0,Kt=0,os=null,zo=!1,_d=!1,_w=!1,Ga=0,Rn=0,qo=0,Ac=0,bw=0,ls=0,bd=0,Hf=null,Hr=null,ww=!1,Wg=0,qC=0,$g=1/0,Gg=null,Ho=null,Jn=0,Wo=null,wd=null,Ya=0,xw=0,Sw=null,HC=null,Wf=0,Ew=null;function cs(){return(Ht&2)!==0&&Tt!==0?Tt&-Tt:$.T!==null?Iw():Yp()}function WC(){if(ls===0)if((Tt&536870912)===0||Dt){var i=vt;vt<<=1,(vt&3932160)===0&&(vt=262144),ls=i}else ls=536870912;return i=is.current,i!==null&&(i.flags|=32),ls}function Wr(i,o,u){(i===cn&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)&&(xd(i,0),$o(i,Tt,ls,!1)),Js(i,u),((Ht&2)===0||i!==cn)&&(i===cn&&((Ht&2)===0&&(Ac|=u),Rn===4&&$o(i,Tt,ls,!1)),Xi(i))}function $C(i,o,u){if((Ht&6)!==0)throw Error(r(327));var m=!u&&(o&127)===0&&(o&i.expiredLanes)===0||it(i,o),_=m?DV(i,o):Cw(i,o,!0),b=m;do{if(_===0){_d&&!m&&$o(i,o,0,!1);break}else{if(u=i.current.alternate,b&&!IV(u)){_=Cw(i,o,!1),b=!1;continue}if(_===2){if(b=o,i.errorRecoveryDisabledLanes&b)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var j=i;_=Hf;var G=j.current.memoizedState.isDehydrated;if(G&&(xd(j,R).flags|=256),R=Cw(j,R,!1),R!==2){if(_w&&!G){j.errorRecoveryDisabledLanes|=b,Ac|=b,_=4;break e}b=Hr,Hr=_,b!==null&&(Hr===null?Hr=b:Hr.push.apply(Hr,b))}_=R}if(b=!1,_!==2)continue}}if(_===1){xd(i,0),$o(i,o,0,!0);break}e:{switch(m=i,b=_,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:$o(m,o,ls,!zo);break e;case 2:Hr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(_=Wg+300-kn(),10<_)){if($o(m,o,ls,!zo),gn(m,0,!0)!==0)break e;Ya=o,m.timeoutHandle=SR(GC.bind(null,m,u,Hr,Gg,ww,o,ls,Ac,bd,zo,b,"Throttled",-0,0),_);break e}GC(m,u,Hr,Gg,ww,o,ls,Ac,bd,zo,b,null,-0,0)}}break}while(!0);Xi(i)}function GC(i,o,u,m,_,b,R,j,G,re,ce,pe,se,le){if(i.timeoutHandle=-1,pe=o.subtreeFlags,pe&8192||(pe&16785408)===16785408){pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ei},BC(o,b,pe);var Be=(b&62914560)===b?Wg-kn():(b&4194048)===b?qC-kn():0;if(Be=m3(pe,Be),Be!==null){Ya=b,i.cancelPendingCommit=Be(tR.bind(null,i,o,b,u,m,_,R,j,G,ce,pe,null,se,le)),$o(i,b,R,!re);return}}tR(i,o,b,u,m,_,R,j,G)}function IV(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var m=0;m<u.length;m++){var _=u[m],b=_.getSnapshot;_=_.value;try{if(!rs(b(),_))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $o(i,o,u,m){o&=~bw,o&=~Ac,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var _=o;0<_;){var b=31-bn(_),R=1<<b;m[b]=-1,_&=~R}u!==0&&rc(i,u,o)}function Yg(){return(Ht&6)===0?($f(0),!1):!0}function Tw(){if(bt!==null){if(Kt===0)var i=bt.return;else i=bt,La=_c=null,Fb(i),hd=null,Af=0,i=bt;for(;i!==null;)EC(i.alternate,i),i=i.return;bt=null}}function xd(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,QV(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Ya=0,Tw(),cn=i,bt=u=Ma(i.current,null),Tt=o,Kt=0,os=null,zo=!1,_d=it(i,o),_w=!1,bd=ls=bw=Ac=qo=Rn=0,Hr=Hf=null,ww=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var _=31-bn(m),b=1<<_;o|=i[_],m&=~b}return Ga=o,pg(),u}function YC(i,o){mt=null,$.H=jf,o===dd||o===Sg?(o=uT(),Kt=3):o===Nb?(o=uT(),Kt=4):Kt=o===rw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,os=o,bt===null&&(Rn=1,Lg(i,ks(o,i.current)))}function KC(){var i=is.current;return i===null?!0:(Tt&4194048)===Tt?Ms===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?i===Ms:!1}function QC(){var i=$.H;return $.H=jf,i===null?jf:i}function JC(){var i=$.A;return $.A=AV,i}function Kg(){Rn=4,zo||(Tt&4194048)!==Tt&&is.current!==null||(_d=!0),(qo&134217727)===0&&(Ac&134217727)===0||cn===null||$o(cn,Tt,ls,!1)}function Cw(i,o,u){var m=Ht;Ht|=2;var _=QC(),b=JC();(cn!==i||Tt!==o)&&(Gg=null,xd(i,o)),o=!1;var R=Rn;e:do try{if(Kt!==0&&bt!==null){var j=bt,G=os;switch(Kt){case 8:Tw(),R=6;break e;case 3:case 2:case 9:case 6:is.current===null&&(o=!0);var re=Kt;if(Kt=0,os=null,Sd(i,j,G,re),u&&_d){R=0;break e}break;default:re=Kt,Kt=0,os=null,Sd(i,j,G,re)}}kV(),R=Rn;break}catch(ce){YC(i,ce)}while(!0);return o&&i.shellSuspendCounter++,La=_c=null,Ht=m,$.H=_,$.A=b,bt===null&&(cn=null,Tt=0,pg()),R}function kV(){for(;bt!==null;)XC(bt)}function DV(i,o){var u=Ht;Ht|=2;var m=QC(),_=JC();cn!==i||Tt!==o?(Gg=null,$g=kn()+500,xd(i,o)):_d=it(i,o);e:do try{if(Kt!==0&&bt!==null){o=bt;var b=os;t:switch(Kt){case 1:Kt=0,os=null,Sd(i,o,b,1);break;case 2:case 9:if(lT(b)){Kt=0,os=null,ZC(o);break}o=function(){Kt!==2&&Kt!==9||cn!==i||(Kt=7),Xi(i)},b.then(o,o);break e;case 3:Kt=7;break e;case 4:Kt=5;break e;case 7:lT(b)?(Kt=0,os=null,ZC(o)):(Kt=0,os=null,Sd(i,o,b,7));break;case 5:var R=null;switch(bt.tag){case 26:R=bt.memoizedState;case 5:case 27:var j=bt;if(R?VR(R):j.stateNode.complete){Kt=0,os=null;var G=j.sibling;if(G!==null)bt=G;else{var re=j.return;re!==null?(bt=re,Qg(re)):bt=null}break t}}Kt=0,os=null,Sd(i,o,b,5);break;case 6:Kt=0,os=null,Sd(i,o,b,6);break;case 8:Tw(),Rn=6;break e;default:throw Error(r(462))}}PV();break}catch(ce){YC(i,ce)}while(!0);return La=_c=null,$.H=m,$.A=_,Ht=u,bt!==null?0:(cn=null,Tt=0,pg(),Rn)}function PV(){for(;bt!==null&&!bo();)XC(bt)}function XC(i){var o=xC(i.alternate,i,Ga);i.memoizedProps=i.pendingProps,o===null?Qg(i):bt=o}function ZC(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=gC(u,o,o.pendingProps,o.type,void 0,Tt);break;case 11:o=gC(u,o,o.pendingProps,o.type.render,o.ref,Tt);break;case 5:Fb(o);default:EC(u,o),o=bt=JE(o,Ga),o=xC(u,o,Ga)}i.memoizedProps=i.pendingProps,o===null?Qg(i):bt=o}function Sd(i,o,u,m){La=_c=null,Fb(o),hd=null,Af=0;var _=o.return;try{if(wV(i,_,o,u,Tt)){Rn=1,Lg(i,ks(u,i.current)),bt=null;return}}catch(b){if(_!==null)throw bt=_,b;Rn=1,Lg(i,ks(u,i.current)),bt=null;return}o.flags&32768?(Dt||m===1?i=!0:_d||(Tt&536870912)!==0?i=!1:(zo=i=!0,(m===2||m===9||m===3||m===6)&&(m=is.current,m!==null&&m.tag===13&&(m.flags|=16384))),eR(o,i)):Qg(o)}function Qg(i){var o=i;do{if((o.flags&32768)!==0){eR(o,zo);return}i=o.return;var u=EV(o.alternate,o,Ga);if(u!==null){bt=u;return}if(o=o.sibling,o!==null){bt=o;return}bt=o=i}while(o!==null);Rn===0&&(Rn=5)}function eR(i,o){do{var u=TV(i.alternate,i);if(u!==null){u.flags&=32767,bt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){bt=i;return}bt=i=u}while(i!==null);Rn=6,bt=null}function tR(i,o,u,m,_,b,R,j,G){i.cancelPendingCommit=null;do Jg();while(Jn!==0);if((Ht&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=mb,nc(i,u,b,R,j,G),i===cn&&(bt=cn=null,Tt=0),wd=o,Wo=i,Ya=u,xw=b,Sw=_,HC=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,LV(Tn,function(){return aR(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,_=ee.p,ee.p=2,R=Ht,Ht|=4;try{CV(i,o,u)}finally{Ht=R,ee.p=_,$.T=m}}Jn=1,nR(),rR(),sR()}}function nR(){if(Jn===1){Jn=0;var i=Wo,o=wd,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var m=ee.p;ee.p=2;var _=Ht;Ht|=4;try{jC(o,i);var b=Vw,R=zE(i.containerInfo),j=b.focusedElem,G=b.selectionRange;if(R!==j&&j&&j.ownerDocument&&FE(j.ownerDocument.documentElement,j)){if(G!==null&&cb(j)){var re=G.start,ce=G.end;if(ce===void 0&&(ce=re),"selectionStart"in j)j.selectionStart=re,j.selectionEnd=Math.min(ce,j.value.length);else{var pe=j.ownerDocument||document,se=pe&&pe.defaultView||window;if(se.getSelection){var le=se.getSelection(),Be=j.textContent.length,et=Math.min(G.start,Be),sn=G.end===void 0?et:Math.min(G.end,Be);!le.extend&&et>sn&&(R=sn,sn=et,et=R);var Z=UE(j,et),K=UE(j,sn);if(Z&&K&&(le.rangeCount!==1||le.anchorNode!==Z.node||le.anchorOffset!==Z.offset||le.focusNode!==K.node||le.focusOffset!==K.offset)){var ne=pe.createRange();ne.setStart(Z.node,Z.offset),le.removeAllRanges(),et>sn?(le.addRange(ne),le.extend(K.node,K.offset)):(ne.setEnd(K.node,K.offset),le.addRange(ne))}}}}for(pe=[],le=j;le=le.parentNode;)le.nodeType===1&&pe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<pe.length;j++){var fe=pe[j];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}cy=!!Lw,Vw=Lw=null}finally{Ht=_,ee.p=m,$.T=u}}i.current=o,Jn=2}}function rR(){if(Jn===2){Jn=0;var i=Wo,o=wd,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var m=ee.p;ee.p=2;var _=Ht;Ht|=4;try{kC(i,o.alternate,o)}finally{Ht=_,ee.p=m,$.T=u}}Jn=3}}function sR(){if(Jn===4||Jn===3){Jn=0,Ia();var i=Wo,o=wd,u=Ya,m=HC;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Jn=5:(Jn=0,wd=Wo=null,iR(i,i.pendingLanes));var _=i.pendingLanes;if(_===0&&(Ho=null),ka(u),o=o.stateNode,Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(es,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=$.T,_=ee.p,ee.p=2,$.T=null;try{for(var b=i.onRecoverableError,R=0;R<m.length;R++){var j=m[R];b(j.value,{componentStack:j.stack})}}finally{$.T=o,ee.p=_}}(Ya&3)!==0&&Jg(),Xi(i),_=i.pendingLanes,(u&261930)!==0&&(_&42)!==0?i===Ew?Wf++:(Wf=0,Ew=i):Wf=0,$f(0)}}function iR(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Cf(o)))}function Jg(){return nR(),rR(),sR(),aR()}function aR(){if(Jn!==5)return!1;var i=Wo,o=xw;xw=0;var u=ka(Ya),m=$.T,_=ee.p;try{ee.p=32>u?32:u,$.T=null,u=Sw,Sw=null;var b=Wo,R=Ya;if(Jn=0,wd=Wo=null,Ya=0,(Ht&6)!==0)throw Error(r(331));var j=Ht;if(Ht|=4,FC(b.current),VC(b,b.current,R,u),Ht=j,$f(0,!1),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(es,b)}catch{}return!0}finally{ee.p=_,$.T=m,iR(i,o)}}function oR(i,o,u){o=ks(u,o),o=nw(i.stateNode,o,2),i=Vo(i,o,2),i!==null&&(Js(i,2),Xi(i))}function Qt(i,o,u){if(i.tag===3)oR(i,i,u);else for(;o!==null;){if(o.tag===3){oR(o,i,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ho===null||!Ho.has(m))){i=ks(u,i),u=lC(2),m=Vo(o,u,2),m!==null&&(cC(u,m,o,i),Js(m,2),Xi(m));break}}o=o.return}}function Rw(i,o,u){var m=i.pingCache;if(m===null){m=i.pingCache=new NV;var _=new Set;m.set(o,_)}else _=m.get(o),_===void 0&&(_=new Set,m.set(o,_));_.has(u)||(_w=!0,_.add(u),i=OV.bind(null,i,o,u),o.then(i,i))}function OV(i,o,u){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,cn===i&&(Tt&u)===u&&(Rn===4||Rn===3&&(Tt&62914560)===Tt&&300>kn()-Wg?(Ht&2)===0&&xd(i,0):bw|=u,bd===Tt&&(bd=0)),Xi(i)}function lR(i,o){o===0&&(o=zu()),i=gc(i,o),i!==null&&(Js(i,o),Xi(i))}function MV(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),lR(i,u)}function jV(i,o){var u=0;switch(i.tag){case 31:case 13:var m=i.stateNode,_=i.memoizedState;_!==null&&(u=_.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),lR(i,u)}function LV(i,o){return _n(i,o)}var Xg=null,Ed=null,Aw=!1,Zg=!1,Nw=!1,Go=0;function Xi(i){i!==Ed&&i.next===null&&(Ed===null?Xg=Ed=i:Ed=Ed.next=i),Zg=!0,Aw||(Aw=!0,BV())}function $f(i,o){if(!Nw&&Zg){Nw=!0;do for(var u=!1,m=Xg;m!==null;){if(i!==0){var _=m.pendingLanes;if(_===0)var b=0;else{var R=m.suspendedLanes,j=m.pingedLanes;b=(1<<31-bn(42|i)+1)-1,b&=_&~(R&~j),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,hR(m,b))}else b=Tt,b=gn(m,m===cn?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||it(m,b)||(u=!0,hR(m,b));m=m.next}while(u);Nw=!1}}function VV(){cR()}function cR(){Zg=Aw=!1;var i=0;Go!==0&&KV()&&(i=Go);for(var o=kn(),u=null,m=Xg;m!==null;){var _=m.next,b=uR(m,o);b===0?(m.next=null,u===null?Xg=_:u.next=_,_===null&&(Ed=u)):(u=m,(i!==0||(b&3)!==0)&&(Zg=!0)),m=_}Jn!==0&&Jn!==5||$f(i),Go!==0&&(Go=0)}function uR(i,o){for(var u=i.suspendedLanes,m=i.pingedLanes,_=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var R=31-bn(b),j=1<<R,G=_[R];G===-1?((j&u)===0||(j&m)!==0)&&(_[R]=tf(j,o)):G<=o&&(i.expiredLanes|=j),b&=~j}if(o=cn,u=Tt,u=gn(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,u===0||i===o&&(Kt===2||Kt===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&Es(m),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||it(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(m!==null&&Es(m),ka(u)){case 2:case 8:u=En;break;case 32:u=Tn;break;case 268435456:u=Bu;break;default:u=Tn}return m=dR.bind(null,i),u=_n(u,m),i.callbackPriority=o,i.callbackNode=u,o}return m!==null&&m!==null&&Es(m),i.callbackPriority=2,i.callbackNode=null,2}function dR(i,o){if(Jn!==0&&Jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Jg()&&i.callbackNode!==u)return null;var m=Tt;return m=gn(i,i===cn?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:($C(i,m,o),uR(i,kn()),i.callbackNode!=null&&i.callbackNode===u?dR.bind(null,i):null)}function hR(i,o){if(Jg())return null;$C(i,o,!0)}function BV(){JV(function(){(Ht&6)!==0?_n(Bt,VV):cR()})}function Iw(){if(Go===0){var i=cd;i===0&&(i=Ze,Ze<<=1,(Ze&261888)===0&&(Ze=256)),Go=i}return Go}function fR(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yu(""+i)}function mR(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function UV(i,o,u,m,_){if(o==="submit"&&u&&u.stateNode===_){var b=fR((_[sr]||null).action),R=m.submitter;R&&(o=(o=R[sr]||null)?fR(o.formAction):R.getAttribute("formAction"),o!==null&&(b=o,R=null));var j=new Wi("action","action",null,m,_);i.push({event:j,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Go!==0){var G=R?mR(_,R):new FormData(_);Qb(u,{pending:!0,data:G,method:_.method,action:b},null,G)}}else typeof b=="function"&&(j.preventDefault(),G=R?mR(_,R):new FormData(_),Qb(u,{pending:!0,data:G,method:_.method,action:b},b,G))},currentTarget:_}]})}}for(var kw=0;kw<fb.length;kw++){var Dw=fb[kw],FV=Dw.toLowerCase(),zV=Dw[0].toUpperCase()+Dw.slice(1);ii(FV,"on"+zV)}ii(WE,"onAnimationEnd"),ii($E,"onAnimationIteration"),ii(GE,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(sV,"onTransitionRun"),ii(iV,"onTransitionStart"),ii(aV,"onTransitionCancel"),ii(YE,"onTransitionEnd"),Fi("onMouseEnter",["mouseout","mouseover"]),Fi("onMouseLeave",["mouseout","mouseover"]),Fi("onPointerEnter",["pointerout","pointerover"]),Fi("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gf));function pR(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var m=i[u],_=m.event;m=m.listeners;e:{var b=void 0;if(o)for(var R=m.length-1;0<=R;R--){var j=m[R],G=j.instance,re=j.currentTarget;if(j=j.listener,G!==b&&_.isPropagationStopped())break e;b=j,_.currentTarget=re;try{b(_)}catch(ce){mg(ce)}_.currentTarget=null,b=G}else for(R=0;R<m.length;R++){if(j=m[R],G=j.instance,re=j.currentTarget,j=j.listener,G!==b&&_.isPropagationStopped())break e;b=j,_.currentTarget=re;try{b(_)}catch(ce){mg(ce)}_.currentTarget=null,b=G}}}}function wt(i,o){var u=o[qu];u===void 0&&(u=o[qu]=new Set);var m=i+"__bubble";u.has(m)||(gR(o,i,2,!1),u.add(m))}function Pw(i,o,u){var m=0;o&&(m|=4),gR(u,i,m,o)}var ey="_reactListening"+Math.random().toString(36).slice(2);function Ow(i){if(!i[ey]){i[ey]=!0,sf.forEach(function(u){u!=="selectionchange"&&(qV.has(u)||Pw(u,!1,i),Pw(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ey]||(o[ey]=!0,Pw("selectionchange",!1,o))}}function gR(i,o,u,m){switch(WR(o)){case 2:var _=y3;break;case 8:_=v3;break;default:_=Kw}u=_.bind(null,o,u,i),_=void 0,!lc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),m?_!==void 0?i.addEventListener(o,u,{capture:!0,passive:_}):i.addEventListener(o,u,!0):_!==void 0?i.addEventListener(o,u,{passive:_}):i.addEventListener(o,u,!1)}function Mw(i,o,u,m,_){var b=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var j=m.stateNode.containerInfo;if(j===_)break;if(R===4)for(R=m.return;R!==null;){var G=R.tag;if((G===3||G===4)&&R.stateNode.containerInfo===_)return;R=R.return}for(;j!==null;){if(R=Vi(j),R===null)return;if(G=R.tag,G===5||G===6||G===26||G===27){m=b=R;continue e}j=j.parentNode}}m=m.return}Ao(function(){var re=b,ce=Rs(u),pe=[];e:{var se=KE.get(i);if(se!==void 0){var le=Wi,Be=i;switch(i){case"keypress":if(uc(u)===0)break e;case"keydown":case"keyup":le=dg;break;case"focusin":Be="focus",le=hc;break;case"focusout":Be="blur",le=hc;break;case"beforeblur":case"afterblur":le=hc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=T;break;case WE:case $E:case GE:le=sg;break;case YE:le=U;break;case"scroll":case"scrollend":le=yf;break;case"wheel":le=oe;break;case"copy":case"cut":case"paste":le=ig;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Oa;break;case"toggle":case"beforetoggle":le=ft}var et=(o&4)!==0,sn=!et&&(i==="scroll"||i==="scrollend"),Z=et?se!==null?se+"Capture":null:se;et=[];for(var K=re,ne;K!==null;){var fe=K;if(ne=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ne===null||Z===null||(fe=ti(K,Z),fe!=null&&et.push(Yf(K,fe,ne))),sn)break;K=K.return}0<et.length&&(se=new le(se,Be,null,u,ce),pe.push({event:se,listeners:et}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",se&&u!==mf&&(Be=u.relatedTarget||u.fromElement)&&(Vi(Be)||Be[ji]))break e;if((le||se)&&(se=ce.window===ce?ce:(se=ce.ownerDocument)?se.defaultView||se.parentWindow:window,le?(Be=u.relatedTarget||u.toElement,le=re,Be=Be?Vi(Be):null,Be!==null&&(sn=a(Be),et=Be.tag,Be!==sn||et!==5&&et!==27&&et!==6)&&(Be=null)):(le=null,Be=re),le!==Be)){if(et=vf,fe="onMouseLeave",Z="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(et=Oa,fe="onPointerLeave",Z="onPointerEnter",K="pointer"),sn=le==null?se:ts(le),ne=Be==null?se:ts(Be),se=new et(fe,K+"leave",le,u,ce),se.target=sn,se.relatedTarget=ne,fe=null,Vi(ce)===re&&(et=new et(Z,K+"enter",Be,u,ce),et.target=ne,et.relatedTarget=sn,fe=et),sn=fe,le&&Be)t:{for(et=HV,Z=le,K=Be,ne=0,fe=Z;fe;fe=et(fe))ne++;fe=0;for(var Je=K;Je;Je=et(Je))fe++;for(;0<ne-fe;)Z=et(Z),ne--;for(;0<fe-ne;)K=et(K),fe--;for(;ne--;){if(Z===K||K!==null&&Z===K.alternate){et=Z;break t}Z=et(Z),K=et(K)}et=null}else et=null;le!==null&&yR(pe,se,le,et,!1),Be!==null&&sn!==null&&yR(pe,sn,Be,et,!0)}}e:{if(se=re?ts(re):window,le=se.nodeName&&se.nodeName.toLowerCase(),le==="select"||le==="input"&&se.type==="file")var Ut=OE;else if(DE(se))if(ME)Ut=tV;else{Ut=ZL;var We=XL}else le=se.nodeName,!le||le.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&Gu(re.elementType)&&(Ut=OE):Ut=eV;if(Ut&&(Ut=Ut(i,re))){PE(pe,Ut,u,ce);break e}We&&We(i,se,re),i==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&df(se,"number",se.value)}switch(We=re?ts(re):window,i){case"focusin":(DE(We)||We.contentEditable==="true")&&(td=We,ub=re,Sf=null);break;case"focusout":Sf=ub=td=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,qE(pe,u,ce);break;case"selectionchange":if(rV)break;case"keydown":case"keyup":qE(pe,u,ce)}var pt;if(qt)e:{switch(i){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ed?fc(i,u)&&(Ct="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ct="onCompositionStart");Ct&&(Yi&&u.locale!=="ko"&&(ed||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ed&&(pt=gf()):(Hi=ce,pf="value"in Hi?Hi.value:Hi.textContent,ed=!0)),We=ty(re,Ct),0<We.length&&(Ct=new Gi(Ct,i,null,u,ce),pe.push({event:Ct,listeners:We}),pt?Ct.data=pt:(pt=Zu(u),pt!==null&&(Ct.data=pt)))),(pt=Ns?YL(i,u):KL(i,u))&&(Ct=ty(re,"onBeforeInput"),0<Ct.length&&(We=new Gi("onBeforeInput","beforeinput",null,u,ce),pe.push({event:We,listeners:Ct}),We.data=pt)),UV(pe,i,re,u,ce)}pR(pe,o)})}function Yf(i,o,u){return{instance:i,listener:o,currentTarget:u}}function ty(i,o){for(var u=o+"Capture",m=[];i!==null;){var _=i,b=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||b===null||(_=ti(i,u),_!=null&&m.unshift(Yf(i,_,b)),_=ti(i,o),_!=null&&m.push(Yf(i,_,b))),i.tag===3)return m;i=i.return}return[]}function HV(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yR(i,o,u,m,_){for(var b=o._reactName,R=[];u!==null&&u!==m;){var j=u,G=j.alternate,re=j.stateNode;if(j=j.tag,G!==null&&G===m)break;j!==5&&j!==26&&j!==27||re===null||(G=re,_?(re=ti(u,b),re!=null&&R.unshift(Yf(u,re,G))):_||(re=ti(u,b),re!=null&&R.push(Yf(u,re,G)))),u=u.return}R.length!==0&&i.push({event:o,listeners:R})}var WV=/\r\n?/g,$V=/\u0000|\uFFFD/g;function vR(i){return(typeof i=="string"?i:""+i).replace(WV,`
`).replace($V,"")}function _R(i,o){return o=vR(o),vR(i)===o}function rn(i,o,u,m,_,b){switch(u){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Ur(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Ur(i,""+m);break;case"className":ns(i,"class",m);break;case"tabIndex":ns(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(i,u,m);break;case"style":ff(i,m,b);break;case"data":if(o!=="object"){ns(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Yu(""+m),i.setAttribute(u,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&rn(i,o,"name",_.name,_,null),rn(i,o,"formEncType",_.formEncType,_,null),rn(i,o,"formMethod",_.formMethod,_,null),rn(i,o,"formTarget",_.formTarget,_,null)):(rn(i,o,"encType",_.encType,_,null),rn(i,o,"method",_.method,_,null),rn(i,o,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(u);break}m=Yu(""+m),i.setAttribute(u,m);break;case"onClick":m!=null&&(i.onclick=ei);break;case"onScroll":m!=null&&wt("scroll",i);break;case"onScrollEnd":m!=null&&wt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}u=Yu(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""+m):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":m===!0?i.setAttribute(u,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(u,m):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(u,m):i.removeAttribute(u);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(u):i.setAttribute(u,m);break;case"popover":wt("beforetoggle",i),wt("toggle",i),Wu(i,"popover",m);break;case"xlinkActuate":Bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Bn(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Bn(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Bn(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Bn(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Wu(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=tg.get(u)||u,Wu(i,u,m))}}function jw(i,o,u,m,_,b){switch(u){case"style":ff(i,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(u=m.__html,u!=null){if(_.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof m=="string"?Ur(i,m):(typeof m=="number"||typeof m=="bigint")&&Ur(i,""+m);break;case"onScroll":m!=null&&wt("scroll",i);break;case"onScrollEnd":m!=null&&wt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!af.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(_=u.endsWith("Capture"),o=u.slice(2,_?u.length-7:void 0),b=i[sr]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(o,b,_),typeof m=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,m,_);break e}u in i?i[u]=m:m===!0?i.setAttribute(u,""):Wu(i,u,m)}}}function yr(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",i),wt("load",i);var m=!1,_=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(i,o,b,R,u,null)}}_&&rn(i,o,"srcSet",u.srcSet,u,null),m&&rn(i,o,"src",u.src,u,null);return;case"input":wt("invalid",i);var j=b=R=_=null,G=null,re=null;for(m in u)if(u.hasOwnProperty(m)){var ce=u[m];if(ce!=null)switch(m){case"name":_=ce;break;case"type":R=ce;break;case"checked":G=ce;break;case"defaultChecked":re=ce;break;case"value":b=ce;break;case"defaultValue":j=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:rn(i,o,m,ce,u,null)}}Xp(i,b,j,G,re,R,_,!1);return;case"select":wt("invalid",i),m=R=b=null;for(_ in u)if(u.hasOwnProperty(_)&&(j=u[_],j!=null))switch(_){case"value":b=j;break;case"defaultValue":R=j;break;case"multiple":m=j;default:rn(i,o,_,j,u,null)}o=b,u=R,i.multiple=!!m,o!=null?Eo(i,!!m,o,!1):u!=null&&Eo(i,!!m,u,!0);return;case"textarea":wt("invalid",i),b=_=m=null;for(R in u)if(u.hasOwnProperty(R)&&(j=u[R],j!=null))switch(R){case"value":m=j;break;case"defaultValue":_=j;break;case"children":b=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(91));break;default:rn(i,o,R,j,u,null)}To(i,m,_,b);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(m=u[G],m!=null))switch(G){case"selected":i.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:rn(i,o,G,m,u,null)}return;case"dialog":wt("beforetoggle",i),wt("toggle",i),wt("cancel",i),wt("close",i);break;case"iframe":case"object":wt("load",i);break;case"video":case"audio":for(m=0;m<Gf.length;m++)wt(Gf[m],i);break;case"image":wt("error",i),wt("load",i);break;case"details":wt("toggle",i);break;case"embed":case"source":case"link":wt("error",i),wt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in u)if(u.hasOwnProperty(re)&&(m=u[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(i,o,re,m,u,null)}return;default:if(Gu(o)){for(ce in u)u.hasOwnProperty(ce)&&(m=u[ce],m!==void 0&&jw(i,o,ce,m,u,void 0));return}}for(j in u)u.hasOwnProperty(j)&&(m=u[j],m!=null&&rn(i,o,j,m,u,null))}function GV(i,o,u,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,b=null,R=null,j=null,G=null,re=null,ce=null;for(le in u){var pe=u[le];if(u.hasOwnProperty(le)&&pe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=pe;default:m.hasOwnProperty(le)||rn(i,o,le,null,m,pe)}}for(var se in m){var le=m[se];if(pe=u[se],m.hasOwnProperty(se)&&(le!=null||pe!=null))switch(se){case"type":b=le;break;case"name":_=le;break;case"checked":re=le;break;case"defaultChecked":ce=le;break;case"value":R=le;break;case"defaultValue":j=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==pe&&rn(i,o,se,le,m,pe)}}$u(i,R,j,G,re,ce,b,_);return;case"select":le=R=j=se=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":le=G;default:m.hasOwnProperty(b)||rn(i,o,b,null,m,G)}for(_ in m)if(b=m[_],G=u[_],m.hasOwnProperty(_)&&(b!=null||G!=null))switch(_){case"value":se=b;break;case"defaultValue":j=b;break;case"multiple":R=b;default:b!==G&&rn(i,o,_,b,m,G)}o=j,u=R,m=le,se!=null?Eo(i,!!u,se,!1):!!m!=!!u&&(o!=null?Eo(i,!!u,o,!0):Eo(i,!!u,u?[]:"",!1));return;case"textarea":le=se=null;for(j in u)if(_=u[j],u.hasOwnProperty(j)&&_!=null&&!m.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:rn(i,o,j,null,m,_)}for(R in m)if(_=m[R],b=u[R],m.hasOwnProperty(R)&&(_!=null||b!=null))switch(R){case"value":se=_;break;case"defaultValue":le=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==b&&rn(i,o,R,_,m,b)}Zp(i,se,le);return;case"option":for(var Be in u)if(se=u[Be],u.hasOwnProperty(Be)&&se!=null&&!m.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:rn(i,o,Be,null,m,se)}for(G in m)if(se=m[G],le=u[G],m.hasOwnProperty(G)&&se!==le&&(se!=null||le!=null))switch(G){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:rn(i,o,G,se,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)se=u[et],u.hasOwnProperty(et)&&se!=null&&!m.hasOwnProperty(et)&&rn(i,o,et,null,m,se);for(re in m)if(se=m[re],le=u[re],m.hasOwnProperty(re)&&se!==le&&(se!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:rn(i,o,re,se,m,le)}return;default:if(Gu(o)){for(var sn in u)se=u[sn],u.hasOwnProperty(sn)&&se!==void 0&&!m.hasOwnProperty(sn)&&jw(i,o,sn,void 0,m,se);for(ce in m)se=m[ce],le=u[ce],!m.hasOwnProperty(ce)||se===le||se===void 0&&le===void 0||jw(i,o,ce,se,m,le);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!m.hasOwnProperty(Z)&&rn(i,o,Z,null,m,se);for(pe in m)se=m[pe],le=u[pe],!m.hasOwnProperty(pe)||se===le||se==null&&le==null||rn(i,o,pe,se,m,le)}function bR(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YV(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,u=performance.getEntriesByType("resource"),m=0;m<u.length;m++){var _=u[m],b=_.transferSize,R=_.initiatorType,j=_.duration;if(b&&j&&bR(R)){for(R=0,j=_.responseEnd,m+=1;m<u.length;m++){var G=u[m],re=G.startTime;if(re>j)break;var ce=G.transferSize,pe=G.initiatorType;ce&&bR(pe)&&(G=G.responseEnd,R+=ce*(G<j?1:(j-re)/(G-re)))}if(--m,o+=8*(b+R)/(_.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Lw=null,Vw=null;function ny(i){return i.nodeType===9?i:i.ownerDocument}function wR(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xR(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Bw(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Uw=null;function KV(){var i=window.event;return i&&i.type==="popstate"?i===Uw?!1:(Uw=i,!0):(Uw=null,!1)}var SR=typeof setTimeout=="function"?setTimeout:void 0,QV=typeof clearTimeout=="function"?clearTimeout:void 0,ER=typeof Promise=="function"?Promise:void 0,JV=typeof queueMicrotask=="function"?queueMicrotask:typeof ER<"u"?function(i){return ER.resolve(null).then(i).catch(XV)}:SR;function XV(i){setTimeout(function(){throw i})}function Yo(i){return i==="head"}function TR(i,o){var u=o,m=0;do{var _=u.nextSibling;if(i.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"||u==="/&"){if(m===0){i.removeChild(_),Ad(o);return}m--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")m++;else if(u==="html")Kf(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Kf(u);for(var b=u.firstChild;b;){var R=b.nextSibling,j=b.nodeName;b[Li]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=R}}else u==="body"&&Kf(i.ownerDocument.body);u=_}while(u);Ad(o)}function CR(i,o){var u=i;i=0;do{var m=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=m}while(u)}function Fw(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Fw(u),Hu(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function ZV(i,o,u,m){for(;i.nodeType===1;){var _=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Li])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==_.rel||i.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||i.getAttribute("title")!==(_.title==null?null:_.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(_.src==null?null:_.src)||i.getAttribute("type")!==(_.type==null?null:_.type)||i.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var b=_.name==null?null:""+_.name;if(_.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=js(i.nextSibling),i===null)break}return null}function e3(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=js(i.nextSibling),i===null))return null;return i}function RR(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=js(i.nextSibling),i===null))return null;return i}function zw(i){return i.data==="$?"||i.data==="$~"}function qw(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function t3(i,o){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||u.readyState!=="loading")o();else{var m=function(){o(),u.removeEventListener("DOMContentLoaded",m)};u.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function js(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Hw=null;function AR(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(o===0)return js(i.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}i=i.nextSibling}return null}function NR(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return i;o--}else u!=="/$"&&u!=="/&"||o++}i=i.previousSibling}return null}function IR(i,o,u){switch(o=ny(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Kf(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Hu(i)}var Ls=new Map,kR=new Set;function ry(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ka=ee.d;ee.d={f:n3,r:r3,D:s3,C:i3,L:a3,m:o3,X:c3,S:l3,M:u3};function n3(){var i=Ka.f(),o=Yg();return i||o}function r3(i){var o=Cs(i);o!==null&&o.tag===5&&o.type==="form"?YT(o):Ka.r(i)}var Td=typeof document>"u"?null:document;function DR(i,o,u){var m=Td;if(m&&typeof o=="string"&&o){var _=Br(o);_='link[rel="'+i+'"][href="'+_+'"]',typeof u=="string"&&(_+='[crossorigin="'+u+'"]'),kR.has(_)||(kR.add(_),i={rel:i,crossOrigin:u,href:o},m.querySelector(_)===null&&(o=m.createElement("link"),yr(o,"link",i),Vn(o),m.head.appendChild(o)))}}function s3(i){Ka.D(i),DR("dns-prefetch",i,null)}function i3(i,o){Ka.C(i,o),DR("preconnect",i,o)}function a3(i,o,u){Ka.L(i,o,u);var m=Td;if(m&&i&&o){var _='link[rel="preload"][as="'+Br(o)+'"]';o==="image"&&u&&u.imageSrcSet?(_+='[imagesrcset="'+Br(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(_+='[imagesizes="'+Br(u.imageSizes)+'"]')):_+='[href="'+Br(i)+'"]';var b=_;switch(o){case"style":b=Cd(i);break;case"script":b=Rd(i)}Ls.has(b)||(i=g({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),Ls.set(b,i),m.querySelector(_)!==null||o==="style"&&m.querySelector(Qf(b))||o==="script"&&m.querySelector(Jf(b))||(o=m.createElement("link"),yr(o,"link",i),Vn(o),m.head.appendChild(o)))}}function o3(i,o){Ka.m(i,o);var u=Td;if(u&&i){var m=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+Br(m)+'"][href="'+Br(i)+'"]',b=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Rd(i)}if(!Ls.has(b)&&(i=g({rel:"modulepreload",href:i},o),Ls.set(b,i),u.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Jf(b)))return}m=u.createElement("link"),yr(m,"link",i),Vn(m),u.head.appendChild(m)}}}function l3(i,o,u){Ka.S(i,o,u);var m=Td;if(m&&i){var _=Bi(m).hoistableStyles,b=Cd(i);o=o||"default";var R=_.get(b);if(!R){var j={loading:0,preload:null};if(R=m.querySelector(Qf(b)))j.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},u),(u=Ls.get(b))&&Ww(i,u);var G=R=m.createElement("link");Vn(G),yr(G,"link",i),G._p=new Promise(function(re,ce){G.onload=re,G.onerror=ce}),G.addEventListener("load",function(){j.loading|=1}),G.addEventListener("error",function(){j.loading|=2}),j.loading|=4,sy(R,o,m)}R={type:"stylesheet",instance:R,count:1,state:j},_.set(b,R)}}}function c3(i,o){Ka.X(i,o);var u=Td;if(u&&i){var m=Bi(u).hoistableScripts,_=Rd(i),b=m.get(_);b||(b=u.querySelector(Jf(_)),b||(i=g({src:i,async:!0},o),(o=Ls.get(_))&&$w(i,o),b=u.createElement("script"),Vn(b),yr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(_,b))}}function u3(i,o){Ka.M(i,o);var u=Td;if(u&&i){var m=Bi(u).hoistableScripts,_=Rd(i),b=m.get(_);b||(b=u.querySelector(Jf(_)),b||(i=g({src:i,async:!0,type:"module"},o),(o=Ls.get(_))&&$w(i,o),b=u.createElement("script"),Vn(b),yr(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(_,b))}}function PR(i,o,u,m){var _=(_=Ve.current)?ry(_):null;if(!_)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Cd(u.href),u=Bi(_).hoistableStyles,m=u.get(o),m||(m={type:"style",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Cd(u.href);var b=Bi(_).hoistableStyles,R=b.get(i);if(R||(_=_.ownerDocument||_,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,R),(b=_.querySelector(Qf(i)))&&!b._p&&(R.instance=b,R.state.loading=5),Ls.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ls.set(i,u),b||d3(_,i,u,R.state))),o&&m===null)throw Error(r(528,""));return R}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Rd(u),u=Bi(_).hoistableScripts,m=u.get(o),m||(m={type:"script",instance:null,count:0,state:null},u.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Cd(i){return'href="'+Br(i)+'"'}function Qf(i){return'link[rel="stylesheet"]['+i+"]"}function OR(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function d3(i,o,u,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),yr(o,"link",u),Vn(o),i.head.appendChild(o))}function Rd(i){return'[src="'+Br(i)+'"]'}function Jf(i){return"script[async]"+i}function MR(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Br(u.href)+'"]');if(m)return o.instance=m,Vn(m),m;var _=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Vn(m),yr(m,"style",_),sy(m,u.precedence,i),o.instance=m;case"stylesheet":_=Cd(u.href);var b=i.querySelector(Qf(_));if(b)return o.state.loading|=4,o.instance=b,Vn(b),b;m=OR(u),(_=Ls.get(_))&&Ww(m,_),b=(i.ownerDocument||i).createElement("link"),Vn(b);var R=b;return R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),yr(b,"link",m),o.state.loading|=4,sy(b,u.precedence,i),o.instance=b;case"script":return b=Rd(u.src),(_=i.querySelector(Jf(b)))?(o.instance=_,Vn(_),_):(m=u,(_=Ls.get(b))&&(m=g({},u),$w(m,_)),i=i.ownerDocument||i,_=i.createElement("script"),Vn(_),yr(_,"link",m),i.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,sy(m,u.precedence,i));return o.instance}function sy(i,o,u){for(var m=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,b=_,R=0;R<m.length;R++){var j=m[R];if(j.dataset.precedence===o)b=j;else if(b!==_)break}b?b.parentNode.insertBefore(i,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Ww(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function $w(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var iy=null;function jR(i,o,u){if(iy===null){var m=new Map,_=iy=new Map;_.set(u,m)}else _=iy,m=_.get(u),m||(m=new Map,_.set(u,m));if(m.has(i))return m;for(m.set(i,null),u=u.getElementsByTagName(i),_=0;_<u.length;_++){var b=u[_];if(!(b[Li]||b[Ln]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(o)||"";R=i+R;var j=m.get(R);j?j.push(b):m.set(R,[b])}}return m}function LR(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function h3(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function VR(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function f3(i,o,u,m){if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var _=Cd(m.href),b=o.querySelector(Qf(_));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=ay.bind(i),o.then(i,i)),u.state.loading|=4,u.instance=b,Vn(b);return}b=o.ownerDocument||o,m=OR(m),(_=Ls.get(_))&&Ww(m,_),b=b.createElement("link"),Vn(b);var R=b;R._p=new Promise(function(j,G){R.onload=j,R.onerror=G}),yr(b,"link",m),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=ay.bind(i),o.addEventListener("load",u),o.addEventListener("error",u))}}var Gw=0;function m3(i,o){return i.stylesheets&&i.count===0&&ly(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var m=setTimeout(function(){if(i.stylesheets&&ly(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+o);0<i.imgBytes&&Gw===0&&(Gw=62500*YV());var _=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ly(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Gw?50:800)+o);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function ay(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ly(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var oy=null;function ly(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,oy=new Map,o.forEach(p3,i),oy=null,ay.call(i))}function p3(i,o){if(!(o.state.loading&4)){var u=oy.get(i);if(u)var m=u.get(null);else{u=new Map,oy.set(i,u);for(var _=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<_.length;b++){var R=_[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),m=R)}m&&u.set(null,m)}_=o.instance,R=_.getAttribute("data-precedence"),b=u.get(R)||m,b===m&&u.set(null,_),u.set(R,_),this.count++,m=ay.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),b?b.parentNode.insertBefore(_,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(_,i.firstChild)),o.state.loading|=4}}var Xf={$$typeof:M,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function g3(i,o,u,m,_,b,R,j,G){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ts(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.hiddenUpdates=Ts(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function BR(i,o,u,m,_,b,R,j,G,re,ce,pe){return i=new g3(i,o,u,R,G,re,ce,pe,j),o=1,b===!0&&(o|=24),b=ss(3,null,null,o),i.current=b,b.stateNode=i,o=Cb(),o.refCount++,i.pooledCache=o,o.refCount++,b.memoizedState={element:m,isDehydrated:u,cache:o},Ib(b),i}function UR(i){return i?(i=sd,i):sd}function FR(i,o,u,m,_,b){_=UR(_),m.context===null?m.context=_:m.pendingContext=_,m=Lo(o),m.payload={element:u},b=b===void 0?null:b,b!==null&&(m.callback=b),u=Vo(i,m,o),u!==null&&(Wr(u,i,o),If(u,i,o))}function zR(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Yw(i,o){zR(i,o),(i=i.alternate)&&zR(i,o)}function qR(i){if(i.tag===13||i.tag===31){var o=gc(i,67108864);o!==null&&Wr(o,i,67108864),Yw(i,67108864)}}function HR(i){if(i.tag===13||i.tag===31){var o=cs();o=sc(o);var u=gc(i,o);u!==null&&Wr(u,i,o),Yw(i,o)}}var cy=!0;function y3(i,o,u,m){var _=$.T;$.T=null;var b=ee.p;try{ee.p=2,Kw(i,o,u,m)}finally{ee.p=b,$.T=_}}function v3(i,o,u,m){var _=$.T;$.T=null;var b=ee.p;try{ee.p=8,Kw(i,o,u,m)}finally{ee.p=b,$.T=_}}function Kw(i,o,u,m){if(cy){var _=Qw(m);if(_===null)Mw(i,o,m,uy,u),$R(i,m);else if(b3(_,i,o,u,m))m.stopPropagation();else if($R(i,m),o&4&&-1<_3.indexOf(i)){for(;_!==null;){var b=Cs(_);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=ht(b.pendingLanes);if(R!==0){var j=b;for(j.pendingLanes|=2,j.entangledLanes|=2;R;){var G=1<<31-bn(R);j.entanglements[1]|=G,R&=~G}Xi(b),(Ht&6)===0&&($g=kn()+500,$f(0))}}break;case 31:case 13:j=gc(b,2),j!==null&&Wr(j,b,2),Yg(),Yw(b,2)}if(b=Qw(m),b===null&&Mw(i,o,m,uy,u),b===_)break;_=b}_!==null&&m.stopPropagation()}else Mw(i,o,m,null,u)}}function Qw(i){return i=Rs(i),Jw(i)}var uy=null;function Jw(i){if(uy=null,i=Vi(i),i!==null){var o=a(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=l(o),i!==null)return i;i=null}else if(u===31){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return uy=i,null}function WR(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zr()){case Bt:return 2;case En:return 8;case Tn:case wo:return 32;case Bu:return 268435456;default:return 32}default:return 32}}var Xw=!1,Ko=null,Qo=null,Jo=null,Zf=new Map,em=new Map,Xo=[],_3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $R(i,o){switch(i){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Qo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":Zf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(o.pointerId)}}function tm(i,o,u,m,_,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:b,targetContainers:[_]},o!==null&&(o=Cs(o),o!==null&&qR(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),i)}function b3(i,o,u,m,_){switch(o){case"focusin":return Ko=tm(Ko,i,o,u,m,_),!0;case"dragenter":return Qo=tm(Qo,i,o,u,m,_),!0;case"mouseover":return Jo=tm(Jo,i,o,u,m,_),!0;case"pointerover":var b=_.pointerId;return Zf.set(b,tm(Zf.get(b)||null,i,o,u,m,_)),!0;case"gotpointercapture":return b=_.pointerId,em.set(b,tm(em.get(b)||null,i,o,u,m,_)),!0}return!1}function GR(i){var o=Vi(i.target);if(o!==null){var u=a(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){i.blockedOn=o,Xs(i.priority,function(){HR(u)});return}}else if(o===31){if(o=c(u),o!==null){i.blockedOn=o,Xs(i.priority,function(){HR(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function dy(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Qw(i.nativeEvent);if(u===null){u=i.nativeEvent;var m=new u.constructor(u.type,u);mf=m,u.target.dispatchEvent(m),mf=null}else return o=Cs(u),o!==null&&qR(o),i.blockedOn=u,!1;o.shift()}return!0}function YR(i,o,u){dy(i)&&u.delete(o)}function w3(){Xw=!1,Ko!==null&&dy(Ko)&&(Ko=null),Qo!==null&&dy(Qo)&&(Qo=null),Jo!==null&&dy(Jo)&&(Jo=null),Zf.forEach(YR),em.forEach(YR)}function hy(i,o){i.blockedOn===o&&(i.blockedOn=null,Xw||(Xw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,w3)))}var fy=null;function KR(i){fy!==i&&(fy=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){fy===i&&(fy=null);for(var o=0;o<i.length;o+=3){var u=i[o],m=i[o+1],_=i[o+2];if(typeof m!="function"){if(Jw(m||u)===null)continue;break}var b=Cs(u);b!==null&&(i.splice(o,3),o-=3,Qb(b,{pending:!0,data:_,method:u.method,action:m},m,_))}}))}function Ad(i){function o(G){return hy(G,i)}Ko!==null&&hy(Ko,i),Qo!==null&&hy(Qo,i),Jo!==null&&hy(Jo,i),Zf.forEach(o),em.forEach(o);for(var u=0;u<Xo.length;u++){var m=Xo[u];m.blockedOn===i&&(m.blockedOn=null)}for(;0<Xo.length&&(u=Xo[0],u.blockedOn===null);)GR(u),u.blockedOn===null&&Xo.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(m=0;m<u.length;m+=3){var _=u[m],b=u[m+1],R=_[sr]||null;if(typeof b=="function")R||KR(u);else if(R){var j=null;if(b&&b.hasAttribute("formAction")){if(_=b,R=b[sr]||null)j=R.formAction;else if(Jw(_)!==null)continue}else j=R.action;typeof j=="function"?u[m+1]=j:(u.splice(m,3),m-=3),KR(u)}}}function QR(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return _=R})},focusReset:"manual",scroll:"manual"})}function o(){_!==null&&(_(),_=null),m||setTimeout(u,20)}function u(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),_!==null&&(_(),_=null)}}}function Zw(i){this._internalRoot=i}my.prototype.render=Zw.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,m=cs();FR(u,m,i,o,null,null)},my.prototype.unmount=Zw.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;FR(i.current,2,null,i,null,null),Yg(),o[ji]=null}};function my(i){this._internalRoot=i}my.prototype.unstable_scheduleHydration=function(i){if(i){var o=Yp();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Xo.length&&o!==0&&o<Xo[u].priority;u++);Xo.splice(u,0,i),u===0&&GR(i)}};var JR=e.version;if(JR!=="19.2.4")throw Error(r(527,JR,"19.2.4"));ee.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var x3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!py.isDisabled&&py.supportsFiber)try{es=py.inject(x3),Qn=py}catch{}}return lm.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,m="",_=sC,b=iC,R=aC;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=BR(i,1,!1,null,null,u,m,null,_,b,R,QR),i[ji]=o.current,Ow(i),new Zw(o)},lm.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var m=!1,_="",b=sC,R=iC,j=aC,G=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(j=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),o=BR(i,1,!0,o,u??null,m,_,G,b,R,j,QR),o.context=UR(null),u=o.current,m=cs(),m=sc(m),_=Lo(m),_.callback=null,Vo(u,_,m),u=m,o.current.lanes=u,Js(o,u),Xi(o),i[ji]=o.current,Ow(i),new my(o)},lm.version="19.2.4",lm}var UA;function sB(){if(UA)return vx.exports;UA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vx.exports=rB(),vx.exports}var iB=sB();const aB=r_(iB),oB=()=>{};var FA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},lB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,d=s+2<n.length,f=d?n[s+2]:0,p=a>>2,g=(a&3)<<4|c>>4;let v=(c&15)<<2|f>>6,w=f&63;d||(w=64,l||(v=64)),r.push(t[p],t[g],t[v],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||f==null||g==null)throw new cB;const v=a<<2|c>>4;if(r.push(v),f!==64){const w=c<<4&240|f>>2;if(r.push(w),g!==64){const x=f<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uB=function(n){const e=qD(n);return HD.encodeByteArray(e,!0)},uv=function(n){return uB(n).replace(/\./g,"")},WD=function(n){try{return HD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=()=>dB().__FIREBASE_DEFAULTS__,fB=()=>{if(typeof process>"u"||typeof FA>"u")return;const n=FA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&WD(n[1]);return e&&JSON.parse(e)},l_=()=>{try{return oB()||hB()||fB()||mB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$D=n=>{var e,t;return(t=(e=l_())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},pB=n=>{const e=$D(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},GD=()=>{var n;return(n=l_())==null?void 0:n.config},YD=n=>{var e;return(e=l_())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KD(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[uv(JSON.stringify(t)),uv(JSON.stringify(l)),""].join(".")}const km={};function vB(){const n={prod:[],emulator:[]};for(const e of Object.keys(km))km[e]?n.emulator.push(e):n.prod.push(e);return n}function _B(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zA=!1;function QD(n,e){if(typeof window>"u"||typeof document>"u"||!Uh(window.location.host)||km[n]===e||km[n]||zA)return;km[n]=e;function t(v){return`__firebase__banner__${v}`}const r="__firebase__banner",a=vB().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{zA=!0,l()},v}function p(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){const v=_B(r),w=t("text"),x=document.getElementById(w)||document.createElement("span"),E=t("learnmore"),C=document.getElementById(E)||document.createElement("a"),k=t("preprendIcon"),O=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;c(M),p(C,E);const F=f();d(O,k),M.append(O,x,C,F),document.body.appendChild(M)}a?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function wB(){var e;const n=(e=l_())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TB(){const n=Ir();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function CB(){return!wB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RB(){try{return typeof indexedDB=="object"}catch{return!1}}function AB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="FirebaseError";class _o extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=NB,Object.setPrototypeOf(this,_o.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bp.prototype.create)}}class bp{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?IB(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new _o(s,c,r)}}function IB(n,e){return n.replace(kB,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kB=/\{\$([^}]+)}/g;function DB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(qA(a)&&qA(l)){if(!mu(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function qA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vm(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function _m(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function PB(n,e){const t=new OB(n,e);return t.subscribe.bind(t)}class OB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");MB(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=wx),s.error===void 0&&(s.error=wx),s.complete===void 0&&(s.complete=wx);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(n){return n&&n._delegate?n._delegate:n}class pu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new gB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VB(e))try{this.getOrInitializeService({instanceIdentifier:Ic})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ic){return this.instances.has(e)}getOptions(e=Ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ic){return this.component?this.component.multipleInstances?e:Ic:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LB(n){return n===Ic?void 0:n}function VB(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new jB(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Rt||(Rt={}));const UB={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},FB=Rt.INFO,zB={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},qB=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=zB[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class HS{constructor(e){this.name=e,this._logLevel=FB,this._logHandler=qB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const HB=(n,e)=>e.some(t=>n instanceof t);let HA,WA;function WB(){return HA||(HA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $B(){return WA||(WA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JD=new WeakMap,I0=new WeakMap,XD=new WeakMap,xx=new WeakMap,WS=new WeakMap;function GB(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Cl(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&JD.set(t,n)}).catch(()=>{}),WS.set(e,n),e}function YB(n){if(I0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});I0.set(n,e)}let k0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return I0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||XD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KB(n){k0=n(k0)}function QB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Sx(this),e,...t);return XD.set(r,e.sort?e.sort():[e]),Cl(r)}:$B().includes(n)?function(...e){return n.apply(Sx(this),e),Cl(JD.get(this))}:function(...e){return Cl(n.apply(Sx(this),e))}}function JB(n){return typeof n=="function"?QB(n):(n instanceof IDBTransaction&&YB(n),HB(n,WB())?new Proxy(n,k0):n)}function Cl(n){if(n instanceof IDBRequest)return GB(n);if(xx.has(n))return xx.get(n);const e=JB(n);return e!==n&&(xx.set(n,e),WS.set(e,n)),e}const Sx=n=>WS.get(n);function XB(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Cl(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Cl(l.result),d.oldVersion,d.newVersion,Cl(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const ZB=["get","getKey","getAll","getAllKeys","count"],eU=["put","add","delete","clear"],Ex=new Map;function $A(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ex.get(e))return Ex.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=eU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ZB.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&d.done]))[0]};return Ex.set(e,a),a}KB(n=>({...n,get:(e,t,r)=>$A(e,t)||n.get(e,t,r),has:(e,t)=>!!$A(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function nU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",GA="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=new HS("@firebase/app"),rU="@firebase/app-compat",sU="@firebase/analytics-compat",iU="@firebase/analytics",aU="@firebase/app-check-compat",oU="@firebase/app-check",lU="@firebase/auth",cU="@firebase/auth-compat",uU="@firebase/database",dU="@firebase/data-connect",hU="@firebase/database-compat",fU="@firebase/functions",mU="@firebase/functions-compat",pU="@firebase/installations",gU="@firebase/installations-compat",yU="@firebase/messaging",vU="@firebase/messaging-compat",_U="@firebase/performance",bU="@firebase/performance-compat",wU="@firebase/remote-config",xU="@firebase/remote-config-compat",SU="@firebase/storage",EU="@firebase/storage-compat",TU="@firebase/firestore",CU="@firebase/ai",RU="@firebase/firestore-compat",AU="firebase",NU="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="[DEFAULT]",IU={[D0]:"fire-core",[rU]:"fire-core-compat",[iU]:"fire-analytics",[sU]:"fire-analytics-compat",[oU]:"fire-app-check",[aU]:"fire-app-check-compat",[lU]:"fire-auth",[cU]:"fire-auth-compat",[uU]:"fire-rtdb",[dU]:"fire-data-connect",[hU]:"fire-rtdb-compat",[fU]:"fire-fn",[mU]:"fire-fn-compat",[pU]:"fire-iid",[gU]:"fire-iid-compat",[yU]:"fire-fcm",[vU]:"fire-fcm-compat",[_U]:"fire-perf",[bU]:"fire-perf-compat",[wU]:"fire-rc",[xU]:"fire-rc-compat",[SU]:"fire-gcs",[EU]:"fire-gcs-compat",[TU]:"fire-fst",[RU]:"fire-fst-compat",[CU]:"fire-vertex","fire-js":"fire-js",[AU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=new Map,kU=new Map,O0=new Map;function YA(n,e){try{n.container.addComponent(e)}catch(t){ho.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function _h(n){const e=n.name;if(O0.has(e))return ho.debug(`There were multiple attempts to register component ${e}.`),!1;O0.set(e,n);for(const t of dv.values())YA(t,n);for(const t of kU.values())YA(t,n);return!0}function $S(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ps(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rl=new bp("app","Firebase",DU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=NU;function ZD(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:P0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Rl.create("bad-app-name",{appName:String(s)});if(t||(t=GD()),!t)throw Rl.create("no-options");const a=dv.get(s);if(a){if(mu(t,a.options)&&mu(r,a.config))return a;throw Rl.create("duplicate-app",{appName:s})}const l=new BB(s);for(const d of O0.values())l.addComponent(d);const c=new PU(t,r,l);return dv.set(s,c),c}function eP(n=P0){const e=dv.get(n);if(!e&&n===P0&&GD())return ZD();if(!e)throw Rl.create("no-app",{appName:n});return e}function Al(n,e,t){let r=IU[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ho.warn(l.join(" "));return}_h(new pu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU="firebase-heartbeat-database",MU=1,zm="firebase-heartbeat-store";let Tx=null;function tP(){return Tx||(Tx=XB(OU,MU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zm)}catch(t){console.warn(t)}}}}).catch(n=>{throw Rl.create("idb-open",{originalErrorMessage:n.message})})),Tx}async function jU(n){try{const t=(await tP()).transaction(zm),r=await t.objectStore(zm).get(nP(n));return await t.done,r}catch(e){if(e instanceof _o)ho.warn(e.message);else{const t=Rl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ho.warn(t.message)}}}async function KA(n,e){try{const r=(await tP()).transaction(zm,"readwrite");await r.objectStore(zm).put(e,nP(n)),await r.done}catch(t){if(t instanceof _o)ho.warn(t.message);else{const r=Rl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ho.warn(r.message)}}}function nP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=1024,VU=30;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FU(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=QA();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>VU){const l=zU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ho.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QA(),{heartbeatsToSend:r,unsentEntries:s}=UU(this._heartbeatsCache.heartbeats),a=uv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ho.warn(t),""}}}function QA(){return new Date().toISOString().substring(0,10)}function UU(n,e=LU){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),JA(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),JA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class FU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RB()?AB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return KA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function JA(n){return uv(JSON.stringify({version:2,heartbeats:n})).length}function zU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n){_h(new pu("platform-logger",e=>new tU(e),"PRIVATE")),_h(new pu("heartbeat",e=>new BU(e),"PRIVATE")),Al(D0,GA,n),Al(D0,GA,"esm2020"),Al("fire-js","")}qU("");var HU="firebase",WU="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Al(HU,WU,"app");function rP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $U=rP,sP=new bp("auth","Firebase",rP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new HS("@firebase/auth");function GU(n,...e){hv.logLevel<=Rt.WARN&&hv.warn(`Auth (${Fh}): ${n}`,...e)}function Fy(n,...e){hv.logLevel<=Rt.ERROR&&hv.error(`Auth (${Fh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n,...e){throw YS(n,...e)}function yi(n,...e){return YS(n,...e)}function GS(n,e,t){const r={...$U(),[e]:t};return new bp("auth","Firebase",r).create(e,{appName:n.name})}function lo(n){return GS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YU(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gs(n,"argument-error"),GS(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function YS(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sP.create(n,...e)}function nt(n,e,...t){if(!n)throw YS(e,...t)}function so(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fy(e),new Error(e)}function fo(n,e){n||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function KU(){return XA()==="http:"||XA()==="https:"}function XA(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KU()||SB()||"connection"in navigator)?navigator.onLine:!0}function JU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,t){this.shortDelay=e,this.longDelay=t,fo(t>e,"Short delay should be less than long delay!"),this.isMobile=bB()||EB()}get(){return QU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e){fo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],e9=new xp(3e4,6e4);function $l(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gl(n,e,t,r,s={}){return aP(n,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=wp({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:d,...a};return xB()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Uh(n.emulatorConfig.host)&&(f.credentials="include"),iP.fetch()(await oP(n,n.config.apiHost,t,c),f)})}async function aP(n,e,t){n._canInitEmulator=!1;const r={...XU,...e};try{const s=new n9(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw wy(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw wy(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw wy(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw wy(n,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw GS(n,p,f);Gs(n,p)}}catch(s){if(s instanceof _o)throw s;Gs(n,"network-request-failed",{message:String(s)})}}async function Sp(n,e,t,r,s={}){const a=await Gl(n,e,t,r,s);return"mfaPendingCredential"in a&&Gs(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function oP(n,e,t,r){const s=`${e}${t}?${r}`,a=n,l=a.config.emulator?KS(n.config,s):`${n.config.apiScheme}://${s}`;return ZU.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function t9(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class n9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),e9.get())})}}function wy(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=yi(n,e,r);return s.customData._tokenResponse=t,s}function ZA(n){return n!==void 0&&n.enterprise!==void 0}class r9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return t9(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function s9(n,e){return Gl(n,"GET","/v2/recaptchaConfig",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(n,e){return Gl(n,"POST","/v1/accounts:delete",e)}async function fv(n,e){return Gl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function a9(n,e=!1){const t=Yn(n),r=await t.getIdToken(e),s=QS(r);nt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Dm(Cx(s.auth_time)),issuedAtTime:Dm(Cx(s.iat)),expirationTime:Dm(Cx(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Cx(n){return Number(n)*1e3}function QS(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fy("JWT malformed, contained fewer than 3 sections"),null;try{const s=WD(t);return s?JSON.parse(s):(Fy("Failed to decode base64 JWT payload"),null)}catch(s){return Fy("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eN(n){const e=QS(n);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _o&&o9(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function o9({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(n){var g;const e=n.auth,t=await n.getIdToken(),r=await qm(n,fv(e,{idToken:t}));nt(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=(g=s.providerUserInfo)!=null&&g.length?lP(s.providerUserInfo):[],l=u9(n.providerData,a),c=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(l!=null&&l.length),f=c?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new j0(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function c9(n){const e=Yn(n);await mv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function u9(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function lP(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(n,e){const t=await aP(n,{},async()=>{const r=wp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,l=await oP(n,s,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return n.emulatorConfig&&Uh(n.emulatorConfig.host)&&(d.credentials="include"),iP.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function h9(n,e){return Gl(n,"POST","/v2/accounts:revokeToken",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const t=eN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await d9(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,l=new Gd;return r&&(nt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(nt(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(nt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gd,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(n,e){nt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class pi{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new l9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new j0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await qm(this,this.stsTokenManager.getToken(this.auth,e));return nt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return a9(this,e)}reload(){return c9(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await mv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(lo(this.auth));const e=await this.getIdToken();return await qm(this,i9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,f=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:g,emailVerified:v,isAnonymous:w,providerData:x,stsTokenManager:E}=t;nt(g&&E,e,"internal-error");const C=Gd.fromJSON(this.name,E);nt(typeof g=="string",e,"internal-error"),el(r,e.name),el(s,e.name),nt(typeof v=="boolean",e,"internal-error"),nt(typeof w=="boolean",e,"internal-error"),el(a,e.name),el(l,e.name),el(c,e.name),el(d,e.name),el(f,e.name),el(p,e.name);const k=new pi({uid:g,auth:e,email:s,emailVerified:v,displayName:r,isAnonymous:w,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:C,createdAt:f,lastLoginAt:p});return x&&Array.isArray(x)&&(k.providerData=x.map(O=>({...O}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Gd;s.updateFromServerResponse(t);const a=new pi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await mv(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];nt(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?lP(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Gd;c.updateFromIdToken(r);const d=new pi({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new j0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Map;function io(n){fo(n instanceof Function,"Expected a class definition");let e=tN.get(n);return e?(fo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,tN.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cP.type="NONE";const nN=cP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(n,e,t){return`firebase:${n}:${e}:${t}`}class Yd{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=zy(this.userKey,s.apiKey,a),this.fullPersistenceKey=zy("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fv(this.auth,{idToken:e}).catch(()=>{});return t?pi._fromGetAccountInfoResponse(this.auth,t,e):null}return pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yd(io(nN),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=s[0]||io(nN);const l=zy(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const v=await fv(e,{idToken:p}).catch(()=>{});if(!v)break;g=await pi._fromGetAccountInfoResponse(e,v,p)}else g=pi._fromJSON(e,p);f!==a&&(c=g),a=f;break}}catch{}const d=s.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new Yd(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==a)try{await f._remove(l)}catch{}})),new Yd(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pP(e))return"Blackberry";if(gP(e))return"Webos";if(dP(e))return"Safari";if((e.includes("chrome/")||hP(e))&&!e.includes("edge/"))return"Chrome";if(mP(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uP(n=Ir()){return/firefox\//i.test(n)}function dP(n=Ir()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hP(n=Ir()){return/crios\//i.test(n)}function fP(n=Ir()){return/iemobile/i.test(n)}function mP(n=Ir()){return/android/i.test(n)}function pP(n=Ir()){return/blackberry/i.test(n)}function gP(n=Ir()){return/webos/i.test(n)}function JS(n=Ir()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function f9(n=Ir()){var e;return JS(n)&&!!((e=window.navigator)!=null&&e.standalone)}function m9(){return TB()&&document.documentMode===10}function yP(n=Ir()){return JS(n)||mP(n)||gP(n)||pP(n)||/windows phone/i.test(n)||fP(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(n,e=[]){let t;switch(n){case"Browser":t=rN(Ir());break;case"Worker":t=`${rN(Ir())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(n,e={}){return Gl(n,"GET","/v2/passwordPolicy",$l(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=6;class v9{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??y9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sN(this),this.idTokenSubscription=new sN(this),this.beforeStateQueue=new p9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=io(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await Yd.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fv(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ps(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await mv(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(lo(this));const t=e?Yn(e):null;return t&&nt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(lo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(lo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(io(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await g9(this),t=new v9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bp("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await h9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&io(e)||this._popupRedirectResolver;nt(t,this,"argument-error"),this.redirectPersistenceManager=await Yd.create(this,[io(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&GU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Yl(n){return Yn(n)}class sN{constructor(e){this.auth=e,this.observer=null,this.addObserver=PB(t=>this.observer=t)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b9(n){c_=n}function _P(n){return c_.loadJS(n)}function w9(){return c_.recaptchaEnterpriseScript}function x9(){return c_.gapiScript}function S9(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class E9{constructor(){this.enterprise=new T9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class T9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const C9="recaptcha-enterprise",bP="NO_RECAPTCHA";class R9{constructor(e){this.type=C9,this.auth=Yl(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{s9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new r9(d);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;ZA(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{l(f)}).catch(()=>{l(bP)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E9().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&ZA(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=w9();d.length!==0&&(d+=c),_P(d).then(()=>{s(c,a,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function iN(n,e,t,r=!1,s=!1){const a=new R9(n);let l;if(s)l=bP;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function L0(n,e,t,r,s){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iN(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await iN(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(n,e){const t=$S(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(mu(a,e??{}))return s;Gs(s,"already-initialized")}return t.initialize({options:e})}function N9(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(io);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I9(n,e,t){const r=Yl(n);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=wP(e),{host:l,port:c}=k9(e),d=c===null?"":`:${c}`,f={url:`${a}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(mu(f,r.config.emulator)&&mu(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Uh(l)?(KD(`${a}//${l}${d}`),QD("Auth",!0)):D9()}function wP(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function k9(n){const e=wP(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:aN(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:aN(l)}}}function aN(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function D9(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,t){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}async function P9(n,e){return Gl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(n,e){return Sp(n,"POST","/v1/accounts:signInWithPassword",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(n,e){return Sp(n,"POST","/v1/accounts:signInWithEmailLink",$l(n,e))}async function j9(n,e){return Sp(n,"POST","/v1/accounts:signInWithEmailLink",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends XS{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Hm(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Hm(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,t,"signInWithPassword",O9);case"emailLink":return M9(e,{email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,r,"signUpPassword",P9);case"emailLink":return j9(e,{idToken:t,email:this._email,oobCode:this._password});default:Gs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(n,e){return Sp(n,"POST","/v1/accounts:signInWithIdp",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="http://localhost";class gu extends XS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const l=new gu(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Kd(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Kd(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Kd(e,t)}buildRequest(){const e={requestUri:L9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wp(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B9(n){const e=vm(_m(n)).link,t=e?vm(_m(e)).deep_link_id:null,r=vm(_m(n)).deep_link_id;return(r?vm(_m(r)).link:null)||r||t||e||n}class ZS{constructor(e){const t=vm(_m(e)),r=t.apiKey??null,s=t.oobCode??null,a=V9(t.mode??null);nt(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=B9(e);try{return new ZS(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.providerId=zh.PROVIDER_ID}static credential(e,t){return Hm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ZS.parseLink(t);return nt(r,"argument-error"),Hm._fromEmailAndCode(e,r.code,r.tenantId)}}zh.PROVIDER_ID="password";zh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends e1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Ep{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch{return null}}}ll.FACEBOOK_SIGN_IN_METHOD="facebook.com";ll.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends Ep{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gu._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return no.credential(t,r)}catch{return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends Ep{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.GITHUB_SIGN_IN_METHOD="github.com";cl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Ep{constructor(){super("twitter.com")}static credential(e,t){return gu._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ul.credential(t,r)}catch{return null}}}ul.TWITTER_SIGN_IN_METHOD="twitter.com";ul.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(n,e){return Sp(n,"POST","/v1/accounts:signUp",$l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await pi._fromIdTokenResponse(e,r,s),l=oN(r);return new yu({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=oN(r);return new yu({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function oN(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends _o{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,pv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new pv(e,t,r,s)}}function xP(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pv._fromErrorAndOperation(n,a,e,r):a})}async function F9(n,e,t=!1){const r=await qm(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return yu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z9(n,e,t=!1){const{auth:r}=n;if(ps(r.app))return Promise.reject(lo(r));const s="reauthenticate";try{const a=await qm(n,xP(r,s,e,n),t);nt(a.idToken,r,"internal-error");const l=QS(a.idToken);nt(l,r,"internal-error");const{sub:c}=l;return nt(n.uid===c,r,"user-mismatch"),yu._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Gs(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(n,e,t=!1){if(ps(n.app))return Promise.reject(lo(n));const r="signIn",s=await xP(n,r,e),a=await yu._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function q9(n,e){return SP(Yl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n){const e=Yl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TP(n,e,t){if(ps(n.app))return Promise.reject(lo(n));const r=Yl(n),l=await L0(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U9).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&EP(n),d}),c=await yu._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function H9(n,e,t){return ps(n.app)?Promise.reject(lo(n)):q9(Yn(n),zh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EP(n),r})}function W9(n,e,t,r){return Yn(n).onIdTokenChanged(e,t,r)}function $9(n,e,t){return Yn(n).beforeAuthStateChanged(e,t)}function G9(n,e,t,r){return Yn(n).onAuthStateChanged(e,t,r)}function Y9(n){return Yn(n).signOut()}const gv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gv,"1"),this.storage.removeItem(gv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=1e3,Q9=10;class RP extends CP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);m9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Q9):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},K9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}RP.type="LOCAL";const J9=RP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP extends CP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AP.type="SESSION";const NP=AP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new u_(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,a)),d=await X9(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}u_.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const f=t1("",20);s.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(g){const v=g;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(v.data.response);break;default:clearTimeout(p),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return window}function eF(n){la().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return typeof la().WorkerGlobalScope<"u"&&typeof la().importScripts=="function"}async function tF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nF(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function rF(){return IP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="firebaseLocalStorageDb",sF=1,yv="firebaseLocalStorage",DP="fbase_key";class Tp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function d_(n,e){return n.transaction([yv],e?"readwrite":"readonly").objectStore(yv)}function iF(){const n=indexedDB.deleteDatabase(kP);return new Tp(n).toPromise()}function V0(){const n=indexedDB.open(kP,sF);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yv,{keyPath:DP})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yv)?e(r):(r.close(),await iF(),e(await V0()))})})}async function lN(n,e,t){const r=d_(n,!0).put({[DP]:e,value:t});return new Tp(r).toPromise()}async function aF(n,e){const t=d_(n,!1).get(e),r=await new Tp(t).toPromise();return r===void 0?null:r.value}function cN(n,e){const t=d_(n,!0).delete(e);return new Tp(t).toPromise()}const oF=800,lF=3;class PP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>lF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=u_._getInstance(rF()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await tF(),!this.activeServiceWorker)return;this.sender=new Z9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V0();return await lN(e,gv,"1"),await cN(e,gv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>lN(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>aF(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cN(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=d_(s,!1).getAll();return new Tp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PP.type="LOCAL";const cF=PP;new xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(n,e){return e?io(e):(nt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1 extends XS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kd(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Kd(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Kd(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uF(n){return SP(n.auth,new n1(n),n.bypassAuthState)}function dF(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),z9(t,new n1(n),n.bypassAuthState)}async function hF(n){const{auth:e,user:t}=n;return nt(t,e,"internal-error"),F9(t,new n1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uF;case"linkViaPopup":case"linkViaRedirect":return hF;case"reauthViaPopup":case"reauthViaRedirect":return dF;default:Gs(this.auth,"internal-error")}}resolve(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new xp(2e3,1e4);async function mF(n,e,t){if(ps(n.app))return Promise.reject(yi(n,"operation-not-supported-in-this-environment"));const r=Yl(n);YU(n,e,e1);const s=OP(r,t);return new Kc(r,"signInViaPopup",e,s).executeNotNull()}class Kc extends MP{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Kc.currentPopupAction&&Kc.currentPopupAction.cancel(),Kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){fo(this.filter.length===1,"Popup operations only handle one event");const e=t1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fF.get())};e()}}Kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="pendingRedirect",qy=new Map;class gF extends MP{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=qy.get(this.auth._key());if(!e){try{const r=await yF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}qy.set(this.auth._key(),e)}return this.bypassAuthState||qy.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yF(n,e){const t=bF(e),r=_F(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function vF(n,e){qy.set(n._key(),e)}function _F(n){return io(n._redirectPersistence)}function bF(n){return zy(pF,n.config.apiKey,n.name)}async function wF(n,e,t=!1){if(ps(n.app))return Promise.reject(lo(n));const r=Yl(n),s=OP(r,e),l=await new gF(r,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=600*1e3;class SF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EF(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!jP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xF&&this.cachedEventUids.clear(),this.cachedEventUids.has(uN(e))}saveEventToCache(e){this.cachedEventUids.add(uN(e)),this.lastProcessedEventTime=Date.now()}}function uN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jP({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EF(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jP(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(n,e={}){return Gl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RF=/^https?/;async function AF(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TF(n);for(const t of e)try{if(NF(t))return}catch{}Gs(n,"unauthorized-domain")}function NF(n){const e=M0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!RF.test(t))return!1;if(CF.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=new xp(3e4,6e4);function dN(){const n=la().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function kF(n){return new Promise((e,t)=>{var s,a,l;function r(){dN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dN(),t(yi(n,"network-request-failed"))},timeout:IF.get()})}if((a=(s=la().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=la().gapi)!=null&&l.load)r();else{const c=S9("iframefcb");return la()[c]=()=>{gapi.load?r():t(yi(n,"network-request-failed"))},_P(`${x9()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw Hy=null,e})}let Hy=null;function DF(n){return Hy=Hy||kF(n),Hy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new xp(5e3,15e3),OF="__/auth/iframe",MF="emulator/auth/iframe",jF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VF(n){const e=n.config;nt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?KS(e,MF):`https://${n.config.authDomain}/${OF}`,r={apiKey:e.apiKey,appName:n.name,v:Fh},s=LF.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${wp(r).slice(1)}`}async function BF(n){const e=await DF(n),t=la().gapi;return nt(t,n,"internal-error"),e.open({where:document.body,url:VF(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=yi(n,"network-request-failed"),c=la().setTimeout(()=>{a(l)},PF.get());function d(){la().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FF=500,zF=600,qF="_blank",HF="http://localhost";class hN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WF(n,e,t,r=FF,s=zF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...UF,width:r.toString(),height:s.toString(),top:a,left:l},f=Ir().toLowerCase();t&&(c=hP(f)?qF:t),uP(f)&&(e=e||HF,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[w,x])=>`${v}${w}=${x},`,"");if(f9(f)&&c!=="_self")return $F(e||"",c),new hN(null);const g=window.open(e||"",c,p);nt(g,n,"popup-blocked");try{g.focus()}catch{}return new hN(g)}function $F(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="__/auth/handler",YF="emulator/auth/handler",KF=encodeURIComponent("fac");async function fN(n,e,t,r,s,a){nt(n.config.authDomain,n,"auth-domain-config-required"),nt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fh,eventId:s};if(e instanceof e1){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",DB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Ep){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await n._getAppCheckToken(),f=d?`#${KF}=${encodeURIComponent(d)}`:"";return`${QF(n)}?${wp(c).slice(1)}${f}`}function QF({config:n}){return n.emulator?KS(n,YF):`https://${n.authDomain}/${GF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="webStorageSupport";class JF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NP,this._completeRedirectFn=wF,this._overrideRedirectResult=vF}async _openPopup(e,t,r,s){var l;fo((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await fN(e,t,r,M0(),s);return WF(e,a,t1())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await fN(e,t,r,M0(),s);return eF(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(fo(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await BF(e),r=new SF(e);return t.register("authEvent",s=>(nt(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rx,{type:Rx},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[Rx];a!==void 0&&t(!!a),Gs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AF(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yP()||dP()||JS()}}const XF=JF;var mN="@firebase/auth",pN="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ez(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tz(n){_h(new pu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vP(n)},f=new _9(r,s,a,d);return N9(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),_h(new pu("auth-internal",e=>{const t=Yl(e.getProvider("auth").getImmediate());return(r=>new ZF(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Al(mN,pN,ez(n)),Al(mN,pN,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz=300,rz=YD("authIdTokenMaxAge")||nz;let gN=null;const sz=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>rz)return;const s=t==null?void 0:t.token;gN!==s&&(gN=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iz(n=eP()){const e=$S(n,"auth");if(e.isInitialized())return e.getImmediate();const t=A9(n,{popupRedirectResolver:XF,persistence:[cF,J9,NP]}),r=YD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=sz(a.toString());$9(t,l,()=>l(t.currentUser)),W9(t,c=>l(c))}}const s=$D("auth");return s&&I9(t,`http://${s}`),t}function az(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}b9({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=yi("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",az().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tz("Browser");var yN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nl,LP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function P(){}P.prototype=I.prototype,N.F=I.prototype,N.prototype=new P,N.prototype.constructor=N,N.D=function(D,L,H){for(var B=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)B[Q-2]=arguments[Q];return I.prototype[L].apply(D,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,P){P||(P=0);const D=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)D[L]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(L=0;L<16;++L)D[L]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=N.g[0],P=N.g[1],L=N.g[2];let H=N.g[3],B;B=I+(H^P&(L^H))+D[0]+3614090360&4294967295,I=P+(B<<7&4294967295|B>>>25),B=H+(L^I&(P^L))+D[1]+3905402710&4294967295,H=I+(B<<12&4294967295|B>>>20),B=L+(P^H&(I^P))+D[2]+606105819&4294967295,L=H+(B<<17&4294967295|B>>>15),B=P+(I^L&(H^I))+D[3]+3250441966&4294967295,P=L+(B<<22&4294967295|B>>>10),B=I+(H^P&(L^H))+D[4]+4118548399&4294967295,I=P+(B<<7&4294967295|B>>>25),B=H+(L^I&(P^L))+D[5]+1200080426&4294967295,H=I+(B<<12&4294967295|B>>>20),B=L+(P^H&(I^P))+D[6]+2821735955&4294967295,L=H+(B<<17&4294967295|B>>>15),B=P+(I^L&(H^I))+D[7]+4249261313&4294967295,P=L+(B<<22&4294967295|B>>>10),B=I+(H^P&(L^H))+D[8]+1770035416&4294967295,I=P+(B<<7&4294967295|B>>>25),B=H+(L^I&(P^L))+D[9]+2336552879&4294967295,H=I+(B<<12&4294967295|B>>>20),B=L+(P^H&(I^P))+D[10]+4294925233&4294967295,L=H+(B<<17&4294967295|B>>>15),B=P+(I^L&(H^I))+D[11]+2304563134&4294967295,P=L+(B<<22&4294967295|B>>>10),B=I+(H^P&(L^H))+D[12]+1804603682&4294967295,I=P+(B<<7&4294967295|B>>>25),B=H+(L^I&(P^L))+D[13]+4254626195&4294967295,H=I+(B<<12&4294967295|B>>>20),B=L+(P^H&(I^P))+D[14]+2792965006&4294967295,L=H+(B<<17&4294967295|B>>>15),B=P+(I^L&(H^I))+D[15]+1236535329&4294967295,P=L+(B<<22&4294967295|B>>>10),B=I+(L^H&(P^L))+D[1]+4129170786&4294967295,I=P+(B<<5&4294967295|B>>>27),B=H+(P^L&(I^P))+D[6]+3225465664&4294967295,H=I+(B<<9&4294967295|B>>>23),B=L+(I^P&(H^I))+D[11]+643717713&4294967295,L=H+(B<<14&4294967295|B>>>18),B=P+(H^I&(L^H))+D[0]+3921069994&4294967295,P=L+(B<<20&4294967295|B>>>12),B=I+(L^H&(P^L))+D[5]+3593408605&4294967295,I=P+(B<<5&4294967295|B>>>27),B=H+(P^L&(I^P))+D[10]+38016083&4294967295,H=I+(B<<9&4294967295|B>>>23),B=L+(I^P&(H^I))+D[15]+3634488961&4294967295,L=H+(B<<14&4294967295|B>>>18),B=P+(H^I&(L^H))+D[4]+3889429448&4294967295,P=L+(B<<20&4294967295|B>>>12),B=I+(L^H&(P^L))+D[9]+568446438&4294967295,I=P+(B<<5&4294967295|B>>>27),B=H+(P^L&(I^P))+D[14]+3275163606&4294967295,H=I+(B<<9&4294967295|B>>>23),B=L+(I^P&(H^I))+D[3]+4107603335&4294967295,L=H+(B<<14&4294967295|B>>>18),B=P+(H^I&(L^H))+D[8]+1163531501&4294967295,P=L+(B<<20&4294967295|B>>>12),B=I+(L^H&(P^L))+D[13]+2850285829&4294967295,I=P+(B<<5&4294967295|B>>>27),B=H+(P^L&(I^P))+D[2]+4243563512&4294967295,H=I+(B<<9&4294967295|B>>>23),B=L+(I^P&(H^I))+D[7]+1735328473&4294967295,L=H+(B<<14&4294967295|B>>>18),B=P+(H^I&(L^H))+D[12]+2368359562&4294967295,P=L+(B<<20&4294967295|B>>>12),B=I+(P^L^H)+D[5]+4294588738&4294967295,I=P+(B<<4&4294967295|B>>>28),B=H+(I^P^L)+D[8]+2272392833&4294967295,H=I+(B<<11&4294967295|B>>>21),B=L+(H^I^P)+D[11]+1839030562&4294967295,L=H+(B<<16&4294967295|B>>>16),B=P+(L^H^I)+D[14]+4259657740&4294967295,P=L+(B<<23&4294967295|B>>>9),B=I+(P^L^H)+D[1]+2763975236&4294967295,I=P+(B<<4&4294967295|B>>>28),B=H+(I^P^L)+D[4]+1272893353&4294967295,H=I+(B<<11&4294967295|B>>>21),B=L+(H^I^P)+D[7]+4139469664&4294967295,L=H+(B<<16&4294967295|B>>>16),B=P+(L^H^I)+D[10]+3200236656&4294967295,P=L+(B<<23&4294967295|B>>>9),B=I+(P^L^H)+D[13]+681279174&4294967295,I=P+(B<<4&4294967295|B>>>28),B=H+(I^P^L)+D[0]+3936430074&4294967295,H=I+(B<<11&4294967295|B>>>21),B=L+(H^I^P)+D[3]+3572445317&4294967295,L=H+(B<<16&4294967295|B>>>16),B=P+(L^H^I)+D[6]+76029189&4294967295,P=L+(B<<23&4294967295|B>>>9),B=I+(P^L^H)+D[9]+3654602809&4294967295,I=P+(B<<4&4294967295|B>>>28),B=H+(I^P^L)+D[12]+3873151461&4294967295,H=I+(B<<11&4294967295|B>>>21),B=L+(H^I^P)+D[15]+530742520&4294967295,L=H+(B<<16&4294967295|B>>>16),B=P+(L^H^I)+D[2]+3299628645&4294967295,P=L+(B<<23&4294967295|B>>>9),B=I+(L^(P|~H))+D[0]+4096336452&4294967295,I=P+(B<<6&4294967295|B>>>26),B=H+(P^(I|~L))+D[7]+1126891415&4294967295,H=I+(B<<10&4294967295|B>>>22),B=L+(I^(H|~P))+D[14]+2878612391&4294967295,L=H+(B<<15&4294967295|B>>>17),B=P+(H^(L|~I))+D[5]+4237533241&4294967295,P=L+(B<<21&4294967295|B>>>11),B=I+(L^(P|~H))+D[12]+1700485571&4294967295,I=P+(B<<6&4294967295|B>>>26),B=H+(P^(I|~L))+D[3]+2399980690&4294967295,H=I+(B<<10&4294967295|B>>>22),B=L+(I^(H|~P))+D[10]+4293915773&4294967295,L=H+(B<<15&4294967295|B>>>17),B=P+(H^(L|~I))+D[1]+2240044497&4294967295,P=L+(B<<21&4294967295|B>>>11),B=I+(L^(P|~H))+D[8]+1873313359&4294967295,I=P+(B<<6&4294967295|B>>>26),B=H+(P^(I|~L))+D[15]+4264355552&4294967295,H=I+(B<<10&4294967295|B>>>22),B=L+(I^(H|~P))+D[6]+2734768916&4294967295,L=H+(B<<15&4294967295|B>>>17),B=P+(H^(L|~I))+D[13]+1309151649&4294967295,P=L+(B<<21&4294967295|B>>>11),B=I+(L^(P|~H))+D[4]+4149444226&4294967295,I=P+(B<<6&4294967295|B>>>26),B=H+(P^(I|~L))+D[11]+3174756917&4294967295,H=I+(B<<10&4294967295|B>>>22),B=L+(I^(H|~P))+D[2]+718787259&4294967295,L=H+(B<<15&4294967295|B>>>17),B=P+(H^(L|~I))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+H&4294967295}r.prototype.v=function(N,I){I===void 0&&(I=N.length);const P=I-this.blockSize,D=this.C;let L=this.h,H=0;for(;H<I;){if(L==0)for(;H<=P;)s(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<I;)if(D[L++]=N.charCodeAt(H++),L==this.blockSize){s(this,D),L=0;break}}else for(;H<I;)if(D[L++]=N[H++],L==this.blockSize){s(this,D),L=0;break}}this.h=L,this.o+=I},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var P=N.length-8;P<N.length;++P)N[P]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)N[I++]=this.g[P]>>>D&255;return N};function a(N,I){var P=c;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=I(N)}function l(N,I){this.h=I;const P=[];let D=!0;for(let L=N.length-1;L>=0;L--){const H=N[L]|0;D&&H==I||(P[L]=H,D=!1)}this.g=P}var c={};function d(N){return-128<=N&&N<128?a(N,function(I){return new l([I|0],I<0?-1:0)}):new l([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return g;if(N<0)return C(f(-N));const I=[];let P=1;for(let D=0;N>=P;D++)I[D]=N/P|0,P*=4294967296;return new l(I,0)}function p(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return C(p(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=f(Math.pow(I,8));let D=g;for(let H=0;H<N.length;H+=8){var L=Math.min(8,N.length-H);const B=parseInt(N.substring(H,H+L),I);L<8?(L=f(Math.pow(I,L)),D=D.j(L).add(f(B))):(D=D.j(P),D=D.add(f(B)))}return D}var g=d(0),v=d(1),w=d(16777216);n=l.prototype,n.m=function(){if(E(this))return-C(this).m();let N=0,I=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);N+=(D>=0?D:4294967296+D)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(E(this))return"-"+C(this).toString(N);const I=f(Math.pow(N,6));var P=this;let D="";for(;;){const L=F(P,I).g;P=k(P,L.j(I));let H=((P.g.length>0?P.g[0]:P.h)>>>0).toString(N);if(P=L,x(P))return H+D;for(;H.length<6;)H="0"+H;D=H+D}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function E(N){return N.h==-1}n.l=function(N){return N=k(this,N),E(N)?-1:x(N)?0:1};function C(N){const I=N.g.length,P=[];for(let D=0;D<I;D++)P[D]=~N.g[D];return new l(P,~N.h).add(v)}n.abs=function(){return E(this)?C(this):this},n.add=function(N){const I=Math.max(this.g.length,N.g.length),P=[];let D=0;for(let L=0;L<=I;L++){let H=D+(this.i(L)&65535)+(N.i(L)&65535),B=(H>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);D=B>>>16,H&=65535,B&=65535,P[L]=B<<16|H}return new l(P,P[P.length-1]&-2147483648?-1:0)};function k(N,I){return N.add(C(I))}n.j=function(N){if(x(this)||x(N))return g;if(E(this))return E(N)?C(this).j(C(N)):C(C(this).j(N));if(E(N))return C(this.j(C(N)));if(this.l(w)<0&&N.l(w)<0)return f(this.m()*N.m());const I=this.g.length+N.g.length,P=[];for(var D=0;D<2*I;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<N.g.length;L++){const H=this.i(D)>>>16,B=this.i(D)&65535,Q=N.i(L)>>>16,ie=N.i(L)&65535;P[2*D+2*L]+=B*ie,O(P,2*D+2*L),P[2*D+2*L+1]+=H*ie,O(P,2*D+2*L+1),P[2*D+2*L+1]+=B*Q,O(P,2*D+2*L+1),P[2*D+2*L+2]+=H*Q,O(P,2*D+2*L+2)}for(N=0;N<I;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=I;N<2*I;N++)P[N]=0;return new l(P,0)};function O(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function M(N,I){this.g=N,this.h=I}function F(N,I){if(x(I))throw Error("division by zero");if(x(N))return new M(g,g);if(E(N))return I=F(C(N),I),new M(C(I.g),C(I.h));if(E(I))return I=F(N,C(I)),new M(C(I.g),I.h);if(N.g.length>30){if(E(N)||E(I))throw Error("slowDivide_ only works with positive integers.");for(var P=v,D=I;D.l(N)<=0;)P=V(P),D=V(D);var L=z(P,1),H=z(D,1);for(D=z(D,2),P=z(P,2);!x(D);){var B=H.add(D);B.l(N)<=0&&(L=L.add(P),H=B),D=z(D,1),P=z(P,1)}return I=k(N,L.j(I)),new M(L,I)}for(L=g;N.l(I)>=0;){for(P=Math.max(1,Math.floor(N.m()/I.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),H=f(P),B=H.j(I);E(B)||B.l(N)>0;)P-=D,H=f(P),B=H.j(I);x(H)&&(H=v),L=L.add(H),N=k(N,B)}return new M(L,N)}n.B=function(N){return F(this,N).h},n.and=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)&N.i(D);return new l(P,this.h&N.h)},n.or=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)|N.i(D);return new l(P,this.h|N.h)},n.xor=function(N){const I=Math.max(this.g.length,N.g.length),P=[];for(let D=0;D<I;D++)P[D]=this.i(D)^N.i(D);return new l(P,this.h^N.h)};function V(N){const I=N.g.length+1,P=[];for(let D=0;D<I;D++)P[D]=N.i(D)<<1|N.i(D-1)>>>31;return new l(P,N.h)}function z(N,I){const P=I>>5;I%=32;const D=N.g.length-P,L=[];for(let H=0;H<D;H++)L[H]=I>0?N.i(H+P)>>>I|N.i(H+P+1)<<32-I:N.i(H+P);return new l(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,LP=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Nl=l}).apply(typeof yN<"u"?yN:typeof self<"u"?self:typeof window<"u"?window:{});var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var VP,bm,BP,Wy,B0,UP,FP,zP;(function(){var n,e=Object.defineProperty;function t(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof xy=="object"&&xy];for(var T=0;T<y.length;++T){var A=y[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function s(y,T){if(T)e:{var A=r;y=y.split(".");for(var U=0;U<y.length-1;U++){var te=y[U];if(!(te in A))break e;A=A[te]}y=y[y.length-1],U=A[y],T=T(U),T!=U&&T!=null&&e(A,y,{configurable:!0,writable:!0,value:T})}}s("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(y){return y||function(T){var A=[],U;for(U in T)Object.prototype.hasOwnProperty.call(T,U)&&A.push([U,T[U]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(y){var T=typeof y;return T=="object"&&y!=null||T=="function"}function d(y,T,A){return y.call.apply(y.bind,arguments)}function f(y,T,A){return f=d,f.apply(null,arguments)}function p(y,T){var A=Array.prototype.slice.call(arguments,1);return function(){var U=A.slice();return U.push.apply(U,arguments),y.apply(this,U)}}function g(y,T){function A(){}A.prototype=T.prototype,y.Z=T.prototype,y.prototype=new A,y.prototype.constructor=y,y.Ob=function(U,te,oe){for(var Te=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)Te[ft-2]=arguments[ft];return T.prototype[te].apply(U,Te)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function w(y){const T=y.length;if(T>0){const A=Array(T);for(let U=0;U<T;U++)A[U]=y[U];return A}return[]}function x(y,T){for(let U=1;U<arguments.length;U++){const te=arguments[U];var A=typeof te;if(A=A!="object"?A:te?Array.isArray(te)?"array":A:"null",A=="array"||A=="object"&&typeof te.length=="number"){A=y.length||0;const oe=te.length||0;y.length=A+oe;for(let Te=0;Te<oe;Te++)y[A+Te]=te[Te]}else y.push(te)}}class E{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function C(y){l.setTimeout(()=>{throw y},0)}function k(){var y=N;let T=null;return y.g&&(T=y.g,y.g=y.g.next,y.g||(y.h=null),T.next=null),T}class O{constructor(){this.h=this.g=null}add(T,A){const U=M.get();U.set(T,A),this.h?this.h.next=U:this.g=U,this.h=U}}var M=new E(()=>new F,y=>y.reset());class F{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let V,z=!1,N=new O,I=()=>{const y=Promise.resolve(void 0);V=()=>{y.then(P)}};function P(){for(var y;y=k();){try{y.h.call(y.g)}catch(A){C(A)}var T=M;T.j(y),T.h<100&&(T.h++,y.next=T.g,T.g=y)}z=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(y,T){this.type=y,this.g=this.target=T,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var y=!1,T=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const A=()=>{};l.addEventListener("test",A,T),l.removeEventListener("test",A,T)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function Q(y,T){L.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,T)}g(Q,L),Q.prototype.init=function(y,T){const A=this.type=y.type,U=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=T,T=y.relatedTarget,T||(A=="mouseover"?T=y.fromElement:A=="mouseout"&&(T=y.toElement)),this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),$=0;function ee(y,T,A,U,te){this.listener=y,this.proxy=null,this.src=T,this.type=A,this.capture=!!U,this.ha=te,this.key=++$,this.da=this.fa=!1}function q(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function X(y,T,A){for(const U in y)T.call(A,y[U],U,y)}function ge(y,T){for(const A in y)T.call(void 0,y[A],A,y)}function W(y){const T={};for(const A in y)T[A]=y[A];return T}const ae="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(y,T){let A,U;for(let te=1;te<arguments.length;te++){U=arguments[te];for(A in U)y[A]=U[A];for(let oe=0;oe<ae.length;oe++)A=ae[oe],Object.prototype.hasOwnProperty.call(U,A)&&(y[A]=U[A])}}function me(y){this.src=y,this.g={},this.h=0}me.prototype.add=function(y,T,A,U,te){const oe=y.toString();y=this.g[oe],y||(y=this.g[oe]=[],this.h++);const Te=Ve(y,T,U,te);return Te>-1?(T=y[Te],A||(T.fa=!1)):(T=new ee(T,this.src,oe,!!U,te),T.fa=A,y.push(T)),T};function Ie(y,T){const A=T.type;if(A in y.g){var U=y.g[A],te=Array.prototype.indexOf.call(U,T,void 0),oe;(oe=te>=0)&&Array.prototype.splice.call(U,te,1),oe&&(q(T),y.g[A].length==0&&(delete y.g[A],y.h--))}}function Ve(y,T,A,U){for(let te=0;te<y.length;++te){const oe=y[te];if(!oe.da&&oe.listener==T&&oe.capture==!!A&&oe.ha==U)return te}return-1}var ue="closure_lm_"+(Math.random()*1e6|0),He={};function ve(y,T,A,U,te){if(Array.isArray(T)){for(let oe=0;oe<T.length;oe++)ve(y,T[oe],A,U,te);return null}return A=Xr(A),y&&y[ie]?y.J(T,A,c(U)?!!U.capture:!1,te):Ge(y,T,A,!1,U,te)}function Ge(y,T,A,U,te,oe){if(!T)throw Error("Invalid event type");const Te=c(te)?!!te.capture:!!te;let ft=rr(y);if(ft||(y[ue]=ft=new me(y)),A=ft.add(T,A,U,Te,oe),A.proxy)return A;if(U=st(),A.proxy=U,U.src=y,U.listener=A,y.addEventListener)H||(te=Te),te===void 0&&(te=!1),y.addEventListener(T.toString(),U,te);else if(y.attachEvent)y.attachEvent(hn(T.toString()),U);else if(y.addListener&&y.removeListener)y.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return A}function st(){function y(A){return T.call(y.src,y.listener,A)}const T=hr;return y}function ot(y,T,A,U,te){if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)ot(y,T[oe],A,U,te);else U=c(U)?!!U.capture:!!U,A=Xr(A),y&&y[ie]?(y=y.i,oe=String(T).toString(),oe in y.g&&(T=y.g[oe],A=Ve(T,A,U,te),A>-1&&(q(T[A]),Array.prototype.splice.call(T,A,1),T.length==0&&(delete y.g[oe],y.h--)))):y&&(y=rr(y))&&(T=y.g[T.toString()],y=-1,T&&(y=Ve(T,A,U,te)),(A=y>-1?T[y]:null)&&dn(A))}function dn(y){if(typeof y!="number"&&y&&!y.da){var T=y.src;if(T&&T[ie])Ie(T.i,y);else{var A=y.type,U=y.proxy;T.removeEventListener?T.removeEventListener(A,U,y.capture):T.detachEvent?T.detachEvent(hn(A),U):T.addListener&&T.removeListener&&T.removeListener(U),(A=rr(T))?(Ie(A,y),A.h==0&&(A.src=null,T[ue]=null)):q(y)}}}function hn(y){return y in He?He[y]:He[y]="on"+y}function hr(y,T){if(y.da)y=!0;else{T=new Q(T,this);const A=y.listener,U=y.ha||y.src;y.fa&&dn(y),y=A.call(U,T)}return y}function rr(y){return y=y[ue],y instanceof me?y:null}var jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Xr(y){return typeof y=="function"?y:(y[jn]||(y[jn]=function(T){return y.handleEvent(T)}),y[jn])}function kt(){D.call(this),this.i=new me(this),this.M=this,this.G=null}g(kt,D),kt.prototype[ie]=!0,kt.prototype.removeEventListener=function(y,T,A,U){ot(this,y,T,A,U)};function _n(y,T){var A,U=y.G;if(U)for(A=[];U;U=U.G)A.push(U);if(y=y.M,U=T.type||T,typeof T=="string")T=new L(T,y);else if(T instanceof L)T.target=T.target||y;else{var te=T;T=new L(U,y),he(T,te)}te=!0;let oe,Te;if(A)for(Te=A.length-1;Te>=0;Te--)oe=T.g=A[Te],te=Es(oe,U,!0,T)&&te;if(oe=T.g=y,te=Es(oe,U,!0,T)&&te,te=Es(oe,U,!1,T)&&te,A)for(Te=0;Te<A.length;Te++)oe=T.g=A[Te],te=Es(oe,U,!1,T)&&te}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var y=this.i;for(const T in y.g){const A=y.g[T];for(let U=0;U<A.length;U++)q(A[U]);delete y.g[T],y.h--}}this.G=null},kt.prototype.J=function(y,T,A,U){return this.i.add(String(y),T,!1,A,U)},kt.prototype.K=function(y,T,A,U){return this.i.add(String(y),T,!0,A,U)};function Es(y,T,A,U){if(T=y.i.g[String(T)],!T)return!0;T=T.concat();let te=!0;for(let oe=0;oe<T.length;++oe){const Te=T[oe];if(Te&&!Te.da&&Te.capture==A){const ft=Te.listener,Dn=Te.ha||Te.src;Te.fa&&Ie(y.i,Te),te=ft.call(Dn,U)!==!1&&te}}return te&&!U.defaultPrevented}function bo(y,T){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(y,T||0)}function Ia(y){y.g=bo(()=>{y.g=null,y.i&&(y.i=!1,Ia(y))},y.l);const T=y.h;y.h=null,y.m.apply(null,T)}class kn extends D{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(y){D.call(this),this.h=y,this.g={}}g(Zr,D);var Bt=[];function En(y){X(y.g,function(T,A){this.g.hasOwnProperty(A)&&dn(T)},y),y.g={}}Zr.prototype.N=function(){Zr.Z.N.call(this),En(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=l.JSON.stringify,wo=l.JSON.parse,Bu=class{stringify(y){return l.JSON.stringify(y,void 0)}parse(y){return l.JSON.parse(y,void 0)}};function Uu(){}function Fu(){}var es={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qn(){L.call(this,"d")}g(Qn,L);function Vr(){L.call(this,"c")}g(Vr,L);var bn={},ec=null;function xo(){return ec=ec||new kt}bn.Ia="serverreachability";function tc(y){L.call(this,bn.Ia,y)}g(tc,L);function Ze(y){const T=xo();_n(T,new tc(T))}bn.STAT_EVENT="statevent";function vt(y,T){L.call(this,bn.STAT_EVENT,y),this.stat=T}g(vt,L);function Oe(y){const T=xo();_n(T,new vt(T,y))}bn.Ja="timingevent";function ht(y,T){L.call(this,bn.Ja,y),this.size=T}g(ht,L);function gn(y,T){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){y()},T)}function it(){this.g=!0}it.prototype.ua=function(){this.g=!1};function tf(y,T,A,U,te,oe){y.info(function(){if(y.g)if(oe){var Te="",ft=oe.split("&");for(let qt=0;qt<ft.length;qt++){var Dn=ft[qt].split("=");if(Dn.length>1){const yn=Dn[0];Dn=Dn[1];const Ns=yn.split("_");Te=Ns.length>=2&&Ns[1]=="type"?Te+(yn+"="+Dn+"&"):Te+(yn+"=redacted&")}}}else Te=null;else Te=oe;return"XMLHTTP REQ ("+U+") [attempt "+te+"]: "+T+`
`+A+`
`+Te})}function zu(y,T,A,U,te,oe,Te){y.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+te+"]: "+T+`
`+A+`
`+oe+" "+Te})}function Ts(y,T,A,U){y.info(function(){return"XMLHTTP TEXT ("+T+"): "+nc(y,A)+(U?" "+U:"")})}function Js(y,T){y.info(function(){return"TIMEOUT: "+T})}it.prototype.info=function(){};function nc(y,T){if(!y.g)return T;if(!T)return null;try{const oe=JSON.parse(T);if(oe){for(y=0;y<oe.length;y++)if(Array.isArray(oe[y])){var A=oe[y];if(!(A.length<2)){var U=A[1];if(Array.isArray(U)&&!(U.length<1)){var te=U[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Te=1;Te<U.length;Te++)U[Te]=""}}}}return Tn(oe)}catch{return T}}var rc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},nf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},rf;function sc(){}g(sc,Uu),sc.prototype.g=function(){return new XMLHttpRequest},rf=new sc;function ka(y){return encodeURIComponent(String(y))}function Yp(y){var T=1;y=y.split(":");const A=[];for(;T>0&&y.length;)A.push(y.shift()),T--;return y.length&&A.push(y.join(":")),A}function Xs(y,T,A,U){this.j=y,this.i=T,this.l=A,this.S=U||1,this.V=new Zr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zs}function Zs(){this.i=null,this.g="",this.h=!1}var Ln={},sr={};function ji(y,T,A){y.M=1,y.A=ic(Bn(T)),y.u=A,y.R=!0,qu(y,null)}function qu(y,T){y.F=Date.now(),Li(y),y.B=Bn(y.A);var A=y.B,U=y.S;Array.isArray(U)||(U=[String(U)]),Gu(A.i,"t",U),y.C=0,A=y.j.L,y.h=new Zs,y.g=cg(y.j,A?T:null,!y.u),y.P>0&&(y.O=new kn(f(y.Y,y,y.g),y.P)),T=y.V,A=y.g,U=y.ba;var te="readystatechange";Array.isArray(te)||(te&&(Bt[0]=te.toString()),te=Bt);for(let oe=0;oe<te.length;oe++){const Te=ve(A,te[oe],U||T.handleEvent,!1,T.h||T);if(!Te)break;T.g[Te.key]=Te}T=y.J?W(y.J):{},y.u?(y.v||(y.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,T)):(y.v="GET",y.g.ea(y.B,y.v,null,T)),Ze(),tf(y.i,y.v,y.B,y.l,y.S,y.u)}Xs.prototype.ba=function(y){y=y.target;const T=this.O;T&&ni(y)==3?T.j():this.Y(y)},Xs.prototype.Y=function(y){try{if(y==this.g)e:{const ft=ni(this.g),Dn=this.g.ya(),qt=this.g.ca();if(!(ft<3)&&(ft!=3||this.g&&(this.h.h||this.g.la()||fr(this.g)))){this.K||ft!=4||Dn==7||(Dn==8||qt<=0?Ze(3):Ze(2)),Vi(this);var T=this.g.ca();this.X=T;var A=ab(this);if(this.o=T==200,zu(this.i,this.v,this.B,this.l,this.S,ft,T),this.o){if(this.U&&!this.L){t:{if(this.g){var U,te=this.g;if((U=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(U)){var oe=U;break t}}oe=null}if(y=oe)Ts(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,y);else{this.o=!1,this.m=3,Oe(12),ts(this),Cs(this);break e}}if(this.R){y=!0;let yn;for(;!this.K&&this.C<A.length;)if(yn=Qp(this,A),yn==sr){ft==4&&(this.m=4,Oe(14),y=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Ln){this.m=4,Oe(15),Ts(this.i,this.l,A,"[Invalid Chunk]"),y=!1;break}else Ts(this.i,this.l,yn,null),Bi(this,yn);if(Kp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||A.length!=0||this.h.h||(this.m=1,Oe(16),y=!1),this.o=this.o&&y,!y)Ts(this.i,this.l,A,"[Invalid Chunked Response]"),ts(this),Cs(this);else if(A.length>0&&!this.W){this.W=!0;var Te=this.j;Te.g==this&&Te.aa&&!Te.P&&(Te.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),_f(Te),Te.P=!0,Oe(11))}}else Ts(this.i,this.l,A,null),Bi(this,A);ft==4&&ts(this),this.o&&!this.K&&(ft==4?ig(this.j,this):(this.o=!1,Li(this)))}else Pa(this.g),T==400&&A.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),ts(this),Cs(this)}}}catch{}finally{}};function ab(y){if(!Kp(y))return y.g.la();const T=fr(y.g);if(T==="")return"";let A="";const U=T.length,te=ni(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ts(y),Cs(y),"";y.h.i=new l.TextDecoder}for(let oe=0;oe<U;oe++)y.h.h=!0,A+=y.h.i.decode(T[oe],{stream:!(te&&oe==U-1)});return T.length=0,y.h.g+=A,y.C=0,y.h.g}function Kp(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Qp(y,T){var A=y.C,U=T.indexOf(`
`,A);return U==-1?sr:(A=Number(T.substring(A,U)),isNaN(A)?Ln:(U+=1,U+A>T.length?sr:(T=T.slice(U,U+A),y.C=U+A,T)))}Xs.prototype.cancel=function(){this.K=!0,ts(this)};function Li(y){y.T=Date.now()+y.H,Hu(y,y.H)}function Hu(y,T){if(y.D!=null)throw Error("WatchDog timer not null");y.D=gn(f(y.aa,y),T)}function Vi(y){y.D&&(l.clearTimeout(y.D),y.D=null)}Xs.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Js(this.i,this.B),this.M!=2&&(Ze(),Oe(17)),ts(this),this.m=2,Cs(this)):Hu(this,this.T-y)};function Cs(y){y.j.I==0||y.K||ig(y.j,y)}function ts(y){Vi(y);var T=y.O;T&&typeof T.dispose=="function"&&T.dispose(),y.O=null,En(y.V),y.g&&(T=y.g,y.g=null,T.abort(),T.dispose())}function Bi(y,T){try{var A=y.j;if(A.I!=0&&(A.g==y||Fi(A.h,y))){if(!y.L&&Fi(A.h,y)&&A.I==3){try{var U=A.Ba.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var te=U;if(te[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<y.F)Xu(A),Io(A);else break e;hc(A),Oe(18)}}else A.xa=te[1],0<A.xa-A.K&&te[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=gn(f(A.Va,A),6e3));Ui(A.h)<=1&&A.ta&&(A.ta=void 0)}else Gi(A,11)}else if((y.L||A.g==y)&&Xu(A),!B(T))for(te=A.Ba.g.parse(T),T=0;T<te.length;T++){let qt=te[T];const yn=qt[0];if(!(yn<=A.K))if(A.K=yn,qt=qt[1],A.I==2)if(qt[0]=="c"){A.M=qt[1],A.ba=qt[2];const Ns=qt[3];Ns!=null&&(A.ka=Ns,A.j.info("VER="+A.ka));const Yi=qt[4];Yi!=null&&(A.za=Yi,A.j.info("SVER="+A.za));const ri=qt[5];ri!=null&&typeof ri=="number"&&ri>0&&(U=1.5*ri,A.O=U,A.j.info("backChannelRequestTimeoutMs_="+U)),U=A;const si=y.g;if(si){const fc=si.g?si.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fc){var oe=U.h;oe.g||fc.indexOf("spdy")==-1&&fc.indexOf("quic")==-1&&fc.indexOf("h2")==-1||(oe.j=oe.l,oe.g=new Set,oe.h&&(of(oe,oe.h),oe.h=null))}if(U.G){const Zu=si.g?si.g.getResponseHeader("X-HTTP-Session-Id"):null;Zu&&(U.wa=Zu,Yt(U.J,U.G,Zu))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-y.F,A.j.info("Handshake RTT: "+A.T+"ms")),U=A;var Te=y;if(U.na=lg(U,U.L?U.ba:null,U.W),Te.L){lf(U.h,Te);var ft=Te,Dn=U.O;Dn&&(ft.H=Dn),ft.D&&(Vi(ft),Li(ft)),U.g=Te}else rg(U);A.i.length>0&&$i(A)}else qt[0]!="stop"&&qt[0]!="close"||Gi(A,7);else A.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Gi(A,7):yf(A):qt[0]!="noop"&&A.l&&A.l.qa(qt),A.A=0)}}Ze(4)}catch{}}var Vn=class{constructor(y,T){this.g=y,this.map=T}};function sf(y){this.l=y||10,l.PerformanceNavigationTiming?(y=l.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function af(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Ui(y){return y.h?1:y.g?y.g.size:0}function Fi(y,T){return y.h?y.h==T:y.g?y.g.has(T):!1}function of(y,T){y.g?y.g.add(T):y.h=T}function lf(y,T){y.h&&y.h==T?y.h=null:y.g&&y.g.has(T)&&y.g.delete(T)}sf.prototype.cancel=function(){if(this.i=cf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function cf(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let T=y.i;for(const A of y.g.values())T=T.concat(A.G);return T}return w(y.i)}var Jp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wu(y,T){if(y){y=y.split("&");for(let A=0;A<y.length;A++){const U=y[A].indexOf("=");let te,oe=null;U>=0?(te=y[A].substring(0,U),oe=y[A].substring(U+1)):te=y[A],T(te,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function ns(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;y instanceof ns?(this.l=y.l,ir(this,y.j),this.o=y.o,this.g=y.g,So(this,y.u),this.h=y.h,uf(this,tg(y.i)),this.m=y.m):y&&(T=String(y).match(Jp))?(this.l=!1,ir(this,T[1]||"",!0),this.o=zi(T[2]||""),this.g=zi(T[3]||"",!0),So(this,T[4]),this.h=zi(T[5]||"",!0),uf(this,T[6]||"",!0),this.m=zi(T[7]||"")):(this.l=!1,this.i=new To(null,this.l))}ns.prototype.toString=function(){const y=[];var T=this.j;T&&y.push(ac(T,$u,!0),":");var A=this.g;return(A||T=="file")&&(y.push("//"),(T=this.o)&&y.push(ac(T,$u,!0),"@"),y.push(ka(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&y.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&y.push("/"),y.push(ac(A,A.charAt(0)=="/"?df:Xp,!0))),(A=this.i.toString())&&y.push("?",A),(A=this.m)&&y.push("#",ac(A,Zp)),y.join("")},ns.prototype.resolve=function(y){const T=Bn(this);let A=!!y.j;A?ir(T,y.j):A=!!y.o,A?T.o=y.o:A=!!y.g,A?T.g=y.g:A=y.u!=null;var U=y.h;if(A)So(T,y.u);else if(A=!!y.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var te=T.h.lastIndexOf("/");te!=-1&&(U=T.h.slice(0,te+1)+U)}if(te=U,te==".."||te==".")U="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){U=te.lastIndexOf("/",0)==0,te=te.split("/");const oe=[];for(let Te=0;Te<te.length;){const ft=te[Te++];ft=="."?U&&Te==te.length&&oe.push(""):ft==".."?((oe.length>1||oe.length==1&&oe[0]!="")&&oe.pop(),U&&Te==te.length&&oe.push("")):(oe.push(ft),U=!0)}U=oe.join("/")}else U=te}return A?T.h=U:A=y.i.toString()!=="",A?uf(T,tg(y.i)):A=!!y.m,A&&(T.m=y.m),T};function Bn(y){return new ns(y)}function ir(y,T,A){y.j=A?zi(T,!0):T,y.j&&(y.j=y.j.replace(/:$/,""))}function So(y,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);y.u=T}else y.u=null}function uf(y,T,A){T instanceof To?(y.i=T,Yu(y.i,y.l)):(A||(T=ac(T,Eo)),y.i=new To(T,y.l))}function Yt(y,T,A){y.i.set(T,A)}function ic(y){return Yt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function zi(y,T){return y?T?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function ac(y,T,A){return typeof y=="string"?(y=encodeURI(y).replace(T,Br),A&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Br(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var $u=/[#\/\?@]/g,Xp=/[#\?:]/g,df=/[#\?]/g,Eo=/[#\?@]/g,Zp=/#/g;function To(y,T){this.h=this.g=null,this.i=y||null,this.j=!!T}function Ur(y){y.g||(y.g=new Map,y.h=0,y.i&&Wu(y.i,function(T,A){y.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}n=To.prototype,n.add=function(y,T){Ur(this),this.i=null,y=Co(this,y);let A=this.g.get(y);return A||this.g.set(y,A=[]),A.push(T),this.h+=1,this};function eg(y,T){Ur(y),T=Co(y,T),y.g.has(T)&&(y.i=null,y.h-=y.g.get(T).length,y.g.delete(T))}function hf(y,T){return Ur(y),T=Co(y,T),y.g.has(T)}n.forEach=function(y,T){Ur(this),this.g.forEach(function(A,U){A.forEach(function(te){y.call(T,te,U,this)},this)},this)};function ff(y,T){Ur(y);let A=[];if(typeof T=="string")hf(y,T)&&(A=A.concat(y.g.get(Co(y,T))));else for(y=Array.from(y.g.values()),T=0;T<y.length;T++)A=A.concat(y[T]);return A}n.set=function(y,T){return Ur(this),this.i=null,y=Co(this,y),hf(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[T]),this.h+=1,this},n.get=function(y,T){return y?(y=ff(this,y),y.length>0?String(y[0]):T):T};function Gu(y,T,A){eg(y,T),A.length>0&&(y.i=null,y.g.set(Co(y,T),w(A)),y.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],T=Array.from(this.g.keys());for(let U=0;U<T.length;U++){var A=T[U];const te=ka(A);A=ff(this,A);for(let oe=0;oe<A.length;oe++){let Te=te;A[oe]!==""&&(Te+="="+ka(A[oe])),y.push(Te)}}return this.i=y.join("&")};function tg(y){const T=new To;return T.i=y.i,y.g&&(T.g=new Map(y.g),T.h=y.h),T}function Co(y,T){return T=String(T),y.j&&(T=T.toLowerCase()),T}function Yu(y,T){T&&!y.j&&(Ur(y),y.i=null,y.g.forEach(function(A,U){const te=U.toLowerCase();U!=te&&(eg(this,U),Gu(this,te,A))},y)),y.j=T}function ei(y,T){const A=new it;if(l.Image){const U=new Image;U.onload=p(Rs,A,"TestLoadImage: loaded",!0,T,U),U.onerror=p(Rs,A,"TestLoadImage: error",!1,T,U),U.onabort=p(Rs,A,"TestLoadImage: abort",!1,T,U),U.ontimeout=p(Rs,A,"TestLoadImage: timeout",!1,T,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=y}else T(!1)}function mf(y,T){const A=new it,U=new AbortController,te=setTimeout(()=>{U.abort(),Rs(A,"TestPingServer: timeout",!1,T)},1e4);fetch(y,{signal:U.signal}).then(oe=>{clearTimeout(te),oe.ok?Rs(A,"TestPingServer: ok",!0,T):Rs(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),Rs(A,"TestPingServer: error",!1,T)})}function Rs(y,T,A,U,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),U(A)}catch{}}function Ro(){this.g=new Bu}function qi(y){this.i=y.Sb||null,this.h=y.ab||!1}g(qi,Uu),qi.prototype.g=function(){return new oc(this.i,this.h)};function oc(y,T){kt.call(this),this.H=y,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(oc,kt),n=oc.prototype,n.open=function(y,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=T,this.readyState=1,ti(this)},n.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(T.body=y),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ao(this)),this.readyState=0},n.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ku(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ku(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}n.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var T=y.value?y.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!y.done}))&&(this.response=this.responseText+=T)}y.done?Ao(this):ti(this),this.readyState==3&&Ku(this)}},n.Oa=function(y){this.g&&(this.response=this.responseText=y,Ao(this))},n.Na=function(y){this.g&&(this.response=y,Ao(this))},n.ga=function(){this.g&&Ao(this)};function Ao(y){y.readyState=4,y.l=null,y.j=null,y.B=null,ti(y)}n.setRequestHeader=function(y,T){this.A.append(y,T)},n.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,y.push(A[0]+": "+A[1]),A=T.next();return y.join(`\r
`)};function ti(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function As(y){let T="";return X(y,function(A,U){T+=U,T+=":",T+=A,T+=`\r
`}),T}function lc(y,T,A){e:{for(U in A){var U=!1;break e}U=!0}U||(A=As(A),typeof y=="string"?A!=null&&ka(A):Yt(y,T,A))}function tn(y){kt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(tn,kt);var Hi=/^https?$/i,pf=["POST","PUT"];n=tn.prototype,n.Fa=function(y){this.H=y},n.ea=function(y,T,A,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);T=T?T.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():rf.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(y),!0),this.B=!1}catch(oe){cc(this,oe);return}if(y=A||"",A=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var te in U)A.set(te,U[te]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const oe of U.keys())A.set(oe,U.get(oe));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(A.keys()).find(oe=>oe.toLowerCase()=="content-type"),te=l.FormData&&y instanceof l.FormData,!(Array.prototype.indexOf.call(pf,T,void 0)>=0)||U||te||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[oe,Te]of A)this.g.setRequestHeader(oe,Te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(oe){cc(this,oe)}};function cc(y,T){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=T,y.o=5,gf(y),Da(y)}function gf(y){y.A||(y.A=!0,_n(y,"complete"),_n(y,"error"))}n.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,_n(this,"complete"),_n(this,"abort"),Da(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),tn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?uc(this):this.Xa())},n.Xa=function(){uc(this)};function uc(y){if(y.h&&typeof a<"u"){if(y.v&&ni(y)==4)setTimeout(y.Ca.bind(y),0);else if(_n(y,"readystatechange"),ni(y)==4){y.h=!1;try{const oe=y.ca();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var U;if(U=oe===0){let Te=String(y.D).match(Jp)[1]||null;!Te&&l.self&&l.self.location&&(Te=l.self.location.protocol.slice(0,-1)),U=!Hi.test(Te?Te.toLowerCase():"")}A=U}if(A)_n(y,"complete"),_n(y,"success");else{y.o=6;try{var te=ni(y)>2?y.g.statusText:""}catch{te=""}y.l=te+" ["+y.ca()+"]",gf(y)}}finally{Da(y)}}}}function Da(y,T){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const A=y.g;y.g=null,T||_n(y,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ni(y){return y.g?y.g.readyState:0}n.ca=function(){try{return ni(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(y){if(this.g){var T=this.g.responseText;return y&&T.indexOf(y)==0&&(T=T.substring(y.length)),wo(T)}};function fr(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Pa(y){const T={};y=(y.g&&ni(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<y.length;U++){if(B(y[U]))continue;var A=Yp(y[U]);const te=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const oe=T[te]||[];T[te]=oe,oe.push(A)}ge(T,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wi(y,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[y]||T}function No(y){this.za=0,this.i=[],this.j=new it,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wi("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wi("baseRetryDelayMs",5e3,y),this.Za=Wi("retryDelaySeedMs",1e4,y),this.Ta=Wi("forwardChannelMaxRetries",2,y),this.va=Wi("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new sf(y&&y.concurrentRequestLimit),this.Ba=new Ro,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=No.prototype,n.ka=8,n.I=1,n.connect=function(y,T,A,U){Oe(0),this.W=y,this.H=T||{},A&&U!==void 0&&(this.H.OSID=A,this.H.OAID=U),this.F=this.X,this.J=lg(this,null,this.W),$i(this)};function yf(y){if(Qu(y),y.I==3){var T=y.V++,A=Bn(y.J);if(Yt(A,"SID",y.M),Yt(A,"RID",T),Yt(A,"TYPE","terminate"),dc(y,A),T=new Xs(y,y.j,T),T.M=2,T.A=ic(Bn(A)),A=!1,l.navigator&&l.navigator.sendBeacon)try{A=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!A&&l.Image&&(new Image().src=T.A,A=!0),A||(T.g=cg(T.j,null),T.g.ea(T.A)),T.F=Date.now(),Li(T)}og(y)}function Io(y){y.g&&(_f(y),y.g.cancel(),y.g=null)}function Qu(y){Io(y),y.v&&(l.clearTimeout(y.v),y.v=null),Xu(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&l.clearTimeout(y.m),y.m=null)}function $i(y){if(!af(y.h)&&!y.m){y.m=!0;var T=y.Ea;V||I(),z||(V(),z=!0),N.add(T,y),y.D=0}}function Ju(y,T){return Ui(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=T.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=gn(f(y.Ea,y,T),ag(y,y.D)),y.D++,!0)}n.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const te=new Xs(this,this.j,y);let oe=this.o;if(this.U&&(oe?(oe=W(oe),he(oe,this.U)):oe=this.U),this.u!==null||this.R||(te.J=oe,oe=null),this.S)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var U=this.i[A];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,T>4096){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=ng(this,te,T),A=Bn(this.J),Yt(A,"RID",y),Yt(A,"CVER",22),this.G&&Yt(A,"X-HTTP-Session-Id",this.G),dc(this,A),oe&&(this.R?T="headers="+ka(As(oe))+"&"+T:this.u&&lc(A,this.u,oe)),of(this.h,te),this.Ra&&Yt(A,"TYPE","init"),this.S?(Yt(A,"$req",T),Yt(A,"SID","null"),te.U=!0,ji(te,A,null)):ji(te,A,T),this.I=2}}else this.I==3&&(y?vf(this,y):this.i.length==0||af(this.h)||vf(this))};function vf(y,T){var A;T?A=T.l:A=y.V++;const U=Bn(y.J);Yt(U,"SID",y.M),Yt(U,"RID",A),Yt(U,"AID",y.K),dc(y,U),y.u&&y.o&&lc(U,y.u,y.o),A=new Xs(y,y.j,A,y.D+1),y.u===null&&(A.J=y.o),T&&(y.i=T.G.concat(y.i)),T=ng(y,A,1e3),A.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),of(y.h,A),ji(A,U,T)}function dc(y,T){y.H&&X(y.H,function(A,U){Yt(T,U,A)}),y.l&&X({},function(A,U){Yt(T,U,A)})}function ng(y,T,A){A=Math.min(y.i.length,A);const U=y.l?f(y.l.Ka,y.l,y):null;e:{var te=y.i;let ft=-1;for(;;){const Dn=["count="+A];ft==-1?A>0?(ft=te[0].g,Dn.push("ofs="+ft)):ft=0:Dn.push("ofs="+ft);let qt=!0;for(let yn=0;yn<A;yn++){var oe=te[yn].g;const Ns=te[yn].map;if(oe-=ft,oe<0)ft=Math.max(0,te[yn].g-100),qt=!1;else try{oe="req"+oe+"_"||"";try{var Te=Ns instanceof Map?Ns:Object.entries(Ns);for(const[Yi,ri]of Te){let si=ri;c(ri)&&(si=Tn(ri)),Dn.push(oe+Yi+"="+encodeURIComponent(si))}}catch(Yi){throw Dn.push(oe+"type="+encodeURIComponent("_badmap")),Yi}}catch{U&&U(Ns)}}if(qt){Te=Dn.join("&");break e}}Te=void 0}return y=y.i.splice(0,A),T.G=y,Te}function rg(y){if(!y.g&&!y.v){y.Y=1;var T=y.Da;V||I(),z||(V(),z=!0),N.add(T,y),y.A=0}}function hc(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=gn(f(y.Da,y),ag(y,y.A)),y.A++,!0)}n.Da=function(){if(this.v=null,sg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=gn(f(this.Wa,this),y)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Io(this),sg(this))};function _f(y){y.B!=null&&(l.clearTimeout(y.B),y.B=null)}function sg(y){y.g=new Xs(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var T=Bn(y.na);Yt(T,"RID","rpc"),Yt(T,"SID",y.M),Yt(T,"AID",y.K),Yt(T,"CI",y.F?"0":"1"),!y.F&&y.ia&&Yt(T,"TO",y.ia),Yt(T,"TYPE","xmlhttp"),dc(y,T),y.u&&y.o&&lc(T,y.u,y.o),y.O&&(y.g.H=y.O);var A=y.g;y=y.ba,A.M=1,A.A=ic(Bn(T)),A.u=null,A.R=!0,qu(A,y)}n.Va=function(){this.C!=null&&(this.C=null,Io(this),hc(this),Oe(19))};function Xu(y){y.C!=null&&(l.clearTimeout(y.C),y.C=null)}function ig(y,T){var A=null;if(y.g==T){Xu(y),_f(y),y.g=null;var U=2}else if(Fi(y.h,T))A=T.G,lf(y.h,T),U=1;else return;if(y.I!=0){if(T.o)if(U==1){A=T.u?T.u.length:0,T=Date.now()-T.F;var te=y.D;U=xo(),_n(U,new ht(U,A)),$i(y)}else rg(y);else if(te=T.m,te==3||te==0&&T.X>0||!(U==1&&Ju(y,T)||U==2&&hc(y)))switch(A&&A.length>0&&(T=y.h,T.i=T.i.concat(A)),te){case 1:Gi(y,5);break;case 4:Gi(y,10);break;case 3:Gi(y,6);break;default:Gi(y,2)}}}function ag(y,T){let A=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(A*=2),A*T}function Gi(y,T){if(y.j.info("Error code "+T),T==2){var A=f(y.bb,y),U=y.Ua;const te=!U;U=new ns(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ir(U,"https"),ic(U),te?ei(U.toString(),A):mf(U.toString(),A)}else Oe(2);y.I=0,y.l&&y.l.pa(T),og(y),Qu(y)}n.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function og(y){if(y.I=0,y.ja=[],y.l){const T=cf(y.h);(T.length!=0||y.i.length!=0)&&(x(y.ja,T),x(y.ja,y.i),y.h.i.length=0,w(y.i),y.i.length=0),y.l.oa()}}function lg(y,T,A){var U=A instanceof ns?Bn(A):new ns(A);if(U.g!="")T&&(U.g=T+"."+U.g),So(U,U.u);else{var te=l.location;U=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;const oe=new ns(null);U&&ir(oe,U),T&&(oe.g=T),te&&So(oe,te),A&&(oe.h=A),U=oe}return A=y.G,T=y.wa,A&&T&&Yt(U,A,T),Yt(U,"VER",y.ka),dc(y,U),U}function cg(y,T,A){if(T&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=y.Aa&&!y.ma?new tn(new qi({ab:A})):new tn(y.ma),T.Fa(y.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}n=ug.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ko(){}ko.prototype.g=function(y,T){return new Dr(y,T)};function Dr(y,T){kt.call(this),this.g=new No(T),this.l=y,this.h=T&&T.messageUrlParams||null,y=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(y?y["X-WebChannel-Content-Type"]=T.messageContentType:y={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(y?y["X-WebChannel-Client-Profile"]=T.sa:y={"X-WebChannel-Client-Profile":T.sa}),this.g.U=y,(y=T&&T.Qb)&&!B(y)&&(this.g.u=y),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,y=this.h,y!==null&&T in y&&(y=this.h,T in y&&delete y[T])),this.j=new Oa(this)}g(Dr,kt),Dr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dr.prototype.close=function(){yf(this.g)},Dr.prototype.o=function(y){var T=this.g;if(typeof y=="string"){var A={};A.__data__=y,y=A}else this.v&&(A={},A.__data__=Tn(y),y=A);T.i.push(new Vn(T.Ya++,y)),T.I==3&&$i(T)},Dr.prototype.N=function(){this.g.l=null,delete this.j,yf(this.g),delete this.g,Dr.Z.N.call(this)};function dg(y){Qn.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var T=y.__sm__;if(T){e:{for(const A in T){y=A;break e}y=void 0}(this.i=y)&&(y=this.i,T=T!==null&&y in T?T[y]:void 0),this.data=T}else this.data=y}g(dg,Qn);function hg(){Vr.call(this),this.status=1}g(hg,Vr);function Oa(y){this.g=y}g(Oa,ug),Oa.prototype.ra=function(){_n(this.g,"a")},Oa.prototype.qa=function(y){_n(this.g,new dg(y))},Oa.prototype.pa=function(y){_n(this.g,new hg)},Oa.prototype.oa=function(){_n(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,Dr.prototype.send=Dr.prototype.o,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,zP=function(){return new ko},FP=function(){return xo()},UP=bn,B0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,Wy=rc,nf.COMPLETE="complete",BP=nf,Fu.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",kt.prototype.listen=kt.prototype.J,bm=Fu,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,VP=tn}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Cr.UNAUTHENTICATED=new Cr(null),Cr.GOOGLE_CREDENTIALS=new Cr("google-credentials-uid"),Cr.FIRST_PARTY=new Cr("first-party-uid"),Cr.MOCK_USER=new Cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh="12.9.0";function oz(n){qh=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new HS("@firebase/firestore");function Vd(){return vu.logLevel}function Le(n,...e){if(vu.logLevel<=Rt.DEBUG){const t=e.map(r1);vu.debug(`Firestore (${qh}): ${n}`,...t)}}function mo(n,...e){if(vu.logLevel<=Rt.ERROR){const t=e.map(r1);vu.error(`Firestore (${qh}): ${n}`,...t)}}function _u(n,...e){if(vu.logLevel<=Rt.WARN){const t=e.map(r1);vu.warn(`Firestore (${qh}): ${n}`,...t)}}function r1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qP(n,r,t)}function qP(n,e,t){let r=`FIRESTORE (${qh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mo(r),new Error(r)}function Lt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||qP(e,s,r)}function at(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends _o{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Cr.UNAUTHENTICATED)))}shutdown(){}}class cz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class uz{constructor(e){this.t=e,this.currentUser=Cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Lt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let a=new ca;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ca,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ca)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string",31837,{l:r}),new HP(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Cr(e)}}class dz{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Cr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hz{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new dz(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Cr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fz{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Lt(this.o===void 0,3512);const r=a=>{a.error!=null&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Le("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Lt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new vN(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mz(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function At(n,e){return n<e?-1:n>e?1:0}function U0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return Ax(s)===Ax(a)?At(s,a):Ax(s)?1:-1}return At(n.length,e.length)}const pz=55296,gz=57343;function Ax(n){const e=n.charCodeAt(0);return e>=pz&&e<=gz}function bh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="__name__";class ea{constructor(e,t,r){t===void 0?t=0:t>e.length&&Xe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Xe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=ea.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return At(e.length,t.length)}static compareSegments(e,t){const r=ea.isNumericId(e),s=ea.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?ea.extractNumericId(e).compare(ea.extractNumericId(t)):U0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nl.fromString(e.substring(4,e.length-2))}}class on extends ea{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new on(t)}static emptyPath(){return new on([])}}const yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _r extends ea{construct(e,t,r){return new _r(e,t,r)}static isValidIdentifier(e){return yz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_r.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_N}static keyField(){return new _r([_N])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ae(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new Ae(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _r(t)}static emptyPath(){return new _r([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(on.fromString(e))}static fromName(e){return new Qe(on.fromString(e).popFirst(5))}static empty(){return new Qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(n,e,t){if(!t)throw new Ae(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vz(n,e,t,r){if(e===!0&&r===!0)throw new Ae(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bN(n){if(!Qe.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wN(n){if(Qe.isDocumentKey(n))throw new Ae(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $P(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function h_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Xe(12329,{type:typeof n})}function Ti(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=h_(n);throw new Ae(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cp(n,e){if(!$P(n))throw new Ae(de.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(s&&typeof l!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ae(de.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=-62135596800,SN=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*SN);return new pn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xN)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SN}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cp(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:Gn("string",pn._jsonSchemaVersion),seconds:Gn("number"),nanoseconds:Gn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{static fromTimestamp(e){return new tt(e)}static min(){return new tt(new pn(0,0))}static max(){return new tt(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=-1;function _z(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=tt.fromTimestamp(r===1e9?new pn(t+1,0):new pn(t,r));return new Ol(s,Qe.empty(),e)}function bz(n){return new Ol(n.readTime,n.key,Wm)}class Ol{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ol(tt.min(),Qe.empty(),Wm)}static max(){return new Ol(tt.max(),Qe.empty(),Wm)}}function wz(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Qe.comparator(n.documentKey,e.documentKey),t!==0?t:At(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==xz)throw n;Le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,r)=>{t(e)}))}static reject(e){return new ye(((t,r)=>{r(e)}))}static waitFor(e){return new ye(((t,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&t()}),(d=>r(d)))})),l=!0,a===s&&t()}))}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next((s=>s?ye.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new ye(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const f=d;t(e[f]).next((p=>{l[f]=p,++c,c===a&&r(l)}),(p=>s(p)))}}))}static doWhile(e,t){return new ye(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function Ez(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}f_.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=-1;function Rp(n){return n==null}function vv(n){return n===0&&1/n==-1/0}function Tz(n){return typeof n=="number"&&Number.isInteger(n)&&!vv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="";function Cz(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=EN(e)),e=Rz(n.get(t),e);return EN(e)}function Rz(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case GP:t+="";break;default:t+=a}}return t}function EN(n){return n+GP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Kl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function YP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,t){this.comparator=e,this.root=t||vr.EMPTY}insert(e,t){return new Sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sy(this.root,e,this.comparator,!0)}}class Sy{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??vr.RED,this.left=s??vr.EMPTY,this.right=a??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new vr(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return vr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Xe(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe(57766)}get value(){throw Xe(16141)}get color(){throw Xe(16727)}get left(){throw Xe(29726)}get right(){throw Xe(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CN(this.data.getIterator())}getIteratorFrom(e){return new CN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof tr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new tr(this.comparator);return t.data=e,t}}class CN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.fields=e,e.sort(_r.comparator)}static empty(){return new ys([])}unionWith(e){let t=new tr(_r.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ys(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new KP("Invalid base64 string: "+a):a}})(e);return new wr(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new wr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const Az=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ml(n){if(Lt(!!n,39018),typeof n=="string"){let e=0;const t=Az.exec(n);if(Lt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(n.seconds),nanos:Mn(n.nanos)}}function Mn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jl(n){return typeof n=="string"?wr.fromBase64String(n):wr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="server_timestamp",JP="__type__",XP="__previous_value__",ZP="__local_write_time__";function a1(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[JP])==null?void 0:r.stringValue)===QP}function m_(n){const e=n.mapValue.fields[XP];return a1(e)?m_(e):e}function $m(n){const e=Ml(n.mapValue.fields[ZP].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,t,r,s,a,l,c,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p,this.apiKey=g}}const _v="(default)";class Gm{constructor(e,t){this.projectId=e,this.database=t||_v}static empty(){return new Gm("","")}get isDefaultDatabase(){return this.database===_v}isEqual(e){return e instanceof Gm&&e.projectId===this.projectId&&e.database===this.database}}function Iz(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ae(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gm(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="__type__",kz="__max__",Ey={mapValue:{}},tO="__vector__",bv="value";function Ll(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?a1(n)?4:Pz(n)?9007199254740991:Dz(n)?10:11:Xe(28295,{value:n})}function ga(n,e){if(n===e)return!0;const t=Ll(n);if(t!==Ll(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $m(n).isEqual($m(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ml(s.timestampValue),c=Ml(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return jl(s.bytesValue).isEqual(jl(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return Mn(s.geoPointValue.latitude)===Mn(a.geoPointValue.latitude)&&Mn(s.geoPointValue.longitude)===Mn(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return Mn(s.integerValue)===Mn(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Mn(s.doubleValue),c=Mn(a.doubleValue);return l===c?vv(l)===vv(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return bh(n.arrayValue.values||[],e.arrayValue.values||[],ga);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(TN(l)!==TN(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ga(l[d],c[d])))return!1;return!0})(n,e);default:return Xe(52216,{left:n})}}function Ym(n,e){return(n.values||[]).find((t=>ga(t,e)))!==void 0}function wh(n,e){if(n===e)return 0;const t=Ll(n),r=Ll(e);if(t!==r)return At(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Mn(a.integerValue||a.doubleValue),d=Mn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(n,e);case 3:return RN(n.timestampValue,e.timestampValue);case 4:return RN($m(n),$m(e));case 5:return U0(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=jl(a),d=jl(l);return c.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=At(c[f],d[f]);if(p!==0)return p}return At(c.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=At(Mn(a.latitude),Mn(l.latitude));return c!==0?c:At(Mn(a.longitude),Mn(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return AN(n.arrayValue,e.arrayValue);case 10:return(function(a,l){var v,w,x,E;const c=a.fields||{},d=l.fields||{},f=(v=c[bv])==null?void 0:v.arrayValue,p=(w=d[bv])==null?void 0:w.arrayValue,g=At(((x=f==null?void 0:f.values)==null?void 0:x.length)||0,((E=p==null?void 0:p.values)==null?void 0:E.length)||0);return g!==0?g:AN(f,p)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ey.mapValue&&l===Ey.mapValue)return 0;if(a===Ey.mapValue)return 1;if(l===Ey.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let g=0;g<d.length&&g<p.length;++g){const v=U0(d[g],p[g]);if(v!==0)return v;const w=wh(c[d[g]],f[p[g]]);if(w!==0)return w}return At(d.length,p.length)})(n.mapValue,e.mapValue);default:throw Xe(23264,{he:t})}}function RN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return At(n,e);const t=Ml(n),r=Ml(e),s=At(t.seconds,r.seconds);return s!==0?s:At(t.nanos,r.nanos)}function AN(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=wh(t[s],r[s]);if(a)return a}return At(t.length,r.length)}function xh(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ml(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return jl(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Qe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=F0(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${F0(t.fields[l])}`;return s+"}"})(n.mapValue):Xe(61005,{value:n})}function $y(n){switch(Ll(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=m_(n);return e?16+$y(e):16;case 5:return 2*n.stringValue.length;case 6:return jl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+$y(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Kl(r.fields,((a,l)=>{s+=a.length+$y(l)})),s})(n.mapValue);default:throw Xe(13486,{value:n})}}function NN(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function z0(n){return!!n&&"integerValue"in n}function o1(n){return!!n&&"arrayValue"in n}function IN(n){return!!n&&"nullValue"in n}function kN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gy(n){return!!n&&"mapValue"in n}function Dz(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[eO])==null?void 0:r.stringValue)===tO}function Pm(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Kl(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Pm(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pm(n.arrayValue.values[t]);return e}return{...n}}function Pz(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kz}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pm(t)}setAll(e){let t=_r.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Pm(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());Gy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Gy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Kl(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new jr(Pm(this.value))}}function nO(n){const e=[];return Kl(n.fields,((t,r)=>{const s=new _r([t]);if(Gy(r)){const a=nO(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)})),new ys(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new cr(e,0,tt.min(),tt.min(),tt.min(),jr.empty(),0)}static newFoundDocument(e,t,r,s){return new cr(e,1,t,tt.min(),r,s,0)}static newNoDocument(e,t){return new cr(e,2,t,tt.min(),tt.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,tt.min(),tt.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,t){this.position=e,this.inclusive=t}}function DN(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Qe.comparator(Qe.fromName(l.referenceValue),t.key):r=wh(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function PN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ga(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,t="asc"){this.field=e,this.dir=t}}function Oz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class $n extends rO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jz(e,t,r):t==="array-contains"?new Bz(e,r):t==="in"?new Uz(e,r):t==="not-in"?new Fz(e,r):t==="array-contains-any"?new zz(e,r):new $n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Lz(e,r):new Vz(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(wh(t,this.value)):t!==null&&Ll(this.value)===Ll(t)&&this.matchesComparison(wh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends rO{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return sO(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sO(n){return n.op==="and"}function iO(n){return Mz(n)&&sO(n)}function Mz(n){for(const e of n.filters)if(e instanceof Ci)return!1;return!0}function q0(n){if(n instanceof $n)return n.field.canonicalString()+n.op.toString()+xh(n.value);if(iO(n))return n.filters.map((e=>q0(e))).join(",");{const e=n.filters.map((t=>q0(t))).join(",");return`${n.op}(${e})`}}function aO(n,e){return n instanceof $n?(function(r,s){return s instanceof $n&&r.op===s.op&&r.field.isEqual(s.field)&&ga(r.value,s.value)})(n,e):n instanceof Ci?(function(r,s){return s instanceof Ci&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&aO(l,s.filters[c])),!0):!1})(n,e):void Xe(19439)}function oO(n){return n instanceof $n?(function(t){return`${t.field.canonicalString()} ${t.op} ${xh(t.value)}`})(n):n instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(oO).join(" ,")+"}"})(n):"Filter"}class jz extends $n{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Lz extends $n{constructor(e,t){super(e,"in",t),this.keys=lO("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Vz extends $n{constructor(e,t){super(e,"not-in",t),this.keys=lO("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lO(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Qe.fromName(r.referenceValue)))}class Bz extends $n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return o1(t)&&Ym(t.arrayValue,this.value)}}class Uz extends $n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ym(this.value.arrayValue,t)}}class Fz extends $n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ym(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ym(this.value.arrayValue,t)}}class zz extends $n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!o1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ym(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function ON(n,e=null,t=[],r=[],s=null,a=null,l=null){return new qz(n,e,t,r,s,a,l)}function l1(n){const e=at(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>q0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>xh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>xh(r))).join(",")),e.Te=t}return e.Te}function c1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Oz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PN(n.startAt,e.startAt)&&PN(n.endAt,e.endAt)}function H0(n){return Qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Hz(n,e,t,r,s,a,l,c){return new $h(n,e,t,r,s,a,l,c)}function u1(n){return new $h(n)}function MN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Wz(n){return Qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function cO(n){return n.collectionGroup!==null}function Om(n){const e=at(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new tr(_r.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Km(a,r))})),t.has(_r.keyField().canonicalString())||e.Ie.push(new Km(_r.keyField(),r))}return e.Ie}function ua(n){const e=at(n);return e.Ee||(e.Ee=$z(e,Om(n))),e.Ee}function $z(n,e){if(n.limitType==="F")return ON(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Km(s.field,a)}));const t=n.endAt?new wv(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wv(n.startAt.position,n.startAt.inclusive):null;return ON(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function W0(n,e){const t=n.filters.concat([e]);return new $h(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Gz(n,e){const t=n.explicitOrderBy.concat([e]);return new $h(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function $0(n,e,t){return new $h(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function p_(n,e){return c1(ua(n),ua(e))&&n.limitType===e.limitType}function uO(n){return`${l1(ua(n))}|lt:${n.limitType}`}function Bd(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>oO(s))).join(", ")}]`),Rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>xh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>xh(s))).join(",")),`Target(${r})`})(ua(n))}; limitType=${n.limitType})`}function g_(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Qe.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Om(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const f=DN(l,c,d);return l.inclusive?f<=0:f<0})(r.startAt,Om(r),s)||r.endAt&&!(function(l,c,d){const f=DN(l,c,d);return l.inclusive?f>=0:f>0})(r.endAt,Om(r),s))})(n,e)}function Yz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function dO(n){return(e,t)=>{let r=!1;for(const s of Om(n)){const a=Kz(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function Kz(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):(function(a,l,c){const d=l.data.field(a),f=c.data.field(a);return d!==null&&f!==null?wh(d,f):Xe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Kl(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return YP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Sn(Qe.comparator);function po(){return Qz}const hO=new Sn(Qe.comparator);function wm(...n){let e=hO;for(const t of n)e=e.insert(t.key,t);return e}function fO(n){let e=hO;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Qc(){return Mm()}function mO(){return Mm()}function Mm(){return new Du((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Jz=new Sn(Qe.comparator),Xz=new tr(Qe.comparator);function Nt(...n){let e=Xz;for(const t of n)e=e.add(t);return e}const Zz=new tr(At);function eq(){return Zz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(e)?"-0":e}}function pO(n){return{integerValue:""+n}}function tq(n,e){return Tz(e)?pO(e):d1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this._=void 0}}function nq(n,e,t){return n instanceof xv?(function(s,a){const l={fields:{[JP]:{stringValue:QP},[ZP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&a1(a)&&(a=m_(a)),a&&(l.fields[XP]=a),{mapValue:l}})(t,e):n instanceof Qm?yO(n,e):n instanceof Jm?vO(n,e):(function(s,a){const l=gO(s,a),c=jN(l)+jN(s.Ae);return z0(l)&&z0(s.Ae)?pO(c):d1(s.serializer,c)})(n,e)}function rq(n,e,t){return n instanceof Qm?yO(n,e):n instanceof Jm?vO(n,e):t}function gO(n,e){return n instanceof Sv?(function(r){return z0(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class xv extends y_{}class Qm extends y_{constructor(e){super(),this.elements=e}}function yO(n,e){const t=_O(e);for(const r of n.elements)t.some((s=>ga(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Jm extends y_{constructor(e){super(),this.elements=e}}function vO(n,e){let t=_O(e);for(const r of n.elements)t=t.filter((s=>!ga(s,r)));return{arrayValue:{values:t}}}class Sv extends y_{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jN(n){return Mn(n.integerValue||n.doubleValue)}function _O(n){return o1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function sq(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Qm&&s instanceof Qm||r instanceof Jm&&s instanceof Jm?bh(r.elements,s.elements,ga):r instanceof Sv&&s instanceof Sv?ga(r.Ae,s.Ae):r instanceof xv&&s instanceof xv})(n.transform,e.transform)}class iq{constructor(e,t){this.version=e,this.transformResults=t}}class Ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yy(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class v_{}function bO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new __(n.key,Ar.none()):new Ap(n.key,n.data,Ar.none());{const t=n.data,r=jr.empty();let s=new tr(_r.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new Ql(n.key,r,new ys(s.toArray()),Ar.none())}}function aq(n,e,t){n instanceof Ap?(function(s,a,l){const c=s.value.clone(),d=VN(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Ql?(function(s,a,l){if(!Yy(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=VN(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(wO(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,e,t):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function jm(n,e,t,r){return n instanceof Ap?(function(a,l,c,d){if(!Yy(a.precondition,l))return c;const f=a.value.clone(),p=BN(a.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Ql?(function(a,l,c,d){if(!Yy(a.precondition,l))return c;const f=BN(a.fieldTransforms,d,l),p=l.data;return p.setAll(wO(a)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((g=>g.field)))})(n,e,t,r):(function(a,l,c){return Yy(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function oq(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=gO(r.transform,s||null);a!=null&&(t===null&&(t=jr.empty()),t.set(r.field,a))}return t||null}function LN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&bh(r,s,((a,l)=>sq(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ap extends v_{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ql extends v_{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wO(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function VN(n,e,t){const r=new Map;Lt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,rq(l,c,t[s]))}return r}function BN(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,nq(a,l,e))}return r}class __ extends v_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xO extends v_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&aq(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mO();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const d=bO(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(tt.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Nt())}isEqual(e){return this.batchId===e.batchId&&bh(this.mutations,e.mutations,((t,r)=>LN(t,r)))&&bh(this.baseMutations,e.baseMutations,((t,r)=>LN(t,r)))}}class h1{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Jz})();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new h1(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cq=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,Ot;function SO(n){switch(n){case de.OK:return Xe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Xe(15467,{code:n})}}function EO(n){if(n===void 0)return mo("GRPC error has no .code"),de.UNKNOWN;switch(n){case Hn.OK:return de.OK;case Hn.CANCELLED:return de.CANCELLED;case Hn.UNKNOWN:return de.UNKNOWN;case Hn.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Hn.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Hn.INTERNAL:return de.INTERNAL;case Hn.UNAVAILABLE:return de.UNAVAILABLE;case Hn.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Hn.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Hn.NOT_FOUND:return de.NOT_FOUND;case Hn.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Hn.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Hn.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Hn.ABORTED:return de.ABORTED;case Hn.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Hn.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Hn.DATA_LOSS:return de.DATA_LOSS;default:return Xe(39323,{code:n})}}(Ot=Hn||(Hn={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=new Nl([4294967295,4294967295],0);function UN(n){const e=dq().encode(n),t=new LP;return t.update(e),new Uint8Array(t.digest())}function FN(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Nl([t,r],0),new Nl([s,a],0)]}class f1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xm(`Invalid padding: ${t}`);if(r<0)throw new xm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xm(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xm(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Nl.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Nl.fromNumber(r)));return s.compare(hq)===1&&(s=new Nl([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=UN(e),[r,s]=FN(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new f1(a,s,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=UN(e),[r,s]=FN(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Np.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new b_(tt.min(),s,new Sn(At),po(),Nt())}}class Np{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Np(r,t,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class TO{constructor(e,t){this.targetId=e,this.Ce=t}}class CO{constructor(e,t,r=wr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class zN{constructor(){this.ve=0,this.Fe=qN(),this.Me=wr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),t=Nt(),r=Nt();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Xe(38017,{changeType:a})}})),new Np(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=qN()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class fq{constructor(e){this.Ge=e,this.ze=new Map,this.je=po(),this.He=Ty(),this.Je=Ty(),this.Ze=new Sn(At)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Xe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(H0(a))if(r===0){const l=new Qe(a.path);this.et(t,l,cr.newNoDocument(l,tt.min()))}else Lt(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=jl(r).toUint8Array()}catch(d){if(d instanceof KP)return _u("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new f1(l,s,a)}catch(d){return _u(d instanceof xm?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&H0(c.target)){const d=new Qe(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,cr.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=Nt();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new b_(e,t,this.Ze,this.je,r);return this.je=po(),this.He=Ty(),this.Je=Ty(),this.Ze=new Sn(At),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new zN,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new tr(At),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new tr(At),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zN),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ty(){return new Sn(Qe.comparator)}function qN(){return new Sn(Qe.comparator)}const mq={asc:"ASCENDING",desc:"DESCENDING"},pq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gq={and:"AND",or:"OR"};class yq{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G0(n,e){return n.useProto3Json||Rp(e)?e:{value:e}}function Ev(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vq(n,e){return Ev(n,e.toTimestamp())}function _s(n){return Lt(!!n,49232),tt.fromTimestamp((function(t){const r=Ml(t);return new pn(r.seconds,r.nanos)})(n))}function m1(n,e){return Y0(n,e).canonicalString()}function Y0(n,e){const t=(function(s){return new on(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function AO(n){const e=on.fromString(n);return Lt(OO(e),10190,{key:e.toString()}),e}function Tv(n,e){return m1(n.databaseId,e.path)}function Lm(n,e){const t=AO(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(IO(t))}function NO(n,e){return m1(n.databaseId,e)}function _q(n){const e=AO(n);return e.length===4?on.emptyPath():IO(e)}function K0(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IO(n){return Lt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HN(n,e,t){return{name:Tv(n,e),fields:t.value.mapValue.fields}}function bq(n,e){return"found"in e?(function(r,s){Lt(!!s.found,43571),s.found.name,s.found.updateTime;const a=Lm(r,s.found.name),l=_s(s.found.updateTime),c=s.found.createTime?_s(s.found.createTime):tt.min(),d=new jr({mapValue:{fields:s.found.fields}});return cr.newFoundDocument(a,l,c,d)})(n,e):"missing"in e?(function(r,s){Lt(!!s.missing,3894),Lt(!!s.readTime,22933);const a=Lm(r,s.missing),l=_s(s.readTime);return cr.newNoDocument(a,l)})(n,e):Xe(7234,{result:e})}function wq(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(f,p){return f.useProto3Json?(Lt(p===void 0||typeof p=="string",58123),wr.fromBase64String(p||"")):(Lt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),wr.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const p=f.code===void 0?de.UNKNOWN:EO(f.code);return new Ae(p,f.message||"")})(l);t=new CO(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lm(n,r.document.name),a=_s(r.document.updateTime),l=r.document.createTime?_s(r.document.createTime):tt.min(),c=new jr({mapValue:{fields:r.document.fields}}),d=cr.newFoundDocument(s,a,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];t=new Ky(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lm(n,r.document),a=r.readTime?_s(r.readTime):tt.min(),l=cr.newNoDocument(s,a),c=r.removedTargetIds||[];t=new Ky([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lm(n,r.document),a=r.removedTargetIds||[];t=new Ky([],a,s,null)}else{if(!("filter"in e))return Xe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new uq(s,a),c=r.targetId;t=new TO(c,l)}}return t}function kO(n,e){let t;if(e instanceof Ap)t={update:HN(n,e.key,e.value)};else if(e instanceof __)t={delete:Tv(n,e.key)};else if(e instanceof Ql)t={update:HN(n,e.key,e.data),updateMask:Iq(e.fieldMask)};else{if(!(e instanceof xO))return Xe(16599,{dt:e.type});t={verify:Tv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof xv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qm)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jm)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Sv)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Xe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:vq(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Xe(27497)})(n,e.precondition)),t}function xq(n,e){return n&&n.length>0?(Lt(e!==void 0,14353),n.map((t=>(function(s,a){let l=s.updateTime?_s(s.updateTime):_s(a);return l.isEqual(tt.min())&&(l=_s(a)),new iq(l,s.transformResults||[])})(t,e)))):[]}function Sq(n,e){return{documents:[NO(n,e.path)]}}function Eq(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NO(n,s);const a=(function(f){if(f.length!==0)return PO(Ci.create(f,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(f){if(f.length!==0)return f.map((p=>(function(v){return{field:Ud(v.field),direction:Rq(v.dir)}})(p)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=G0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function Tq(n){let e=_q(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Lt(r===1,65062);const p=t.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let a=[];t.where&&(a=(function(g){const v=DO(g);return v instanceof Ci&&iO(v)?v.getFilters():[v]})(t.where));let l=[];t.orderBy&&(l=(function(g){return g.map((v=>(function(x){return new Km(Fd(x.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v)))})(t.orderBy));let c=null;t.limit&&(c=(function(g){let v;return v=typeof g=="object"?g.value:g,Rp(v)?null:v})(t.limit));let d=null;t.startAt&&(d=(function(g){const v=!!g.before,w=g.values||[];return new wv(w,v)})(t.startAt));let f=null;return t.endAt&&(f=(function(g){const v=!g.before,w=g.values||[];return new wv(w,v)})(t.endAt)),Hz(e,s,l,a,c,"F",d,f)}function Cq(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Xe(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function DO(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Fd(t.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fd(t.unaryFilter.field);return $n.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fd(t.unaryFilter.field);return $n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fd(t.unaryFilter.field);return $n.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Xe(61313);default:return Xe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return $n.create(Fd(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Xe(58110);default:return Xe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((r=>DO(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Xe(1026)}})(t.compositeFilter.op))})(n):Xe(30097,{filter:n})}function Rq(n){return mq[n]}function Aq(n){return pq[n]}function Nq(n){return gq[n]}function Ud(n){return{fieldPath:n.canonicalString()}}function Fd(n){return _r.fromServerFormat(n.fieldPath)}function PO(n){return n instanceof $n?(function(t){if(t.op==="=="){if(kN(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NAN"}};if(IN(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kN(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NAN"}};if(IN(t.value))return{unaryFilter:{field:Ud(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ud(t.field),op:Aq(t.op),value:t.value}}})(n):n instanceof Ci?(function(t){const r=t.getFilters().map((s=>PO(s)));return r.length===1?r[0]:{compositeFilter:{op:Nq(t.op),filters:r}}})(n):Xe(54877,{filter:n})}function Iq(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function MO(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,r,s,a=tt.min(),l=tt.min(),c=wr.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.yt=e}}function Dq(n){const e=Tq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{constructor(){this.Sn=new Oq}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(Ol.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(Ol.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class Oq{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new tr(on.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new tr(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jO=41943040;class Kr{static withCacheSize(e){return new Kr(e,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr.DEFAULT_COLLECTION_PERCENTILE=10,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kr.DEFAULT=new Kr(jO,Kr.DEFAULT_COLLECTION_PERCENTILE,Kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kr.DISABLED=new Kr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Sh(0)}static ar(){return new Sh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="LruGarbageCollector",Mq=1048576;function GN([n,e],[t,r]){const s=At(n,t);return s===0?At(e,r):s}class jq{constructor(e){this.Pr=e,this.buffer=new tr(GN),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();GN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lq{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Le($N,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wh(t)?Le($N,"Ignoring IndexedDB error during garbage collection: ",t):await Hh(t)}await this.Ar(3e5)}))}}class Vq{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(f_.ce);const r=new jq(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(WN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WN):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,a,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s)))).next((g=>(r=g,c=Date.now(),this.removeTargets(e,r,t)))).next((g=>(a=g,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),Vd()<=Rt.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${g} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:g}))))}}function Bq(n,e){return new Vq(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(){this.changes=new Du((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&jm(r.mutation,s,ys.empty(),pn.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Nt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Nt()){const s=Qc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let l=wm();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Qc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Nt())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,s){let a=po();const l=Mm(),c=(function(){return Mm()})();return t.forEach(((d,f)=>{const p=r.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Ql)?a=a.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),jm(p.mutation,f,p.mutation.getFieldMask(),pn.now())):l.set(f.key,ys.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((f,p)=>l.set(f,p))),t.forEach(((f,p)=>c.set(f,new Fq(p,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Mm();let s=new Sn(((l,c)=>l-c)),a=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const f=t.get(d);if(f===null)return;let p=r.get(d)||ys.empty();p=c.applyToLocalView(f,p),r.set(d,p);const g=(s.get(c.batchId)||Nt()).add(d);s=s.insert(c.batchId,g)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,g=mO();p.forEach((v=>{if(!a.has(v)){const w=bO(t.get(v),r.get(v));w!==null&&g.set(v,w),a=a.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return Wz(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ye.resolve(Qc());let c=Wm,d=a;return l.next((f=>ye.forEach(f,((p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),a.get(p)?ye.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{d=d.insert(p,v)}))))).next((()=>this.populateOverlays(e,f,a))).next((()=>this.computeViews(e,d,f,Nt()))).next((p=>({batchId:c,changes:fO(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next((r=>{let s=wm();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=wm();return this.indexManager.getCollectionParents(e,a).next((c=>ye.forEach(c,(d=>{const f=(function(g,v){return new $h(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((p=>{p.forEach(((g,v)=>{l=l.insert(g,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((l=>{a.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,cr.newInvalidDocument(p)))}));let c=wm();return l.forEach(((d,f)=>{const p=a.get(d);p!==void 0&&jm(p.mutation,f,ys.empty(),pn.now()),g_(t,f)&&(c=c.insert(d,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:_s(s.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:Dq(s.bundledQuery),readTime:_s(s.readTime)}})(t)),ye.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(){this.overlays=new Sn(Qe.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Qc();return ye.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.bt(e,t,a)})),ye.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const s=Qc(),a=t.length+1,l=new Qe(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ye.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new Sn(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let p=a.get(f.largestBatchId);p===null&&(p=Qc(),a=a.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Qc(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>c.set(f,p))),!(c.size()>=s)););return ye.resolve(c)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new cq(t,r));let a=this.Lr.get(t);a===void 0&&(a=Nt(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.kr=new tr(lr.Kr),this.qr=new tr(lr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new lr(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new lr(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Qe(new on([])),r=new lr(t,e),s=new lr(t,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Qe(new on([])),r=new lr(t,e),s=new lr(t,e+1);let a=Nt();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new lr(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class lr{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Qe.comparator(e.key,t.key)||At(e.Hr,t.Hr)}static Ur(e,t){return At(e.Hr,t.Hr)||Qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new tr(lr.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new lq(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Jr=this.Jr.add(new lr(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),a=s<0?0:s;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?i1:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new lr(t,0),s=new lr(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const c=this.Zr(l.Hr);a.push(c)})),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tr(At);return t.forEach((s=>{const a=new lr(s,0),l=new lr(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Qe.isDocumentKey(a)||(a=a.child(""));const l=new lr(new Qe(a),0);let c=new tr(At);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(c=c.add(d.Hr)),!0)}),l),ye.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Lt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(t.mutations,(s=>{const a=new lr(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new lr(t,0),s=this.Jr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.ti=e,this.docs=(function(){return new Sn(Qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=po();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():cr.newInvalidDocument(s))})),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=po();const l=t.path,c=new Qe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||wz(bz(p),r)<=0||(s.has(p.key)||g_(t,p))&&(a=a.insert(p.key,p.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Xe(9500)}ni(e,t){return ye.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Yq(this)}getSize(e){return ye.resolve(this.size)}}class Yq extends Uq{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e){this.persistence=e,this.ri=new Du((t=>l1(t)),c1),this.lastRemoteSnapshotVersion=tt.min(),this.highestTargetId=0,this.ii=0,this.si=new p1,this.targetCount=0,this.oi=Sh._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Sh(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ye.waitFor(a).next((()=>s))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,t){this._i={},this.overlays={},this.ai=new f_(0),this.ui=!1,this.ui=!0,this.ci=new Wq,this.referenceDelegate=e(this),this.li=new Kq(this),this.indexManager=new Pq,this.remoteDocumentCache=(function(s){return new Gq(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new kq(t),this.Pi=new qq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hq,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new $q(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const s=new Qq(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,t){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class Qq extends Sz{constructor(e){super(),this.currentSequenceNumber=e}}class g1{constructor(e){this.persistence=e,this.Ri=new p1,this.Ai=null}static Vi(e){return new g1(e)}get di(){if(this.Ai)return this.Ai;throw Xe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const s=Qe.fromPath(r);return this.mi(e,s).next((a=>{a||t.removeEntry(s,tt.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Cv{constructor(e,t){this.persistence=e,this.fi=new Du((r=>Cz(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Bq(this,t)}static Vi(e,t){return new Cv(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?ye.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,t).next((c=>{c||(r++,a.removeEntry(l,tt.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$y(e.data.value)),t}wr(e,t,r){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return ye.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Nt(),s=Nt();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new y1(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return CB()?8:Ez(Ir())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new Jq;return this.ys(e,t,l).next((c=>{if(a.result=c,this.As)return this.ws(e,t,l,c.size)}))})).next((()=>a.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Vd()<=Rt.DEBUG&&Le("QueryEngine","SDK will not create cache indexes for query:",Bd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(Vd()<=Rt.DEBUG&&Le("QueryEngine","Query:",Bd(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Vd()<=Rt.DEBUG&&Le("QueryEngine","The SDK decides to create cache indexes for query:",Bd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(t))):ye.resolve())}gs(e,t){if(MN(t))return ye.resolve(null);let r=ua(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=$0(t,null,"F"),r=ua(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Nt(...a);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const f=this.bs(t,c);return this.Ss(t,f,l,d.readTime)?this.gs(e,$0(t,null,"F")):this.Ds(e,f,t,d)}))))})))))}ps(e,t,r,s){return MN(t)||s.isEqual(tt.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,s)?ye.resolve(null):(Vd()<=Rt.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bd(t)),this.Ds(e,l,t,_z(s,Wm)).next((c=>c)))}))}bs(e,t){let r=new tr(dO(e));return t.forEach(((s,a)=>{g_(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,t,r){return Vd()<=Rt.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Bd(t)),this.fs.getDocumentsMatchingQuery(e,t,Ol.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="LocalStore",Zq=3e8;class e8{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new Sn(At),this.Fs=new Du((a=>l1(a)),c1),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zq(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function t8(n,e,t,r){return new e8(n,e,t,r)}async function VO(n,e){const t=at(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=Nt();for(const f of s){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of a){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return t.localDocuments.getDocuments(r,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function n8(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,d,f,p){const g=f.batch,v=g.keys();let w=ye.resolve();return v.forEach((x=>{w=w.next((()=>p.getEntry(d,x))).next((E=>{const C=f.docVersions.get(x);Lt(C!==null,48541),E.version.compareTo(C)<0&&(g.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),p.addEntry(E)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(d,g)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Nt();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function BO(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function r8(n,e){const t=at(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const c=[];e.targetChanges.forEach(((p,g)=>{const v=s.get(g);if(!v)return;c.push(t.li.removeMatchingKeys(a,p.removedDocuments,g).next((()=>t.li.addMatchingKeys(a,p.addedDocuments,g))));let w=v.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(wr.EMPTY_BYTE_STRING,tt.min()).withLastLimboFreeSnapshotVersion(tt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),s=s.insert(g,w),(function(E,C,k){return E.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=Zq?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(v,w,p)&&c.push(t.li.updateTargetData(a,w))}));let d=po(),f=Nt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,p))})),c.push(s8(a,l,e.documentUpdates).next((p=>{d=p.Bs,f=p.Ls}))),!r.isEqual(tt.min())){const p=t.li.getLastRemoteSnapshotVersion(a).next((g=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(p)}return ye.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,d,f))).next((()=>d))})).then((a=>(t.vs=s,a)))}function s8(n,e,t){let r=Nt(),s=Nt();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=po();return t.forEach(((c,d)=>{const f=a.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(tt.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Le(v1,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)})),{Bs:l,Ls:s}}))}function i8(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=i1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function a8(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((a=>a?(s=a,ye.resolve(s)):t.li.allocateTargetId(r).next((l=>(s=new xl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Q0(n,e,t){const r=at(n),s=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Wh(l))throw l;Le(v1,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function YN(n,e,t){const r=at(n);let s=tt.min(),a=Nt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const g=at(d),v=g.Fs.get(p);return v!==void 0?ye.resolve(g.vs.get(v)):g.li.getTargetData(f,p)})(r,l,ua(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?s:tt.min(),t?a:Nt()))).next((c=>(o8(r,Yz(e),c),{documents:c,ks:a})))))}function o8(n,e,t){let r=n.Ms.get(e)||tt.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class KN{constructor(){this.activeTargetIds=eq()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l8{constructor(){this.vo=new KN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new KN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="ConnectivityMonitor";class JN{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Le(QN,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Le(QN,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy=null;function J0(){return Cy===null?Cy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cy++,"0x"+Cy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="RestConnection",u8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class d8{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===_v?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,a){const l=J0(),c=this.Qo(e,t.toUriEncodedString());Le(Nx,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,a);const{host:f}=new URL(c),p=Uh(f);return this.zo(e,c,d,r,p).then((g=>(Le(Nx,`Received RPC '${e}' ${l}: `,g),g)),(g=>{throw _u(Nx,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",r),g}))}jo(e,t,r,s,a,l){return this.Wo(e,t,r,s,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+qh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,t){const r=u8[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="WebChannelConnection",cm=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Qd extends d8{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Qd.c_){const e=FP();cm(e,UP.STAT_EVENT,(t=>{t.stat===B0.PROXY?Le(Er,"STAT_EVENT: detected buffering proxy"):t.stat===B0.NOPROXY&&Le(Er,"STAT_EVENT: detected no buffering proxy")})),Qd.c_=!0}}zo(e,t,r,s,a){const l=J0();return new Promise(((c,d)=>{const f=new VP;f.setWithCredentials(!0),f.listenOnce(BP.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Wy.NO_ERROR:const g=f.getResponseJson();Le(Er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case Wy.TIMEOUT:Le(Er,`RPC '${e}' ${l} timed out`),d(new Ae(de.DEADLINE_EXCEEDED,"Request time out"));break;case Wy.HTTP_ERROR:const v=f.getStatus();if(Le(Er,`RPC '${e}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const E=(function(k){const O=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(O)>=0?O:de.UNKNOWN})(x.status);d(new Ae(E,x.message))}else d(new Ae(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ae(de.UNAVAILABLE,"Connection failed."));break;default:Xe(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Le(Er,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(s);Le(Er,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",p,r,15)}))}T_(e,t,r){const s=J0(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const f=a.join("");Le(Er,`Creating RPC '${e}' stream ${s}: ${f}`,c);const p=l.createWebChannel(f,c);this.I_(p);let g=!1,v=!1;const w=new h8({Ho:x=>{v?Le(Er,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(g||(Le(Er,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),Le(Er,`RPC '${e}' stream ${s} sending:`,x),p.send(x))},Jo:()=>p.close()});return cm(p,bm.EventType.OPEN,(()=>{v||(Le(Er,`RPC '${e}' stream ${s} transport opened.`),w.i_())})),cm(p,bm.EventType.CLOSE,(()=>{v||(v=!0,Le(Er,`RPC '${e}' stream ${s} transport closed`),w.o_(),this.E_(p))})),cm(p,bm.EventType.ERROR,(x=>{v||(v=!0,_u(Er,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),w.o_(new Ae(de.UNAVAILABLE,"The operation could not be completed")))})),cm(p,bm.EventType.MESSAGE,(x=>{var E;if(!v){const C=x.data[0];Lt(!!C,16349);const k=C,O=(k==null?void 0:k.error)||((E=k[0])==null?void 0:E.error);if(O){Le(Er,`RPC '${e}' stream ${s} received error:`,O);const M=O.status;let F=(function(N){const I=Hn[N];if(I!==void 0)return EO(I)})(M),V=O.message;M==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&_u(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),F===void 0&&(F=de.INTERNAL,V="Unknown error status: "+M+" with message "+O.message),v=!0,w.o_(new Ae(F,V)),p.close()}else Le(Er,`RPC '${e}' stream ${s} received:`,C),w.__(C)}})),Qd.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return zP()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(n){return new Qd(n)}function Ix(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n){return new yq(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qd.c_=!1;class _1{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="PersistentStream";class UO{constructor(e,t,r,s,a,l,c,d){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(mo(t.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new Ae(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Le(XN,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Le(XN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class m8 extends UO{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wq(this.serializer,e),r=(function(a){if(!("targetChange"in a))return tt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?tt.min():l.readTime?_s(l.readTime):tt.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=K0(this.serializer),t.addTarget=(function(a,l){let c;const d=l.target;if(c=H0(d)?{documents:Sq(a,d)}:{query:Eq(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=RO(a,l.resumeToken);const f=G0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(tt.min())>0){c.readTime=Ev(a,l.snapshotVersion.toTimestamp());const f=G0(a,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=Cq(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=K0(this.serializer),t.removeTarget=e,this.K_(t)}}class p8 extends UO{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xq(e.writeResults,e.commitTime),r=_s(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=K0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>kO(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{}class y8 extends g8{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Y0(t,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ae(de.UNKNOWN,a.toString())}))}jo(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,Y0(t,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(de.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function v8(n,e,t,r){return new y8(n,e,t,r)}class _8{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mo(t),this.aa=!1):Le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu="RemoteStore";class b8{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Pu(this)&&(Le(bu,"Restarting streams for network reachability change."),await(async function(d){const f=at(d);f.Ea.add(4),await Ip(f),f.Va.set("Unknown"),f.Ea.delete(4),await x_(f)})(this))}))})),this.Va=new _8(r,s)}}async function x_(n){if(Pu(n))for(const e of n.Ra)await e(!0)}async function Ip(n){for(const e of n.Ra)await e(!1)}function FO(n,e){const t=at(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),S1(t)?x1(t):Gh(t).O_()&&w1(t,e))}function b1(n,e){const t=at(n),r=Gh(t);t.Ia.delete(e),r.O_()&&zO(t,e),t.Ia.size===0&&(r.O_()?r.L_():Pu(t)&&t.Va.set("Unknown"))}function w1(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(tt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gh(n).Z_(e)}function zO(n,e){n.da.$e(e),Gh(n).X_(e)}function x1(n){n.da=new fq({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Gh(n).start(),n.Va.ua()}function S1(n){return Pu(n)&&!Gh(n).x_()&&n.Ia.size>0}function Pu(n){return at(n).Ea.size===0}function qO(n){n.da=void 0}async function w8(n){n.Va.set("Online")}async function x8(n){n.Ia.forEach(((e,t)=>{w1(n,e)}))}async function S8(n,e){qO(n),S1(n)?(n.Va.ha(e),x1(n)):n.Va.set("Unknown")}async function E8(n,e,t){if(n.Va.set("Online"),e instanceof CO&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.da.removeTarget(c))})(n,e)}catch(r){Le(bu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rv(n,r)}else if(e instanceof Ky?n.da.Xe(e):e instanceof TO?n.da.st(e):n.da.tt(e),!t.isEqual(tt.min()))try{const r=await BO(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.da.Tt(l);return c.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=a.Ia.get(f);p&&a.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,f)=>{const p=a.Ia.get(d);if(!p)return;a.Ia.set(d,p.withResumeToken(wr.EMPTY_BYTE_STRING,p.snapshotVersion)),zO(a,d);const g=new xl(p.target,d,f,p.sequenceNumber);w1(a,g)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Le(bu,"Failed to raise snapshot:",r),await Rv(n,r)}}async function Rv(n,e,t){if(!Wh(e))throw e;n.Ea.add(1),await Ip(n),n.Va.set("Offline"),t||(t=()=>BO(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Le(bu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await x_(n)}))}function HO(n,e){return e().catch((t=>Rv(n,t,e)))}async function S_(n){const e=at(n),t=Vl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:i1;for(;T8(e);)try{const s=await i8(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,C8(e,s)}catch(s){await Rv(e,s)}WO(e)&&$O(e)}function T8(n){return Pu(n)&&n.Ta.length<10}function C8(n,e){n.Ta.push(e);const t=Vl(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function WO(n){return Pu(n)&&!Vl(n).x_()&&n.Ta.length>0}function $O(n){Vl(n).start()}async function R8(n){Vl(n).ra()}async function A8(n){const e=Vl(n);for(const t of n.Ta)e.ea(t.mutations)}async function N8(n,e,t){const r=n.Ta.shift(),s=h1.from(r,e,t);await HO(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await S_(n)}async function I8(n,e){e&&Vl(n).Y_&&await(async function(r,s){if((function(l){return SO(l)&&l!==de.ABORTED})(s.code)){const a=r.Ta.shift();Vl(r).B_(),await HO(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await S_(r)}})(n,e),WO(n)&&$O(n)}async function ZN(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),Le(bu,"RemoteStore received new credentials");const r=Pu(t);t.Ea.add(3),await Ip(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await x_(t)}async function k8(n,e){const t=at(n);e?(t.Ea.delete(2),await x_(t)):e||(t.Ea.add(2),await Ip(t),t.Va.set("Unknown"))}function Gh(n){return n.ma||(n.ma=(function(t,r,s){const a=at(t);return a.sa(),new m8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:w8.bind(null,n),Yo:x8.bind(null,n),t_:S8.bind(null,n),J_:E8.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),S1(n)?x1(n):n.Va.set("Unknown")):(await n.ma.stop(),qO(n))}))),n.ma}function Vl(n){return n.fa||(n.fa=(function(t,r,s){const a=at(t);return a.sa(),new p8(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:R8.bind(null,n),t_:I8.bind(null,n),ta:A8.bind(null,n),na:N8.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await S_(n)):(await n.fa.stop(),n.Ta.length>0&&(Le(bu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new E1(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T1(n,e){if(mo("AsyncQueue",`${e}: ${n}`),Wh(n))return new Ae(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{static emptySet(e){return new Jd(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=wm(),this.sortedSet=new Sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.ga=new Sn(Qe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Xe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Eh{constructor(e,t,r,s,a,l,c,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Eh(e,t,Jd.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class P8{constructor(){this.queries=tI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=at(t),a=s.queries;s.queries=tI(),a.forEach(((l,c)=>{for(const d of c.ba)d.onError(r)}))})(this,new Ae(de.ABORTED,"Firestore shutting down"))}}function tI(){return new Du((n=>uO(n)),p_)}async function GO(n,e){const t=at(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new D8,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=T1(l,`Initialization of query '${Bd(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&C1(t)}async function YO(n,e){const t=at(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function O8(n,e){const t=at(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.ba)c.Fa(s)&&(r=!0);l.wa=s}}r&&C1(t)}function M8(n,e,t){const r=at(n),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(t);r.queries.delete(e)}function C1(n){n.Ca.forEach((e=>{e.next()}))}var X0,nI;(nI=X0||(X0={})).Ma="default",nI.Cache="cache";class KO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Eh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.key=e}}class JO{constructor(e){this.key=e}}class j8{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=dO(e),this.tu=new Jd(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new eI,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((p,g)=>{const v=s.get(p),w=g_(this.query,g)?g:null,x=!!v&&this.mutatedKeys.has(v.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;v&&w?v.data.isEqual(w.data)?x!==E&&(r.track({type:3,doc:w}),C=!0):this.su(v,w)||(r.track({type:2,doc:w}),C=!0,(d&&this.eu(w,d)>0||f&&this.eu(w,f)<0)&&(c=!0)):!v&&w?(r.track({type:0,doc:w}),C=!0):v&&!w&&(r.track({type:1,doc:v}),C=!0,(d||f)&&(c=!0)),C&&(w?(l=l.add(w),a=E?a.add(p):a.delete(p)):(l=l.delete(p),a=a.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),a=a.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Ss:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,g)=>(function(w,x){const E=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe(20277,{Vt:C})}};return E(w)-E(x)})(p.type,g.type)||this.eu(p.doc,g.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,f=d!==this.Xa;return this.Xa=d,l.length!==0||f?{snapshot:new Eh(this.query,e.tu,a,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eI,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Nt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new JO(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new QO(r))})),t}cu(e){this.Za=e.ks,this.Ya=Nt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Eh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const R1="SyncEngine";class L8{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class V8{constructor(e){this.key=e,this.hu=!1}}class B8{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Du((c=>uO(c)),p_),this.Iu=new Map,this.Eu=new Set,this.Ru=new Sn(Qe.comparator),this.Au=new Map,this.Vu=new p1,this.du={},this.mu=new Map,this.fu=Sh.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U8(n,e,t=!0){const r=rM(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await XO(r,e,t,!0),s}async function F8(n,e){const t=rM(n);await XO(t,e,!0,!1)}async function XO(n,e,t,r){const s=await a8(n.localStore,ua(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await z8(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&FO(n.remoteStore,s),c}async function z8(n,e,t,r,s){n.pu=(g,v,w)=>(async function(E,C,k,O){let M=C.view.ru(k);M.Ss&&(M=await YN(E.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,M))));const F=O&&O.targetChanges.get(C.targetId),V=O&&O.targetMismatches.get(C.targetId)!=null,z=C.view.applyChanges(M,E.isPrimaryClient,F,V);return sI(E,C.targetId,z.au),z.snapshot})(n,g,v,w);const a=await YN(n.localStore,e,!0),l=new j8(e,a.ks),c=l.ru(a.documents),d=Np.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,d);sI(n,t,f.au);const p=new L8(e,t,l);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function q8(n,e,t){const r=at(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!p_(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Q0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&b1(r.remoteStore,s.targetId),Z0(r,s.targetId)})).catch(Hh)):(Z0(r,s.targetId),await Q0(r.localStore,s.targetId,!0))}async function H8(n,e){const t=at(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),b1(t.remoteStore,r.targetId))}async function W8(n,e,t){const r=X8(n);try{const s=await(function(l,c){const d=at(l),f=pn.now(),p=c.reduce(((w,x)=>w.add(x.key)),Nt());let g,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let x=po(),E=Nt();return d.xs.getEntries(w,p).next((C=>{x=C,x.forEach(((k,O)=>{O.isValidDocument()||(E=E.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,x))).next((C=>{g=C;const k=[];for(const O of c){const M=oq(O,g.get(O.key).overlayedDocument);M!=null&&k.push(new Ql(O.key,M,nO(M.value.mapValue),Ar.exists(!0)))}return d.mutationQueue.addMutationBatch(w,f,k,c)})).next((C=>{v=C;const k=C.applyToLocalDocumentSet(g,E);return d.documentOverlayCache.saveOverlays(w,C.batchId,k)}))})).then((()=>({batchId:v.batchId,changes:fO(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let f=l.du[l.currentUser.toKey()];f||(f=new Sn(At)),f=f.insert(c,d),l.du[l.currentUser.toKey()]=f})(r,s.batchId,t),await kp(r,s.changes),await S_(r.remoteStore)}catch(s){const a=T1(s,"Failed to persist write");t.reject(a)}}async function ZO(n,e){const t=at(n);try{const r=await r8(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=t.Au.get(a);l&&(Lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Lt(l.hu,14607):s.removedDocuments.size>0&&(Lt(l.hu,42227),l.hu=!1))})),await kp(t,r,e)}catch(r){await Hh(r)}}function rI(n,e,t){const r=at(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=at(l);d.onlineState=c;let f=!1;d.queries.forEach(((p,g)=>{for(const v of g.ba)v.va(c)&&(f=!0)})),f&&C1(d)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $8(n,e,t){const r=at(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new Sn(Qe.comparator);l=l.insert(a,cr.newNoDocument(a,tt.min()));const c=Nt().add(a),d=new b_(tt.min(),new Map,new Sn(At),l,c);await ZO(r,d),r.Ru=r.Ru.remove(a),r.Au.delete(e),A1(r)}else await Q0(r.localStore,e,!1).then((()=>Z0(r,e,t))).catch(Hh)}async function G8(n,e){const t=at(n),r=e.batch.batchId;try{const s=await n8(t.localStore,e);tM(t,r,null),eM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await kp(t,s)}catch(s){await Hh(s)}}async function Y8(n,e,t){const r=at(n);try{const s=await(function(l,c){const d=at(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next((g=>(Lt(g!==null,37113),p=g.keys(),d.mutationQueue.removeMutationBatch(f,g)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(r.localStore,e);tM(r,e,t),eM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await kp(r,s)}catch(s){await Hh(s)}}function eM(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function tM(n,e,t){const r=at(n);let s=r.du[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Z0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||nM(n,r)}))}function nM(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(b1(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),A1(n))}function sI(n,e,t){for(const r of t)r instanceof QO?(n.Vu.addReference(r.key,e),K8(n,r)):r instanceof JO?(Le(R1,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||nM(n,r.key)):Xe(19791,{wu:r})}function K8(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Le(R1,"New document in limbo: "+t),n.Eu.add(r),A1(n))}function A1(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Qe(on.fromString(e)),r=n.fu.next();n.Au.set(r,new V8(t)),n.Ru=n.Ru.insert(t,r),FO(n.remoteStore,new xl(ua(u1(t.path)),r,"TargetPurposeLimboResolution",f_.ce))}}async function kp(n,e,t){const r=at(n),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,t).then((f=>{var p;if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(f){s.push(f);const g=y1.Es(d.targetId,f);a.push(g)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(d,f){const p=at(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ye.forEach(f,(v=>ye.forEach(v.Ts,(w=>p.persistence.referenceDelegate.addReference(g,v.targetId,w))).next((()=>ye.forEach(v.Is,(w=>p.persistence.referenceDelegate.removeReference(g,v.targetId,w)))))))))}catch(g){if(!Wh(g))throw g;Le(v1,"Failed to update sequence numbers: "+g)}for(const g of f){const v=g.targetId;if(!g.fromCache){const w=p.vs.get(v),x=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(x);p.vs=p.vs.insert(v,E)}}})(r.localStore,a))}async function Q8(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){Le(R1,"User change. New user:",e.toKey());const r=await VO(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ae(de.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kp(t,r.Ns)}}function J8(n,e){const t=at(n),r=t.Au.get(e);if(r&&r.hu)return Nt().add(r.key);{let s=Nt();const a=t.Iu.get(e);if(!a)return s;for(const l of a){const c=t.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function rM(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$8.bind(null,e),e.Pu.J_=O8.bind(null,e.eventManager),e.Pu.yu=M8.bind(null,e.eventManager),e}function X8(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y8.bind(null,e),e}class Av{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=w_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return t8(this.persistence,new Xq,e.initialUser,this.serializer)}Cu(e){return new LO(g1.Vi,this.serializer)}Du(e){return new l8}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Av.provider={build:()=>new Av};class Z8 extends Av{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Lt(this.persistence.referenceDelegate instanceof Cv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lq(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Kr.withCacheSize(this.cacheSizeBytes):Kr.DEFAULT;return new LO((r=>Cv.Vi(r,t)),this.serializer)}}class eS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q8.bind(null,this.syncEngine),await k8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P8})()}createDatastore(e){const t=w_(e.databaseInfo.databaseId),r=f8(e.databaseInfo);return v8(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,l,c){return new b8(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>rI(this.syncEngine,t,0)),(function(){return JN.v()?new JN:new c8})())}createSyncEngine(e,t){return(function(s,a,l,c,d,f,p){const g=new B8(s,a,l,c,d,f);return p&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=at(s);Le(bu,"RemoteStore shutting down."),a.Ea.add(5),await Ip(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}eS.provider={build:()=>new eS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e7=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ae(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,a){const l=at(s),c={documents:a.map((g=>Tv(l.serializer,g)))},d=await l.jo("BatchGetDocuments",l.serializer.databaseId,on.emptyPath(),c,a.length),f=new Map;d.forEach((g=>{const v=bq(l.serializer,g);f.set(v.key.toString(),v)}));const p=[];return a.forEach((g=>{const v=f.get(g.toString());Lt(!!v,55234,{key:g}),p.push(v)})),p})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new __(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=Qe.fromPath(r);this.mutations.push(new xO(s,this.precondition(s)))})),await(async function(r,s){const a=at(r),l={writes:s.map((c=>kO(a.serializer,c)))};await a.Wo("Commit",a.serializer.databaseId,on.emptyPath(),l)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe(50498,{Gu:e.constructor.name});t=tt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ae(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(tt.min())?Ar.exists(!1):Ar.updateTime(t):Ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(tt.min()))throw new Ae(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ar.updateTime(t)}return Ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,t,r,s,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=a,this.zu=r.maxAttempts,this.M_=new _1(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new e7(this.datastore),t=this.Ju(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Zu(s)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const t=this.updateFunction(e);return!Rp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!SO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl="FirestoreClient";class n7{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Cr.UNAUTHENTICATED,this.clientId=s1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Le(Bl,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Le(Bl,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=T1(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kx(n,e){n.asyncQueue.verifyOperationInProgress(),Le(Bl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await VO(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function iI(n,e){n.asyncQueue.verifyOperationInProgress();const t=await r7(n);Le(Bl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ZN(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>ZN(e.remoteStore,s))),n._onlineComponents=e}async function r7(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le(Bl,"Using user provided OfflineComponentProvider");try{await kx(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;_u("Error using user provided cache. Falling back to memory cache: "+t),await kx(n,new Av)}}else Le(Bl,"Using default OfflineComponentProvider"),await kx(n,new Z8(void 0));return n._offlineComponents}async function N1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le(Bl,"Using user provided OnlineComponentProvider"),await iI(n,n._uninitializedComponentsProvider._online)):(Le(Bl,"Using default OnlineComponentProvider"),await iI(n,new eS))),n._onlineComponents}function s7(n){return N1(n).then((e=>e.syncEngine))}function i7(n){return N1(n).then((e=>e.datastore))}async function iM(n){const e=await N1(n),t=e.eventManager;return t.onListen=U8.bind(null,e.syncEngine),t.onUnlisten=q8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F8.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=H8.bind(null,e.syncEngine),t}function a7(n,e,t={}){const r=new ca;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,f){const p=new sM({next:v=>{p.Nu(),l.enqueueAndForget((()=>YO(a,g)));const w=v.docs.has(c);!w&&v.fromCache?f.reject(new Ae(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&d&&d.source==="server"?f.reject(new Ae(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new KO(u1(c.path),p,{includeMetadataChanges:!0,Ka:!0});return GO(a,g)})(await iM(n),n.asyncQueue,e,t,r))),r.promise}function o7(n,e,t={}){const r=new ca;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,f){const p=new sM({next:v=>{p.Nu(),l.enqueueAndForget((()=>YO(a,g))),v.fromCache&&d.source==="server"?f.reject(new Ae(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),g=new KO(c,p,{includeMetadataChanges:!0,Ka:!0});return GO(a,g)})(await iM(n),n.asyncQueue,e,t,r))),r.promise}function l7(n,e){const t=new ca;return n.asyncQueue.enqueueAndForget((async()=>W8(await s7(n),e,t))),t.promise}function c7(n,e,t){const r=new ca;return n.asyncQueue.enqueueAndForget((async()=>{const s=await i7(n);new t7(n.asyncQueue,s,t,e,r).ju()})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="ComponentProvider",aI=new Map;function d7(n,e,t,r,s){return new Nz(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,aM(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="firestore.googleapis.com",oI=!0;class lI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oM,this.ssl=oI}else this.host=e.host,this.ssl=e.ssl??oI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mq)throw new Ae(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aM(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E_{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lz;switch(r.type){case"firstParty":return new hz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=aI.get(t);r&&(Le(u7,"Removing Datastore"),aI.delete(t),r.terminate())})(this),Promise.resolve()}}function h7(n,e,t,r={}){var f;n=Ti(n,E_);const s=Uh(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(KD(`https://${c}`),QD("Firestore",!0)),a.host!==oM&&a.host!==c&&_u("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!mu(d,l)&&(n._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Cr.MOCK_USER;else{p=yB(r.mockUserToken,(f=n._app)==null?void 0:f.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Ae(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Cr(v)}n._authCredentials=new cz(new HP(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ou(this.firestore,e,this._query)}}class Nn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}toJSON(){return{type:Nn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cp(t,Nn._jsonSchema))return new Nn(e,r||null,new Qe(on.fromString(t.referencePath)))}}Nn._jsonSchemaVersion="firestore/documentReference/1.0",Nn._jsonSchema={type:Gn("string",Nn._jsonSchemaVersion),referencePath:Gn("string")};class Il extends Ou{constructor(e,t,r){super(e,t,u1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Qe(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function _e(n,e,...t){if(n=Yn(n),WP("collection","path",e),n instanceof E_){const r=on.fromString(e,...t);return wN(r),new Il(n,null,r)}{if(!(n instanceof Nn||n instanceof Il))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return wN(r),new Il(n.firestore,null,r)}}function be(n,e,...t){if(n=Yn(n),arguments.length===1&&(e=s1.newId()),WP("doc","path",e),n instanceof E_){const r=on.fromString(e,...t);return bN(r),new Nn(n,null,new Qe(r))}{if(!(n instanceof Nn||n instanceof Il))throw new Ae(de.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return bN(r),new Nn(n.firestore,n instanceof Il?n.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="AsyncQueue";class uI{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _1(this,"async_queue_retry"),this._c=()=>{const r=Ix();r&&Le(cI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ix();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ix();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wh(e))throw e;Le(cI,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mo("INTERNAL UNHANDLED ERROR: ",dI(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=E1.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Xe(47125,{Pc:dI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dI(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Mu extends E_{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new uI,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uI(e),this._firestoreClient=void 0,await e}}}function f7(n,e){const t=typeof n=="object"?n:eP(),r=typeof n=="string"?n:_v,s=$S(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=pB("firestore");a&&h7(s,...a)}return s}function T_(n){if(n._terminated)throw new Ae(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||m7(n),n._firestoreClient}function m7(n){var r,s,a,l;const e=n._freezeSettings(),t=d7(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new n7(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(wr.fromBase64String(e))}catch(t){throw new Ae(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gs(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cp(e,gs._jsonSchema))return gs.fromBase64String(e.bytes)}}gs._jsonSchemaVersion="firestore/bytes/1.0",gs._jsonSchema={type:Gn("string",gs._jsonSchemaVersion),bytes:Gn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _r(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:da._jsonSchemaVersion}}static fromJSON(e){if(Cp(e,da._jsonSchema))return new da(e.latitude,e.longitude)}}da._jsonSchemaVersion="firestore/geoPoint/1.0",da._jsonSchema={type:Gn("string",da._jsonSchemaVersion),latitude:Gn("number"),longitude:Gn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cp(e,vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new vi(e.vectorValues);throw new Ae(de.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vi._jsonSchemaVersion="firestore/vectorValue/1.0",vi._jsonSchema={type:Gn("string",vi._jsonSchemaVersion),vectorValues:Gn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=/^__.*__$/;class g7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ql(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ap(e,this.data,t,this.fieldTransforms)}}class lM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ql(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe(40011,{dataSource:n})}}class k1{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new k1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nv(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cM(this.dataSource)&&p7.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class y7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||w_(e)}createContext(e,t,r,s=!1){return new k1({dataSource:e,methodName:t,targetDoc:r,path:_r.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R_(n){const e=n._freezeSettings(),t=w_(n._databaseId);return new y7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uM(n,e,t,r,s,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,s);D1("Data must be an object, but it was:",l,r);const c=fM(r,l);let d,f;if(a.merge)d=new ys(l.fieldMask),f=l.fieldTransforms;else if(a.mergeFields){const p=[];for(const g of a.mergeFields){const v=wu(e,g,t);if(!l.contains(v))throw new Ae(de.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);gM(p,v)||p.push(v)}d=new ys(p),f=l.fieldTransforms.filter((g=>d.covers(g.field)))}else d=null,f=l.fieldTransforms;return new g7(new jr(c),d,f)}class A_ extends I1{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof A_}}function dM(n,e,t,r){const s=n.createContext(1,e,t);D1("Data must be an object, but it was:",s,r);const a=[],l=jr.empty();Kl(r,((d,f)=>{const p=pM(e,d,t);f=Yn(f);const g=s.childContextForFieldPath(p);if(f instanceof A_)a.push(p);else{const v=Dp(f,g);v!=null&&(a.push(p),l.set(p,v))}}));const c=new ys(a);return new lM(l,c,s.fieldTransforms)}function hM(n,e,t,r,s,a){const l=n.createContext(1,e,t),c=[wu(e,r,t)],d=[s];if(a.length%2!=0)throw new Ae(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<a.length;v+=2)c.push(wu(e,a[v])),d.push(a[v+1]);const f=[],p=jr.empty();for(let v=c.length-1;v>=0;--v)if(!gM(f,c[v])){const w=c[v];let x=d[v];x=Yn(x);const E=l.childContextForFieldPath(w);if(x instanceof A_)f.push(w);else{const C=Dp(x,E);C!=null&&(f.push(w),p.set(w,C))}}const g=new ys(f);return new lM(p,g,l.fieldTransforms)}function v7(n,e,t,r=!1){return Dp(t,n.createContext(r?4:3,e))}function Dp(n,e){if(mM(n=Yn(n)))return D1("Unsupported field value:",e,n),fM(n,e);if(n instanceof I1)return(function(r,s){if(!cM(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const a=[];let l=0;for(const c of r){let d=Dp(c,s.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=Yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tq(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=pn.fromDate(r);return{timestampValue:Ev(s.serializer,a)}}if(r instanceof pn){const a=new pn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ev(s.serializer,a)}}if(r instanceof da)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof gs)return{bytesValue:RO(s.serializer,r._byteString)};if(r instanceof Nn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:m1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof vi)return(function(l,c){const d=l instanceof vi?l.toArray():l;return{mapValue:{fields:{[eO]:{stringValue:tO},[bv]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw c.createError("VectorValues must only contain numeric values.");return d1(c.serializer,p)}))}}}}}})(r,s);if(MO(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${h_(r)}`)})(n,e)}function fM(n,e){const t={};return YP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kl(n,((r,s)=>{const a=Dp(s,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function mM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof pn||n instanceof da||n instanceof gs||n instanceof Nn||n instanceof I1||n instanceof vi||MO(n))}function D1(n,e,t){if(!mM(t)||!$P(t)){const r=h_(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function wu(n,e,t){if((e=Yn(e))instanceof C_)return e._internalPath;if(typeof e=="string")return pM(n,e);throw Nv("Field path arguments must be of type string or ",n,!1,void 0,t)}const _7=new RegExp("[~\\*/\\[\\]]");function pM(n,e,t){if(e.search(_7)>=0)throw Nv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new C_(...e.split("."))._internalPath}catch{throw Nv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nv(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${r}`),l&&(d+=` in document ${s}`),d+=")"),new Ae(de.INVALID_ARGUMENT,c+n+d)}function gM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{convertValue(e,t="none"){switch(Ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Kl(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,s,a;const t=(a=(s=(r=e.fields)==null?void 0:r[bv].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>Mn(l.doubleValue)));return new vi(t)}convertGeoPoint(e){return new da(Mn(e.latitude),Mn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=m_(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($m(e));default:return null}}convertTimestamp(e){const t=Ml(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);Lt(OO(r),9688,{name:e});const s=new Gm(r.get(1),r.get(3)),a=new Qe(r.popFirst(5));return s.isEqual(t)||mo(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends yM{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}const hI="@firebase/firestore",fI="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(wu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class b7 extends Iv{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O1{}class vM extends O1{}function Pe(n,e,...t){let r=[];e instanceof O1&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((d=>d instanceof M1)).length,c=a.filter((d=>d instanceof N_)).length;if(l>1||l>0&&c>0)throw new Ae(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class N_ extends vM{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new N_(e,t,r)}_apply(e){const t=this._parse(e);return _M(e._query,t),new Ou(e.firestore,e.converter,W0(e._query,t))}_parse(e){const t=R_(e.firestore);return(function(a,l,c,d,f,p,g){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pI(g,p);const x=[];for(const E of g)x.push(mI(d,a,E));v={arrayValue:{values:x}}}else v=mI(d,a,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pI(g,p),v=v7(c,l,g,p==="in"||p==="not-in");return $n.create(f,p,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Re(n,e,t){const r=e,s=wu("where",n);return N_._create(s,r,t)}class M1 extends O1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new M1(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,a){let l=s;const c=a.getFlattenedFilters();for(const d of c)_M(l,d),l=W0(l,d)})(e._query,t),new Ou(e.firestore,e.converter,W0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j1 extends vM{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new j1(e,t)}_apply(e){const t=(function(s,a,l){if(s.startAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ae(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Km(a,l)})(e._query,this._field,this._direction);return new Ou(e.firestore,e.converter,Gz(e._query,t))}}function Ea(n,e="asc"){const t=e,r=wu("orderBy",n);return j1._create(r,t)}function mI(n,e,t){if(typeof(t=Yn(t))=="string"){if(t==="")throw new Ae(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cO(e)&&t.indexOf("/")!==-1)throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Qe.isDocumentKey(r))throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NN(n,new Qe(r))}if(t instanceof Nn)return NN(n,t._key);throw new Ae(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${h_(t)}.`)}function pI(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _M(n,e){const t=(function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function bM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x7 extends yM{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kl extends Iv{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}kl._jsonSchemaVersion="firestore/documentSnapshot/1.0",kl._jsonSchema={type:Gn("string",kl._jsonSchemaVersion),bundleSource:Gn("string","DocumentSnapshot"),bundleName:Gn("string"),bundle:Gn("string")};class Qy extends kl{data(e={}){return super.data(e)}}class Xd{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hd(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Qy(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Qy(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Qy(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Hd(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:S7(c.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(de.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=s1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xd._jsonSchemaVersion="firestore/querySnapshot/1.0",Xd._jsonSchema={type:Gn("string",Xd._jsonSchemaVersion),bundleSource:Gn("string","QuerySnapshot"),bundleName:Gn("string"),bundle:Gn("string")};const E7={maxAttempts:5};function Sm(n,e){if((n=Yn(n)).firestore!==e)throw new Ae(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=R_(e)}get(e){const t=Sm(e,this._firestore),r=new x7(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Xe(24041);const a=s[0];if(a.isFoundDocument())return new Iv(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Iv(this._firestore,r,t._key,null,t.converter);throw Xe(18433,{doc:a})}))}set(e,t,r){const s=Sm(e,this._firestore),a=bM(s.converter,t,r),l=uM(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,r);return this._transaction.set(s._key,l),this}update(e,t,r,...s){const a=Sm(e,this._firestore);let l;return l=typeof(t=Yn(t))=="string"||t instanceof C_?hM(this._dataReader,"Transaction.update",a._key,t,r,s):dM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,l),this}delete(e){const t=Sm(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7 extends T7{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sm(e,this._firestore),r=new P1(this._firestore);return super.get(e).then((s=>new kl(this._firestore,r,t._key,s._document,new Hd(!1,!1),t.converter)))}}function R7(n,e,t){n=Ti(n,Mu);const r={...E7,...t};(function(l){if(l.maxAttempts<1)throw new Ae(de.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const s=T_(n);return c7(s,(a=>e(new C7(n,a))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(n){n=Ti(n,Nn);const e=Ti(n.firestore,Mu),t=T_(e);return a7(t,n._key).then((r=>A7(e,n,r)))}function xe(n){n=Ti(n,Ou);const e=Ti(n.firestore,Mu),t=T_(e),r=new P1(e);return w7(n._query),o7(t,n._query).then((s=>new Xd(e,r,n,s)))}function un(n,e,t){n=Ti(n,Nn);const r=Ti(n.firestore,Mu),s=bM(n.converter,e,t),a=R_(r);return L1(r,[uM(a,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ar.none())])}function wM(n,e,t,...r){n=Ti(n,Nn);const s=Ti(n.firestore,Mu),a=R_(s);let l;return l=typeof(e=Yn(e))=="string"||e instanceof C_?hM(a,"updateDoc",n._key,e,t,r):dM(a,"updateDoc",n._key,e),L1(s,[l.toMutation(n._key,Ar.exists(!0))])}function je(n){return L1(Ti(n.firestore,Mu),[new __(n._key,Ar.none())])}function L1(n,e){const t=T_(n);return l7(t,e)}function A7(n,e,t){const r=t.docs.get(e._key),s=new P1(n);return new kl(n,s,e._key,r,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){oz(Fh),_h(new pu("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Mu(new uz(r.getProvider("auth-internal")),new fz(l,r.getProvider("app-check-internal")),Iz(l,s),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Al(hI,fI,e),Al(hI,fI,"esm2020")})();const N7={apiKey:"AIzaSyDNrfT8MEjj_mRWbFB-TFqi7WO6bXUTVG0",authDomain:"abadai-da22b.firebaseapp.com",projectId:"abadai-da22b",storageBucket:"abadai-da22b.firebasestorage.app",messagingSenderId:"354340525163",appId:"1:354340525163:web:0cf9714a42b6e0e35f0d2e"},xM=ZD(N7),Nr=iz(xM),J=f7(xM),I7=function(){return null};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SM=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>S.createElement("svg",{ref:d,...D7,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:SM("lucide",s),...c},[...l.map(([f,p])=>S.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=(n,e)=>{const t=S.forwardRef(({className:r,...s},a)=>S.createElement(P7,{ref:a,iconNode:e,className:SM(`lucide-${k7(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],tS=It("ArrowLeft",O7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],nS=It("ArrowRight",M7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Xm=It("Box",j7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],gI=It("Calculator",L7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ju=It("Calendar",V7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],EM=It("Camera",B7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],TM=It("Check",U7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I_=It("ChevronDown",F7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],q7=It("ChevronLeft",z7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],CM=It("ChevronRight",H7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$7=It("ChevronUp",W7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yI=It("CircleCheckBig",G7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pp=It("CircleCheck",Y7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],RM=It("Clock",K7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],AM=It("DollarSign",Q7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],vI=It("Hammer",J7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Z7=It("Image",X7);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],tH=It("LayoutDashboard",eH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rS=It("LoaderCircle",nH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],V1=It("LogOut",rH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],iH=It("Mail",sH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Zm=It("MapPin",aH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],lH=It("Navigation",oH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],k_=It("Package",cH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],dH=It("Phone",uH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],go=It("Plus",hH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],kv=It("Repeat",fH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],_I=It("Sparkles",mH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],NM=It("SquarePen",pH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ul=It("Trash2",gH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Dv=It("TriangleAlert",yH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],ya=It("Truck",vH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],IM=It("User",_H);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Pv=It("Users",bH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],xH=It("Wrench",wH);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],B1=It("X",SH);function $t(n,e,t){const r=S.useRef(e);r.current=e;const s=S.useRef(n);s.current=n;const a=S.useRef(t);return a.current=t,S.useCallback((...c)=>{if(typeof s.current!="function")return;const d=r.current(...c),f=p=>{const g=p instanceof Error?p:new Error(String(p));throw console.error("[Component Error]",{...d,error:{message:g.message,stack:g.stack},timestamp:new Date().toISOString()}),p};try{const p=s.current(...c);p instanceof Promise&&p.catch(f)}catch(p){f(p)}},[])}const bI={unhandledRejection:n=>{console.error("[Unhandled Promise Rejection]",{reason:n.reason,promise:n.promise,timestamp:new Date().toISOString()})},error:n=>{console.error("[Global Error]",{message:n.message,filename:n.filename,lineno:n.lineno,colno:n.colno,error:n.error,timestamp:new Date().toISOString()})}};function EH(){typeof window<"u"&&(window.addEventListener("unhandledrejection",bI.unhandledRejection),window.addEventListener("error",bI.error))}EH();function TH(n,e){console.error("[Reported Error]",{error:n,info:e,timestamp:new Date().toISOString()})}function CH(n,e,t){console.error("[Reported Element Error]",{element:n,error:e,info:t,timestamp:new Date().toISOString()})}function wI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Ta(...n){return e=>{let t=!1;const r=n.map(s=>{const a=wI(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():wI(n[s],null)}}}}function Et(...n){return S.useCallback(Ta(...n),n)}function RH(n){const e=AH(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(IH);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function AH(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=DH(s),c=kH(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var NH=Symbol("radix.slottable");function IH(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===NH}function kH(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function DH(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var PH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rt=PH.reduce((n,e)=>{const t=RH(`Primitive.${e}`),r=S.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function kM(n,e){n&&Bh.flushSync(()=>n.dispatchEvent(e))}var xr=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{};function OH(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var kr=n=>{const{present:e,children:t}=n,r=MH(e),s=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=Et(r.ref,jH(s));return typeof t=="function"||r.isPresent?S.cloneElement(s,{ref:a}):null};kr.displayName="Presence";function MH(n){const[e,t]=S.useState(),r=S.useRef(null),s=S.useRef(n),a=S.useRef("none"),l=n?"mounted":"unmounted",[c,d]=OH(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=Ry(r.current);a.current=c==="mounted"?f:"none"},[c]),xr(()=>{const f=r.current,p=s.current;if(p!==n){const v=a.current,w=Ry(f);n?d("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),xr(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=w=>{const E=Ry(r.current).includes(CSS.escape(w.animationName));if(w.target===e&&E&&(d("ANIMATION_END"),!s.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},v=w=>{w.target===e&&(a.current=Ry(r.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:S.useCallback(f=>{r.current=f?getComputedStyle(f):null,t(f)},[])}}function Ry(n){return(n==null?void 0:n.animationName)||"none"}function jH(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function LH(n,e){const t=S.createContext(e),r=a=>{const{children:l,...c}=a,d=S.useMemo(()=>c,Object.values(c));return h.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function s(a){const l=S.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function Di(n,e=[]){let t=[];function r(a,l){const c=S.createContext(l),d=t.length;t=[...t,l];const f=g=>{var k;const{scope:v,children:w,...x}=g,E=((k=v==null?void 0:v[n])==null?void 0:k[d])||c,C=S.useMemo(()=>x,Object.values(x));return h.jsx(E.Provider,{value:C,children:w})};f.displayName=a+"Provider";function p(g,v){var E;const w=((E=v==null?void 0:v[n])==null?void 0:E[d])||c,x=S.useContext(w);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[f,p]}const s=()=>{const a=t.map(l=>S.createContext(l));return function(c){const d=(c==null?void 0:c[n])||a;return S.useMemo(()=>({[`__scope${n}`]:{...c,[n]:d}}),[c,d])}};return s.scopeName=n,[r,VH(s,...e)]}function VH(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:d,scopeName:f})=>{const g=d(a)[`__scope${f}`];return{...c,...g}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function br(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var BH=S.createContext(void 0);function Op(n){const e=S.useContext(BH);return n||e||"ltr"}function sS(n,[e,t]){return Math.min(t,Math.max(e,n))}function De(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function UH(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var U1="ScrollArea",[DM]=Di(U1),[FH,Ks]=DM(U1),PM=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,type:r="hover",dir:s,scrollHideDelay:a=600,...l}=n,[c,d]=S.useState(null),[f,p]=S.useState(null),[g,v]=S.useState(null),[w,x]=S.useState(null),[E,C]=S.useState(null),[k,O]=S.useState(0),[M,F]=S.useState(0),[V,z]=S.useState(!1),[N,I]=S.useState(!1),P=Et(e,L=>d(L)),D=Op(s);return h.jsx(FH,{scope:t,type:r,dir:D,scrollHideDelay:a,scrollArea:c,viewport:f,onViewportChange:p,content:g,onContentChange:v,scrollbarX:w,onScrollbarXChange:x,scrollbarXEnabled:V,onScrollbarXEnabledChange:z,scrollbarY:E,onScrollbarYChange:C,scrollbarYEnabled:N,onScrollbarYEnabledChange:I,onCornerWidthChange:O,onCornerHeightChange:F,children:h.jsx(rt.div,{dir:D,...l,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":M+"px",...n.style}})})});PM.displayName=U1;var OM="ScrollAreaViewport",MM=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,children:r,nonce:s,...a}=n,l=Ks(OM,t),c=S.useRef(null),d=Et(e,c,l.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),h.jsx(rt.div,{"data-radix-scroll-area-viewport":"",...a,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...n.style},children:h.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});MM.displayName=OM;var Ca="ScrollAreaScrollbar",jM=S.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Ks(Ca,n.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:l}=s,c=n.orientation==="horizontal";return S.useEffect(()=>(c?a(!0):l(!0),()=>{c?a(!1):l(!1)}),[c,a,l]),s.type==="hover"?h.jsx(zH,{...r,ref:e,forceMount:t}):s.type==="scroll"?h.jsx(qH,{...r,ref:e,forceMount:t}):s.type==="auto"?h.jsx(LM,{...r,ref:e,forceMount:t}):s.type==="always"?h.jsx(F1,{...r,ref:e}):null});jM.displayName=Ca;var zH=S.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Ks(Ca,n.__scopeScrollArea),[a,l]=S.useState(!1);return S.useEffect(()=>{const c=s.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),h.jsx(kr,{present:t||a,children:h.jsx(LM,{"data-state":a?"visible":"hidden",...r,ref:e})})}),qH=S.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=Ks(Ca,n.__scopeScrollArea),a=n.orientation==="horizontal",l=P_(()=>d("SCROLL_END"),100),[c,d]=UH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return S.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,s.scrollHideDelay,d]),S.useEffect(()=>{const f=s.viewport,p=a?"scrollLeft":"scrollTop";if(f){let g=f[p];const v=()=>{const w=f[p];g!==w&&(d("SCROLL"),l()),g=w};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[s.viewport,a,d,l]),h.jsx(kr,{present:t||c!=="hidden",children:h.jsx(F1,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:De(n.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:De(n.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),LM=S.forwardRef((n,e)=>{const t=Ks(Ca,n.__scopeScrollArea),{forceMount:r,...s}=n,[a,l]=S.useState(!1),c=n.orientation==="horizontal",d=P_(()=>{if(t.viewport){const f=t.viewport.offsetWidth<t.viewport.scrollWidth,p=t.viewport.offsetHeight<t.viewport.scrollHeight;l(c?f:p)}},10);return Th(t.viewport,d),Th(t.content,d),h.jsx(kr,{present:r||a,children:h.jsx(F1,{"data-state":a?"visible":"hidden",...s,ref:e})})}),F1=S.forwardRef((n,e)=>{const{orientation:t="vertical",...r}=n,s=Ks(Ca,n.__scopeScrollArea),a=S.useRef(null),l=S.useRef(0),[c,d]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=zM(c.viewport,c.content),p={...r,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:v=>a.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function g(v,w){return KH(v,l.current,c,w)}return t==="horizontal"?h.jsx(HH,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollLeft,w=xI(v,c,s.dir);a.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=g(v,s.dir))}}):t==="vertical"?h.jsx(WH,{...p,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const v=s.viewport.scrollTop,w=xI(v,c);a.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=g(v))}}):null}),HH=S.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,a=Ks(Ca,n.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=Et(e,d,a.onScrollbarXChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),h.jsx(BM,{"data-orientation":"horizontal",...s,ref:f,sizes:t,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":D_(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.x),onDragScroll:p=>n.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(a.viewport){const v=a.viewport.scrollLeft+p.deltaX;n.onWheelScroll(v),HM(v,g)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Mv(l.paddingLeft),paddingEnd:Mv(l.paddingRight)}})}})}),WH=S.forwardRef((n,e)=>{const{sizes:t,onSizesChange:r,...s}=n,a=Ks(Ca,n.__scopeScrollArea),[l,c]=S.useState(),d=S.useRef(null),f=Et(e,d,a.onScrollbarYChange);return S.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),h.jsx(BM,{"data-orientation":"vertical",...s,ref:f,sizes:t,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":D_(t)+"px",...n.style},onThumbPointerDown:p=>n.onThumbPointerDown(p.y),onDragScroll:p=>n.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(a.viewport){const v=a.viewport.scrollTop+p.deltaY;n.onWheelScroll(v),HM(v,g)&&p.preventDefault()}},onResize:()=>{d.current&&a.viewport&&l&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Mv(l.paddingTop),paddingEnd:Mv(l.paddingBottom)}})}})}),[$H,VM]=DM(Ca),BM=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:g,...v}=n,w=Ks(Ca,t),[x,E]=S.useState(null),C=Et(e,P=>E(P)),k=S.useRef(null),O=S.useRef(""),M=w.viewport,F=r.content-r.viewport,V=br(p),z=br(d),N=P_(g,10);function I(P){if(k.current){const D=P.clientX-k.current.left,L=P.clientY-k.current.top;f({x:D,y:L})}}return S.useEffect(()=>{const P=D=>{const L=D.target;(x==null?void 0:x.contains(L))&&V(D,F)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[M,x,F,V]),S.useEffect(z,[r,z]),Th(x,N),Th(w.content,N),h.jsx($H,{scope:t,scrollbar:x,hasThumb:s,onThumbChange:br(a),onThumbPointerUp:br(l),onThumbPositionChange:z,onThumbPointerDown:br(c),children:h.jsx(rt.div,{...v,ref:C,style:{position:"absolute",...v.style},onPointerDown:De(n.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),k.current=x.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),I(P))}),onPointerMove:De(n.onPointerMove,I),onPointerUp:De(n.onPointerUp,P=>{const D=P.target;D.hasPointerCapture(P.pointerId)&&D.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=O.current,w.viewport&&(w.viewport.style.scrollBehavior=""),k.current=null})})})}),Ov="ScrollAreaThumb",UM=S.forwardRef((n,e)=>{const{forceMount:t,...r}=n,s=VM(Ov,n.__scopeScrollArea);return h.jsx(kr,{present:t||s.hasThumb,children:h.jsx(GH,{ref:e,...r})})}),GH=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,style:r,...s}=n,a=Ks(Ov,t),l=VM(Ov,t),{onThumbPositionChange:c}=l,d=Et(e,g=>l.onThumbChange(g)),f=S.useRef(void 0),p=P_(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const g=a.viewport;if(g){const v=()=>{if(p(),!f.current){const w=QH(g,c);f.current=w,c()}};return c(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[a.viewport,p,c]),h.jsx(rt.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:De(n.onPointerDownCapture,g=>{const w=g.target.getBoundingClientRect(),x=g.clientX-w.left,E=g.clientY-w.top;l.onThumbPointerDown({x,y:E})}),onPointerUp:De(n.onPointerUp,l.onThumbPointerUp)})});UM.displayName=Ov;var z1="ScrollAreaCorner",FM=S.forwardRef((n,e)=>{const t=Ks(z1,n.__scopeScrollArea),r=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&r?h.jsx(YH,{...n,ref:e}):null});FM.displayName=z1;var YH=S.forwardRef((n,e)=>{const{__scopeScrollArea:t,...r}=n,s=Ks(z1,t),[a,l]=S.useState(0),[c,d]=S.useState(0),f=!!(a&&c);return Th(s.scrollbarX,()=>{var g;const p=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(p),d(p)}),Th(s.scrollbarY,()=>{var g;const p=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(p),l(p)}),f?h.jsx(rt.div,{...r,ref:e,style:{width:a,height:c,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...n.style}}):null});function Mv(n){return n?parseInt(n,10):0}function zM(n,e){const t=n/e;return isNaN(t)?0:t}function D_(n){const e=zM(n.viewport,n.content),t=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,r=(n.scrollbar.size-t)*e;return Math.max(r,18)}function KH(n,e,t,r="ltr"){const s=D_(t),a=s/2,l=e||a,c=s-l,d=t.scrollbar.paddingStart+l,f=t.scrollbar.size-t.scrollbar.paddingEnd-c,p=t.content-t.viewport,g=r==="ltr"?[0,p]:[p*-1,0];return qM([d,f],g)(n)}function xI(n,e,t="ltr"){const r=D_(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,l=e.content-e.viewport,c=a-r,d=t==="ltr"?[0,l]:[l*-1,0],f=sS(n,d);return qM([0,l],[0,c])(f)}function qM(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(n[1]-n[0]);return e[0]+r*(t-n[0])}}function HM(n,e){return n>0&&n<e}var QH=(n,e=()=>{})=>{let t={left:n.scrollLeft,top:n.scrollTop},r=0;return(function s(){const a={left:n.scrollLeft,top:n.scrollTop},l=t.left!==a.left,c=t.top!==a.top;(l||c)&&e(),t=a,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function P_(n,e){const t=br(n),r=S.useRef(0);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),S.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(t,e)},[t,e])}function Th(n,e){const t=br(e);xr(()=>{let r=0;if(n){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(t)});return s.observe(n),()=>{window.cancelAnimationFrame(r),s.unobserve(n)}}},[n,t])}var JH=PM,XH=MM,ZH=FM;function WM(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=WM(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $M(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=WM(n))&&(r&&(r+=" "),r+=e);return r}const eW=(n,e)=>{const t=new Array(n.length+e.length);for(let r=0;r<n.length;r++)t[r]=n[r];for(let r=0;r<e.length;r++)t[n.length+r]=e[r];return t},tW=(n,e)=>({classGroupId:n,validator:e}),GM=(n=new Map,e=null,t)=>({nextPart:n,validators:e,classGroupId:t}),jv="-",SI=[],nW="arbitrary..",rW=n=>{const e=iW(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return sW(l);const c=l.split(jv),d=c[0]===""&&c.length>1?1:0;return YM(c,d,e)},getConflictingClassGroupIds:(l,c)=>{if(c){const d=r[l],f=t[l];return d?f?eW(f,d):d:f||SI}return t[l]||SI}}},YM=(n,e,t)=>{if(n.length-e===0)return t.classGroupId;const s=n[e],a=t.nextPart.get(s);if(a){const f=YM(n,e+1,a);if(f)return f}const l=t.validators;if(l===null)return;const c=e===0?n.join(jv):n.slice(e).join(jv),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(c))return p.classGroupId}},sW=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=n.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?nW+r:void 0})(),iW=n=>{const{theme:e,classGroups:t}=n;return aW(t,e)},aW=(n,e)=>{const t=GM();for(const r in n){const s=n[r];q1(s,t,r,e)}return t},q1=(n,e,t,r)=>{const s=n.length;for(let a=0;a<s;a++){const l=n[a];oW(l,e,t,r)}},oW=(n,e,t,r)=>{if(typeof n=="string"){lW(n,e,t);return}if(typeof n=="function"){cW(n,e,t,r);return}uW(n,e,t,r)},lW=(n,e,t)=>{const r=n===""?e:KM(e,n);r.classGroupId=t},cW=(n,e,t,r)=>{if(dW(n)){q1(n(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(tW(t,n))},uW=(n,e,t,r)=>{const s=Object.entries(n),a=s.length;for(let l=0;l<a;l++){const[c,d]=s[l];q1(d,KM(e,c),t,r)}},KM=(n,e)=>{let t=n;const r=e.split(jv),s=r.length;for(let a=0;a<s;a++){const l=r[a];let c=t.nextPart.get(l);c||(c=GM(),t.nextPart.set(l,c)),t=c}return t},dW=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,hW=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const s=(a,l)=>{t[a]=l,e++,e>n&&(e=0,r=t,t=Object.create(null))};return{get(a){let l=t[a];if(l!==void 0)return l;if((l=r[a])!==void 0)return s(a,l),l},set(a,l){a in t?t[a]=l:s(a,l)}}},iS="!",EI=":",fW=[],TI=(n,e,t,r,s)=>({modifiers:n,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:s}),mW=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const a=[];let l=0,c=0,d=0,f;const p=s.length;for(let E=0;E<p;E++){const C=s[E];if(l===0&&c===0){if(C===EI){a.push(s.slice(d,E)),d=E+1;continue}if(C==="/"){f=E;continue}}C==="["?l++:C==="]"?l--:C==="("?c++:C===")"&&c--}const g=a.length===0?s:s.slice(d);let v=g,w=!1;g.endsWith(iS)?(v=g.slice(0,-1),w=!0):g.startsWith(iS)&&(v=g.slice(1),w=!0);const x=f&&f>d?f-d:void 0;return TI(a,w,v,x)};if(e){const s=e+EI,a=r;r=l=>l.startsWith(s)?a(l.slice(s.length)):TI(fW,!1,l,void 0,!0)}if(t){const s=r;r=a=>t({className:a,parseClassName:s})}return r},pW=n=>{const e=new Map;return n.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let s=[];for(let a=0;a<t.length;a++){const l=t[a],c=l[0]==="[",d=e.has(l);c||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},gW=n=>({cache:hW(n.cacheSize),parseClassName:mW(n),sortModifiers:pW(n),...rW(n)}),yW=/\s+/,vW=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],c=n.trim().split(yW);let d="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:g,modifiers:v,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:E}=t(p);if(g){d=p+(d.length>0?" "+d:d);continue}let C=!!E,k=r(C?x.substring(0,E):x);if(!k){if(!C){d=p+(d.length>0?" "+d:d);continue}if(k=r(x),!k){d=p+(d.length>0?" "+d:d);continue}C=!1}const O=v.length===0?"":v.length===1?v[0]:a(v).join(":"),M=w?O+iS:O,F=M+k;if(l.indexOf(F)>-1)continue;l.push(F);const V=s(k,C);for(let z=0;z<V.length;++z){const N=V[z];l.push(M+N)}d=p+(d.length>0?" "+d:d)}return d},_W=(...n)=>{let e=0,t,r,s="";for(;e<n.length;)(t=n[e++])&&(r=QM(t))&&(s&&(s+=" "),s+=r);return s},QM=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=QM(n[r]))&&(t&&(t+=" "),t+=e);return t},bW=(n,...e)=>{let t,r,s,a;const l=d=>{const f=e.reduce((p,g)=>g(p),n());return t=gW(f),r=t.cache.get,s=t.cache.set,a=c,c(d)},c=d=>{const f=r(d);if(f)return f;const p=vW(d,t);return s(d,p),p};return a=l,(...d)=>a(_W(...d))},wW=[],Xn=n=>{const e=t=>t[n]||wW;return e.isThemeGetter=!0,e},JM=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,XM=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xW=/^\d+\/\d+$/,SW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nd=n=>xW.test(n),yt=n=>!!n&&!Number.isNaN(Number(n)),tl=n=>!!n&&Number.isInteger(Number(n)),Dx=n=>n.endsWith("%")&&yt(n.slice(0,-1)),Qa=n=>SW.test(n),AW=()=>!0,NW=n=>EW.test(n)&&!TW.test(n),ZM=()=>!1,IW=n=>CW.test(n),kW=n=>RW.test(n),DW=n=>!Ue(n)&&!Fe(n),PW=n=>Yh(n,n2,ZM),Ue=n=>JM.test(n),Nc=n=>Yh(n,r2,NW),Px=n=>Yh(n,VW,yt),CI=n=>Yh(n,e2,ZM),OW=n=>Yh(n,t2,kW),Ay=n=>Yh(n,s2,IW),Fe=n=>XM.test(n),um=n=>Kh(n,r2),MW=n=>Kh(n,BW),RI=n=>Kh(n,e2),jW=n=>Kh(n,n2),LW=n=>Kh(n,t2),Ny=n=>Kh(n,s2,!0),Yh=(n,e,t)=>{const r=JM.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Kh=(n,e,t=!1)=>{const r=XM.exec(n);return r?r[1]?e(r[1]):t:!1},e2=n=>n==="position"||n==="percentage",t2=n=>n==="image"||n==="url",n2=n=>n==="length"||n==="size"||n==="bg-size",r2=n=>n==="length",VW=n=>n==="number",BW=n=>n==="family-name",s2=n=>n==="shadow",UW=()=>{const n=Xn("color"),e=Xn("font"),t=Xn("text"),r=Xn("font-weight"),s=Xn("tracking"),a=Xn("leading"),l=Xn("breakpoint"),c=Xn("container"),d=Xn("spacing"),f=Xn("radius"),p=Xn("shadow"),g=Xn("inset-shadow"),v=Xn("text-shadow"),w=Xn("drop-shadow"),x=Xn("blur"),E=Xn("perspective"),C=Xn("aspect"),k=Xn("ease"),O=Xn("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...F(),Fe,Ue],z=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],I=()=>[Fe,Ue,d],P=()=>[Nd,"full","auto",...I()],D=()=>[tl,"none","subgrid",Fe,Ue],L=()=>["auto",{span:["full",tl,Fe,Ue]},tl,Fe,Ue],H=()=>[tl,"auto",Fe,Ue],B=()=>["auto","min","max","fr",Fe,Ue],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],$=()=>["auto",...I()],ee=()=>[Nd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...I()],q=()=>[n,Fe,Ue],X=()=>[...F(),RI,CI,{position:[Fe,Ue]}],ge=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",jW,PW,{size:[Fe,Ue]}],ae=()=>[Dx,um,Nc],he=()=>["","none","full",f,Fe,Ue],me=()=>["",yt,um,Nc],Ie=()=>["solid","dashed","dotted","double"],Ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>[yt,Dx,RI,CI],He=()=>["","none",x,Fe,Ue],ve=()=>["none",yt,Fe,Ue],Ge=()=>["none",yt,Fe,Ue],st=()=>[yt,Fe,Ue],ot=()=>[Nd,"full",...I()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qa],breakpoint:[Qa],color:[AW],container:[Qa],"drop-shadow":[Qa],ease:["in","out","in-out"],font:[DW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qa],shadow:[Qa],spacing:["px",yt],text:[Qa],"text-shadow":[Qa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Nd,Ue,Fe,C]}],container:["container"],columns:[{columns:[yt,Ue,Fe,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[tl,"auto",Fe,Ue]}],basis:[{basis:[Nd,"full","auto",c,...I()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[yt,Nd,"auto","initial","none",Ue]}],grow:[{grow:["",yt,Fe,Ue]}],shrink:[{shrink:["",yt,Fe,Ue]}],order:[{order:[tl,"first","last","none",Fe,Ue]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:I()}],"gap-x":[{"gap-x":I()}],"gap-y":[{"gap-y":I()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:I()}],px:[{px:I()}],py:[{py:I()}],ps:[{ps:I()}],pe:[{pe:I()}],pt:[{pt:I()}],pr:[{pr:I()}],pb:[{pb:I()}],pl:[{pl:I()}],m:[{m:$()}],mx:[{mx:$()}],my:[{my:$()}],ms:[{ms:$()}],me:[{me:$()}],mt:[{mt:$()}],mr:[{mr:$()}],mb:[{mb:$()}],ml:[{ml:$()}],"space-x":[{"space-x":I()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":I()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[c,"screen",...ee()]}],"min-w":[{"min-w":[c,"screen","none",...ee()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,um,Nc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,Px]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dx,Ue]}],"font-family":[{font:[MW,Ue,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Fe,Ue]}],"line-clamp":[{"line-clamp":[yt,"none",Fe,Px]}],leading:[{leading:[a,...I()]}],"list-image":[{"list-image":["none",Fe,Ue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,Ue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[yt,"from-font","auto",Fe,Nc]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[yt,"auto",Fe,Ue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:ge()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},tl,Fe,Ue],radial:["",Fe,Ue],conic:[tl,Fe,Ue]},LW,OW]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:ae()}],"gradient-via-pos":[{via:ae()}],"gradient-to-pos":[{to:ae()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:he()}],"rounded-s":[{"rounded-s":he()}],"rounded-e":[{"rounded-e":he()}],"rounded-t":[{"rounded-t":he()}],"rounded-r":[{"rounded-r":he()}],"rounded-b":[{"rounded-b":he()}],"rounded-l":[{"rounded-l":he()}],"rounded-ss":[{"rounded-ss":he()}],"rounded-se":[{"rounded-se":he()}],"rounded-ee":[{"rounded-ee":he()}],"rounded-es":[{"rounded-es":he()}],"rounded-tl":[{"rounded-tl":he()}],"rounded-tr":[{"rounded-tr":he()}],"rounded-br":[{"rounded-br":he()}],"rounded-bl":[{"rounded-bl":he()}],"border-w":[{border:me()}],"border-w-x":[{"border-x":me()}],"border-w-y":[{"border-y":me()}],"border-w-s":[{"border-s":me()}],"border-w-e":[{"border-e":me()}],"border-w-t":[{"border-t":me()}],"border-w-r":[{"border-r":me()}],"border-w-b":[{"border-b":me()}],"border-w-l":[{"border-l":me()}],"divide-x":[{"divide-x":me()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":me()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[yt,Fe,Ue]}],"outline-w":[{outline:["",yt,um,Nc]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",p,Ny,Ay]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",g,Ny,Ay]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:me()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[yt,Nc]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":me()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",v,Ny,Ay]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[yt,Fe,Ue]}],"mix-blend":[{"mix-blend":[...Ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[yt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ue()}],"mask-image-linear-to-pos":[{"mask-linear-to":ue()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":ue()}],"mask-image-t-to-pos":[{"mask-t-to":ue()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":ue()}],"mask-image-r-to-pos":[{"mask-r-to":ue()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":ue()}],"mask-image-b-to-pos":[{"mask-b-to":ue()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":ue()}],"mask-image-l-to-pos":[{"mask-l-to":ue()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":ue()}],"mask-image-x-to-pos":[{"mask-x-to":ue()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":ue()}],"mask-image-y-to-pos":[{"mask-y-to":ue()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[Fe,Ue]}],"mask-image-radial-from-pos":[{"mask-radial-from":ue()}],"mask-image-radial-to-pos":[{"mask-radial-to":ue()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[yt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ue()}],"mask-image-conic-to-pos":[{"mask-conic-to":ue()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:ge()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,Ue]}],filter:[{filter:["","none",Fe,Ue]}],blur:[{blur:He()}],brightness:[{brightness:[yt,Fe,Ue]}],contrast:[{contrast:[yt,Fe,Ue]}],"drop-shadow":[{"drop-shadow":["","none",w,Ny,Ay]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",yt,Fe,Ue]}],"hue-rotate":[{"hue-rotate":[yt,Fe,Ue]}],invert:[{invert:["",yt,Fe,Ue]}],saturate:[{saturate:[yt,Fe,Ue]}],sepia:[{sepia:["",yt,Fe,Ue]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,Ue]}],"backdrop-blur":[{"backdrop-blur":He()}],"backdrop-brightness":[{"backdrop-brightness":[yt,Fe,Ue]}],"backdrop-contrast":[{"backdrop-contrast":[yt,Fe,Ue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",yt,Fe,Ue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[yt,Fe,Ue]}],"backdrop-invert":[{"backdrop-invert":["",yt,Fe,Ue]}],"backdrop-opacity":[{"backdrop-opacity":[yt,Fe,Ue]}],"backdrop-saturate":[{"backdrop-saturate":[yt,Fe,Ue]}],"backdrop-sepia":[{"backdrop-sepia":["",yt,Fe,Ue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":I()}],"border-spacing-x":[{"border-spacing-x":I()}],"border-spacing-y":[{"border-spacing-y":I()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,Ue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[yt,"initial",Fe,Ue]}],ease:[{ease:["linear","initial",k,Fe,Ue]}],delay:[{delay:[yt,Fe,Ue]}],animate:[{animate:["none",O,Fe,Ue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Fe,Ue]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:st()}],"skew-x":[{"skew-x":st()}],"skew-y":[{"skew-y":st()}],transform:[{transform:[Fe,Ue,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ot()}],"translate-x":[{"translate-x":ot()}],"translate-y":[{"translate-y":ot()}],"translate-z":[{"translate-z":ot()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,Ue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,Ue]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[yt,um,Nc,Px]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},FW=bW(UW);function Ce(...n){return FW($M(n))}function O_({className:n,children:e,...t}){return h.jsxs(JH,{"data-slot":"scroll-area",className:Ce("relative",n),...t,children:[h.jsx(XH,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),h.jsx(zW,{}),h.jsx(ZH,{})]})}function zW({className:n,orientation:e="vertical",...t}){return h.jsx(jM,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Ce("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",n),...t,children:h.jsx(UM,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let Iy=null,Ox=null;class qW extends we.Component{constructor(t){super(t);an(this,"applyClonedContent",t=>{if(!(!Ox||!t)){for(const r of Ox.childNodes)t.appendChild(r);TH(this.state.error,{})}});this.state={hasError:!1}}static getDerivedStateFromError(t){return Ox=Iy==null?void 0:Iy.cloneNode(!0),{hasError:!0,error:t}}componentDidCatch(t,r){this.setState({hasError:!0,error:t,errorInfo:r})}render(){const{tagName:t,children:r,...s}=this.props;return this.state.hasError?h.jsxs(h.Fragment,{children:[h.jsx(t,{...s,ref:this.applyClonedContent,className:`filter-[grayscale(0.8)] ${s.className||""}`}),h.jsx(HW,{error:this.state.error,errorInfo:this.state.errorInfo})]}):h.jsx(t,{...s,ref:a=>{Iy=a},children:r})}}function HW(n){var r,s,a,l;const[e,t]=S.useReducer(c=>!c,!1);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`fixed z-10000 inset-0 flex items-center justify-center p-8 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200 transition-opacity ${e?"opacity-0 pointer-events-none":"opacity-100 pointer-events-auto"}`,children:h.jsxs("div",{className:"text-white text-center flex flex-col gap-4 p-4 max-w-lg rounded-lg bg-black/70",children:[h.jsx(Dv,{className:"w-10 h-10 mx-auto"}),h.jsx("h1",{className:"text-2xl font-bold",children:"Something went wrong"}),h.jsx("div",{className:"text-sm whitespace-pre-wrap",children:(r=n.error)==null?void 0:r.message}),h.jsx(O_,{className:"h-40 w-full",children:h.jsx("pre",{className:"text-sm whitespace-pre-wrap text-red-500 text-left",children:((s=n.errorInfo)==null?void 0:s.componentStack)||((a=n.error)==null?void 0:a.stack)})}),h.jsxs("div",{className:"flex items-center gap-2 mx-auto",children:[h.jsx("button",{className:"bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:()=>{window.location.reload()},children:"Reload"}),h.jsx("button",{className:"bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:t,children:"Close"})]})]})}),h.jsxs("div",{className:`fixed left-0 top-0 w-full flex items-center gap-4 flex-wrap bg-black/70 p-4 ${e?"translate-y-0":"translate-y-[-100%]"} transition-all duration-200`,children:[h.jsxs("div",{className:"text-yellow-300 font-bold flex items-center gap-2",children:[h.jsx(Dv,{className:"w-6 h-6"}),"Page is not working"]}),h.jsxs("div",{className:"text-white",children:[" ",(l=n.error)==null?void 0:l.message," "]}),h.jsx("button",{className:"ml-auto bg-white text-black px-4 py-2 rounded-md",type:"button",onClick:t,children:"Details"})]})]})}const AI=n=>{let e;const t=new Set,r=(f,p)=>{const g=typeof f=="function"?f(e):f;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(w=>w(e,v))}},s=()=>e,c={setState:r,getState:s,getInitialState:()=>d,subscribe:f=>(t.add(f),()=>t.delete(f))},d=e=n(r,s,c);return c},WW=(n=>n?AI(n):AI),$W=n=>n;function GW(n,e=$W){const t=we.useSyncExternalStore(n.subscribe,we.useCallback(()=>e(n.getState()),[n,e]),we.useCallback(()=>e(n.getInitialState()),[n,e]));return we.useDebugValue(t),t}const NI=n=>{const e=WW(n),t=r=>GW(e,r);return Object.assign(t,e),t},YW=(n=>n?NI(n):NI);var Jr=(n=>(n.Unspecified="unspecified",n.Customer="customer",n.Worker="worker",n.Foreman="foreman",n.Manager="manager",n.Admin="admin",n))(Jr||{});const H1=YW(n=>({user:null,token:null,status:"loading",role:"unspecified",companyId:null,setUser:e=>n({user:e}),setToken:e=>n({token:e}),setRole:e=>n({role:e}),setCompanyId:e=>n({companyId:e}),setStatus:e=>n({status:e}),logout:async()=>{await Y9(Nr),n({user:null,token:null,status:"unauthenticated",role:"unspecified",companyId:null})}}));G9(Nr,async n=>{const{setUser:e,setToken:t,setRole:r,setCompanyId:s,setStatus:a}=H1.getState();if(n){const l=await n.getIdToken();e(n),t(l);try{const c=be(J,"users",n.uid),d=await In(c);if(d.exists()){const f=d.data();if(f.role){const p=f.role;let g="unspecified";p==="admin"?g="admin":p==="manager"?g="manager":p==="foreman"?g="foreman":p==="worker"?g="worker":p==="customer"?g="customer":Object.values(Jr).includes(p)&&(g=p),r(g)}f.companyId&&s(f.companyId)}else await un(c,{email:n.email,role:"unspecified",createdAt:new Date().toISOString()})}catch(c){console.error("Error fetching user role:",c)}finally{a("authenticated")}}else e(null),t(null),r("unspecified"),s(null),a("unauthenticated")});function Ra(){const n=H1();return{...n,isAuthenticated:n.status==="authenticated",isLoading:n.status==="loading",parentOrigin:null,hasInvalidToken:!1,hasNoToken:n.status==="unauthenticated",clearAuth:n.logout,refreshAuth:async()=>!0}}const KW=()=>H1.getState(),QW=async()=>{};var JW=Symbol.for("react.lazy"),Lv=MS[" use ".trim().toString()];function XW(n){return typeof n=="object"&&n!==null&&"then"in n}function i2(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===JW&&"_payload"in n&&XW(n._payload)}function W1(n){const e=ZW(n),t=S.forwardRef((r,s)=>{let{children:a,...l}=r;i2(a)&&typeof Lv=="function"&&(a=Lv(a._payload));const c=S.Children.toArray(a),d=c.find(t$);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var a2=W1("Slot");function ZW(n){const e=S.forwardRef((t,r)=>{let{children:s,...a}=t;if(i2(s)&&typeof Lv=="function"&&(s=Lv(s._payload)),S.isValidElement(s)){const l=r$(s),c=n$(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var e$=Symbol("radix.slottable");function t$(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===e$}function n$(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function r$(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const II=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,kI=$M,$1=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return kI(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(f=>{const p=t==null?void 0:t[f],g=a==null?void 0:a[f];if(p===null)return null;const v=II(p)||II(g);return s[f][v]}),c=t&&Object.entries(t).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:g,className:v,...w}=p;return Object.entries(w).every(x=>{let[E,C]=x;return Array.isArray(C)?C.includes({...a,...c}[E]):{...a,...c}[E]===C})?[...f,g,v]:f},[]);return kI(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},aS=$1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ee({className:n,variant:e,size:t,asChild:r=!1,onClick:s,...a}){const l=r?a2:"button",c=$t(s,()=>({componentType:"button",eventType:"click",componentInfo:{variant:e,componentProps:{variant:e,className:n,size:t}}}));return h.jsx(l,{"data-slot":"button",className:Ce(aS({variant:e,size:t,className:n})),onClick:c,...a})}const Pi=q5({component:s$});function s$(){const{isAuthenticated:n,isLoading:e,clearAuth:t,status:r}=Ra(),s=async()=>{await t(),window.location.reload()};return h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:h.jsxs("div",{className:"container flex h-14 items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("span",{className:"font-semibold",children:"Moving Company CRM"})}),h.jsx("div",{className:"flex items-center gap-4",children:e?h.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."}):n?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[h.jsx(IM,{className:"h-4 w-4"}),"Authenticated"]}),h.jsxs(Ee,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[h.jsx(V1,{className:"h-4 w-4"}),"Logout"]})]}):h.jsxs("span",{className:"text-sm text-muted-foreground",children:["Status: ",r]})})]})}),h.jsx(qW,{tagName:"main",className:"flex-1",children:h.jsx(_p,{})}),h.jsx(I7,{position:"bottom-right"})]})}const Pc=class Pc{constructor(){an(this,"collectionName","worker_locations")}static getInstance(){return Pc.instance||(Pc.instance=new Pc),Pc.instance}async updateLocation(e){const t=be(J,this.collectionName,e.id);await un(t,e)}async getLocationsByCompany(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("status","==","active"));return(await xe(t)).docs.map(s=>s.data())}};an(Pc,"instance",null);let oS=Pc;function i$(){const{user:n,companyId:e,role:t}=Ra(),r=S.useRef(!0);S.useEffect(()=>{if(r.current=!0,!n||!e||t!=="worker"||!("geolocation"in navigator))return;let s=null;const a=async c=>{if(r.current)try{await oS.getInstance().updateLocation({id:n.uid,worker_name:n.displayName||n.email||"Unknown",company_id:e,latitude:c.coords.latitude,longitude:c.coords.longitude,timestamp:new Date().toISOString(),status:"active"})}catch(d){console.error("Failed to update location",d)}},l=c=>{r.current&&console.warn("Location error",c)};return s=navigator.geolocation.watchPosition(a,l,{enableHighAccuracy:!0,timeout:3e4,maximumAge:1e4}),()=>{r.current=!1,s!==null&&(navigator.geolocation.clearWatch(s),s=null)}},[n,e,t])}const a$=nr("/worker")({component:o$});function o$(){const{role:n,isAuthenticated:e,isLoading:t,logout:r}=Ra(),s=ki();return i$(),S.useEffect(()=>{t||(e?n!==Jr.Worker&&n!==Jr.Manager&&n!==Jr.Admin&&s({to:"/"}):s({to:"/login"}))},[t,e,n,s]),t?h.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):h.jsxs("div",{className:"min-h-screen bg-slate-100 pb-20",children:[h.jsx("header",{className:"bg-slate-900 text-white sticky top-0 z-10 shadow-md",children:h.jsxs("div",{className:"container mx-auto px-4 h-14 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 font-bold text-lg",children:[h.jsx(ya,{className:"h-5 w-5 text-yellow-400"}),h.jsx("span",{children:"Field Ops"})]}),h.jsx("div",{children:h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>r(),className:"text-slate-300 hover:text-white",children:h.jsx(V1,{className:"h-4 w-4"})})})]})}),h.jsx("main",{className:"container mx-auto px-4 py-4",children:h.jsx(_p,{})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t h-16 flex items-center justify-around z-20 pb-safe",children:h.jsxs(fu,{to:"/worker",activeProps:{className:"text-primary"},className:"flex flex-col items-center justify-center w-full h-full text-muted-foreground",children:[h.jsx(ya,{className:"h-6 w-6 mb-1"}),h.jsx("span",{className:"text-xs font-medium",children:"My Jobs"})]})})]})}const l$=nr("/team")({component:c$});function c$(){const{role:n,isAuthenticated:e,isLoading:t}=Ra();return!t&&(!e||n!==Jr.Manager&&n!==Jr.Admin)?h.jsx("div",{children:"Access Denied. Managers only."}):h.jsx("div",{className:"container py-8",children:h.jsx(_p,{})})}const u$=nr("/portal")({component:d$});function d$(){const{role:n,isAuthenticated:e,isLoading:t,logout:r}=Ra(),s=ki();return S.useEffect(()=>{t||(e?n!==Jr.Customer&&Jr.Unspecified:s({to:"/login"}))},[t,e,n,s]),t?h.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):h.jsxs("div",{className:"min-h-screen bg-slate-50",children:[h.jsx("header",{className:"bg-white border-b sticky top-0 z-10",children:h.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-2",children:h.jsx(fu,{to:"/portal",className:"font-bold text-xl text-primary",children:"Swift Movers Portal"})}),h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>r(),children:[h.jsx(V1,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})}),h.jsx("main",{className:"container mx-auto px-4 py-8",children:h.jsx(_p,{})})]})}const Oc=class Oc{constructor(){an(this,"collectionName","companies")}static getInstance(){return Oc.instance||(Oc.instance=new Oc),Oc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getCompanyByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteCompanyByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllCompany(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async insertCompany(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllCompany(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listCompany(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getCompanyById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setCompanyById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteCompanyById(e){await je(be(J,this.collectionName,e))}async getCompanyByName(e){const t=Pe(_e(J,this.collectionName),Re("name","==",e));return(await xe(t)).docs.map(s=>s.data())}async setCompanyByName(e,t){if(t.id)return this.setCompanyById(t.id,t);const r=await this.getCompanyByName(e);return r.length>0?this.setCompanyById(r[0].id,t):this.insertCompany([t])}async deleteCompanyByName(e){const r=(await this.getCompanyByName(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getCompanyByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setCompanyByDataCreator(e,t){return t.id?this.setCompanyById(t.id,t):this.insertCompany([t])}async deleteCompanyByDataCreator(e){const r=(await this.getCompanyByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getCompanyByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setCompanyByDataUpdater(e,t){return t.id?this.setCompanyById(t.id,t):this.insertCompany([t])}async deleteCompanyByDataUpdater(e){const r=(await this.getCompanyByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Oc,"instance",null);let ep=Oc;function ct({className:n,type:e,onChange:t,onBlur:r,onFocus:s,onKeyDown:a,onKeyUp:l,...c}){const d=S.useRef(null),f=$t(t,()=>{var x;return{componentType:"input",eventType:"change",componentInfo:{id:c.id,name:c.name,type:e,value:(x=d.current)==null?void 0:x.value}}},d.current),p=$t(r,()=>{var x;return{componentType:"input",eventType:"blur",componentInfo:{id:c.id,name:c.name,type:e,value:(x=d.current)==null?void 0:x.value}}},d.current),g=$t(s,()=>{var x;return{componentType:"input",eventType:"focus",componentInfo:{id:c.id,name:c.name,type:e,value:(x=d.current)==null?void 0:x.value}}},d.current),v=$t(a,()=>{var x,E;return{componentType:"input",eventType:"keydown",componentInfo:{id:c.id,name:c.name,type:e,key:(x=d.current)==null?void 0:x.value,value:(E=d.current)==null?void 0:E.value}}},d.current),w=$t(l,()=>{var x,E;return{componentType:"input",eventType:"keyup",componentInfo:{id:c.id,name:c.name,type:e,key:(x=d.current)==null?void 0:x.value,value:(E=d.current)==null?void 0:E.value}}},d.current);return h.jsx("input",{ref:d,type:e,"data-slot":"input",onChange:f,onBlur:p,onFocus:g,onKeyDown:v,onKeyUp:w,className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...c})}var h$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],f$=h$.reduce((n,e)=>{const t=W1(`Primitive.${e}`),r=S.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),m$="Label",o2=S.forwardRef((n,e)=>h.jsx(f$.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));o2.displayName=m$;var p$=o2;function ze({className:n,...e}){return h.jsx(p$,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function Mt({className:n,id:e,name:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"card",eventType:"click",componentInfo:{id:e,name:t}}));return h.jsx("div",{"data-slot":"card",id:e,"data-name":t,onClick:a,className:Ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...s})}function Zt({className:n,id:e,name:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"card-header",eventType:"click",componentInfo:{id:e,name:t}}));return h.jsx("div",{"data-slot":"card-header",id:e,"data-name":t,onClick:a,className:Ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...s})}function en({className:n,id:e,name:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"card-title",eventType:"click",componentInfo:{id:e,name:t}}));return h.jsx("div",{"data-slot":"card-title",id:e,"data-name":t,onClick:a,className:Ce("leading-none font-semibold",n),...s})}function dr({className:n,id:e,name:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"card-description",eventType:"click",componentInfo:{id:e,name:t}}));return h.jsx("div",{"data-slot":"card-description",id:e,"data-name":t,onClick:a,className:Ce("text-muted-foreground text-sm",n),...s})}function jt({className:n,...e}){return h.jsx("div",{"data-slot":"card-content",className:Ce("px-6",n),...e})}function Vv({className:n,...e}){return h.jsx("div",{"data-slot":"card-footer",className:Ce("flex items-center px-6 [.border-t]:pt-6",n),...e})}var zt;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},n.getValidEnumValues=s=>{const a=n.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of a)l[c]=s[c];return n.objectValues(l)},n.objectValues=s=>n.objectKeys(s).map(function(a){return s[a]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},n.find=(s,a)=>{for(const l of s)if(a(l))return l},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}n.joinValues=r,n.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(zt||(zt={}));var DI;(function(n){n.mergeShapes=(e,t)=>({...e,...t})})(DI||(DI={}));const qe=zt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ol=n=>{switch(typeof n){case"undefined":return qe.undefined;case"string":return qe.string;case"number":return Number.isNaN(n)?qe.nan:qe.number;case"boolean":return qe.boolean;case"function":return qe.function;case"bigint":return qe.bigint;case"symbol":return qe.symbol;case"object":return Array.isArray(n)?qe.array:n===null?qe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?qe.promise:typeof Map<"u"&&n instanceof Map?qe.map:typeof Set<"u"&&n instanceof Set?qe.set:typeof Date<"u"&&n instanceof Date?qe.date:qe.object;default:return qe.unknown}},Se=zt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ri extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},r={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let c=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(t(l))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return s(this),r}static assert(e){if(!(e instanceof Ri))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,zt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];t[a]=t[a]||[],t[a].push(e(s))}else r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Ri.create=n=>new Ri(n);const lS=(n,e)=>{let t;switch(n.code){case Se.invalid_type:n.received===qe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Se.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,zt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:t=`Unrecognized key(s) in object: ${zt.joinValues(n.keys,", ")}`;break;case Se.invalid_union:t="Invalid input";break;case Se.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${zt.joinValues(n.options)}`;break;case Se.invalid_enum_value:t=`Invalid enum value. Expected ${zt.joinValues(n.options)}, received '${n.received}'`;break;case Se.invalid_arguments:t="Invalid function arguments";break;case Se.invalid_return_type:t="Invalid function return type";break;case Se.invalid_date:t="Invalid date";break;case Se.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:zt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Se.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="bigint"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Se.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Se.custom:t="Invalid input";break;case Se.invalid_intersection_types:t="Intersection results could not be merged";break;case Se.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Se.not_finite:t="Number must be finite";break;default:t=e.defaultError,zt.assertNever(n)}return{message:t}};let g$=lS;function y$(){return g$}const v$=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,a=[...t,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let c="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)c=f(l,{data:e,defaultError:c}).message;return{...s,path:a,message:c}};function Me(n,e){const t=y$(),r=v$({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===lS?void 0:lS].filter(s=>!!s)});n.common.issues.push(r)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return ut;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const s of t){const a=await s.key,l=await s.value;r.push({key:a,value:l})}return xs.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return ut;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[a.value]=l.value)}return{status:e.value,value:r}}}const ut=Object.freeze({status:"aborted"}),Em=n=>({status:"dirty",value:n}),Qs=n=>({status:"valid",value:n}),PI=n=>n.status==="aborted",OI=n=>n.status==="dirty",Ch=n=>n.status==="valid",Bv=n=>typeof Promise<"u"&&n instanceof Promise;var $e;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($e||($e={}));class Fl{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MI=(n,e)=>{if(Ch(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Ri(n.common.issues);return this._error=t,this._error}}};function _t(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,c)=>{const{message:d}=n;return l.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:d??r??c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:d??t??c.defaultError}},description:s}}class Vt{get description(){return this._def.description}_getType(e){return ol(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ol(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xs,ctx:{common:e.parent.common,data:e.data,parsedType:ol(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Bv(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){const r={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)},s=this._parseSync({data:e,path:r.path,parent:r});return MI(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return Ch(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>Ch(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ol(e)},s=this._parse({data:e,path:r.path,parent:r}),a=await(Bv(s)?s:Promise.resolve(s));return MI(r,a)}refine(e,t){const r=s=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,a)=>{const l=e(s),c=()=>a.addIssue({code:Se.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Nh({schema:this,typeName:dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return Dl.create(this,this._def)}nullable(){return Ih.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ha.create(this)}promise(){return qv.create(this,this._def)}or(e){return Fv.create([this,e],this._def)}and(e){return zv.create(this,e,this._def)}transform(e){return new Nh({..._t(this._def),schema:this,typeName:dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new hS({..._t(this._def),innerType:this,defaultValue:t,typeName:dt.ZodDefault})}brand(){return new F$({typeName:dt.ZodBranded,type:this,..._t(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new fS({..._t(this._def),innerType:this,catchValue:t,typeName:dt.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return G1.create(this,e)}readonly(){return mS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _$=/^c[^\s-]{8,}$/i,b$=/^[0-9a-z]+$/,w$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,x$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S$=/^[a-z0-9_-]{21}$/i,E$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,R$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mx;const A$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,I$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,D$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,P$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,l2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O$=new RegExp(`^${l2}$`);function c2(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function M$(n){return new RegExp(`^${c2(n)}$`)}function j$(n){let e=`${l2}T${c2(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function L$(n,e){return!!((e==="v4"||!e)&&A$.test(n)||(e==="v6"||!e)&&I$.test(n))}function V$(n,e){if(!E$.test(n))return!1;try{const[t]=n.split(".");if(!t)return!1;const r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function B$(n,e){return!!((e==="v4"||!e)&&N$.test(n)||(e==="v6"||!e)&&k$.test(n))}class Sl extends Vt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qe.string){const a=this._getOrReturnCtx(e);return Me(a,{code:Se.invalid_type,expected:qe.string,received:a.parsedType}),ut}const r=new xs;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(s=this._getOrReturnCtx(e,s),l?Me(s,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&Me(s,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")C$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"email",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Mx||(Mx=new RegExp(R$,"u")),Mx.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"emoji",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")x$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"uuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")S$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"nanoid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")_$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")b$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cuid2",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")w$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ulid",code:Se.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Me(s,{validation:"url",code:Se.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"regex",code:Se.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?j$(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?O$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?M$(a).test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?T$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"duration",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?L$(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"ip",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?V$(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"jwt",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?B$(e.data,a.version)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"cidr",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?D$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"base64",code:Se.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?P$.test(e.data)||(s=this._getOrReturnCtx(e,s),Me(s,{validation:"base64url",code:Se.invalid_string,message:a.message}),r.dirty()):zt.assertNever(a);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),{validation:t,code:Se.invalid_string,...$e.errToObj(r)})}_addCheck(e){return new Sl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$e.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$e.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$e.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$e.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$e.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$e.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$e.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$e.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$e.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$e.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$e.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$e.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$e.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...$e.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$e.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$e.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...$e.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...$e.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...$e.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...$e.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...$e.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...$e.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...$e.errToObj(t)})}nonempty(e){return this.min(1,$e.errToObj(e))}trim(){return new Sl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Sl.create=n=>new Sl({checks:[],typeName:dt.ZodString,coerce:(n==null?void 0:n.coerce)??!1,..._t(n)});function U$(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,a=Number.parseInt(n.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return a%l/10**s}class Rh extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qe.number){const a=this._getOrReturnCtx(e);return Me(a,{code:Se.invalid_type,expected:qe.number,received:a.parsedType}),ut}let r;const s=new xs;for(const a of this._def.checks)a.kind==="int"?zt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?U$(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.not_finite,message:a.message}),s.dirty()):zt.assertNever(a);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,$e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$e.toString(t))}setLimit(e,t,r,s){return new Rh({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:$e.toString(s)}]})}_addCheck(e){return new Rh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$e.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:$e.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&zt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Rh.create=n=>new Rh({checks:[],typeName:dt.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,..._t(n)});class tp extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qe.bigint)return this._getInvalidInput(e);let r;const s=new xs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Me(r,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):zt.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Me(t,{code:Se.invalid_type,expected:qe.bigint,received:t.parsedType}),ut}gte(e,t){return this.setLimit("min",e,!0,$e.toString(t))}gt(e,t){return this.setLimit("min",e,!1,$e.toString(t))}lte(e,t){return this.setLimit("max",e,!0,$e.toString(t))}lt(e,t){return this.setLimit("max",e,!1,$e.toString(t))}setLimit(e,t,r,s){return new tp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:$e.toString(s)}]})}_addCheck(e){return new tp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:$e.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}tp.create=n=>new tp({checks:[],typeName:dt.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,..._t(n)});class cS extends Vt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qe.boolean){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.boolean,received:r.parsedType}),ut}return Qs(e.data)}}cS.create=n=>new cS({typeName:dt.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,..._t(n)});class Uv extends Vt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qe.date){const a=this._getOrReturnCtx(e);return Me(a,{code:Se.invalid_type,expected:qe.date,received:a.parsedType}),ut}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Me(a,{code:Se.invalid_date}),ut}const r=new xs;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),Me(s,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):zt.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Uv({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:$e.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:$e.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}Uv.create=n=>new Uv({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:dt.ZodDate,..._t(n)});class jI extends Vt{_parse(e){if(this._getType(e)!==qe.symbol){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.symbol,received:r.parsedType}),ut}return Qs(e.data)}}jI.create=n=>new jI({typeName:dt.ZodSymbol,..._t(n)});class LI extends Vt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.undefined,received:r.parsedType}),ut}return Qs(e.data)}}LI.create=n=>new LI({typeName:dt.ZodUndefined,..._t(n)});class VI extends Vt{_parse(e){if(this._getType(e)!==qe.null){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.null,received:r.parsedType}),ut}return Qs(e.data)}}VI.create=n=>new VI({typeName:dt.ZodNull,..._t(n)});class uS extends Vt{constructor(){super(...arguments),this._any=!0}_parse(e){return Qs(e.data)}}uS.create=n=>new uS({typeName:dt.ZodAny,..._t(n)});class BI extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qs(e.data)}}BI.create=n=>new BI({typeName:dt.ZodUnknown,..._t(n)});class zl extends Vt{_parse(e){const t=this._getOrReturnCtx(e);return Me(t,{code:Se.invalid_type,expected:qe.never,received:t.parsedType}),ut}}zl.create=n=>new zl({typeName:dt.ZodNever,..._t(n)});class UI extends Vt{_parse(e){if(this._getType(e)!==qe.undefined){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.void,received:r.parsedType}),ut}return Qs(e.data)}}UI.create=n=>new UI({typeName:dt.ZodVoid,..._t(n)});class ha extends Vt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==qe.array)return Me(t,{code:Se.invalid_type,expected:qe.array,received:t.parsedType}),ut;if(s.exactLength!==null){const l=t.data.length>s.exactLength.value,c=t.data.length<s.exactLength.value;(l||c)&&(Me(t,{code:l?Se.too_big:Se.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Me(t,{code:Se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Me(t,{code:Se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,c)=>s.type._parseAsync(new Fl(t,l,t.path,c)))).then(l=>xs.mergeArray(r,l));const a=[...t.data].map((l,c)=>s.type._parseSync(new Fl(t,l,t.path,c)));return xs.mergeArray(r,a)}get element(){return this._def.type}min(e,t){return new ha({...this._def,minLength:{value:e,message:$e.toString(t)}})}max(e,t){return new ha({...this._def,maxLength:{value:e,message:$e.toString(t)}})}length(e,t){return new ha({...this._def,exactLength:{value:e,message:$e.toString(t)}})}nonempty(e){return this.min(1,e)}}ha.create=(n,e)=>new ha({type:n,minLength:null,maxLength:null,exactLength:null,typeName:dt.ZodArray,..._t(e)});function zd(n){if(n instanceof Wn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=Dl.create(zd(r))}return new Wn({...n._def,shape:()=>e})}else return n instanceof ha?new ha({...n._def,type:zd(n.element)}):n instanceof Dl?Dl.create(zd(n.unwrap())):n instanceof Ih?Ih.create(zd(n.unwrap())):n instanceof xu?xu.create(n.items.map(e=>zd(e))):n}class Wn extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=zt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==qe.object){const f=this._getOrReturnCtx(e);return Me(f,{code:Se.invalid_type,expected:qe.object,received:f.parsedType}),ut}const{status:r,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof zl&&this._def.unknownKeys==="strip"))for(const f in s.data)l.includes(f)||c.push(f);const d=[];for(const f of l){const p=a[f],g=s.data[f];d.push({key:{status:"valid",value:f},value:p._parse(new Fl(s,g,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof zl){const f=this._def.unknownKeys;if(f==="passthrough")for(const p of c)d.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(f==="strict")c.length>0&&(Me(s,{code:Se.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of c){const g=s.data[p];d.push({key:{status:"valid",value:p},value:f._parse(new Fl(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const p of d){const g=await p.key,v=await p.value;f.push({key:g,value:v,alwaysSet:p.alwaysSet})}return f}).then(f=>xs.mergeObjectSync(r,f)):xs.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return $e.errToObj,new Wn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,r)=>{var a,l;const s=((l=(a=this._def).errorMap)==null?void 0:l.call(a,t,r).message)??r.defaultError;return t.code==="unrecognized_keys"?{message:$e.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Wn({...this._def,unknownKeys:"strip"})}passthrough(){return new Wn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Wn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Wn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:dt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Wn({...this._def,catchall:e})}pick(e){const t={};for(const r of zt.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Wn({...this._def,shape:()=>t})}omit(e){const t={};for(const r of zt.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Wn({...this._def,shape:()=>t})}deepPartial(){return zd(this)}partial(e){const t={};for(const r of zt.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new Wn({...this._def,shape:()=>t})}required(e){const t={};for(const r of zt.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Dl;)a=a._def.innerType;t[r]=a}return new Wn({...this._def,shape:()=>t})}keyof(){return u2(zt.objectKeys(this.shape))}}Wn.create=(n,e)=>new Wn({shape:()=>n,unknownKeys:"strip",catchall:zl.create(),typeName:dt.ZodObject,..._t(e)});Wn.strictCreate=(n,e)=>new Wn({shape:()=>n,unknownKeys:"strict",catchall:zl.create(),typeName:dt.ZodObject,..._t(e)});Wn.lazycreate=(n,e)=>new Wn({shape:n,unknownKeys:"strip",catchall:zl.create(),typeName:dt.ZodObject,..._t(e)});class Fv extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return t.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new Ri(c.ctx.common.issues));return Me(t,{code:Se.invalid_union,unionErrors:l}),ut}if(t.common.async)return Promise.all(r.map(async a=>{const l={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const d of r){const f={...t,common:{...t.common,issues:[]},parent:null},p=d._parseSync({data:t.data,path:t.path,parent:f});if(p.status==="valid")return p;p.status==="dirty"&&!a&&(a={result:p,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(d=>new Ri(d));return Me(t,{code:Se.invalid_union,unionErrors:c}),ut}}get options(){return this._def.options}}Fv.create=(n,e)=>new Fv({options:n,typeName:dt.ZodUnion,..._t(e)});function dS(n,e){const t=ol(n),r=ol(e);if(n===e)return{valid:!0,data:n};if(t===qe.object&&r===qe.object){const s=zt.objectKeys(e),a=zt.objectKeys(n).filter(c=>s.indexOf(c)!==-1),l={...n,...e};for(const c of a){const d=dS(n[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(t===qe.array&&r===qe.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<n.length;a++){const l=n[a],c=e[a],d=dS(l,c);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return t===qe.date&&r===qe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class zv extends Vt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(a,l)=>{if(PI(a)||PI(l))return ut;const c=dS(a.value,l.value);return c.valid?((OI(a)||OI(l))&&t.dirty(),{status:t.value,value:c.data}):(Me(r,{code:Se.invalid_intersection_types}),ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}zv.create=(n,e,t)=>new zv({left:n,right:e,typeName:dt.ZodIntersection,..._t(t)});class xu extends Vt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.array)return Me(r,{code:Se.invalid_type,expected:qe.array,received:r.parsedType}),ut;if(r.data.length<this._def.items.length)return Me(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ut;!this._def.rest&&r.data.length>this._def.items.length&&(Me(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Fl(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>xs.mergeArray(t,l)):xs.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new xu({...this._def,rest:e})}}xu.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xu({items:n,typeName:dt.ZodTuple,rest:null,..._t(e)})};class FI extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.map)return Me(r,{code:Se.invalid_type,expected:qe.map,received:r.parsedType}),ut;const s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([c,d],f)=>({key:s._parse(new Fl(r,c,r.path,[f,"key"])),value:a._parse(new Fl(r,d,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,p=await d.value;if(f.status==="aborted"||p.status==="aborted")return ut;(f.status==="dirty"||p.status==="dirty")&&t.dirty(),c.set(f.value,p.value)}return{status:t.value,value:c}})}else{const c=new Map;for(const d of l){const f=d.key,p=d.value;if(f.status==="aborted"||p.status==="aborted")return ut;(f.status==="dirty"||p.status==="dirty")&&t.dirty(),c.set(f.value,p.value)}return{status:t.value,value:c}}}}FI.create=(n,e,t)=>new FI({valueType:e,keyType:n,typeName:dt.ZodMap,..._t(t)});class np extends Vt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==qe.set)return Me(r,{code:Se.invalid_type,expected:qe.set,received:r.parsedType}),ut;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Me(r,{code:Se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Me(r,{code:Se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const a=this._def.valueType;function l(d){const f=new Set;for(const p of d){if(p.status==="aborted")return ut;p.status==="dirty"&&t.dirty(),f.add(p.value)}return{status:t.value,value:f}}const c=[...r.data.values()].map((d,f)=>a._parse(new Fl(r,d,r.path,f)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,t){return new np({...this._def,minSize:{value:e,message:$e.toString(t)}})}max(e,t){return new np({...this._def,maxSize:{value:e,message:$e.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}np.create=(n,e)=>new np({valueType:n,minSize:null,maxSize:null,typeName:dt.ZodSet,..._t(e)});class zI extends Vt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}zI.create=(n,e)=>new zI({getter:n,typeName:dt.ZodLazy,..._t(e)});class qI extends Vt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Me(t,{received:t.data,code:Se.invalid_literal,expected:this._def.value}),ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}qI.create=(n,e)=>new qI({value:n,typeName:dt.ZodLiteral,..._t(e)});function u2(n,e){return new Ah({values:n,typeName:dt.ZodEnum,..._t(e)})}class Ah extends Vt{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Me(t,{expected:zt.joinValues(r),received:t.parsedType,code:Se.invalid_type}),ut}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Me(t,{received:t.data,code:Se.invalid_enum_value,options:r}),ut}return Qs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ah.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ah.create(this.options.filter(r=>!e.includes(r)),{...this._def,...t})}}Ah.create=u2;class HI extends Vt{_parse(e){const t=zt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==qe.string&&r.parsedType!==qe.number){const s=zt.objectValues(t);return Me(r,{expected:zt.joinValues(s),received:r.parsedType,code:Se.invalid_type}),ut}if(this._cache||(this._cache=new Set(zt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=zt.objectValues(t);return Me(r,{received:r.data,code:Se.invalid_enum_value,options:s}),ut}return Qs(e.data)}get enum(){return this._def.values}}HI.create=(n,e)=>new HI({values:n,typeName:dt.ZodNativeEnum,..._t(e)});class qv extends Vt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==qe.promise&&t.common.async===!1)return Me(t,{code:Se.invalid_type,expected:qe.promise,received:t.parsedType}),ut;const r=t.parsedType===qe.promise?t.data:Promise.resolve(t.data);return Qs(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}qv.create=(n,e)=>new qv({type:n,typeName:dt.ZodPromise,..._t(e)});class Nh extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{Me(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async c=>{if(t.value==="aborted")return ut;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?ut:d.status==="dirty"||t.value==="dirty"?Em(d.value):d});{if(t.value==="aborted")return ut;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?ut:c.status==="dirty"||t.value==="dirty"?Em(c.value):c}}if(s.type==="refinement"){const l=c=>{const d=s.refinement(c,a);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?ut:(c.status==="dirty"&&t.dirty(),l(c.value),{status:t.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?ut:(c.status==="dirty"&&t.dirty(),l(c.value).then(()=>({status:t.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ch(l))return ut;const c=s.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Ch(l)?Promise.resolve(s.transform(l.value,a)).then(c=>({status:t.value,value:c})):ut);zt.assertNever(s)}}Nh.create=(n,e,t)=>new Nh({schema:n,typeName:dt.ZodEffects,effect:e,..._t(t)});Nh.createWithPreprocess=(n,e,t)=>new Nh({schema:e,effect:{type:"preprocess",transform:n},typeName:dt.ZodEffects,..._t(t)});class Dl extends Vt{_parse(e){return this._getType(e)===qe.undefined?Qs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dl.create=(n,e)=>new Dl({innerType:n,typeName:dt.ZodOptional,..._t(e)});class Ih extends Vt{_parse(e){return this._getType(e)===qe.null?Qs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ih.create=(n,e)=>new Ih({innerType:n,typeName:dt.ZodNullable,..._t(e)});class hS extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===qe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}hS.create=(n,e)=>new hS({innerType:n,typeName:dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,..._t(e)});class fS extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bv(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ri(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ri(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}fS.create=(n,e)=>new fS({innerType:n,typeName:dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,..._t(e)});class WI extends Vt{_parse(e){if(this._getType(e)!==qe.nan){const r=this._getOrReturnCtx(e);return Me(r,{code:Se.invalid_type,expected:qe.nan,received:r.parsedType}),ut}return{status:"valid",value:e.data}}}WI.create=n=>new WI({typeName:dt.ZodNaN,..._t(n)});class F$ extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class G1 extends Vt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ut:a.status==="dirty"?(t.dirty(),Em(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?ut:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new G1({in:e,out:t,typeName:dt.ZodPipeline})}}class mS extends Vt{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Ch(s)&&(s.value=Object.freeze(s.value)),s);return Bv(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}mS.create=(n,e)=>new mS({innerType:n,typeName:dt.ZodReadonly,..._t(e)});var dt;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(dt||(dt={}));const er=Sl.create,Hv=Rh.create,d2=cS.create,z$=uS.create;zl.create;const Y1=ha.create,M_=Wn.create;Fv.create;zv.create;xu.create;const Zd=Ah.create;qv.create;Dl.create;Ih.create;const q$=M_({id:er().min(1,"Item ID is required"),name:er().min(1,"Item name is required").max(200,"Item name too long"),quantity:Hv().int().positive("Quantity must be positive"),room:er().optional(),category:er().optional(),description:er().optional(),estimatedSize:Zd(["small","medium","large","extra-large"]).optional(),estimatedWeight:Zd(["light","medium","heavy"]).optional(),fragile:d2().optional(),specialHandling:er().optional()});Y1(q$).max(1e3,"Too many items");const H$=er().min(3,"Company name must be at least 3 characters").max(100,"Company name must be less than 100 characters").regex(/^[a-zA-Z0-9\s\-&.,'"()]+$/,"Company name can only contain letters, numbers, spaces, and common punctuation").transform(n=>n.trim()),W$=M_({name:er().min(1,"Item name is required"),category:Zd(["furniture","electronics","appliances","decor","storage","bedding","kitchenware","clothing","books_media","sports_outdoor","fragile","other"]),quantity:Hv().int().positive("Quantity must be positive").max(1e3,"Quantity too high"),description:er().nullable().optional(),estimatedSize:Zd(["small","medium","large","extra-large"]).nullable().optional(),estimatedWeight:Zd(["light","medium","heavy"]).nullable().optional(),fragile:d2().nullable().optional().default(!1),specialHandling:er().nullable().optional()}),$$=Y1(W$).min(1,"At least one item must be detected").max(100,"Too many items detected");M_({customer_id:er().optional(),customer_name:er().min(1,"Customer name is required").trim(),company_id:er().optional(),move_date:er().min(1,"Move date is required"),pickup_address:er().min(1,"Pickup address is required").trim(),dropoff_address:er().min(1,"Dropoff address is required").trim(),estimated_price_min:Hv().nonnegative("Price cannot be negative").optional(),estimated_price_max:Hv().nonnegative("Price cannot be negative").optional(),inventory_items:Y1(z$()).optional()});function G$(n){try{return H$.parse(n)}catch(e){throw e instanceof Ri?new Error(e.errors[0].message):e}}function Y$(n){try{return $$.parse(n)}catch(e){if(e instanceof Ri){const t=e.errors.map(r=>`${r.path.join(".")}: ${r.message}`).join(", ");throw new Error(`Invalid detected items: ${t}`)}throw e}}function K$(){const{user:n,setCompanyId:e,setRole:t}=Ra(),r=ki(),[s,a]=S.useState(""),[l,c]=S.useState(!1),[d,f]=S.useState(null),p=async g=>{if(g.preventDefault(),!!n){c(!0),f(null);try{const v=ep.getInstance(),w=G$(s),x=await v.insertCompany([{name:w,contact_email:n.email||""}]);if(x.length===0)throw new Error("Failed to create company");const E=x[0],C=be(J,"users",n.uid);await wM(C,{companyId:E.id,role:Jr.Manager}),e(E.id),t(Jr.Manager),r({to:"/"})}catch(v){console.error("Onboarding error:",v),f(v.message||"Failed to create company")}finally{c(!1)}}};return h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:h.jsxs(Mt,{className:"w-[450px]",children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Welcome to Swift Movers CRM"}),h.jsx(dr,{children:"Let's set up your moving company workspace."})]}),h.jsxs("form",{onSubmit:p,children:[h.jsxs(jt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"companyName",children:"Company Name"}),h.jsx(ct,{id:"companyName",placeholder:"e.g. Acme Moving Co.",value:s,onChange:g=>a(g.target.value),required:!0,minLength:3})]}),d&&h.jsx("p",{className:"text-sm text-red-500",children:d})]}),h.jsx(Vv,{children:h.jsx(Ee,{type:"submit",className:"w-full",disabled:l||!s,children:l?"Creating Workspace...":"Create Workspace"})})]})]})})}const Q$=nr("/onboarding")({component:K$});function $I(n){const e=J$(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(Z$);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function J$(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=tG(s),c=eG(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var X$=Symbol("radix.slottable");function Z$(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===X$}function eG(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function tG(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function K1(n){const e=n+"CollectionProvider",[t,r]=Di(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:C,children:k}=E,O=we.useRef(null),M=we.useRef(new Map).current;return h.jsx(s,{scope:C,itemMap:M,collectionRef:O,children:k})};l.displayName=e;const c=n+"CollectionSlot",d=$I(c),f=we.forwardRef((E,C)=>{const{scope:k,children:O}=E,M=a(c,k),F=Et(C,M.collectionRef);return h.jsx(d,{ref:F,children:O})});f.displayName=c;const p=n+"CollectionItemSlot",g="data-radix-collection-item",v=$I(p),w=we.forwardRef((E,C)=>{const{scope:k,children:O,...M}=E,F=we.useRef(null),V=Et(C,F),z=a(p,k);return we.useEffect(()=>(z.itemMap.set(F,{ref:F,...M}),()=>void z.itemMap.delete(F))),h.jsx(v,{[g]:"",ref:V,children:O})});w.displayName=p;function x(E){const C=a(n+"CollectionConsumer",E);return we.useCallback(()=>{const O=C.collectionRef.current;if(!O)return[];const M=Array.from(O.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((z,N)=>M.indexOf(z.ref.current)-M.indexOf(N.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},x,r]}var nG=MS[" useId ".trim().toString()]||(()=>{}),rG=0;function _i(n){const[e,t]=S.useState(nG());return xr(()=>{t(r=>r??String(rG++))},[n]),n||(e?`radix-${e}`:"")}var sG=MS[" useInsertionEffect ".trim().toString()]||xr;function ql({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=iG({defaultProp:e,onChange:t}),c=n!==void 0,d=c?n:s;{const p=S.useRef(n!==void 0);S.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,r])}const f=S.useCallback(p=>{var g;if(c){const v=aG(p)?p(n):p;v!==n&&((g=l.current)==null||g.call(l,v))}else a(p)},[c,n,a,l]);return[d,f]}function iG({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),s=S.useRef(t),a=S.useRef(e);return sG(()=>{a.current=e},[e]),S.useEffect(()=>{var l;s.current!==t&&((l=a.current)==null||l.call(a,t),s.current=t)},[t,s]),[t,r,a]}function aG(n){return typeof n=="function"}var jx="rovingFocusGroup.onEntryFocus",oG={bubbles:!1,cancelable:!0},Mp="RovingFocusGroup",[pS,h2,lG]=K1(Mp),[cG,j_]=Di(Mp,[lG]),[uG,dG]=cG(Mp),f2=S.forwardRef((n,e)=>h.jsx(pS.Provider,{scope:n.__scopeRovingFocusGroup,children:h.jsx(pS.Slot,{scope:n.__scopeRovingFocusGroup,children:h.jsx(hG,{...n,ref:e})})}));f2.displayName=Mp;var hG=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=n,v=S.useRef(null),w=Et(e,v),x=Op(a),[E,C]=ql({prop:l,defaultProp:c??null,onChange:d,caller:Mp}),[k,O]=S.useState(!1),M=br(f),F=h2(t),V=S.useRef(!1),[z,N]=S.useState(0);return S.useEffect(()=>{const I=v.current;if(I)return I.addEventListener(jx,M),()=>I.removeEventListener(jx,M)},[M]),h.jsx(uG,{scope:t,orientation:r,dir:x,loop:s,currentTabStopId:E,onItemFocus:S.useCallback(I=>C(I),[C]),onItemShiftTab:S.useCallback(()=>O(!0),[]),onFocusableItemAdd:S.useCallback(()=>N(I=>I+1),[]),onFocusableItemRemove:S.useCallback(()=>N(I=>I-1),[]),children:h.jsx(rt.div,{tabIndex:k||z===0?-1:0,"data-orientation":r,...g,ref:w,style:{outline:"none",...n.style},onMouseDown:De(n.onMouseDown,()=>{V.current=!0}),onFocus:De(n.onFocus,I=>{const P=!V.current;if(I.target===I.currentTarget&&P&&!k){const D=new CustomEvent(jx,oG);if(I.currentTarget.dispatchEvent(D),!D.defaultPrevented){const L=F().filter($=>$.focusable),H=L.find($=>$.active),B=L.find($=>$.id===E),ie=[H,B,...L].filter(Boolean).map($=>$.ref.current);g2(ie,p)}}V.current=!1}),onBlur:De(n.onBlur,()=>O(!1))})})}),m2="RovingFocusGroupItem",p2=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...c}=n,d=_i(),f=a||d,p=dG(m2,t),g=p.currentTabStopId===f,v=h2(t),{onFocusableItemAdd:w,onFocusableItemRemove:x,currentTabStopId:E}=p;return S.useEffect(()=>{if(r)return w(),()=>x()},[r,w,x]),h.jsx(pS.ItemSlot,{scope:t,id:f,focusable:r,active:s,children:h.jsx(rt.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:e,onMouseDown:De(n.onMouseDown,C=>{r?p.onItemFocus(f):C.preventDefault()}),onFocus:De(n.onFocus,()=>p.onItemFocus(f)),onKeyDown:De(n.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const k=pG(C,p.orientation,p.dir);if(k!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let M=v().filter(F=>F.focusable).map(F=>F.ref.current);if(k==="last")M.reverse();else if(k==="prev"||k==="next"){k==="prev"&&M.reverse();const F=M.indexOf(C.currentTarget);M=p.loop?gG(M,F+1):M.slice(F+1)}setTimeout(()=>g2(M))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:E!=null}):l})})});p2.displayName=m2;var fG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mG(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function pG(n,e,t){const r=mG(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fG[r]}function g2(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function gG(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var y2=f2,v2=p2,L_="Tabs",[yG]=Di(L_,[j_]),_2=j_(),[vG,Q1]=yG(L_),b2=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:d="automatic",...f}=n,p=Op(c),[g,v]=ql({prop:r,onChange:s,defaultProp:a??"",caller:L_});return h.jsx(vG,{scope:t,baseId:_i(),value:g,onValueChange:v,orientation:l,dir:p,activationMode:d,children:h.jsx(rt.div,{dir:p,"data-orientation":l,...f,ref:e})})});b2.displayName=L_;var w2="TabsList",x2=S.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,a=Q1(w2,t),l=_2(t);return h.jsx(y2,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:h.jsx(rt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});x2.displayName=w2;var S2="TabsTrigger",E2=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...a}=n,l=Q1(S2,t),c=_2(t),d=R2(l.baseId,r),f=A2(l.baseId,r),p=r===l.value;return h.jsx(v2,{asChild:!0,...c,focusable:!s,active:p,children:h.jsx(rt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...a,ref:e,onMouseDown:De(n.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?l.onValueChange(r):g.preventDefault()}),onKeyDown:De(n.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&l.onValueChange(r)}),onFocus:De(n.onFocus,()=>{const g=l.activationMode!=="manual";!p&&!s&&g&&l.onValueChange(r)})})})});E2.displayName=S2;var T2="TabsContent",C2=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:a,...l}=n,c=Q1(T2,t),d=R2(c.baseId,r),f=A2(c.baseId,r),p=r===c.value,g=S.useRef(p);return S.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),h.jsx(kr,{present:s||p,children:({present:v})=>h.jsx(rt.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:f,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:g.current?"0s":void 0},children:v&&a})})});C2.displayName=T2;function R2(n,e){return`${n}-trigger-${e}`}function A2(n,e){return`${n}-content-${e}`}var _G=b2,bG=x2,wG=E2,xG=C2;function V_({className:n,id:e,defaultValue:t,value:r,onValueChange:s,...a}){const l=$t(s,()=>({componentType:"tabs",eventType:"value-change",componentInfo:{id:e}}));return h.jsx(_G,{id:e,"data-slot":"tabs",className:Ce("flex flex-col gap-2",n),defaultValue:t,value:r,onValueChange:l,...a})}function J1({className:n,id:e,...t}){return h.jsx(bG,{id:e,"data-slot":"tabs-list",className:Ce("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...t})}function kh({className:n,id:e,value:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"tabs-trigger",eventType:"click",componentInfo:{id:e,value:t}}));return h.jsx(wG,{id:e,value:t,"data-slot":"tabs-trigger",className:Ce("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),onClick:a,...s})}function mi({className:n,id:e,value:t,onFocus:r,onBlur:s,...a}){const l=$t(r,()=>({componentType:"tabs-content",eventType:"focus",componentInfo:{id:e,value:t}})),c=$t(s,()=>({componentType:"tabs-content",eventType:"blur",componentInfo:{id:e,value:t}}));return h.jsx(xG,{id:e,value:t,"data-slot":"tabs-content",className:Ce("flex-1 outline-none",n),onFocus:l,onBlur:c,...a})}function SG(){const n=vp({from:"/login"}),[e,t]=S.useState(""),[r,s]=S.useState(""),[a,l]=S.useState(!1),[c,d]=S.useState(n.tab||"login"),[f,p]=S.useState(null),g=ki(),v=async x=>{x.preventDefault(),l(!0),p(null);try{if(c==="signup"){const E=await TP(Nr,e,r);n.role==="customer"&&(await un(be(J,"users",E.user.uid),{email:e,role:"customer",companyId:null,createdAt:new Date().toISOString()}),n.quoteId&&await wM(be(J,"quotes",n.quoteId),{customer_id:E.user.uid}))}else await H9(Nr,e,r);g({to:"/"})}catch(E){p(E.message||"Authentication failed")}finally{l(!1)}},w=async()=>{l(!0),p(null);try{const x=new no;await mF(Nr,x),g({to:"/"})}catch(x){p(x.message||"Google Sign-In failed")}finally{l(!1)}};return h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:h.jsxs(Mt,{className:"w-[400px]",children:[h.jsxs(Zt,{children:[h.jsx(en,{className:"text-2xl text-center",children:"Welcome"}),h.jsx(dr,{className:"text-center",children:"Manage your moving business efficiently"})]}),h.jsx(jt,{children:h.jsxs(V_,{value:c,onValueChange:x=>d(x),className:"w-full",children:[h.jsxs(J1,{className:"grid w-full grid-cols-2 mb-4",children:[h.jsx(kh,{value:"login",children:"Login"}),h.jsx(kh,{value:"signup",children:"Sign Up"})]}),h.jsx("form",{onSubmit:v,children:h.jsxs("div",{className:"grid w-full items-center gap-4",children:[h.jsxs("div",{className:"flex flex-col space-y-1.5",children:[h.jsx(ze,{htmlFor:"email",children:"Email"}),h.jsx(ct,{id:"email",type:"email",placeholder:"name@example.com",value:e,onChange:x=>t(x.target.value),required:!0})]}),h.jsxs("div",{className:"flex flex-col space-y-1.5",children:[h.jsx(ze,{htmlFor:"password",children:"Password"}),h.jsx(ct,{id:"password",type:"password",value:r,onChange:x=>s(x.target.value),required:!0})]}),f&&h.jsx("p",{className:"text-sm text-red-500 font-medium",children:f}),h.jsx(Ee,{className:"w-full mt-2",type:"submit",disabled:a,children:a?"Processing...":c==="signup"?"Create Account":"Sign In"})]})}),h.jsxs("div",{className:"relative my-6",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("span",{className:"w-full border-t"})}),h.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:h.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),h.jsxs(Ee,{variant:"outline",className:"w-full",onClick:w,disabled:a,children:[h.jsx("svg",{className:"mr-2 h-4 w-4","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:h.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Google"]})]})})]})})}const EG=M_({tab:Zd(["login","signup"]).optional(),redirect:er().optional(),role:er().optional(),quoteId:er().optional()}),TG=nr("/login")({validateSearch:n=>EG.parse(n),component:SG}),Mc=class Mc{constructor(){an(this,"collectionName","invitations")}static getInstance(){return Mc.instance||(Mc.instance=new Mc),Mc.instance}async createInvitation(e){const t=be(_e(J,this.collectionName)),r=new Date().toISOString(),s={...e,id:t.id,create_time:r,status:"pending"};return await un(t,s),s}async getInvitationByToken(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?r.data():null}async acceptInvitation(e){const t=be(J,this.collectionName,e);await un(t,{status:"accepted"},{merge:!0})}async getPendingInvitationsByCompany(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("status","==","pending"));return(await xe(t)).docs.map(s=>s.data())}async deleteInvitation(e){await je(be(J,this.collectionName,e))}};an(Mc,"instance",null);let Wv=Mc;const CG=$1("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function RG({className:n,variant:e,...t}){return h.jsx("div",{"data-slot":"alert",role:"alert",className:Ce(CG({variant:e}),n),...t})}function AG({className:n,...e}){return h.jsx("div",{"data-slot":"alert-description",className:Ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}const NG=nr("/invite")({component:IG,validateSearch:n=>({token:n.token||""})});function IG(){const{token:n}=vp({from:"/invite"}),e=ki(),[t,r]=S.useState(null),[s,a]=S.useState(!0),[l,c]=S.useState(""),[d,f]=S.useState(""),[p,g]=S.useState(""),[v,w]=S.useState(!1);S.useEffect(()=>{async function E(){if(!n){c("Invalid invitation link."),a(!1);return}try{const C=await Wv.getInstance().getInvitationByToken(n);C?C.status==="accepted"?c("This invitation has already been used."):new Date(C.expires_at)<new Date?c("This invitation has expired."):r(C):c("Invitation not found. It may have expired or been revoked.")}catch(C){console.error(C),c("Failed to verify invitation.")}finally{a(!1)}}E()},[n]);const x=async E=>{if(E.preventDefault(),d!==p){alert("Passwords do not match");return}if(t){w(!0);try{const C=await TP(Nr,t.email,d);await un(be(J,"users",C.user.uid),{email:t.email,role:t.role,companyId:t.company_id,createdAt:new Date().toISOString()}),await Wv.getInstance().acceptInvitation(n),t.role==="worker"?e({to:"/worker"}):e({to:"/"})}catch(C){console.error(C),alert("Signup failed: "+C.message)}finally{w(!1)}}};return s?h.jsx("div",{className:"flex h-screen items-center justify-center",children:h.jsx(rS,{className:"h-8 w-8 animate-spin text-primary"})}):l?h.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50",children:h.jsxs(Mt,{className:"w-full max-w-md",children:[h.jsx(Zt,{className:"text-red-600",children:h.jsx(en,{children:"Invitation Error"})}),h.jsx(jt,{children:h.jsx("p",{children:l})}),h.jsx(Vv,{children:h.jsx(Ee,{variant:"outline",onClick:()=>e({to:"/login"}),children:"Go to Login"})})]})}):h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-slate-50 p-4",children:h.jsxs(Mt,{className:"w-full max-w-md",children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Join Swift Movers"}),h.jsxs(dr,{children:["You have been invited to join as a ",h.jsx("strong",{children:t==null?void 0:t.role.toUpperCase()}),"."]})]}),h.jsx(jt,{children:h.jsxs("form",{onSubmit:x,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{children:"Email"}),h.jsx(ct,{value:t==null?void 0:t.email,disabled:!0,className:"bg-slate-100"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"password",children:"Set Password"}),h.jsx(ct,{id:"password",type:"password",value:d,onChange:E=>f(E.target.value),required:!0,minLength:6})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"confirm",children:"Confirm Password"}),h.jsx(ct,{id:"confirm",type:"password",value:p,onChange:E=>g(E.target.value),required:!0})]}),h.jsxs(Ee,{type:"submit",className:"w-full",disabled:v,children:[v?h.jsx(rS,{className:"mr-2 h-4 w-4 animate-spin"}):h.jsx(Pp,{className:"mr-2 h-4 w-4"}),"Create Account"]})]})})]})})}var kG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DG=kG.reduce((n,e)=>{const t=W1(`Primitive.${e}`),r=S.forwardRef((s,a)=>{const{asChild:l,...c}=s,d=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(d,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),PG="Separator",GI="horizontal",OG=["horizontal","vertical"],N2=S.forwardRef((n,e)=>{const{decorative:t,orientation:r=GI,...s}=n,a=MG(r)?r:GI,c=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return h.jsx(DG.div,{"data-orientation":a,...c,...s,ref:e})});N2.displayName=PG;function MG(n){return OG.includes(n)}var jG=N2;function rp({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return h.jsx(jG,{"data-slot":"separator",decorative:t,orientation:e,className:Ce("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function Oi(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Su(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}const I2=6048e5,LG=864e5;let VG={};function B_(){return VG}function sp(n,e){var c,d,f,p;const t=B_(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=Oi(n),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function $v(n){return sp(n,{weekStartsOn:1})}function k2(n){const e=Oi(n),t=e.getFullYear(),r=Su(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const s=$v(r),a=Su(n,0);a.setFullYear(t,0,4),a.setHours(0,0,0,0);const l=$v(a);return e.getTime()>=s.getTime()?t+1:e.getTime()>=l.getTime()?t:t-1}function YI(n){const e=Oi(n);return e.setHours(0,0,0,0),e}function KI(n){const e=Oi(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function BG(n,e){const t=YI(n),r=YI(e),s=+t-KI(t),a=+r-KI(r);return Math.round((s-a)/LG)}function UG(n){const e=k2(n),t=Su(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),$v(t)}function FG(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function zG(n){if(!FG(n)&&typeof n!="number")return!1;const e=Oi(n);return!isNaN(Number(e))}function qG(n){const e=Oi(n),t=Su(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const HG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WG=(n,e,t)=>{let r;const s=HG[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Lx(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const $G={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YG={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KG={date:Lx({formats:$G,defaultWidth:"full"}),time:Lx({formats:GG,defaultWidth:"full"}),dateTime:Lx({formats:YG,defaultWidth:"full"})},QG={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JG=(n,e,t,r)=>QG[n];function dm(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;s=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const XG={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZG={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sY=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},iY={ordinalNumber:sY,era:dm({values:XG,defaultWidth:"wide"}),quarter:dm({values:ZG,defaultWidth:"wide",argumentCallback:n=>n-1}),month:dm({values:eY,defaultWidth:"wide"}),day:dm({values:tY,defaultWidth:"wide"}),dayPeriod:dm({values:nY,defaultWidth:"wide",formattingValues:rY,defaultFormattingWidth:"wide"})};function hm(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(c)?oY(c,g=>g.test(l)):aY(c,g=>g.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function aY(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function oY(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function lY(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const cY=/^(\d+)(th|st|nd|rd)?/i,uY=/\d+/i,dY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hY={any:[/^b/i,/^(a|c)/i]},fY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mY={any:[/1/i,/2/i,/3/i,/4/i]},pY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_Y={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wY={ordinalNumber:lY({matchPattern:cY,parsePattern:uY,valueCallback:n=>parseInt(n,10)}),era:hm({matchPatterns:dY,defaultMatchWidth:"wide",parsePatterns:hY,defaultParseWidth:"any"}),quarter:hm({matchPatterns:fY,defaultMatchWidth:"wide",parsePatterns:mY,defaultParseWidth:"any",valueCallback:n=>n+1}),month:hm({matchPatterns:pY,defaultMatchWidth:"wide",parsePatterns:gY,defaultParseWidth:"any"}),day:hm({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any"}),dayPeriod:hm({matchPatterns:_Y,defaultMatchWidth:"any",parsePatterns:bY,defaultParseWidth:"any"})},xY={code:"en-US",formatDistance:WG,formatLong:KG,formatRelative:JG,localize:iY,match:wY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SY(n){const e=Oi(n);return BG(e,qG(e))+1}function EY(n){const e=Oi(n),t=+$v(e)-+UG(e);return Math.round(t/I2)+1}function D2(n,e){var p,g,v,w;const t=Oi(n),r=t.getFullYear(),s=B_(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(v=s.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=Su(n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=sp(l,e),d=Su(n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=sp(d,e);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function TY(n,e){var c,d,f,p;const t=B_(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=D2(n,e),a=Su(n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),sp(a,e)}function CY(n,e){const t=Oi(n),r=+sp(t,e)-+TY(t,e);return Math.round(r/I2)+1}function Jt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const nl={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Jt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Jt(t+1,2)},d(n,e){return Jt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Jt(n.getHours()%12||12,e.length)},H(n,e){return Jt(n.getHours(),e.length)},m(n,e){return Jt(n.getMinutes(),e.length)},s(n,e){return Jt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Jt(s,e.length)}},Id={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QI={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return nl.y(n,e)},Y:function(n,e,t,r){const s=D2(n,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return Jt(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Jt(a,e.length)},R:function(n,e){const t=k2(n);return Jt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Jt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Jt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Jt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return nl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Jt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=CY(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Jt(s,e.length)},I:function(n,e,t){const r=EY(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Jt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):nl.d(n,e)},D:function(n,e,t){const r=SY(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Jt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Jt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Jt(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Jt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Id.noon:r===0?s=Id.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Id.evening:r>=12?s=Id.afternoon:r>=4?s=Id.morning:s=Id.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return nl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):nl.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Jt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):nl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):nl.s(n,e)},S:function(n,e){return nl.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return XI(r);case"XXXX":case"XX":return kc(r);case"XXXXX":case"XXX":default:return kc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return XI(r);case"xxxx":case"xx":return kc(r);case"xxxxx":case"xxx":default:return kc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JI(r,":");case"OOOO":default:return"GMT"+kc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JI(r,":");case"zzzz":default:return"GMT"+kc(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Jt(r,e.length)},T:function(n,e,t){const r=n.getTime();return Jt(r,e.length)}};function JI(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+Jt(a,2)}function XI(n,e){return n%60===0?(n>0?"-":"+")+Jt(Math.abs(n)/60,2):kc(n,e)}function kc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Jt(Math.trunc(r/60),2),a=Jt(r%60,2);return t+s+e+a}const ZI=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},P2=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},RY=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return ZI(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ZI(r,e)).replace("{{time}}",P2(s,e))},AY={p:P2,P:RY},NY=/^D+$/,IY=/^Y+$/,kY=["D","DD","YY","YYYY"];function DY(n){return NY.test(n)}function PY(n){return IY.test(n)}function OY(n,e,t){const r=MY(n,e,t);if(console.warn(r),kY.includes(n))throw new RangeError(r)}function MY(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,LY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VY=/^'([^]*?)'?$/,BY=/''/g,UY=/[a-zA-Z]/;function fa(n,e,t){var p,g,v,w;const r=B_(),s=r.locale??xY,a=r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=r.weekStartsOn??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??0,c=Oi(n);if(!zG(c))throw new RangeError("Invalid time value");let d=e.match(LY).map(x=>{const E=x[0];if(E==="p"||E==="P"){const C=AY[E];return C(x,s.formatLong)}return x}).join("").match(jY).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const E=x[0];if(E==="'")return{isToken:!1,value:FY(x)};if(QI[E])return{isToken:!0,value:x};if(E.match(UY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return d.map(x=>{if(!x.isToken)return x.value;const E=x.value;(PY(E)||DY(E))&&OY(E,e,String(n));const C=QI[E[0]];return C(c,E,s.localize,f)}).join("")}function FY(n){const e=n.match(VY);return e?e[1].replace(BY,"'"):n}function zY(n,e,t="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:n,timeZoneName:t}).format(e).split(/\s/g).slice(2).join(" ")}const Vx={},Tm={};function Jc(n,e){try{const r=(Vx[n]||(Vx[n]=new Intl.DateTimeFormat("en-US",{timeZone:n,timeZoneName:"longOffset"}).format))(e).split("GMT")[1];return r in Tm?Tm[r]:ek(r,r.split(":"))}catch{if(n in Tm)return Tm[n];const t=n==null?void 0:n.match(qY);return t?ek(n,t.slice(1)):NaN}}const qY=/([+-]\d\d):?(\d\d)?/;function ek(n,e){const t=+(e[0]||0),r=+(e[1]||0),s=+(e[2]||0)/60;return Tm[n]=t*60+r>0?t*60+r+s:t*60-r-s}class aa extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Jc(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),O2(this),gS(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new aa(...t,e):new aa(Date.now(),e)}withTimeZone(e){return new aa(+this,e)}getTimezoneOffset(){const e=-Jc(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),gS(this),+this}[Symbol.for("constructDateFrom")](e){return new aa(+new Date(e),this.timeZone)}}const tk=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!tk.test(n))return;const e=n.replace(tk,"$1UTC");aa.prototype[e]&&(n.startsWith("get")?aa.prototype[n]=function(){return this.internal[e]()}:(aa.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),HY(this),+this},aa.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),gS(this),+this}))});function gS(n){n.internal.setTime(+n),n.internal.setUTCSeconds(n.internal.getUTCSeconds()-Math.round(-Jc(n.timeZone,n)*60))}function HY(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),O2(n)}function O2(n){const e=Jc(n.timeZone,n),t=e>0?Math.floor(e):Math.ceil(e),r=new Date(+n);r.setUTCHours(r.getUTCHours()-1);const s=-new Date(+n).getTimezoneOffset(),a=-new Date(+r).getTimezoneOffset(),l=s-a,c=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();l&&c&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+l);const d=s-t;d&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+d);const f=new Date(+n);f.setUTCSeconds(0);const p=s>0?f.getSeconds():(f.getSeconds()-60)%60,g=Math.round(-(Jc(n.timeZone,n)*60))%60;(g||p)&&(n.internal.setUTCSeconds(n.internal.getUTCSeconds()+g),Date.prototype.setUTCSeconds.call(n,Date.prototype.getUTCSeconds.call(n)+g+p));const v=Jc(n.timeZone,n),w=v>0?Math.floor(v):Math.ceil(v),E=-new Date(+n).getTimezoneOffset()-w,C=w!==t,k=E-d;if(C&&k){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+k);const O=Jc(n.timeZone,n),M=O>0?Math.floor(O):Math.ceil(O),F=w-M;F&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+F),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+F))}}class Rr extends aa{static tz(e,...t){return t.length?new Rr(...t,e):new Rr(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),s=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,s]=this.tzComponents();return`${e} GMT${t}${r}${s} (${zY(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:(t==null?void 0:t.timeZone)||this.timeZone})}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,r,s]}withTimeZone(e){return new Rr(+this,e)}[Symbol.for("constructDateFrom")](e){return new Rr(+new Date(e),this.timeZone)}}const M2=6048e5,WY=864e5,nk=Symbol.for("constructDateFrom");function Kn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&nk in n?n[nk](e):n instanceof Date?new n.constructor(e):new Date(e)}function ln(n,e){return Kn(e||n,n)}function j2(n,e,t){const r=ln(n,t==null?void 0:t.in);return isNaN(e)?Kn(n,NaN):(e&&r.setDate(r.getDate()+e),r)}function L2(n,e,t){const r=ln(n,t==null?void 0:t.in);if(isNaN(e))return Kn(n,NaN);if(!e)return r;const s=r.getDate(),a=Kn(n,r.getTime());a.setMonth(r.getMonth()+e+1,0);const l=a.getDate();return s>=l?a:(r.setFullYear(a.getFullYear(),a.getMonth(),s),r)}let $Y={};function jp(){return $Y}function Dh(n,e){var c,d,f,p;const t=jp(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=ln(n,e==null?void 0:e.in),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function ip(n,e){return Dh(n,{...e,weekStartsOn:1})}function V2(n,e){const t=ln(n,e==null?void 0:e.in),r=t.getFullYear(),s=Kn(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=ip(s),l=Kn(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=ip(l);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function rk(n){const e=ln(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Qh(n,...e){const t=Kn.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function ap(n,e){const t=ln(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function X1(n,e,t){const[r,s]=Qh(t==null?void 0:t.in,n,e),a=ap(r),l=ap(s),c=+a-rk(a),d=+l-rk(l);return Math.round((c-d)/WY)}function GY(n,e){const t=V2(n,e),r=Kn(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ip(r)}function YY(n,e,t){return j2(n,e*7,t)}function KY(n,e,t){return L2(n,e*12,t)}function QY(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Kn.bind(null,s));const a=ln(s,r);(!t||t<a||isNaN(+a))&&(t=a)}),Kn(r,t||NaN)}function JY(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=Kn.bind(null,s));const a=ln(s,r);(!t||t>a||isNaN(+a))&&(t=a)}),Kn(r,t||NaN)}function XY(n,e,t){const[r,s]=Qh(t==null?void 0:t.in,n,e);return+ap(r)==+ap(s)}function B2(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ZY(n){return!(!B2(n)&&typeof n!="number"||isNaN(+ln(n)))}function U2(n,e,t){const[r,s]=Qh(t==null?void 0:t.in,n,e),a=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return a*12+l}function eK(n,e){const t=ln(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function F2(n,e){const[t,r]=Qh(n,e.start,e.end);return{start:t,end:r}}function tK(n,e){const{start:t,end:r}=F2(e==null?void 0:e.in,n);let s=+t>+r;const a=s?+t:+r,l=s?r:t;l.setHours(0,0,0,0),l.setDate(1);let c=1;const d=[];for(;+l<=a;)d.push(Kn(t,l)),l.setMonth(l.getMonth()+c);return s?d.reverse():d}function nK(n,e){const t=ln(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function rK(n,e){const t=ln(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function z2(n,e){const t=ln(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function sK(n,e){const{start:t,end:r}=F2(e==null?void 0:e.in,n);let s=+t>+r;const a=s?+t:+r,l=s?r:t;l.setHours(0,0,0,0),l.setMonth(0,1);let c=1;const d=[];for(;+l<=a;)d.push(Kn(t,l)),l.setFullYear(l.getFullYear()+c);return s?d.reverse():d}function q2(n,e){var c,d,f,p;const t=jp(),r=(e==null?void 0:e.weekStartsOn)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,s=ln(n,e==null?void 0:e.in),a=s.getDay(),l=(a<r?-7:0)+6-(a-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function iK(n,e){return q2(n,{...e,weekStartsOn:1})}const aK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oK=(n,e,t)=>{let r;const s=aK[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Bx(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const lK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dK={date:Bx({formats:lK,defaultWidth:"full"}),time:Bx({formats:cK,defaultWidth:"full"}),dateTime:Bx({formats:uK,defaultWidth:"full"})},hK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fK=(n,e,t,r)=>hK[n];function fm(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,c=t!=null&&t.width?String(t.width):l;s=n.formattingValues[c]||n.formattingValues[l]}else{const l=n.defaultWidth,c=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[c]||n.values[l]}const a=n.argumentCallback?n.argumentCallback(e):e;return s[a]}}const mK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_K={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bK=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},wK={ordinalNumber:bK,era:fm({values:mK,defaultWidth:"wide"}),quarter:fm({values:pK,defaultWidth:"wide",argumentCallback:n=>n-1}),month:fm({values:gK,defaultWidth:"wide"}),day:fm({values:yK,defaultWidth:"wide"}),dayPeriod:fm({values:vK,defaultWidth:"wide",formattingValues:_K,defaultFormattingWidth:"wide"})};function mm(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],a=e.match(s);if(!a)return null;const l=a[0],c=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(c)?SK(c,g=>g.test(l)):xK(c,g=>g.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=e.slice(l.length);return{value:f,rest:p}}}function xK(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function SK(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function EK(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],a=e.match(n.parsePattern);if(!a)return null;let l=n.valueCallback?n.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}const TK=/^(\d+)(th|st|nd|rd)?/i,CK=/\d+/i,RK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},AK={any:[/^b/i,/^(a|c)/i]},NK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IK={any:[/1/i,/2/i,/3/i,/4/i]},kK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},PK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LK={ordinalNumber:EK({matchPattern:TK,parsePattern:CK,valueCallback:n=>parseInt(n,10)}),era:mm({matchPatterns:RK,defaultMatchWidth:"wide",parsePatterns:AK,defaultParseWidth:"any"}),quarter:mm({matchPatterns:NK,defaultMatchWidth:"wide",parsePatterns:IK,defaultParseWidth:"any",valueCallback:n=>n+1}),month:mm({matchPatterns:kK,defaultMatchWidth:"wide",parsePatterns:DK,defaultParseWidth:"any"}),day:mm({matchPatterns:PK,defaultMatchWidth:"wide",parsePatterns:OK,defaultParseWidth:"any"}),dayPeriod:mm({matchPatterns:MK,defaultMatchWidth:"any",parsePatterns:jK,defaultParseWidth:"any"})},qd={code:"en-US",formatDistance:oK,formatLong:dK,formatRelative:fK,localize:wK,match:LK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VK(n,e){const t=ln(n,e==null?void 0:e.in);return X1(t,z2(t))+1}function Z1(n,e){const t=ln(n,e==null?void 0:e.in),r=+ip(t)-+GY(t);return Math.round(r/M2)+1}function H2(n,e){var p,g,v,w;const t=ln(n,e==null?void 0:e.in),r=t.getFullYear(),s=jp(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((w=(v=s.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=Kn((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const c=Dh(l,e),d=Kn((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,a),d.setHours(0,0,0,0);const f=Dh(d,e);return+t>=+c?r+1:+t>=+f?r:r-1}function BK(n,e){var c,d,f,p;const t=jp(),r=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=H2(n,e),a=Kn((e==null?void 0:e.in)||n,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Dh(a,e)}function eE(n,e){const t=ln(n,e==null?void 0:e.in),r=+Dh(t,e)-+BK(t,e);return Math.round(r/M2)+1}function Xt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const rl={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Xt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Xt(t+1,2)},d(n,e){return Xt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Xt(n.getHours()%12||12,e.length)},H(n,e){return Xt(n.getHours(),e.length)},m(n,e){return Xt(n.getMinutes(),e.length)},s(n,e){return Xt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Xt(s,e.length)}},kd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sk={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return rl.y(n,e)},Y:function(n,e,t,r){const s=H2(n,r),a=s>0?s:1-s;if(e==="YY"){const l=a%100;return Xt(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):Xt(a,e.length)},R:function(n,e){const t=V2(n);return Xt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Xt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return rl.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=eE(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Xt(s,e.length)},I:function(n,e,t){const r=Z1(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Xt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):rl.d(n,e)},D:function(n,e,t){const r=VK(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Xt(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Xt(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Xt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=kd.noon:r===0?s=kd.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=kd.evening:r>=12?s=kd.afternoon:r>=4?s=kd.morning:s=kd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return rl.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):rl.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):rl.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):rl.s(n,e)},S:function(n,e){return rl.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return ak(r);case"XXXX":case"XX":return Dc(r);case"XXXXX":case"XXX":default:return Dc(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return ak(r);case"xxxx":case"xx":return Dc(r);case"xxxxx":case"xxx":default:return Dc(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ik(r,":");case"OOOO":default:return"GMT"+Dc(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ik(r,":");case"zzzz":default:return"GMT"+Dc(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Xt(r,e.length)},T:function(n,e,t){return Xt(+n,e.length)}};function ik(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),a=r%60;return a===0?t+String(s):t+String(s)+e+Xt(a,2)}function ak(n,e){return n%60===0?(n>0?"-":"+")+Xt(Math.abs(n)/60,2):Dc(n,e)}function Dc(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Xt(Math.trunc(r/60),2),a=Xt(r%60,2);return t+s+e+a}const ok=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},W2=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},UK=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return ok(n,e);let a;switch(r){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ok(r,e)).replace("{{time}}",W2(s,e))},FK={p:W2,P:UK},zK=/^D+$/,qK=/^Y+$/,HK=["D","DD","YY","YYYY"];function WK(n){return zK.test(n)}function $K(n){return qK.test(n)}function GK(n,e,t){const r=YK(n,e,t);if(console.warn(r),HK.includes(n))throw new RangeError(r)}function YK(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,QK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,JK=/^'([^]*?)'?$/,XK=/''/g,ZK=/[a-zA-Z]/;function Cm(n,e,t){var p,g,v,w,x,E,C,k;const r=jp(),s=(t==null?void 0:t.locale)??r.locale??qd,a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(v=r.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((E=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((k=(C=r.locale)==null?void 0:C.options)==null?void 0:k.weekStartsOn)??0,c=ln(n,t==null?void 0:t.in);if(!ZY(c))throw new RangeError("Invalid time value");let d=e.match(QK).map(O=>{const M=O[0];if(M==="p"||M==="P"){const F=FK[M];return F(O,s.formatLong)}return O}).join("").match(KK).map(O=>{if(O==="''")return{isToken:!1,value:"'"};const M=O[0];if(M==="'")return{isToken:!1,value:eQ(O)};if(sk[M])return{isToken:!0,value:O};if(M.match(ZK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:O}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return d.map(O=>{if(!O.isToken)return O.value;const M=O.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&$K(M)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&WK(M))&&GK(M,e,String(n));const F=sk[M[0]];return F(c,M,s.localize,f)}).join("")}function eQ(n){const e=n.match(JK);return e?e[1].replace(XK,"'"):n}function tQ(n,e){const t=ln(n,e==null?void 0:e.in),r=t.getFullYear(),s=t.getMonth(),a=Kn(t,0);return a.setFullYear(r,s+1,0),a.setHours(0,0,0,0),a.getDate()}function nQ(n,e){return ln(n,e==null?void 0:e.in).getMonth()}function rQ(n,e){return ln(n,e==null?void 0:e.in).getFullYear()}function sQ(n,e){return+ln(n)>+ln(e)}function iQ(n,e){return+ln(n)<+ln(e)}function aQ(n,e,t){const[r,s]=Qh(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function oQ(n,e,t){const[r,s]=Qh(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()}function lQ(n,e,t){const r=ln(n,t==null?void 0:t.in),s=r.getFullYear(),a=r.getDate(),l=Kn(n,0);l.setFullYear(s,e,15),l.setHours(0,0,0,0);const c=tQ(l);return r.setMonth(e,Math.min(a,c)),r}function cQ(n,e,t){const r=ln(n,t==null?void 0:t.in);return isNaN(+r)?Kn(n,NaN):(r.setFullYear(e),r)}const lk=5,uQ=4;function dQ(n,e){const t=e.startOfMonth(n),r=t.getDay()>0?t.getDay():7,s=e.addDays(n,-r+1),a=e.addDays(s,lk*7-1);return e.getMonth(n)===e.getMonth(a)?lk:uQ}function $2(n,e){const t=e.startOfMonth(n),r=t.getDay();return r===1?t:r===0?e.addDays(t,-6):e.addDays(t,-1*(r-1))}function hQ(n,e){const t=$2(n,e),r=dQ(n,e);return e.addDays(t,r*7-1)}const G2={...qd,labels:{labelDayButton:(n,e,t,r)=>{let s;r&&typeof r.format=="function"?s=r.format.bind(r):s=(l,c)=>Cm(l,c,{locale:qd,...t});let a=s(n,"PPPP");return e.today&&(a=`Today, ${a}`),e.selected&&(a=`${a}, selected`),a},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:n=>`Week ${n}`,labelYearDropdown:"Choose the Year",labelGrid:(n,e,t)=>{let r;return t&&typeof t.format=="function"?r=t.format.bind(t):r=(s,a)=>Cm(s,a,{locale:qd,...e}),r(n,"LLLL yyyy")},labelGridcell:(n,e,t,r)=>{let s;r&&typeof r.format=="function"?s=r.format.bind(r):s=(l,c)=>Cm(l,c,{locale:qd,...t});let a=s(n,"PPPP");return e!=null&&e.today&&(a=`Today, ${a}`),a},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(n,e,t)=>{let r;return t&&typeof t.format=="function"?r=t.format.bind(t):r=(s,a)=>Cm(s,a,{locale:qd,...e}),r(n,"cccc")}}};class Ss{constructor(e,t){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Rr.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,a)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(r,s,a):this.options.timeZone?new Rr(r,s,a,this.options.timeZone):new Date(r,s,a)},this.addDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(r,s):j2(r,s)},this.addMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(r,s):L2(r,s)},this.addWeeks=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(r,s):YY(r,s)},this.addYears=(r,s)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(r,s):KY(r,s)},this.differenceInCalendarDays=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):X1(r,s)},this.differenceInCalendarMonths=(r,s)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):U2(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):tK(r)},this.eachYearOfInterval=r=>{var c;const s=(c=this.overrides)!=null&&c.eachYearOfInterval?this.overrides.eachYearOfInterval(r):sK(r),a=new Set(s.map(d=>this.getYear(d)));if(a.size===s.length)return s;const l=[];return a.forEach(d=>{l.push(new Date(d,0,1))}),l},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):hQ(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):iK(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):eK(r)},this.endOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(r,s):q2(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):rK(r)},this.format=(r,s,a)=>{var c;const l=(c=this.overrides)!=null&&c.format?this.overrides.format(r,s,this.options):Cm(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):Z1(r)},this.getMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(r,this.options):nQ(r,this.options)},this.getYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(r,this.options):rQ(r,this.options)},this.getWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(r,this.options):eE(r,this.options)},this.isAfter=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(r,s):sQ(r,s)},this.isBefore=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(r,s):iQ(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):B2(r)},this.isSameDay=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(r,s):XY(r,s)},this.isSameMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(r,s):aQ(r,s)},this.isSameYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(r,s):oQ(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):QY(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):JY(r)},this.setMonth=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(r,s):lQ(r,s)},this.setYear=(r,s)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(r,s):cQ(r,s)},this.startOfBroadcastWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):$2(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):ap(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):ip(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):nK(r)},this.startOfWeek=(r,s)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(r,this.options):Dh(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):z2(r)},this.options={locale:G2,...e},this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=t.format(s);return r}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,r=>t[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){var t;const e=(t=this.options.locale)==null?void 0:t.code;return e&&Ss.yearFirstLocales.has(e)?"year-first":"month-first"}formatMonthYear(e){const{locale:t,timeZone:r,numerals:s}=this.options,a=t==null?void 0:t.code;if(a&&Ss.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:r,numberingSystem:s}).format(e)}catch{}const l=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(e,l)}}Ss.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const Aa=new Ss;class Y2{constructor(e,t,r=Aa){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r,this.isoDate=r.format(e,"yyyy-MM-dd"),this.displayMonthId=r.format(t,"yyyy-MM"),this.dateMonthId=r.format(e,"yyyy-MM")}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class fQ{constructor(e,t){this.date=e,this.weeks=t}}class mQ{constructor(e,t){this.days=t,this.weekNumber=e}}function pQ(n){return we.createElement("button",{...n})}function gQ(n){return we.createElement("span",{...n})}function yQ(n){const{size:e=24,orientation:t="left",className:r}=n;return we.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&we.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&we.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&we.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&we.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function vQ(n){const{day:e,modifiers:t,...r}=n;return we.createElement("td",{...r})}function _Q(n){const{day:e,modifiers:t,...r}=n,s=we.useRef(null);return we.useEffect(()=>{var a;t.focused&&((a=s.current)==null||a.focus())},[t.focused]),we.createElement("button",{ref:s,...r})}var Ke;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(Ke||(Ke={}));var wn;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(wn||(wn={}));var gi;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(gi||(gi={}));var fs;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(fs||(fs={}));function bQ(n){const{options:e,className:t,components:r,classNames:s,...a}=n,l=[s[Ke.Dropdown],t].join(" "),c=e==null?void 0:e.find(({value:d})=>d===a.value);return we.createElement("span",{"data-disabled":a.disabled,className:s[Ke.DropdownRoot]},we.createElement(r.Select,{className:l,...a},e==null?void 0:e.map(({value:d,label:f,disabled:p})=>we.createElement(r.Option,{key:d,value:d,disabled:p},f))),we.createElement("span",{className:s[Ke.CaptionLabel],"aria-hidden":!0},c==null?void 0:c.label,we.createElement(r.Chevron,{orientation:"down",size:18,className:s[Ke.Chevron]})))}function wQ(n){return we.createElement("div",{...n})}function xQ(n){return we.createElement("div",{...n})}function SQ(n){const{calendarMonth:e,displayIndex:t,...r}=n;return we.createElement("div",{...r},n.children)}function EQ(n){const{calendarMonth:e,displayIndex:t,...r}=n;return we.createElement("div",{...r})}function TQ(n){return we.createElement("table",{...n})}function CQ(n){return we.createElement("div",{...n})}const K2=S.createContext(void 0);function Lp(){const n=S.useContext(K2);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function RQ(n){const{components:e}=Lp();return we.createElement(e.Dropdown,{...n})}function AQ(n){const{onPreviousClick:e,onNextClick:t,previousMonth:r,nextMonth:s,...a}=n,{components:l,classNames:c,labels:{labelPrevious:d,labelNext:f}}=Lp(),p=S.useCallback(v=>{s&&(t==null||t(v))},[s,t]),g=S.useCallback(v=>{r&&(e==null||e(v))},[r,e]);return we.createElement("nav",{...a},we.createElement(l.PreviousMonthButton,{type:"button",className:c[Ke.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:g},we.createElement(l.Chevron,{disabled:r?void 0:!0,className:c[Ke.Chevron],orientation:"left"})),we.createElement(l.NextMonthButton,{type:"button",className:c[Ke.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:p},we.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:c[Ke.Chevron]})))}function NQ(n){const{components:e}=Lp();return we.createElement(e.Button,{...n})}function IQ(n){return we.createElement("option",{...n})}function kQ(n){const{components:e}=Lp();return we.createElement(e.Button,{...n})}function DQ(n){const{rootRef:e,...t}=n;return we.createElement("div",{...t,ref:e})}function PQ(n){return we.createElement("select",{...n})}function OQ(n){const{week:e,...t}=n;return we.createElement("tr",{...t})}function MQ(n){return we.createElement("th",{...n})}function jQ(n){return we.createElement("thead",{"aria-hidden":!0},we.createElement("tr",{...n}))}function LQ(n){const{week:e,...t}=n;return we.createElement("th",{...t})}function VQ(n){return we.createElement("th",{...n})}function BQ(n){return we.createElement("tbody",{...n})}function UQ(n){const{components:e}=Lp();return we.createElement(e.Dropdown,{...n})}const FQ=Object.freeze(Object.defineProperty({__proto__:null,Button:pQ,CaptionLabel:gQ,Chevron:yQ,Day:vQ,DayButton:_Q,Dropdown:bQ,DropdownNav:wQ,Footer:xQ,Month:SQ,MonthCaption:EQ,MonthGrid:TQ,Months:CQ,MonthsDropdown:RQ,Nav:AQ,NextMonthButton:NQ,Option:IQ,PreviousMonthButton:kQ,Root:DQ,Select:PQ,Week:OQ,WeekNumber:LQ,WeekNumberHeader:VQ,Weekday:MQ,Weekdays:jQ,Weeks:BQ,YearsDropdown:UQ},Symbol.toStringTag,{value:"Module"}));function ao(n,e,t=!1,r=Aa){let{from:s,to:a}=n;const{differenceInCalendarDays:l,isSameDay:c}=r;return s&&a?(l(a,s)<0&&([s,a]=[a,s]),l(e,s)>=(t?1:0)&&l(a,e)>=(t?1:0)):!t&&a?c(a,e):!t&&s?c(s,e):!1}function tE(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function U_(n){return!!(n&&typeof n=="object"&&"from"in n)}function nE(n){return!!(n&&typeof n=="object"&&"after"in n)}function rE(n){return!!(n&&typeof n=="object"&&"before"in n)}function Q2(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function J2(n,e){return Array.isArray(n)&&n.every(e.isDate)}function oo(n,e,t=Aa){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:a,isAfter:l}=t;return r.some(c=>{if(typeof c=="boolean")return c;if(t.isDate(c))return s(n,c);if(J2(c,t))return c.some(d=>s(n,d));if(U_(c))return ao(c,n,!1,t);if(Q2(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(n.getDay()):c.dayOfWeek===n.getDay();if(tE(c)){const d=a(c.before,n),f=a(c.after,n),p=d>0,g=f<0;return l(c.before,c.after)?g&&p:p||g}return nE(c)?a(n,c.after)>0:rE(c)?a(c.before,n)>0:typeof c=="function"?c(n):!1})}function zQ(n,e,t,r,s){const{disabled:a,hidden:l,modifiers:c,showOutsideDays:d,broadcastCalendar:f,today:p=s.today()}=e,{isSameDay:g,isSameMonth:v,startOfMonth:w,isBefore:x,endOfMonth:E,isAfter:C}=s,k=t&&w(t),O=r&&E(r),M={[wn.focused]:[],[wn.outside]:[],[wn.disabled]:[],[wn.hidden]:[],[wn.today]:[]},F={};for(const V of n){const{date:z,displayMonth:N}=V,I=!!(N&&!v(z,N)),P=!!(k&&x(z,k)),D=!!(O&&C(z,O)),L=!!(a&&oo(z,a,s)),H=!!(l&&oo(z,l,s))||P||D||!f&&!d&&I||f&&d===!1&&I,B=g(z,p);I&&M.outside.push(V),L&&M.disabled.push(V),H&&M.hidden.push(V),B&&M.today.push(V),c&&Object.keys(c).forEach(Q=>{const ie=c==null?void 0:c[Q];ie&&oo(z,ie,s)&&(F[Q]?F[Q].push(V):F[Q]=[V])})}return V=>{const z={[wn.focused]:!1,[wn.disabled]:!1,[wn.hidden]:!1,[wn.outside]:!1,[wn.today]:!1},N={};for(const I in M){const P=M[I];z[I]=P.some(D=>D===V)}for(const I in F)N[I]=F[I].some(P=>P===V);return{...z,...N}}}function qQ(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[a])=>(t[a]?s.push(t[a]):e[wn[a]]?s.push(e[wn[a]]):e[gi[a]]&&s.push(e[gi[a]]),s),[e[Ke.Day]])}function HQ(n){return{...FQ,...n}}function WQ(n){const e={"data-mode":n.mode??void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([t,r])=>{t.startsWith("data-")&&(e[t]=r)}),e}function sE(){const n={};for(const e in Ke)n[Ke[e]]=`rdp-${Ke[e]}`;for(const e in wn)n[wn[e]]=`rdp-${wn[e]}`;for(const e in gi)n[gi[e]]=`rdp-${gi[e]}`;for(const e in fs)n[fs[e]]=`rdp-${fs[e]}`;return n}function X2(n,e,t){return(t??new Ss(e)).formatMonthYear(n)}const $Q=X2;function GQ(n,e,t){return(t??new Ss(e)).format(n,"d")}function YQ(n,e=Aa){return e.format(n,"LLLL")}function KQ(n,e,t){return(t??new Ss(e)).format(n,"cccccc")}function QQ(n,e=Aa){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function JQ(){return""}function Z2(n,e=Aa){return e.format(n,"yyyy")}const XQ=Z2,ZQ=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:X2,formatDay:GQ,formatMonthCaption:$Q,formatMonthDropdown:YQ,formatWeekNumber:QQ,formatWeekNumberHeader:JQ,formatWeekdayName:KQ,formatYearCaption:XQ,formatYearDropdown:Z2},Symbol.toStringTag,{value:"Module"}));function eJ(n){return n!=null&&n.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n!=null&&n.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),{...ZQ,...n}}function iE(n,e,t,r){let s=(r??new Ss(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const tJ=iE;function aE(n,e,t){return(t??new Ss(e)).formatMonthYear(n)}const nJ=aE;function ej(n,e,t,r){let s=(r??new Ss(t)).format(n,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function tj(n){return"Choose the Month"}function nj(){return""}const rJ="Go to the Next Month";function rj(n,e){return rJ}function sj(n){return"Go to the Previous Month"}function ij(n,e,t){return(t??new Ss(e)).format(n,"cccc")}function aj(n,e){return`Week ${n}`}function oj(n){return"Week Number"}function lj(n){return"Choose the Year"}const sJ=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:nJ,labelDay:tJ,labelDayButton:iE,labelGrid:aE,labelGridcell:ej,labelMonthDropdown:tj,labelNav:nj,labelNext:rj,labelPrevious:sj,labelWeekNumber:aj,labelWeekNumberHeader:oj,labelWeekday:ij,labelYearDropdown:lj},Symbol.toStringTag,{value:"Module"})),li=(n,e,t)=>e||(t?typeof t=="function"?t:(...r)=>t:n);function iJ(n,e){var r;const t=((r=e.locale)==null?void 0:r.labels)??{};return{...sJ,...n??{},labelDayButton:li(iE,n==null?void 0:n.labelDayButton,t.labelDayButton),labelMonthDropdown:li(tj,n==null?void 0:n.labelMonthDropdown,t.labelMonthDropdown),labelNext:li(rj,n==null?void 0:n.labelNext,t.labelNext),labelPrevious:li(sj,n==null?void 0:n.labelPrevious,t.labelPrevious),labelWeekNumber:li(aj,n==null?void 0:n.labelWeekNumber,t.labelWeekNumber),labelYearDropdown:li(lj,n==null?void 0:n.labelYearDropdown,t.labelYearDropdown),labelGrid:li(aE,n==null?void 0:n.labelGrid,t.labelGrid),labelGridcell:li(ej,n==null?void 0:n.labelGridcell,t.labelGridcell),labelNav:li(nj,n==null?void 0:n.labelNav,t.labelNav),labelWeekNumberHeader:li(oj,n==null?void 0:n.labelWeekNumberHeader,t.labelWeekNumberHeader),labelWeekday:li(ij,n==null?void 0:n.labelWeekday,t.labelWeekday)}}function aJ(n,e,t,r,s){const{startOfMonth:a,startOfYear:l,endOfYear:c,eachMonthOfInterval:d,getMonth:f}=s;return d({start:l(n),end:c(n)}).map(v=>{const w=r.formatMonthDropdown(v,s),x=f(v),E=e&&v<a(e)||t&&v>a(t)||!1;return{value:x,label:w,disabled:E}})}function oJ(n,e={},t={}){let r={...e==null?void 0:e[Ke.Day]};return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{r={...r,...t==null?void 0:t[s]}}),r}function lJ(n,e,t,r){const s=r??n.today(),a=t?n.startOfBroadcastWeek(s,n):e?n.startOfISOWeek(s):n.startOfWeek(s),l=[];for(let c=0;c<7;c++){const d=n.addDays(a,c);l.push(d)}return l}function cJ(n,e,t,r,s=!1){if(!n||!e)return;const{startOfYear:a,endOfYear:l,eachYearOfInterval:c,getYear:d}=r,f=a(n),p=l(e),g=c({start:f,end:p});return s&&g.reverse(),g.map(v=>{const w=t.formatYearDropdown(v,r);return{value:d(v),label:w,disabled:!1}})}function uJ(n,e={}){var c;const{weekStartsOn:t,locale:r}=e,s=t??((c=r==null?void 0:r.options)==null?void 0:c.weekStartsOn)??0,a=d=>{const f=typeof d=="number"||typeof d=="string"?new Date(d):d;return new Rr(f.getFullYear(),f.getMonth(),f.getDate(),12,0,0,n)},l=d=>{const f=a(d);return new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0)};return{today:()=>a(Rr.tz(n)),newDate:(d,f,p)=>new Rr(d,f,p,12,0,0,n),startOfDay:d=>a(d),startOfWeek:(d,f)=>{const p=a(d),g=(f==null?void 0:f.weekStartsOn)??s,v=(p.getDay()-g+7)%7;return p.setDate(p.getDate()-v),p},startOfISOWeek:d=>{const f=a(d),p=(f.getDay()-1+7)%7;return f.setDate(f.getDate()-p),f},startOfMonth:d=>{const f=a(d);return f.setDate(1),f},startOfYear:d=>{const f=a(d);return f.setMonth(0,1),f},endOfWeek:(d,f)=>{const p=a(d),w=((((f==null?void 0:f.weekStartsOn)??s)+6)%7-p.getDay()+7)%7;return p.setDate(p.getDate()+w),p},endOfISOWeek:d=>{const f=a(d),p=(7-f.getDay())%7;return f.setDate(f.getDate()+p),f},endOfMonth:d=>{const f=a(d);return f.setMonth(f.getMonth()+1,0),f},endOfYear:d=>{const f=a(d);return f.setMonth(11,31),f},eachMonthOfInterval:d=>{const f=a(d.start),p=a(d.end),g=[],v=new Rr(f.getFullYear(),f.getMonth(),1,12,0,0,n),w=p.getFullYear()*12+p.getMonth();for(;v.getFullYear()*12+v.getMonth()<=w;)g.push(new Rr(v,n)),v.setMonth(v.getMonth()+1,1);return g},addDays:(d,f)=>{const p=a(d);return p.setDate(p.getDate()+f),p},addWeeks:(d,f)=>{const p=a(d);return p.setDate(p.getDate()+f*7),p},addMonths:(d,f)=>{const p=a(d);return p.setMonth(p.getMonth()+f),p},addYears:(d,f)=>{const p=a(d);return p.setFullYear(p.getFullYear()+f),p},eachYearOfInterval:d=>{const f=a(d.start),p=a(d.end),g=[],v=new Rr(f.getFullYear(),0,1,12,0,0,n);for(;v.getFullYear()<=p.getFullYear();)g.push(new Rr(v,n)),v.setFullYear(v.getFullYear()+1,0,1);return g},getWeek:(d,f)=>{var g;const p=l(d);return eE(p,{weekStartsOn:(f==null?void 0:f.weekStartsOn)??s,firstWeekContainsDate:(f==null?void 0:f.firstWeekContainsDate)??((g=r==null?void 0:r.options)==null?void 0:g.firstWeekContainsDate)??1})},getISOWeek:d=>{const f=l(d);return Z1(f)},differenceInCalendarDays:(d,f)=>{const p=l(d),g=l(f);return X1(p,g)},differenceInCalendarMonths:(d,f)=>{const p=l(d),g=l(f);return U2(p,g)}}}const Vp=n=>n instanceof HTMLElement?n:null,Ux=n=>[...n.querySelectorAll("[data-animated-month]")??[]],dJ=n=>Vp(n.querySelector("[data-animated-month]")),Fx=n=>Vp(n.querySelector("[data-animated-caption]")),zx=n=>Vp(n.querySelector("[data-animated-weeks]")),hJ=n=>Vp(n.querySelector("[data-animated-nav]")),fJ=n=>Vp(n.querySelector("[data-animated-weekdays]"));function mJ(n,e,{classNames:t,months:r,focused:s,dateLib:a}){const l=S.useRef(null),c=S.useRef(r),d=S.useRef(!1);S.useLayoutEffect(()=>{const f=c.current;if(c.current=r,!e||!n.current||!(n.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const p=a.isSameMonth(r[0].date,f[0].date),g=a.isAfter(r[0].date,f[0].date),v=g?t[fs.caption_after_enter]:t[fs.caption_before_enter],w=g?t[fs.weeks_after_enter]:t[fs.weeks_before_enter],x=l.current,E=n.current.cloneNode(!0);if(E instanceof HTMLElement?(Ux(E).forEach(M=>{if(!(M instanceof HTMLElement))return;const F=dJ(M);F&&M.contains(F)&&M.removeChild(F);const V=Fx(M);V&&V.classList.remove(v);const z=zx(M);z&&z.classList.remove(w)}),l.current=E):l.current=null,d.current||p||s)return;const C=x instanceof HTMLElement?Ux(x):[],k=Ux(n.current);if(k!=null&&k.every(O=>O instanceof HTMLElement)&&C&&C.every(O=>O instanceof HTMLElement)){d.current=!0,n.current.style.isolation="isolate";const O=hJ(n.current);O&&(O.style.zIndex="1"),k.forEach((M,F)=>{const V=C[F];if(!V)return;M.style.position="relative",M.style.overflow="hidden";const z=Fx(M);z&&z.classList.add(v);const N=zx(M);N&&N.classList.add(w);const I=()=>{d.current=!1,n.current&&(n.current.style.isolation=""),O&&(O.style.zIndex=""),z&&z.classList.remove(v),N&&N.classList.remove(w),M.style.position="",M.style.overflow="",M.contains(V)&&M.removeChild(V)};V.style.pointerEvents="none",V.style.position="absolute",V.style.overflow="hidden",V.setAttribute("aria-hidden","true");const P=fJ(V);P&&(P.style.opacity="0");const D=Fx(V);D&&(D.classList.add(g?t[fs.caption_before_exit]:t[fs.caption_after_exit]),D.addEventListener("animationend",I));const L=zx(V);L&&L.classList.add(g?t[fs.weeks_before_exit]:t[fs.weeks_after_exit]),M.insertBefore(V,M.firstChild)})}})}function pJ(n,e,t,r){const s=n[0],a=n[n.length-1],{ISOWeek:l,fixedWeeks:c,broadcastCalendar:d}=t??{},{addDays:f,differenceInCalendarDays:p,differenceInCalendarMonths:g,endOfBroadcastWeek:v,endOfISOWeek:w,endOfMonth:x,endOfWeek:E,isAfter:C,startOfBroadcastWeek:k,startOfISOWeek:O,startOfWeek:M}=r,F=d?k(s,r):l?O(s):M(s),V=d?v(a):l?w(x(a)):E(x(a)),z=e&&(d?v(e):l?w(e):E(e)),N=z&&C(V,z)?z:V,I=p(N,F),P=g(a,s)+1,D=[];for(let B=0;B<=I;B++){const Q=f(F,B);D.push(Q)}const H=(d?35:42)*P;if(c&&D.length<H){const B=H-D.length;for(let Q=0;Q<B;Q++){const ie=f(D[D.length-1],1);D.push(ie)}}return D}function gJ(n){const e=[];return n.reduce((t,r)=>{const s=r.weeks.reduce((a,l)=>a.concat(l.days.slice()),e.slice());return t.concat(s.slice())},e.slice())}function yJ(n,e,t,r){const{numberOfMonths:s=1}=t,a=[];for(let l=0;l<s;l++){const c=r.addMonths(n,l);if(e&&c>e)break;a.push(c)}return a}function ck(n,e,t,r){const{month:s,defaultMonth:a,today:l=r.today(),numberOfMonths:c=1}=n;let d=s||a||l;const{differenceInCalendarMonths:f,addMonths:p,startOfMonth:g}=r;if(t&&f(t,d)<c-1){const v=-1*(c-1);d=p(t,v)}return e&&f(d,e)<0&&(d=e),g(d)}function vJ(n,e,t,r){const{addDays:s,endOfBroadcastWeek:a,endOfISOWeek:l,endOfMonth:c,endOfWeek:d,getISOWeek:f,getWeek:p,startOfBroadcastWeek:g,startOfISOWeek:v,startOfWeek:w}=r,x=n.reduce((E,C)=>{const k=t.broadcastCalendar?g(C,r):t.ISOWeek?v(C):w(C),O=t.broadcastCalendar?a(C):t.ISOWeek?l(c(C)):d(c(C)),M=e.filter(N=>N>=k&&N<=O),F=t.broadcastCalendar?35:42;if(t.fixedWeeks&&M.length<F){const N=e.filter(I=>{const P=F-M.length;return I>O&&I<=s(O,P)});M.push(...N)}const V=M.reduce((N,I)=>{const P=t.ISOWeek?f(I):p(I),D=N.find(H=>H.weekNumber===P),L=new Y2(I,C,r);return D?D.days.push(L):N.push(new mQ(P,[L])),N},[]),z=new fQ(C,V);return E.push(z),E},[]);return t.reverseMonths?x.reverse():x}function _J(n,e){let{startMonth:t,endMonth:r}=n;const{startOfYear:s,startOfDay:a,startOfMonth:l,endOfMonth:c,addYears:d,endOfYear:f,newDate:p,today:g}=e,{fromYear:v,toYear:w,fromMonth:x,toMonth:E}=n;!t&&x&&(t=x),!t&&v&&(t=e.newDate(v,0,1)),!r&&E&&(r=E),!r&&w&&(r=p(w,11,31));const C=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=l(t):v?t=p(v,0,1):!t&&C&&(t=s(d(n.today??g(),-100))),r?r=c(r):w?r=p(w,11,31):!r&&C&&(r=f(n.today??g())),[t&&a(t),r&&a(r)]}function bJ(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a=1}=t,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:d}=r,f=s?a:1,p=l(n);if(!e)return c(p,f);if(!(d(e,n)<a))return c(p,f)}function wJ(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:a}=t,{startOfMonth:l,addMonths:c,differenceInCalendarMonths:d}=r,f=s?a??1:1,p=l(n);if(!e)return c(p,-f);if(!(d(p,e)<=0))return c(p,-f)}function xJ(n){const e=[];return n.reduce((t,r)=>t.concat(r.weeks.slice()),e.slice())}function F_(n,e){const[t,r]=S.useState(n);return[e===void 0?t:e,r]}function SJ(n,e){var F;const[t,r]=_J(n,e),{startOfMonth:s,endOfMonth:a}=e,l=ck(n,t,r,e),[c,d]=F_(l,n.month?l:void 0);S.useEffect(()=>{const V=ck(n,t,r,e);d(V)},[n.timeZone]);const{months:f,weeks:p,days:g,previousMonth:v,nextMonth:w}=S.useMemo(()=>{const V=yJ(c,r,{numberOfMonths:n.numberOfMonths},e),z=pJ(V,n.endMonth?a(n.endMonth):void 0,{ISOWeek:n.ISOWeek,fixedWeeks:n.fixedWeeks,broadcastCalendar:n.broadcastCalendar},e),N=vJ(V,z,{broadcastCalendar:n.broadcastCalendar,fixedWeeks:n.fixedWeeks,ISOWeek:n.ISOWeek,reverseMonths:n.reverseMonths},e),I=xJ(N),P=gJ(N),D=wJ(c,t,n,e),L=bJ(c,r,n,e);return{months:N,weeks:I,days:P,previousMonth:D,nextMonth:L}},[e,c.getTime(),r==null?void 0:r.getTime(),t==null?void 0:t.getTime(),n.disableNavigation,n.broadcastCalendar,(F=n.endMonth)==null?void 0:F.getTime(),n.fixedWeeks,n.ISOWeek,n.numberOfMonths,n.pagedNavigation,n.reverseMonths]),{disableNavigation:x,onMonthChange:E}=n,C=V=>p.some(z=>z.days.some(N=>N.isEqualTo(V))),k=V=>{if(x)return;let z=s(V);t&&z<s(t)&&(z=s(t)),r&&z>s(r)&&(z=s(r)),d(z),E==null||E(z)};return{months:f,weeks:p,days:g,navStart:t,navEnd:r,previousMonth:v,nextMonth:w,goToMonth:k,goToDay:V=>{C(V)||k(V.date)}}}var Zi;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Zi||(Zi={}));function uk(n){return!n[wn.disabled]&&!n[wn.hidden]&&!n[wn.outside]}function EJ(n,e,t,r){let s,a=-1;for(const l of n){const c=e(l);uk(c)&&(c[wn.focused]&&a<Zi.FocusedModifier?(s=l,a=Zi.FocusedModifier):r!=null&&r.isEqualTo(l)&&a<Zi.LastFocused?(s=l,a=Zi.LastFocused):t(l.date)&&a<Zi.Selected?(s=l,a=Zi.Selected):c[wn.today]&&a<Zi.Today&&(s=l,a=Zi.Today))}return s||(s=n.find(l=>uk(e(l)))),s}function TJ(n,e,t,r,s,a,l){const{ISOWeek:c,broadcastCalendar:d}=a,{addDays:f,addMonths:p,addWeeks:g,addYears:v,endOfBroadcastWeek:w,endOfISOWeek:x,endOfWeek:E,max:C,min:k,startOfBroadcastWeek:O,startOfISOWeek:M,startOfWeek:F}=l;let z={day:f,week:g,month:p,year:v,startOfWeek:N=>d?O(N,l):c?M(N):F(N),endOfWeek:N=>d?w(N):c?x(N):E(N)}[n](t,e==="after"?1:-1);return e==="before"&&r?z=C([r,z]):e==="after"&&s&&(z=k([s,z])),z}function cj(n,e,t,r,s,a,l,c=0){if(c>365)return;const d=TJ(n,e,t.date,r,s,a,l),f=!!(a.disabled&&oo(d,a.disabled,l)),p=!!(a.hidden&&oo(d,a.hidden,l)),g=d,v=new Y2(d,g,l);return!f&&!p?v:cj(n,e,v,r,s,a,l,c+1)}function CJ(n,e,t,r,s){const{autoFocus:a}=n,[l,c]=S.useState(),d=EJ(e.days,t,r||(()=>!1),l),[f,p]=S.useState(a?d:void 0);return{isFocusTarget:E=>!!(d!=null&&d.isEqualTo(E)),setFocused:p,focused:f,blur:()=>{c(f),p(void 0)},moveFocus:(E,C)=>{if(!f)return;const k=cj(E,C,f,e.navStart,e.navEnd,n,s);k&&(n.disableNavigation&&!e.days.some(M=>M.isEqualTo(k))||(e.goToDay(k),p(k)))}}}function RJ(n,e){const{selected:t,required:r,onSelect:s}=n,[a,l]=F_(t,s?t:void 0),c=s?t:a,{isSameDay:d}=e,f=w=>(c==null?void 0:c.some(x=>d(x,w)))??!1,{min:p,max:g}=n;return{selected:c,select:(w,x,E)=>{let C=[...c??[]];if(f(w)){if((c==null?void 0:c.length)===p||r&&(c==null?void 0:c.length)===1)return;C=c==null?void 0:c.filter(k=>!d(k,w))}else(c==null?void 0:c.length)===g?C=[w]:C=[...C,w];return s||l(C),s==null||s(C,w,x,E),C},isSelected:f}}function AJ(n,e,t=0,r=0,s=!1,a=Aa){const{from:l,to:c}=e||{},{isSameDay:d,isAfter:f,isBefore:p}=a;let g;if(!l&&!c)g={from:n,to:t>0?void 0:n};else if(l&&!c)d(l,n)?t===0?g={from:l,to:n}:s?g={from:l,to:void 0}:g=void 0:p(n,l)?g={from:n,to:l}:g={from:l,to:n};else if(l&&c)if(d(l,n)&&d(c,n))s?g={from:l,to:c}:g=void 0;else if(d(l,n))g={from:l,to:t>0?void 0:n};else if(d(c,n))g={from:n,to:t>0?void 0:n};else if(p(n,l))g={from:n,to:c};else if(f(n,l))g={from:l,to:n};else if(f(n,c))g={from:l,to:n};else throw new Error("Invalid range");if(g!=null&&g.from&&(g!=null&&g.to)){const v=a.differenceInCalendarDays(g.to,g.from);r>0&&v>r?g={from:n,to:void 0}:t>1&&v<t&&(g={from:n,to:void 0})}return g}function NJ(n,e,t=Aa){const r=Array.isArray(e)?e:[e];let s=n.from;const a=t.differenceInCalendarDays(n.to,n.from),l=Math.min(a,6);for(let c=0;c<=l;c++){if(r.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function dk(n,e,t=Aa){return ao(n,e.from,!1,t)||ao(n,e.to,!1,t)||ao(e,n.from,!1,t)||ao(e,n.to,!1,t)}function IJ(n,e,t=Aa){const r=Array.isArray(e)?e:[e];if(r.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:t.isDate(c)?ao(n,c,!1,t):J2(c,t)?c.some(d=>ao(n,d,!1,t)):U_(c)?c.from&&c.to?dk(n,{from:c.from,to:c.to},t):!1:Q2(c)?NJ(n,c.dayOfWeek,t):tE(c)?t.isAfter(c.before,c.after)?dk(n,{from:t.addDays(c.after,1),to:t.addDays(c.before,-1)},t):oo(n.from,c,t)||oo(n.to,c,t):nE(c)||rE(c)?oo(n.from,c,t)||oo(n.to,c,t):!1))return!0;const l=r.filter(c=>typeof c=="function");if(l.length){let c=n.from;const d=t.differenceInCalendarDays(n.to,n.from);for(let f=0;f<=d;f++){if(l.some(p=>p(c)))return!0;c=t.addDays(c,1)}}return!1}function kJ(n,e){const{disabled:t,excludeDisabled:r,selected:s,required:a,onSelect:l}=n,[c,d]=F_(s,l?s:void 0),f=l?s:c;return{selected:f,select:(v,w,x)=>{const{min:E,max:C}=n,k=v?AJ(v,f,E,C,a,e):void 0;return r&&t&&(k!=null&&k.from)&&k.to&&IJ({from:k.from,to:k.to},t,e)&&(k.from=v,k.to=void 0),l||d(k),l==null||l(k,v,w,x),k},isSelected:v=>f&&ao(f,v,!1,e)}}function DJ(n,e){const{selected:t,required:r,onSelect:s}=n,[a,l]=F_(t,s?t:void 0),c=s?t:a,{isSameDay:d}=e;return{selected:c,select:(g,v,w)=>{let x=g;return!r&&c&&c&&d(g,c)&&(x=void 0),s||l(x),s==null||s(x,g,v,w),x},isSelected:g=>c?d(c,g):!1}}function PJ(n,e){const t=DJ(n,e),r=RJ(n,e),s=kJ(n,e);switch(n.mode){case"single":return t;case"multiple":return r;case"range":return s;default:return}}function Bs(n,e){return n instanceof Rr&&n.timeZone===e?n:new Rr(n,e)}function Dd(n,e,t){return Bs(n,e)}function hk(n,e,t){return typeof n=="boolean"||typeof n=="function"?n:n instanceof Date?Dd(n,e):Array.isArray(n)?n.map(r=>r instanceof Date?Dd(r,e):r):U_(n)?{...n,from:n.from?Bs(n.from,e):n.from,to:n.to?Bs(n.to,e):n.to}:tE(n)?{before:Dd(n.before,e),after:Dd(n.after,e)}:nE(n)?{after:Dd(n.after,e)}:rE(n)?{before:Dd(n.before,e)}:n}function qx(n,e,t){return n&&(Array.isArray(n)?n.map(r=>hk(r,e)):hk(n,e))}function OJ(n){var tc;let e=n;const t=e.timeZone;if(t&&(e={...n,timeZone:t},e.today&&(e.today=Bs(e.today,t)),e.month&&(e.month=Bs(e.month,t)),e.defaultMonth&&(e.defaultMonth=Bs(e.defaultMonth,t)),e.startMonth&&(e.startMonth=Bs(e.startMonth,t)),e.endMonth&&(e.endMonth=Bs(e.endMonth,t)),e.mode==="single"&&e.selected?e.selected=Bs(e.selected,t):e.mode==="multiple"&&e.selected?e.selected=(tc=e.selected)==null?void 0:tc.map(Ze=>Bs(Ze,t)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?Bs(e.selected.from,t):e.selected.from,to:e.selected.to?Bs(e.selected.to,t):e.selected.to}),e.disabled!==void 0&&(e.disabled=qx(e.disabled,t)),e.hidden!==void 0&&(e.hidden=qx(e.hidden,t)),e.modifiers)){const Ze={};Object.keys(e.modifiers).forEach(vt=>{var Oe;Ze[vt]=qx((Oe=e.modifiers)==null?void 0:Oe[vt],t)}),e.modifiers=Ze}const{components:r,formatters:s,labels:a,dateLib:l,locale:c,classNames:d}=S.useMemo(()=>{const Ze={...G2,...e.locale},vt=e.broadcastCalendar?1:e.weekStartsOn,Oe=e.noonSafe&&e.timeZone?uJ(e.timeZone,{weekStartsOn:vt,locale:Ze}):void 0,ht=e.dateLib&&Oe?{...Oe,...e.dateLib}:e.dateLib??Oe,gn=new Ss({locale:Ze,weekStartsOn:vt,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},ht);return{dateLib:gn,components:HQ(e.components),formatters:eJ(e.formatters),labels:iJ(e.labels,gn.options),locale:Ze,classNames:{...sE(),...e.classNames}}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.noonSafe,e.components,e.formatters,e.labels,e.classNames]);e.today||(e={...e,today:l.today()});const{captionLayout:f,mode:p,navLayout:g,numberOfMonths:v=1,onDayBlur:w,onDayClick:x,onDayFocus:E,onDayKeyDown:C,onDayMouseEnter:k,onDayMouseLeave:O,onNextClick:M,onPrevClick:F,showWeekNumber:V,styles:z}=e,{formatCaption:N,formatDay:I,formatMonthDropdown:P,formatWeekNumber:D,formatWeekNumberHeader:L,formatWeekdayName:H,formatYearDropdown:B}=s,Q=SJ(e,l),{days:ie,months:$,navStart:ee,navEnd:q,previousMonth:X,nextMonth:ge,goToMonth:W}=Q,ae=zQ(ie,e,ee,q,l),{isSelected:he,select:me,selected:Ie}=PJ(e,l)??{},{blur:Ve,focused:ue,isFocusTarget:He,moveFocus:ve,setFocused:Ge}=CJ(e,Q,ae,he??(()=>!1),l),{labelDayButton:st,labelGridcell:ot,labelGrid:dn,labelMonthDropdown:hn,labelNav:hr,labelPrevious:rr,labelNext:jn,labelWeekday:Xr,labelWeekNumber:kt,labelWeekNumberHeader:_n,labelYearDropdown:Es}=a,bo=S.useMemo(()=>lJ(l,e.ISOWeek,e.broadcastCalendar,e.today),[l,e.ISOWeek,e.broadcastCalendar,e.today]),Ia=p!==void 0||x!==void 0,kn=S.useCallback(()=>{X&&(W(X),F==null||F(X))},[X,W,F]),Zr=S.useCallback(()=>{ge&&(W(ge),M==null||M(ge))},[W,ge,M]),Bt=S.useCallback((Ze,vt)=>Oe=>{Oe.preventDefault(),Oe.stopPropagation(),Ge(Ze),!vt.disabled&&(me==null||me(Ze.date,vt,Oe),x==null||x(Ze.date,vt,Oe))},[me,x,Ge]),En=S.useCallback((Ze,vt)=>Oe=>{Ge(Ze),E==null||E(Ze.date,vt,Oe)},[E,Ge]),Tn=S.useCallback((Ze,vt)=>Oe=>{Ve(),w==null||w(Ze.date,vt,Oe)},[Ve,w]),wo=S.useCallback((Ze,vt)=>Oe=>{const ht={ArrowLeft:[Oe.shiftKey?"month":"day",e.dir==="rtl"?"after":"before"],ArrowRight:[Oe.shiftKey?"month":"day",e.dir==="rtl"?"before":"after"],ArrowDown:[Oe.shiftKey?"year":"week","after"],ArrowUp:[Oe.shiftKey?"year":"week","before"],PageUp:[Oe.shiftKey?"year":"month","before"],PageDown:[Oe.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(ht[Oe.key]){Oe.preventDefault(),Oe.stopPropagation();const[gn,it]=ht[Oe.key];ve(gn,it)}C==null||C(Ze.date,vt,Oe)},[ve,C,e.dir]),Bu=S.useCallback((Ze,vt)=>Oe=>{k==null||k(Ze.date,vt,Oe)},[k]),Uu=S.useCallback((Ze,vt)=>Oe=>{O==null||O(Ze.date,vt,Oe)},[O]),Fu=S.useCallback(Ze=>vt=>{const Oe=Number(vt.target.value),ht=l.setMonth(l.startOfMonth(Ze),Oe);W(ht)},[l,W]),es=S.useCallback(Ze=>vt=>{const Oe=Number(vt.target.value),ht=l.setYear(l.startOfMonth(Ze),Oe);W(ht)},[l,W]),{className:Qn,style:Vr}=S.useMemo(()=>({className:[d[Ke.Root],e.className].filter(Boolean).join(" "),style:{...z==null?void 0:z[Ke.Root],...e.style}}),[d,e.className,e.style,z]),bn=WQ(e),ec=S.useRef(null);mJ(ec,!!e.animate,{classNames:d,months:$,focused:ue,dateLib:l});const xo={dayPickerProps:e,selected:Ie,select:me,isSelected:he,months:$,nextMonth:ge,previousMonth:X,goToMonth:W,getModifiers:ae,components:r,classNames:d,styles:z,labels:a,formatters:s};return we.createElement(K2.Provider,{value:xo},we.createElement(r.Root,{rootRef:e.animate?ec:void 0,className:Qn,style:Vr,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"],...bn},we.createElement(r.Months,{className:d[Ke.Months],style:z==null?void 0:z[Ke.Months]},!e.hideNavigation&&!g&&we.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[Ke.Nav],style:z==null?void 0:z[Ke.Nav],"aria-label":hr(),onPreviousClick:kn,onNextClick:Zr,previousMonth:X,nextMonth:ge}),$.map((Ze,vt)=>we.createElement(r.Month,{"data-animated-month":e.animate?"true":void 0,className:d[Ke.Month],style:z==null?void 0:z[Ke.Month],key:vt,displayIndex:vt,calendarMonth:Ze},g==="around"&&!e.hideNavigation&&vt===0&&we.createElement(r.PreviousMonthButton,{type:"button",className:d[Ke.PreviousMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":rr(X),onClick:kn,"data-animated-button":e.animate?"true":void 0},we.createElement(r.Chevron,{disabled:X?void 0:!0,className:d[Ke.Chevron],orientation:e.dir==="rtl"?"right":"left"})),we.createElement(r.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:d[Ke.MonthCaption],style:z==null?void 0:z[Ke.MonthCaption],calendarMonth:Ze,displayIndex:vt},f!=null&&f.startsWith("dropdown")?we.createElement(r.DropdownNav,{className:d[Ke.Dropdowns],style:z==null?void 0:z[Ke.Dropdowns]},(()=>{const Oe=f==="dropdown"||f==="dropdown-months"?we.createElement(r.MonthsDropdown,{key:"month",className:d[Ke.MonthsDropdown],"aria-label":hn(),classNames:d,components:r,disabled:!!e.disableNavigation,onChange:Fu(Ze.date),options:aJ(Ze.date,ee,q,s,l),style:z==null?void 0:z[Ke.Dropdown],value:l.getMonth(Ze.date)}):we.createElement("span",{key:"month"},P(Ze.date,l)),ht=f==="dropdown"||f==="dropdown-years"?we.createElement(r.YearsDropdown,{key:"year",className:d[Ke.YearsDropdown],"aria-label":Es(l.options),classNames:d,components:r,disabled:!!e.disableNavigation,onChange:es(Ze.date),options:cJ(ee,q,s,l,!!e.reverseYears),style:z==null?void 0:z[Ke.Dropdown],value:l.getYear(Ze.date)}):we.createElement("span",{key:"year"},B(Ze.date,l));return l.getMonthYearOrder()==="year-first"?[ht,Oe]:[Oe,ht]})(),we.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},N(Ze.date,l.options,l))):we.createElement(r.CaptionLabel,{className:d[Ke.CaptionLabel],role:"status","aria-live":"polite"},N(Ze.date,l.options,l))),g==="around"&&!e.hideNavigation&&vt===v-1&&we.createElement(r.NextMonthButton,{type:"button",className:d[Ke.NextMonthButton],tabIndex:ge?void 0:-1,"aria-disabled":ge?void 0:!0,"aria-label":jn(ge),onClick:Zr,"data-animated-button":e.animate?"true":void 0},we.createElement(r.Chevron,{disabled:ge?void 0:!0,className:d[Ke.Chevron],orientation:e.dir==="rtl"?"left":"right"})),vt===v-1&&g==="after"&&!e.hideNavigation&&we.createElement(r.Nav,{"data-animated-nav":e.animate?"true":void 0,className:d[Ke.Nav],style:z==null?void 0:z[Ke.Nav],"aria-label":hr(),onPreviousClick:kn,onNextClick:Zr,previousMonth:X,nextMonth:ge}),we.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":p==="multiple"||p==="range","aria-label":dn(Ze.date,l.options,l)||void 0,className:d[Ke.MonthGrid],style:z==null?void 0:z[Ke.MonthGrid]},!e.hideWeekdays&&we.createElement(r.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:d[Ke.Weekdays],style:z==null?void 0:z[Ke.Weekdays]},V&&we.createElement(r.WeekNumberHeader,{"aria-label":_n(l.options),className:d[Ke.WeekNumberHeader],style:z==null?void 0:z[Ke.WeekNumberHeader],scope:"col"},L()),bo.map(Oe=>we.createElement(r.Weekday,{"aria-label":Xr(Oe,l.options,l),className:d[Ke.Weekday],key:String(Oe),style:z==null?void 0:z[Ke.Weekday],scope:"col"},H(Oe,l.options,l)))),we.createElement(r.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:d[Ke.Weeks],style:z==null?void 0:z[Ke.Weeks]},Ze.weeks.map(Oe=>we.createElement(r.Week,{className:d[Ke.Week],key:Oe.weekNumber,style:z==null?void 0:z[Ke.Week],week:Oe},V&&we.createElement(r.WeekNumber,{week:Oe,style:z==null?void 0:z[Ke.WeekNumber],"aria-label":kt(Oe.weekNumber,{locale:c}),className:d[Ke.WeekNumber],scope:"row",role:"rowheader"},D(Oe.weekNumber,l)),Oe.days.map(ht=>{const{date:gn}=ht,it=ae(ht);if(it[wn.focused]=!it.hidden&&!!(ue!=null&&ue.isEqualTo(ht)),it[gi.selected]=(he==null?void 0:he(gn))||it.selected,U_(Ie)){const{from:Js,to:nc}=Ie;it[gi.range_start]=!!(Js&&nc&&l.isSameDay(gn,Js)),it[gi.range_end]=!!(Js&&nc&&l.isSameDay(gn,nc)),it[gi.range_middle]=ao(Ie,gn,!0,l)}const tf=oJ(it,z,e.modifiersStyles),zu=qQ(it,d,e.modifiersClassNames),Ts=!Ia&&!it.hidden?ot(gn,it,l.options,l):void 0;return we.createElement(r.Day,{key:`${ht.isoDate}_${ht.displayMonthId}`,day:ht,modifiers:it,className:zu.join(" "),style:tf,role:"gridcell","aria-selected":it.selected||void 0,"aria-label":Ts,"data-day":ht.isoDate,"data-month":ht.outside?ht.dateMonthId:void 0,"data-selected":it.selected||void 0,"data-disabled":it.disabled||void 0,"data-hidden":it.hidden||void 0,"data-outside":ht.outside||void 0,"data-focused":it.focused||void 0,"data-today":it.today||void 0},!it.hidden&&Ia?we.createElement(r.DayButton,{className:d[Ke.DayButton],style:z==null?void 0:z[Ke.DayButton],type:"button",day:ht,modifiers:it,disabled:!it.focused&&it.disabled||void 0,"aria-disabled":it.focused&&it.disabled||void 0,tabIndex:He(ht)?0:-1,"aria-label":st(gn,it,l.options,l),onClick:Bt(ht,it),onBlur:Tn(ht,it),onFocus:En(ht,it),onKeyDown:wo(ht,it),onMouseEnter:Bu(ht,it),onMouseLeave:Uu(ht,it)},I(gn,l.options,l)):!it.hidden&&I(ht.date,l.options,l))})))))))),e.footer&&we.createElement(r.Footer,{className:d[Ke.Footer],style:z==null?void 0:z[Ke.Footer],role:"status","aria-live":"polite"},e.footer)))}function MJ({className:n,classNames:e,showOutsideDays:t=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:a,components:l,onMonthChange:c,onDayClick:d,id:f,...p}){const g=sE(),v=$t(c,x=>({componentType:"calendar",eventType:"month-change",componentInfo:{month:x.toISOString()}})),w=$t(d,(x,E)=>({componentType:"calendar",eventType:"day-click",componentInfo:{day:x.toISOString(),modifiers:E}}));return h.jsx(OJ,{showOutsideDays:t,className:Ce("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,n),captionLayout:r,onMonthChange:v,onDayClick:w,id:f,formatters:{formatMonthDropdown:x=>x.toLocaleString("default",{month:"short"}),...a},classNames:{root:Ce("w-fit",g.root),months:Ce("flex gap-4 flex-col md:flex-row relative",g.months),month:Ce("flex flex-col w-full gap-4",g.month),nav:Ce("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",g.nav),button_previous:Ce(aS({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",g.button_previous),button_next:Ce(aS({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",g.button_next),month_caption:Ce("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",g.month_caption),dropdowns:Ce("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",g.dropdowns),dropdown_root:Ce("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",g.dropdown_root),dropdown:Ce("absolute bg-popover inset-0 opacity-0",g.dropdown),caption_label:Ce("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",g.caption_label),table:"w-full border-collapse",weekdays:Ce("flex",g.weekdays),weekday:Ce("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",g.weekday),week:Ce("flex w-full mt-2",g.week),week_number_header:Ce("select-none w-(--cell-size)",g.week_number_header),week_number:Ce("text-[0.8rem] select-none text-muted-foreground",g.week_number),day:Ce("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",g.day),range_start:Ce("rounded-l-md bg-accent",g.range_start),range_middle:Ce("rounded-none",g.range_middle),range_end:Ce("rounded-r-md bg-accent",g.range_end),today:Ce("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",g.today),outside:Ce("text-muted-foreground aria-selected:text-muted-foreground",g.outside),disabled:Ce("text-muted-foreground opacity-50",g.disabled),hidden:Ce("invisible",g.hidden),...e},components:{Root:({className:x,rootRef:E,...C})=>h.jsx("div",{"data-slot":"calendar",ref:E,className:Ce(x),...C}),Chevron:({className:x,orientation:E,...C})=>E==="left"?h.jsx(q7,{className:Ce("size-4",x),...C}):E==="right"?h.jsx(CM,{className:Ce("size-4",x),...C}):h.jsx(I_,{className:Ce("size-4",x),...C}),DayButton:jJ,WeekNumber:({children:x,...E})=>h.jsx("td",{...E,children:h.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:x})}),...l},...p})}function jJ({className:n,day:e,modifiers:t,onClick:r,...s}){const a=sE(),l=S.useRef(null);S.useEffect(()=>{var d;t.focused&&((d=l.current)==null||d.focus())},[t.focused]);const c=S.useCallback(d=>{try{r&&r(d)}catch(f){throw CH(d.currentTarget,f,{componentType:"calendar-day-button",eventType:"click",componentInfo:{day:e.date.toISOString(),modifiers:t}}),f}},[r,e.date,t]);return h.jsx(Ee,{ref:l,variant:"ghost",size:"icon",onClick:c,"data-day":e.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:Ce("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",a.day,n),...s})}function LJ(n,e=globalThis==null?void 0:globalThis.document){const t=br(n);S.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var VJ="DismissableLayer",yS="dismissableLayer.update",BJ="dismissableLayer.pointerDownOutside",UJ="dismissableLayer.focusOutside",fk,uj=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bp=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...d}=n,f=S.useContext(uj),[p,g]=S.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),x=Et(e,N=>g(N)),E=Array.from(f.layers),[C]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),k=E.indexOf(C),O=p?E.indexOf(p):-1,M=f.layersWithOutsidePointerEventsDisabled.size>0,F=O>=k,V=qJ(N=>{const I=N.target,P=[...f.branches].some(D=>D.contains(I));!F||P||(s==null||s(N),l==null||l(N),N.defaultPrevented||c==null||c())},v),z=HJ(N=>{const I=N.target;[...f.branches].some(D=>D.contains(I))||(a==null||a(N),l==null||l(N),N.defaultPrevented||c==null||c())},v);return LJ(N=>{O===f.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&c&&(N.preventDefault(),c()))},v),S.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(fk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),mk(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=fk)}},[p,v,t,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),mk())},[p,f]),S.useEffect(()=>{const N=()=>w({});return document.addEventListener(yS,N),()=>document.removeEventListener(yS,N)},[]),h.jsx(rt.div,{...d,ref:x,style:{pointerEvents:M?F?"auto":"none":void 0,...n.style},onFocusCapture:De(n.onFocusCapture,z.onFocusCapture),onBlurCapture:De(n.onBlurCapture,z.onBlurCapture),onPointerDownCapture:De(n.onPointerDownCapture,V.onPointerDownCapture)})});Bp.displayName=VJ;var FJ="DismissableLayerBranch",zJ=S.forwardRef((n,e)=>{const t=S.useContext(uj),r=S.useRef(null),s=Et(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),h.jsx(rt.div,{...n,ref:s})});zJ.displayName=FJ;function qJ(n,e=globalThis==null?void 0:globalThis.document){const t=br(n),r=S.useRef(!1),s=S.useRef(()=>{});return S.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let d=function(){dj(BJ,t,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function HJ(n,e=globalThis==null?void 0:globalThis.document){const t=br(n),r=S.useRef(!1);return S.useEffect(()=>{const s=a=>{a.target&&!r.current&&dj(UJ,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function mk(){const n=new CustomEvent(yS);document.dispatchEvent(n)}function dj(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?kM(s,a):s.dispatchEvent(a)}var Hx=0;function z_(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??pk()),document.body.insertAdjacentElement("beforeend",n[1]??pk()),Hx++,()=>{Hx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hx--}},[])}function pk(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Wx="focusScope.autoFocusOnMount",$x="focusScope.autoFocusOnUnmount",gk={bubbles:!1,cancelable:!0},WJ="FocusScope",Up=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=n,[c,d]=S.useState(null),f=br(s),p=br(a),g=S.useRef(null),v=Et(e,E=>d(E)),w=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let E=function(M){if(w.paused||!c)return;const F=M.target;c.contains(F)?g.current=F:il(g.current,{select:!0})},C=function(M){if(w.paused||!c)return;const F=M.relatedTarget;F!==null&&(c.contains(F)||il(g.current,{select:!0}))},k=function(M){if(document.activeElement===document.body)for(const V of M)V.removedNodes.length>0&&il(c)};document.addEventListener("focusin",E),document.addEventListener("focusout",C);const O=new MutationObserver(k);return c&&O.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",C),O.disconnect()}}},[r,c,w.paused]),S.useEffect(()=>{if(c){vk.add(w);const E=document.activeElement;if(!c.contains(E)){const k=new CustomEvent(Wx,gk);c.addEventListener(Wx,f),c.dispatchEvent(k),k.defaultPrevented||($J(JJ(hj(c)),{select:!0}),document.activeElement===E&&il(c))}return()=>{c.removeEventListener(Wx,f),setTimeout(()=>{const k=new CustomEvent($x,gk);c.addEventListener($x,p),c.dispatchEvent(k),k.defaultPrevented||il(E??document.body,{select:!0}),c.removeEventListener($x,p),vk.remove(w)},0)}}},[c,f,p,w]);const x=S.useCallback(E=>{if(!t&&!r||w.paused)return;const C=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,k=document.activeElement;if(C&&k){const O=E.currentTarget,[M,F]=GJ(O);M&&F?!E.shiftKey&&k===F?(E.preventDefault(),t&&il(M,{select:!0})):E.shiftKey&&k===M&&(E.preventDefault(),t&&il(F,{select:!0})):k===O&&E.preventDefault()}},[t,r,w.paused]);return h.jsx(rt.div,{tabIndex:-1,...l,ref:v,onKeyDown:x})});Up.displayName=WJ;function $J(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(il(r,{select:e}),document.activeElement!==t)return}function GJ(n){const e=hj(n),t=yk(e,n),r=yk(e.reverse(),n);return[t,r]}function hj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function yk(n,e){for(const t of n)if(!YJ(t,{upTo:e}))return t}function YJ(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function KJ(n){return n instanceof HTMLInputElement&&"select"in n}function il(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&KJ(n)&&e&&n.select()}}var vk=QJ();function QJ(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=_k(n,e),n.unshift(e)},remove(e){var t;n=_k(n,e),(t=n[0])==null||t.resume()}}}function _k(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function JJ(n){return n.filter(e=>e.tagName!=="A")}const XJ=["top","right","bottom","left"],Hl=Math.min,ms=Math.max,Gv=Math.round,ky=Math.floor,ma=n=>({x:n,y:n}),ZJ={left:"right",right:"left",bottom:"top",top:"bottom"},eX={start:"end",end:"start"};function vS(n,e,t){return ms(n,Hl(e,t))}function yo(n,e){return typeof n=="function"?n(e):n}function vo(n){return n.split("-")[0]}function Jh(n){return n.split("-")[1]}function oE(n){return n==="x"?"y":"x"}function lE(n){return n==="y"?"height":"width"}const tX=new Set(["top","bottom"]);function oa(n){return tX.has(vo(n))?"y":"x"}function cE(n){return oE(oa(n))}function nX(n,e,t){t===void 0&&(t=!1);const r=Jh(n),s=cE(n),a=lE(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Yv(l)),[l,Yv(l)]}function rX(n){const e=Yv(n);return[_S(n),e,_S(e)]}function _S(n){return n.replace(/start|end/g,e=>eX[e])}const bk=["left","right"],wk=["right","left"],sX=["top","bottom"],iX=["bottom","top"];function aX(n,e,t){switch(n){case"top":case"bottom":return t?e?wk:bk:e?bk:wk;case"left":case"right":return e?sX:iX;default:return[]}}function oX(n,e,t,r){const s=Jh(n);let a=aX(vo(n),t==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(_S)))),a}function Yv(n){return n.replace(/left|right|bottom|top/g,e=>ZJ[e])}function lX(n){return{top:0,right:0,bottom:0,left:0,...n}}function fj(n){return typeof n!="number"?lX(n):{top:n,right:n,bottom:n,left:n}}function Kv(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function xk(n,e,t){let{reference:r,floating:s}=n;const a=oa(e),l=cE(e),c=lE(l),d=vo(e),f=a==="y",p=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,v=r[c]/2-s[c]/2;let w;switch(d){case"top":w={x:p,y:r.y-s.height};break;case"bottom":w={x:p,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-s.width,y:g};break;default:w={x:r.x,y:r.y}}switch(Jh(e)){case"start":w[l]-=v*(t&&f?-1:1);break;case"end":w[l]+=v*(t&&f?-1:1);break}return w}async function cX(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:c,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=yo(e,n),x=fj(w),C=c[v?g==="floating"?"reference":"floating":g],k=Kv(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(C)))==null||t?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:f,rootBoundary:p,strategy:d})),O=g==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),F=await(a.isElement==null?void 0:a.isElement(M))?await(a.getScale==null?void 0:a.getScale(M))||{x:1,y:1}:{x:1,y:1},V=Kv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:O,offsetParent:M,strategy:d}):O);return{top:(k.top-V.top+x.top)/F.y,bottom:(V.bottom-k.bottom+x.bottom)/F.y,left:(k.left-V.left+x.left)/F.x,right:(V.right-k.right+x.right)/F.x}}const uX=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let f=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:p,y:g}=xk(f,r,d),v=r,w={},x=0;for(let C=0;C<c.length;C++){var E;const{name:k,fn:O}=c[C],{x:M,y:F,data:V,reset:z}=await O({x:p,y:g,initialPlacement:r,placement:v,strategy:s,middlewareData:w,rects:f,platform:{...l,detectOverflow:(E=l.detectOverflow)!=null?E:cX},elements:{reference:n,floating:e}});p=M??p,g=F??g,w={...w,[k]:{...w[k],...V}},z&&x<=50&&(x++,typeof z=="object"&&(z.placement&&(v=z.placement),z.rects&&(f=z.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):z.rects),{x:p,y:g}=xk(f,v,d)),C=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:w}},dX=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:l,elements:c,middlewareData:d}=e,{element:f,padding:p=0}=yo(n,e)||{};if(f==null)return{};const g=fj(p),v={x:t,y:r},w=cE(s),x=lE(w),E=await l.getDimensions(f),C=w==="y",k=C?"top":"left",O=C?"bottom":"right",M=C?"clientHeight":"clientWidth",F=a.reference[x]+a.reference[w]-v[w]-a.floating[x],V=v[w]-a.reference[w],z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let N=z?z[M]:0;(!N||!await(l.isElement==null?void 0:l.isElement(z)))&&(N=c.floating[M]||a.floating[x]);const I=F/2-V/2,P=N/2-E[x]/2-1,D=Hl(g[k],P),L=Hl(g[O],P),H=D,B=N-E[x]-L,Q=N/2-E[x]/2+I,ie=vS(H,Q,B),$=!d.arrow&&Jh(s)!=null&&Q!==ie&&a.reference[x]/2-(Q<H?D:L)-E[x]/2<0,ee=$?Q<H?Q-H:Q-B:0;return{[w]:v[w]+ee,data:{[w]:ie,centerOffset:Q-ie-ee,...$&&{alignmentOffset:ee}},reset:$}}}),hX=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:d,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...C}=yo(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const k=vo(s),O=oa(c),M=vo(c)===c,F=await(d.isRTL==null?void 0:d.isRTL(f.floating)),V=v||(M||!E?[Yv(c)]:rX(c)),z=x!=="none";!v&&z&&V.push(...oX(c,E,x,F));const N=[c,...V],I=await d.detectOverflow(e,C),P=[];let D=((r=a.flip)==null?void 0:r.overflows)||[];if(p&&P.push(I[k]),g){const Q=nX(s,l,F);P.push(I[Q[0]],I[Q[1]])}if(D=[...D,{placement:s,overflows:P}],!P.every(Q=>Q<=0)){var L,H;const Q=(((L=a.flip)==null?void 0:L.index)||0)+1,ie=N[Q];if(ie&&(!(g==="alignment"?O!==oa(ie):!1)||D.every(q=>oa(q.placement)===O?q.overflows[0]>0:!0)))return{data:{index:Q,overflows:D},reset:{placement:ie}};let $=(H=D.filter(ee=>ee.overflows[0]<=0).sort((ee,q)=>ee.overflows[1]-q.overflows[1])[0])==null?void 0:H.placement;if(!$)switch(w){case"bestFit":{var B;const ee=(B=D.filter(q=>{if(z){const X=oa(q.placement);return X===O||X==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(X=>X>0).reduce((X,ge)=>X+ge,0)]).sort((q,X)=>q[1]-X[1])[0])==null?void 0:B[0];ee&&($=ee);break}case"initialPlacement":$=c;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Sk(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Ek(n){return XJ.some(e=>n[e]>=0)}const fX=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t,platform:r}=e,{strategy:s="referenceHidden",...a}=yo(n,e);switch(s){case"referenceHidden":{const l=await r.detectOverflow(e,{...a,elementContext:"reference"}),c=Sk(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Ek(c)}}}case"escaped":{const l=await r.detectOverflow(e,{...a,altBoundary:!0}),c=Sk(l,t.floating);return{data:{escapedOffsets:c,escaped:Ek(c)}}}default:return{}}}}},mj=new Set(["left","top"]);async function mX(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=vo(t),c=Jh(t),d=oa(t)==="y",f=mj.has(l)?-1:1,p=a&&d?-1:1,g=yo(e,n);let{mainAxis:v,crossAxis:w,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof x=="number"&&(w=c==="end"?x*-1:x),d?{x:w*p,y:v*f}:{x:v*f,y:w*p}}const pX=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:l,middlewareData:c}=e,d=await mX(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},gX=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s,platform:a}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:k=>{let{x:O,y:M}=k;return{x:O,y:M}}},...f}=yo(n,e),p={x:t,y:r},g=await a.detectOverflow(e,f),v=oa(vo(s)),w=oE(v);let x=p[w],E=p[v];if(l){const k=w==="y"?"top":"left",O=w==="y"?"bottom":"right",M=x+g[k],F=x-g[O];x=vS(M,x,F)}if(c){const k=v==="y"?"top":"left",O=v==="y"?"bottom":"right",M=E+g[k],F=E-g[O];E=vS(M,E,F)}const C=d.fn({...e,[w]:x,[v]:E});return{...C,data:{x:C.x-t,y:C.y-r,enabled:{[w]:l,[v]:c}}}}}},yX=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=yo(n,e),p={x:t,y:r},g=oa(s),v=oE(g);let w=p[v],x=p[g];const E=yo(c,e),C=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const M=v==="y"?"height":"width",F=a.reference[v]-a.floating[M]+C.mainAxis,V=a.reference[v]+a.reference[M]-C.mainAxis;w<F?w=F:w>V&&(w=V)}if(f){var k,O;const M=v==="y"?"width":"height",F=mj.has(vo(s)),V=a.reference[g]-a.floating[M]+(F&&((k=l.offset)==null?void 0:k[g])||0)+(F?0:C.crossAxis),z=a.reference[g]+a.reference[M]+(F?0:((O=l.offset)==null?void 0:O[g])||0)-(F?C.crossAxis:0);x<V?x=V:x>z&&(x=z)}return{[v]:w,[g]:x}}}},vX=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:l,elements:c}=e,{apply:d=()=>{},...f}=yo(n,e),p=await l.detectOverflow(e,f),g=vo(s),v=Jh(s),w=oa(s)==="y",{width:x,height:E}=a.floating;let C,k;g==="top"||g==="bottom"?(C=g,k=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(k=g,C=v==="end"?"top":"bottom");const O=E-p.top-p.bottom,M=x-p.left-p.right,F=Hl(E-p[C],O),V=Hl(x-p[k],M),z=!e.middlewareData.shift;let N=F,I=V;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(I=M),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=O),z&&!v){const D=ms(p.left,0),L=ms(p.right,0),H=ms(p.top,0),B=ms(p.bottom,0);w?I=x-2*(D!==0||L!==0?D+L:ms(p.left,p.right)):N=E-2*(H!==0||B!==0?H+B:ms(p.top,p.bottom))}await d({...e,availableWidth:I,availableHeight:N});const P=await l.getDimensions(c.floating);return x!==P.width||E!==P.height?{reset:{rects:!0}}:{}}}};function q_(){return typeof window<"u"}function Xh(n){return pj(n)?(n.nodeName||"").toLowerCase():"#document"}function bs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Na(n){var e;return(e=(pj(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function pj(n){return q_()?n instanceof Node||n instanceof bs(n).Node:!1}function Ai(n){return q_()?n instanceof Element||n instanceof bs(n).Element:!1}function va(n){return q_()?n instanceof HTMLElement||n instanceof bs(n).HTMLElement:!1}function Tk(n){return!q_()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof bs(n).ShadowRoot}const _X=new Set(["inline","contents"]);function Fp(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Ni(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!_X.has(s)}const bX=new Set(["table","td","th"]);function wX(n){return bX.has(Xh(n))}const xX=[":popover-open",":modal"];function H_(n){return xX.some(e=>{try{return n.matches(e)}catch{return!1}})}const SX=["transform","translate","scale","rotate","perspective"],EX=["transform","translate","scale","rotate","perspective","filter"],TX=["paint","layout","strict","content"];function uE(n){const e=dE(),t=Ai(n)?Ni(n):n;return SX.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||EX.some(r=>(t.willChange||"").includes(r))||TX.some(r=>(t.contain||"").includes(r))}function CX(n){let e=Wl(n);for(;va(e)&&!Ph(e);){if(uE(e))return e;if(H_(e))return null;e=Wl(e)}return null}function dE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const RX=new Set(["html","body","#document"]);function Ph(n){return RX.has(Xh(n))}function Ni(n){return bs(n).getComputedStyle(n)}function W_(n){return Ai(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Wl(n){if(Xh(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Tk(n)&&n.host||Na(n);return Tk(e)?e.host:e}function gj(n){const e=Wl(n);return Ph(e)?n.ownerDocument?n.ownerDocument.body:n.body:va(e)&&Fp(e)?e:gj(e)}function op(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=gj(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=bs(s);if(a){const c=bS(l);return e.concat(l,l.visualViewport||[],Fp(s)?s:[],c&&t?op(c):[])}return e.concat(s,op(s,[],t))}function bS(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function yj(n){const e=Ni(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=va(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:r,c=Gv(t)!==a||Gv(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function hE(n){return Ai(n)?n:n.contextElement}function eh(n){const e=hE(n);if(!va(e))return ma(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=yj(e);let l=(a?Gv(t.width):t.width)/r,c=(a?Gv(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const AX=ma(0);function vj(n){const e=bs(n);return!dE()||!e.visualViewport?AX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NX(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==bs(n)?!1:e}function Eu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=hE(n);let l=ma(1);e&&(r?Ai(r)&&(l=eh(r)):l=eh(n));const c=NX(a,t,r)?vj(a):ma(0);let d=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(a){const v=bs(a),w=r&&Ai(r)?bs(r):r;let x=v,E=bS(x);for(;E&&r&&w!==x;){const C=eh(E),k=E.getBoundingClientRect(),O=Ni(E),M=k.left+(E.clientLeft+parseFloat(O.paddingLeft))*C.x,F=k.top+(E.clientTop+parseFloat(O.paddingTop))*C.y;d*=C.x,f*=C.y,p*=C.x,g*=C.y,d+=M,f+=F,x=bs(E),E=bS(x)}}return Kv({width:p,height:g,x:d,y:f})}function $_(n,e){const t=W_(n).scrollLeft;return e?e.left+t:Eu(Na(n)).left+t}function _j(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-$_(n,t),s=t.top+e.scrollTop;return{x:r,y:s}}function IX(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",l=Na(r),c=e?H_(e.floating):!1;if(r===l||c&&a)return t;let d={scrollLeft:0,scrollTop:0},f=ma(1);const p=ma(0),g=va(r);if((g||!g&&!a)&&((Xh(r)!=="body"||Fp(l))&&(d=W_(r)),va(r))){const w=Eu(r);f=eh(r),p.x=w.x+r.clientLeft,p.y=w.y+r.clientTop}const v=l&&!g&&!a?_j(l,d):ma(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+v.x,y:t.y*f.y-d.scrollTop*f.y+p.y+v.y}}function kX(n){return Array.from(n.getClientRects())}function DX(n){const e=Na(n),t=W_(n),r=n.ownerDocument.body,s=ms(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=ms(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+$_(n);const c=-t.scrollTop;return Ni(r).direction==="rtl"&&(l+=ms(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:c}}const Ck=25;function PX(n,e){const t=bs(n),r=Na(n),s=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,d=0;if(s){a=s.width,l=s.height;const p=dE();(!p||p&&e==="fixed")&&(c=s.offsetLeft,d=s.offsetTop)}const f=$_(r);if(f<=0){const p=r.ownerDocument,g=p.body,v=getComputedStyle(g),w=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,x=Math.abs(r.clientWidth-g.clientWidth-w);x<=Ck&&(a-=x)}else f<=Ck&&(a+=f);return{width:a,height:l,x:c,y:d}}const OX=new Set(["absolute","fixed"]);function MX(n,e){const t=Eu(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=va(n)?eh(n):ma(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,d=s*a.x,f=r*a.y;return{width:l,height:c,x:d,y:f}}function Rk(n,e,t){let r;if(e==="viewport")r=PX(n,t);else if(e==="document")r=DX(Na(n));else if(Ai(e))r=MX(e,t);else{const s=vj(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Kv(r)}function bj(n,e){const t=Wl(n);return t===e||!Ai(t)||Ph(t)?!1:Ni(t).position==="fixed"||bj(t,e)}function jX(n,e){const t=e.get(n);if(t)return t;let r=op(n,[],!1).filter(c=>Ai(c)&&Xh(c)!=="body"),s=null;const a=Ni(n).position==="fixed";let l=a?Wl(n):n;for(;Ai(l)&&!Ph(l);){const c=Ni(l),d=uE(l);!d&&c.position==="fixed"&&(s=null),(a?!d&&!s:!d&&c.position==="static"&&!!s&&OX.has(s.position)||Fp(l)&&!d&&bj(n,l))?r=r.filter(p=>p!==l):s=c,l=Wl(l)}return e.set(n,r),r}function LX(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?H_(e)?[]:jX(e,this._c):[].concat(t),r],c=l[0],d=l.reduce((f,p)=>{const g=Rk(e,p,s);return f.top=ms(g.top,f.top),f.right=Hl(g.right,f.right),f.bottom=Hl(g.bottom,f.bottom),f.left=ms(g.left,f.left),f},Rk(e,c,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function VX(n){const{width:e,height:t}=yj(n);return{width:e,height:t}}function BX(n,e,t){const r=va(e),s=Na(e),a=t==="fixed",l=Eu(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const d=ma(0);function f(){d.x=$_(s)}if(r||!r&&!a)if((Xh(e)!=="body"||Fp(s))&&(c=W_(e)),r){const w=Eu(e,!0,a,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&f();a&&!r&&s&&f();const p=s&&!r&&!a?_j(s,c):ma(0),g=l.left+c.scrollLeft-d.x-p.x,v=l.top+c.scrollTop-d.y-p.y;return{x:g,y:v,width:l.width,height:l.height}}function Gx(n){return Ni(n).position==="static"}function Ak(n,e){if(!va(n)||Ni(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Na(n)===t&&(t=t.ownerDocument.body),t}function wj(n,e){const t=bs(n);if(H_(n))return t;if(!va(n)){let s=Wl(n);for(;s&&!Ph(s);){if(Ai(s)&&!Gx(s))return s;s=Wl(s)}return t}let r=Ak(n,e);for(;r&&wX(r)&&Gx(r);)r=Ak(r,e);return r&&Ph(r)&&Gx(r)&&!uE(r)?t:r||CX(n)||t}const UX=async function(n){const e=this.getOffsetParent||wj,t=this.getDimensions,r=await t(n.floating);return{reference:BX(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FX(n){return Ni(n).direction==="rtl"}const zX={convertOffsetParentRelativeRectToViewportRelativeRect:IX,getDocumentElement:Na,getClippingRect:LX,getOffsetParent:wj,getElementRects:UX,getClientRects:kX,getDimensions:VX,getScale:eh,isElement:Ai,isRTL:FX};function xj(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function qX(n,e){let t=null,r;const s=Na(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),a();const f=n.getBoundingClientRect(),{left:p,top:g,width:v,height:w}=f;if(c||e(),!v||!w)return;const x=ky(g),E=ky(s.clientWidth-(p+v)),C=ky(s.clientHeight-(g+w)),k=ky(p),M={rootMargin:-x+"px "+-E+"px "+-C+"px "+-k+"px",threshold:ms(0,Hl(1,d))||1};let F=!0;function V(z){const N=z[0].intersectionRatio;if(N!==d){if(!F)return l();N?l(!1,N):r=setTimeout(()=>{l(!1,1e-7)},1e3)}N===1&&!xj(f,n.getBoundingClientRect())&&l(),F=!1}try{t=new IntersectionObserver(V,{...M,root:s.ownerDocument})}catch{t=new IntersectionObserver(V,M)}t.observe(n)}return l(!0),a}function HX(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=hE(n),p=s||a?[...f?op(f):[],...op(e)]:[];p.forEach(k=>{s&&k.addEventListener("scroll",t,{passive:!0}),a&&k.addEventListener("resize",t)});const g=f&&c?qX(f,t):null;let v=-1,w=null;l&&(w=new ResizeObserver(k=>{let[O]=k;O&&O.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var M;(M=w)==null||M.observe(e)})),t()}),f&&!d&&w.observe(f),w.observe(e));let x,E=d?Eu(n):null;d&&C();function C(){const k=Eu(n);E&&!xj(E,k)&&t(),E=k,x=requestAnimationFrame(C)}return t(),()=>{var k;p.forEach(O=>{s&&O.removeEventListener("scroll",t),a&&O.removeEventListener("resize",t)}),g==null||g(),(k=w)==null||k.disconnect(),w=null,d&&cancelAnimationFrame(x)}}const WX=pX,$X=gX,GX=hX,YX=vX,KX=fX,Nk=dX,QX=yX,JX=(n,e,t)=>{const r=new Map,s={platform:zX,...t},a={...s.platform,_c:r};return uX(n,e,{...s,platform:a})};var XX=typeof document<"u",ZX=function(){},Jy=XX?S.useLayoutEffect:ZX;function Qv(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Qv(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!Qv(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function Sj(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ik(n,e){const t=Sj(n);return Math.round(e*t)/t}function Yx(n){const e=S.useRef(n);return Jy(()=>{e.current=n}),e}function eZ(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:d,open:f}=n,[p,g]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=S.useState(r);Qv(v,r)||w(r);const[x,E]=S.useState(null),[C,k]=S.useState(null),O=S.useCallback(q=>{q!==z.current&&(z.current=q,E(q))},[]),M=S.useCallback(q=>{q!==N.current&&(N.current=q,k(q))},[]),F=a||x,V=l||C,z=S.useRef(null),N=S.useRef(null),I=S.useRef(p),P=d!=null,D=Yx(d),L=Yx(s),H=Yx(f),B=S.useCallback(()=>{if(!z.current||!N.current)return;const q={placement:e,strategy:t,middleware:v};L.current&&(q.platform=L.current),JX(z.current,N.current,q).then(X=>{const ge={...X,isPositioned:H.current!==!1};Q.current&&!Qv(I.current,ge)&&(I.current=ge,Bh.flushSync(()=>{g(ge)}))})},[v,e,t,L,H]);Jy(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,g(q=>({...q,isPositioned:!1})))},[f]);const Q=S.useRef(!1);Jy(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Jy(()=>{if(F&&(z.current=F),V&&(N.current=V),F&&V){if(D.current)return D.current(F,V,B);B()}},[F,V,B,D,P]);const ie=S.useMemo(()=>({reference:z,floating:N,setReference:O,setFloating:M}),[O,M]),$=S.useMemo(()=>({reference:F,floating:V}),[F,V]),ee=S.useMemo(()=>{const q={position:t,left:0,top:0};if(!$.floating)return q;const X=Ik($.floating,p.x),ge=Ik($.floating,p.y);return c?{...q,transform:"translate("+X+"px, "+ge+"px)",...Sj($.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:X,top:ge}},[t,c,$.floating,p.x,p.y]);return S.useMemo(()=>({...p,update:B,refs:ie,elements:$,floatingStyles:ee}),[p,B,ie,$,ee])}const tZ=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Nk({element:r.current,padding:s}).fn(t):{}:r?Nk({element:r,padding:s}).fn(t):{}}}},nZ=(n,e)=>({...WX(n),options:[n,e]}),rZ=(n,e)=>({...$X(n),options:[n,e]}),sZ=(n,e)=>({...QX(n),options:[n,e]}),iZ=(n,e)=>({...GX(n),options:[n,e]}),aZ=(n,e)=>({...YX(n),options:[n,e]}),oZ=(n,e)=>({...KX(n),options:[n,e]}),lZ=(n,e)=>({...tZ(n),options:[n,e]});var cZ="Arrow",Ej=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return h.jsx(rt.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ej.displayName=cZ;var uZ=Ej;function Tj(n){const[e,t]=S.useState(void 0);return xr(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const d=a.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,c=f.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var fE="Popper",[Cj,Zh]=Di(fE),[dZ,Rj]=Cj(fE),Aj=n=>{const{__scopePopper:e,children:t}=n,[r,s]=S.useState(null);return h.jsx(dZ,{scope:e,anchor:r,onAnchorChange:s,children:t})};Aj.displayName=fE;var Nj="PopperAnchor",Ij=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=Rj(Nj,t),l=S.useRef(null),c=Et(e,l),d=S.useRef(null);return S.useEffect(()=>{const f=d.current;d.current=(r==null?void 0:r.current)||l.current,f!==d.current&&a.onAnchorChange(d.current)}),r?null:h.jsx(rt.div,{...s,ref:c})});Ij.displayName=Nj;var mE="PopperContent",[hZ,fZ]=Cj(mE),kj=S.forwardRef((n,e)=>{var ue,He,ve,Ge,st,ot;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:x,...E}=n,C=Rj(mE,t),[k,O]=S.useState(null),M=Et(e,dn=>O(dn)),[F,V]=S.useState(null),z=Tj(F),N=(z==null?void 0:z.width)??0,I=(z==null?void 0:z.height)??0,P=r+(a!=="center"?"-"+a:""),D=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},L=Array.isArray(f)?f:[f],H=L.length>0,B={padding:D,boundary:L.filter(pZ),altBoundary:H},{refs:Q,floatingStyles:ie,placement:$,isPositioned:ee,middlewareData:q}=eZ({strategy:"fixed",placement:P,whileElementsMounted:(...dn)=>HX(...dn,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[nZ({mainAxis:s+I,alignmentAxis:l}),d&&rZ({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?sZ():void 0,...B}),d&&iZ({...B}),aZ({...B,apply:({elements:dn,rects:hn,availableWidth:hr,availableHeight:rr})=>{const{width:jn,height:Xr}=hn.reference,kt=dn.floating.style;kt.setProperty("--radix-popper-available-width",`${hr}px`),kt.setProperty("--radix-popper-available-height",`${rr}px`),kt.setProperty("--radix-popper-anchor-width",`${jn}px`),kt.setProperty("--radix-popper-anchor-height",`${Xr}px`)}}),F&&lZ({element:F,padding:c}),gZ({arrowWidth:N,arrowHeight:I}),v&&oZ({strategy:"referenceHidden",...B})]}),[X,ge]=Oj($),W=br(x);xr(()=>{ee&&(W==null||W())},[ee,W]);const ae=(ue=q.arrow)==null?void 0:ue.x,he=(He=q.arrow)==null?void 0:He.y,me=((ve=q.arrow)==null?void 0:ve.centerOffset)!==0,[Ie,Ve]=S.useState();return xr(()=>{k&&Ve(window.getComputedStyle(k).zIndex)},[k]),h.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:ee?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ie,"--radix-popper-transform-origin":[(Ge=q.transformOrigin)==null?void 0:Ge.x,(st=q.transformOrigin)==null?void 0:st.y].join(" "),...((ot=q.hide)==null?void 0:ot.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:h.jsx(hZ,{scope:t,placedSide:X,onArrowChange:V,arrowX:ae,arrowY:he,shouldHideArrow:me,children:h.jsx(rt.div,{"data-side":X,"data-align":ge,...E,ref:M,style:{...E.style,animation:ee?void 0:"none"}})})})});kj.displayName=mE;var Dj="PopperArrow",mZ={top:"bottom",right:"left",bottom:"top",left:"right"},Pj=S.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=fZ(Dj,r),l=mZ[a.placedSide];return h.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:h.jsx(uZ,{...s,ref:t,style:{...s.style,display:"block"}})})});Pj.displayName=Dj;function pZ(n){return n!==null}var gZ=n=>({name:"transformOrigin",options:n,fn(e){var C,k,O;const{placement:t,rects:r,middlewareData:s}=e,l=((C=s.arrow)==null?void 0:C.centerOffset)!==0,c=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[f,p]=Oj(t),g={start:"0%",center:"50%",end:"100%"}[p],v=(((k=s.arrow)==null?void 0:k.x)??0)+c/2,w=(((O=s.arrow)==null?void 0:O.y)??0)+d/2;let x="",E="";return f==="bottom"?(x=l?g:`${v}px`,E=`${-d}px`):f==="top"?(x=l?g:`${v}px`,E=`${r.floating.height+d}px`):f==="right"?(x=`${-d}px`,E=l?g:`${w}px`):f==="left"&&(x=`${r.floating.width+d}px`,E=l?g:`${w}px`),{data:{x,y:E}}}});function Oj(n){const[e,t="center"]=n.split("-");return[e,t]}var pE=Aj,G_=Ij,gE=kj,yE=Pj,yZ="Portal",zp=S.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,a]=S.useState(!1);xr(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?I5.createPortal(h.jsx(rt.div,{...r,ref:e}),l):null});zp.displayName=yZ;function vZ(n){const e=_Z(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(wZ);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function _Z(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=SZ(s),c=xZ(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var bZ=Symbol("radix.slottable");function wZ(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===bZ}function xZ(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function SZ(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var EZ=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Pd=new WeakMap,Dy=new WeakMap,Py={},Kx=0,Mj=function(n){return n&&(n.host||Mj(n.parentNode))},TZ=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=Mj(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},CZ=function(n,e,t,r){var s=TZ(e,Array.isArray(n)?n:[n]);Py[t]||(Py[t]=new WeakMap);var a=Py[t],l=[],c=new Set,d=new Set(s),f=function(g){!g||c.has(g)||(c.add(g),f(g.parentNode))};s.forEach(f);var p=function(g){!g||d.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))p(v);else try{var w=v.getAttribute(r),x=w!==null&&w!=="false",E=(Pd.get(v)||0)+1,C=(a.get(v)||0)+1;Pd.set(v,E),a.set(v,C),l.push(v),E===1&&x&&Dy.set(v,!0),C===1&&v.setAttribute(t,"true"),x||v.setAttribute(r,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return p(e),c.clear(),Kx++,function(){l.forEach(function(g){var v=Pd.get(g)-1,w=a.get(g)-1;Pd.set(g,v),a.set(g,w),v||(Dy.has(g)||g.removeAttribute(r),Dy.delete(g)),w||g.removeAttribute(t)}),Kx--,Kx||(Pd=new WeakMap,Pd=new WeakMap,Dy=new WeakMap,Py={})}},Y_=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=EZ(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),CZ(r,s,t,"aria-hidden")):function(){return null}},ia=function(){return ia=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ia.apply(this,arguments)};function jj(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function RZ(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var Xy="right-scroll-bar-position",Zy="width-before-scroll-bar",AZ="with-scroll-bars-hidden",NZ="--removed-body-scroll-bar-size";function Qx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function IZ(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var kZ=typeof window<"u"?S.useLayoutEffect:S.useEffect,kk=new WeakMap;function DZ(n,e){var t=IZ(null,function(r){return n.forEach(function(s){return Qx(s,r)})});return kZ(function(){var r=kk.get(t);if(r){var s=new Set(r),a=new Set(n),l=t.current;s.forEach(function(c){a.has(c)||Qx(c,null)}),a.forEach(function(c){s.has(c)||Qx(c,l)})}kk.set(t,n)},[n]),t}function PZ(n){return n}function OZ(n,e){e===void 0&&(e=PZ);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var d=function(){var p=l;l=[],p.forEach(a)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),t}}}};return s}function MZ(n){n===void 0&&(n={});var e=OZ(null);return e.options=ia({async:!0,ssr:!1},n),e}var Lj=function(n){var e=n.sideCar,t=jj(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,ia({},t))};Lj.isSideCarExport=!0;function jZ(n,e){return n.useMedium(e),Lj}var Vj=MZ(),Jx=function(){},K_=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:Jx,onWheelCapture:Jx,onTouchMoveCapture:Jx}),s=r[0],a=r[1],l=n.forwardProps,c=n.children,d=n.className,f=n.removeScrollBar,p=n.enabled,g=n.shards,v=n.sideCar,w=n.noRelative,x=n.noIsolation,E=n.inert,C=n.allowPinchZoom,k=n.as,O=k===void 0?"div":k,M=n.gapMode,F=jj(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=v,z=DZ([t,e]),N=ia(ia({},F),s);return S.createElement(S.Fragment,null,p&&S.createElement(V,{sideCar:Vj,removeScrollBar:f,shards:g,noRelative:w,noIsolation:x,inert:E,setCallbacks:a,allowPinchZoom:!!C,lockRef:t,gapMode:M}),l?S.cloneElement(S.Children.only(c),ia(ia({},N),{ref:z})):S.createElement(O,ia({},N,{className:d,ref:z}),c))});K_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K_.classNames={fullWidth:Zy,zeroRight:Xy};var LZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function VZ(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=LZ();return e&&n.setAttribute("nonce",e),n}function BZ(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function UZ(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var FZ=function(){var n=0,e=null;return{add:function(t){n==0&&(e=VZ())&&(BZ(e,t),UZ(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zZ=function(){var n=FZ();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},Bj=function(){var n=zZ(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},qZ={left:0,top:0,right:0,gap:0},Xx=function(n){return parseInt(n||"",10)||0},HZ=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Xx(t),Xx(r),Xx(s)]},WZ=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return qZ;var e=HZ(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},$Z=Bj(),th="data-scroll-locked",GZ=function(n,e,t,r){var s=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(AZ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(th,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xy,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Zy,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Xy," .").concat(Xy,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Zy," .").concat(Zy,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(th,`] {
    `).concat(NZ,": ").concat(c,`px;
  }
`)},Dk=function(){var n=parseInt(document.body.getAttribute(th)||"0",10);return isFinite(n)?n:0},YZ=function(){S.useEffect(function(){return document.body.setAttribute(th,(Dk()+1).toString()),function(){var n=Dk()-1;n<=0?document.body.removeAttribute(th):document.body.setAttribute(th,n.toString())}},[])},KZ=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;YZ();var a=S.useMemo(function(){return WZ(s)},[s]);return S.createElement($Z,{styles:GZ(a,!e,s,t?"":"!important")})},wS=!1;if(typeof window<"u")try{var Oy=Object.defineProperty({},"passive",{get:function(){return wS=!0,!0}});window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{wS=!1}var Od=wS?{passive:!1}:!1,QZ=function(n){return n.tagName==="TEXTAREA"},Uj=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!QZ(n)&&t[e]==="visible")},JZ=function(n){return Uj(n,"overflowY")},XZ=function(n){return Uj(n,"overflowX")},Pk=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Fj(n,r);if(s){var a=zj(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},ZZ=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},eee=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},Fj=function(n,e){return n==="v"?JZ(e):XZ(e)},zj=function(n,e){return n==="v"?ZZ(e):eee(e)},tee=function(n,e){return n==="h"&&e==="rtl"?-1:1},nee=function(n,e,t,r,s){var a=tee(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,d=e.contains(c),f=!1,p=l>0,g=0,v=0;do{if(!c)break;var w=zj(n,c),x=w[0],E=w[1],C=w[2],k=E-C-a*x;(x||k)&&Fj(n,c)&&(g+=k,v+=x);var O=c.parentNode;c=O&&O.nodeType===Node.DOCUMENT_FRAGMENT_NODE?O.host:O}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},My=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Ok=function(n){return[n.deltaX,n.deltaY]},Mk=function(n){return n&&"current"in n?n.current:n},ree=function(n,e){return n[0]===e[0]&&n[1]===e[1]},see=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},iee=0,Md=[];function aee(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),s=S.useState(iee++)[0],a=S.useState(Bj)[0],l=S.useRef(n);S.useEffect(function(){l.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var E=RZ([n.lockRef.current],(n.shards||[]).map(Mk),!0).filter(Boolean);return E.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var c=S.useCallback(function(E,C){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var k=My(E),O=t.current,M="deltaX"in E?E.deltaX:O[0]-k[0],F="deltaY"in E?E.deltaY:O[1]-k[1],V,z=E.target,N=Math.abs(M)>Math.abs(F)?"h":"v";if("touches"in E&&N==="h"&&z.type==="range")return!1;var I=window.getSelection(),P=I&&I.anchorNode,D=P?P===z||P.contains(z):!1;if(D)return!1;var L=Pk(N,z);if(!L)return!0;if(L?V=N:(V=N==="v"?"h":"v",L=Pk(N,z)),!L)return!1;if(!r.current&&"changedTouches"in E&&(M||F)&&(r.current=V),!V)return!0;var H=r.current||V;return nee(H,C,E,H==="h"?M:F)},[]),d=S.useCallback(function(E){var C=E;if(!(!Md.length||Md[Md.length-1]!==a)){var k="deltaY"in C?Ok(C):My(C),O=e.current.filter(function(V){return V.name===C.type&&(V.target===C.target||C.target===V.shadowParent)&&ree(V.delta,k)})[0];if(O&&O.should){C.cancelable&&C.preventDefault();return}if(!O){var M=(l.current.shards||[]).map(Mk).filter(Boolean).filter(function(V){return V.contains(C.target)}),F=M.length>0?c(C,M[0]):!l.current.noIsolation;F&&C.cancelable&&C.preventDefault()}}},[]),f=S.useCallback(function(E,C,k,O){var M={name:E,delta:C,target:k,should:O,shadowParent:oee(k)};e.current.push(M),setTimeout(function(){e.current=e.current.filter(function(F){return F!==M})},1)},[]),p=S.useCallback(function(E){t.current=My(E),r.current=void 0},[]),g=S.useCallback(function(E){f(E.type,Ok(E),E.target,c(E,n.lockRef.current))},[]),v=S.useCallback(function(E){f(E.type,My(E),E.target,c(E,n.lockRef.current))},[]);S.useEffect(function(){return Md.push(a),n.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Od),document.addEventListener("touchmove",d,Od),document.addEventListener("touchstart",p,Od),function(){Md=Md.filter(function(E){return E!==a}),document.removeEventListener("wheel",d,Od),document.removeEventListener("touchmove",d,Od),document.removeEventListener("touchstart",p,Od)}},[]);var w=n.removeScrollBar,x=n.inert;return S.createElement(S.Fragment,null,x?S.createElement(a,{styles:see(s)}):null,w?S.createElement(KZ,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function oee(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const lee=jZ(Vj,aee);var qp=S.forwardRef(function(n,e){return S.createElement(K_,ia({},n,{ref:e,sideCar:lee}))});qp.classNames=K_.classNames;var Q_="Popover",[qj]=Di(Q_,[Zh]),Hp=Zh(),[cee,Jl]=qj(Q_),Hj=n=>{const{__scopePopover:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!1}=n,c=Hp(e),d=S.useRef(null),[f,p]=S.useState(!1),[g,v]=ql({prop:r,defaultProp:s??!1,onChange:a,caller:Q_});return h.jsx(pE,{...c,children:h.jsx(cee,{scope:e,contentId:_i(),triggerRef:d,open:g,onOpenChange:v,onOpenToggle:S.useCallback(()=>v(w=>!w),[v]),hasCustomAnchor:f,onCustomAnchorAdd:S.useCallback(()=>p(!0),[]),onCustomAnchorRemove:S.useCallback(()=>p(!1),[]),modal:l,children:t})})};Hj.displayName=Q_;var Wj="PopoverAnchor",uee=S.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Jl(Wj,t),a=Hp(t),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=s;return S.useEffect(()=>(l(),()=>c()),[l,c]),h.jsx(G_,{...a,...r,ref:e})});uee.displayName=Wj;var $j="PopoverTrigger",Gj=S.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Jl($j,t),a=Hp(t),l=Et(e,s.triggerRef),c=h.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xj(s.open),...r,ref:l,onClick:De(n.onClick,s.onOpenToggle)});return s.hasCustomAnchor?c:h.jsx(G_,{asChild:!0,...a,children:c})});Gj.displayName=$j;var vE="PopoverPortal",[dee,hee]=qj(vE,{forceMount:void 0}),Yj=n=>{const{__scopePopover:e,forceMount:t,children:r,container:s}=n,a=Jl(vE,e);return h.jsx(dee,{scope:e,forceMount:t,children:h.jsx(kr,{present:t||a.open,children:h.jsx(zp,{asChild:!0,container:s,children:r})})})};Yj.displayName=vE;var Oh="PopoverContent",Kj=S.forwardRef((n,e)=>{const t=hee(Oh,n.__scopePopover),{forceMount:r=t.forceMount,...s}=n,a=Jl(Oh,n.__scopePopover);return h.jsx(kr,{present:r||a.open,children:a.modal?h.jsx(mee,{...s,ref:e}):h.jsx(pee,{...s,ref:e})})});Kj.displayName=Oh;var fee=vZ("PopoverContent.RemoveScroll"),mee=S.forwardRef((n,e)=>{const t=Jl(Oh,n.__scopePopover),r=S.useRef(null),s=Et(e,r),a=S.useRef(!1);return S.useEffect(()=>{const l=r.current;if(l)return Y_(l)},[]),h.jsx(qp,{as:fee,allowPinchZoom:!0,children:h.jsx(Qj,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(n.onCloseAutoFocus,l=>{var c;l.preventDefault(),a.current||(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:De(n.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:De(n.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1})})})}),pee=S.forwardRef((n,e)=>{const t=Jl(Oh,n.__scopePopover),r=S.useRef(!1),s=S.useRef(!1);return h.jsx(Qj,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var d,f;(d=n.onInteractOutside)==null||d.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((f=t.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Qj=S.forwardRef((n,e)=>{const{__scopePopover:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...g}=n,v=Jl(Oh,t),w=Hp(t);return z_(),h.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:p,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:h.jsx(gE,{"data-state":Xj(v.open),role:"dialog",id:v.contentId,...w,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Jj="PopoverClose",gee=S.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Jl(Jj,t);return h.jsx(rt.button,{type:"button",...r,ref:e,onClick:De(n.onClick,()=>s.onOpenChange(!1))})});gee.displayName=Jj;var yee="PopoverArrow",vee=S.forwardRef((n,e)=>{const{__scopePopover:t,...r}=n,s=Hp(t);return h.jsx(yE,{...s,...r,ref:e})});vee.displayName=yee;function Xj(n){return n?"open":"closed"}var _ee=Hj,bee=Gj,wee=Yj,xee=Kj;function Zj({...n}){return h.jsx(_ee,{"data-slot":"popover",...n})}function e4({...n}){return h.jsx(bee,{"data-slot":"popover-trigger",...n})}function t4({className:n,align:e="center",sideOffset:t=4,...r}){return h.jsx(wee,{children:h.jsx(xee,{"data-slot":"popover-content",align:e,sideOffset:t,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",n),...r})})}const See=$1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function xn({className:n,variant:e,asChild:t=!1,...r}){const s=t?a2:"span";return h.jsx(s,{"data-slot":"badge",className:Ce(See({variant:e}),n),...r})}function n4(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var J_="Checkbox",[Eee]=Di(J_),[Tee,_E]=Eee(J_);function Cee(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:a,form:l,name:c,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:g}=n,[v,w]=ql({prop:t,defaultProp:s??!1,onChange:d,caller:J_}),[x,E]=S.useState(null),[C,k]=S.useState(null),O=S.useRef(!1),M=x?!!l||!!x.closest("form"):!0,F={checked:v,disabled:a,setChecked:w,control:x,setControl:E,name:c,form:l,value:p,hasConsumerStoppedPropagationRef:O,required:f,defaultChecked:Pl(s)?!1:s,isFormControl:M,bubbleInput:C,setBubbleInput:k};return h.jsx(Tee,{scope:e,...F,children:Ree(g)?g(F):r})}var r4="CheckboxTrigger",s4=S.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},s)=>{const{control:a,value:l,disabled:c,checked:d,required:f,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:x}=_E(r4,n),E=Et(s,p),C=S.useRef(d);return S.useEffect(()=>{const k=a==null?void 0:a.form;if(k){const O=()=>g(C.current);return k.addEventListener("reset",O),()=>k.removeEventListener("reset",O)}},[a,g]),h.jsx(rt.button,{type:"button",role:"checkbox","aria-checked":Pl(d)?"mixed":d,"aria-required":f,"data-state":u4(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:E,onKeyDown:De(e,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:De(t,k=>{g(O=>Pl(O)?!0:!O),x&&w&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})})});s4.displayName=r4;var i4=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:s,defaultChecked:a,required:l,disabled:c,value:d,onCheckedChange:f,form:p,...g}=n;return h.jsx(Cee,{__scopeCheckbox:t,checked:s,defaultChecked:a,disabled:c,required:l,onCheckedChange:f,name:r,form:p,value:d,internal_do_not_use_render:({isFormControl:v})=>h.jsxs(h.Fragment,{children:[h.jsx(s4,{...g,ref:e,__scopeCheckbox:t}),v&&h.jsx(c4,{__scopeCheckbox:t})]})})});i4.displayName=J_;var a4="CheckboxIndicator",o4=S.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...s}=n,a=_E(a4,t);return h.jsx(kr,{present:r||Pl(a.checked)||a.checked===!0,children:h.jsx(rt.span,{"data-state":u4(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...n.style}})})});o4.displayName=a4;var l4="CheckboxBubbleInput",c4=S.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:a,defaultChecked:l,required:c,disabled:d,name:f,value:p,form:g,bubbleInput:v,setBubbleInput:w}=_E(l4,n),x=Et(t,w),E=n4(a),C=Tj(r);S.useEffect(()=>{const O=v;if(!O)return;const M=window.HTMLInputElement.prototype,V=Object.getOwnPropertyDescriptor(M,"checked").set,z=!s.current;if(E!==a&&V){const N=new Event("click",{bubbles:z});O.indeterminate=Pl(a),V.call(O,Pl(a)?!1:a),O.dispatchEvent(N)}},[v,E,a,s]);const k=S.useRef(Pl(a)?!1:a);return h.jsx(rt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??k.current,required:c,disabled:d,name:f,value:p,form:g,...e,tabIndex:-1,ref:x,style:{...e.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});c4.displayName=l4;function Ree(n){return typeof n=="function"}function Pl(n){return n==="indeterminate"}function u4(n){return Pl(n)?"indeterminate":n?"checked":"unchecked"}function Vm({className:n,...e}){return h.jsx(i4,{"data-slot":"checkbox",className:Ce("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:h.jsx(o4,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:h.jsx(TM,{className:"size-3.5"})})})}function Aee(n){const e=Nee(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(kee);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function Nee(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=Pee(s),c=Dee(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Iee=Symbol("radix.slottable");function kee(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Iee}function Dee(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function Pee(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var d4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Oee="VisuallyHidden",Mee=S.forwardRef((n,e)=>h.jsx(rt.span,{...n,ref:e,style:{...d4,...n.style}}));Mee.displayName=Oee;var jee=[" ","Enter","ArrowUp","ArrowDown"],Lee=[" ","Enter"],Tu="Select",[X_,Z_,Vee]=K1(Tu),[ef]=Di(Tu,[Vee,Zh]),eb=Zh(),[Bee,Xl]=ef(Tu),[Uee,Fee]=ef(Tu),h4=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:c,onValueChange:d,dir:f,name:p,autoComplete:g,disabled:v,required:w,form:x}=n,E=eb(e),[C,k]=S.useState(null),[O,M]=S.useState(null),[F,V]=S.useState(!1),z=Op(f),[N,I]=ql({prop:r,defaultProp:s??!1,onChange:a,caller:Tu}),[P,D]=ql({prop:l,defaultProp:c,onChange:d,caller:Tu}),L=S.useRef(null),H=C?x||!!C.closest("form"):!0,[B,Q]=S.useState(new Set),ie=Array.from(B).map($=>$.props.value).join(";");return h.jsx(pE,{...E,children:h.jsxs(Bee,{required:w,scope:e,trigger:C,onTriggerChange:k,valueNode:O,onValueNodeChange:M,valueNodeHasChildren:F,onValueNodeHasChildrenChange:V,contentId:_i(),value:P,onValueChange:D,open:N,onOpenChange:I,dir:z,triggerPointerDownPosRef:L,disabled:v,children:[h.jsx(X_.Provider,{scope:e,children:h.jsx(Uee,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback($=>{Q(ee=>new Set(ee).add($))},[]),onNativeOptionRemove:S.useCallback($=>{Q(ee=>{const q=new Set(ee);return q.delete($),q})},[]),children:t})}),H?h.jsxs(O4,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:P,onChange:$=>D($.target.value),disabled:v,form:x,children:[P===void 0?h.jsx("option",{value:""}):null,Array.from(B)]},ie):null]})})};h4.displayName=Tu;var f4="SelectTrigger",m4=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,a=eb(t),l=Xl(f4,t),c=l.disabled||r,d=Et(e,l.onTriggerChange),f=Z_(t),p=S.useRef("touch"),[g,v,w]=j4(E=>{const C=f().filter(M=>!M.disabled),k=C.find(M=>M.value===l.value),O=L4(C,E,k);O!==void 0&&l.onValueChange(O.value)}),x=E=>{c||(l.onOpenChange(!0),w()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return h.jsx(G_,{asChild:!0,...a,children:h.jsx(rt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":M4(l.value)?"":void 0,...s,ref:d,onClick:De(s.onClick,E=>{E.currentTarget.focus(),p.current!=="mouse"&&x(E)}),onPointerDown:De(s.onPointerDown,E=>{p.current=E.pointerType;const C=E.target;C.hasPointerCapture(E.pointerId)&&C.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(x(E),E.preventDefault())}),onKeyDown:De(s.onKeyDown,E=>{const C=g.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&v(E.key),!(C&&E.key===" ")&&jee.includes(E.key)&&(x(),E.preventDefault())})})})});m4.displayName=f4;var p4="SelectValue",g4=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:a,placeholder:l="",...c}=n,d=Xl(p4,t),{onValueNodeHasChildrenChange:f}=d,p=a!==void 0,g=Et(e,d.onValueNodeChange);return xr(()=>{f(p)},[f,p]),h.jsx(rt.span,{...c,ref:g,style:{pointerEvents:"none"},children:M4(d.value)?h.jsx(h.Fragment,{children:l}):a})});g4.displayName=p4;var zee="SelectIcon",y4=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return h.jsx(rt.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});y4.displayName=zee;var qee="SelectPortal",v4=n=>h.jsx(zp,{asChild:!0,...n});v4.displayName=qee;var Cu="SelectContent",_4=S.forwardRef((n,e)=>{const t=Xl(Cu,n.__scopeSelect),[r,s]=S.useState();if(xr(()=>{s(new DocumentFragment)},[]),!t.open){const a=r;return a?Bh.createPortal(h.jsx(b4,{scope:n.__scopeSelect,children:h.jsx(X_.Slot,{scope:n.__scopeSelect,children:h.jsx("div",{children:n.children})})}),a):null}return h.jsx(w4,{...n,ref:e})});_4.displayName=Cu;var ci=10,[b4,Zl]=ef(Cu),Hee="SelectContentImpl",Wee=Aee("SelectContent.RemoveScroll"),w4=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:x,hideWhenDetached:E,avoidCollisions:C,...k}=n,O=Xl(Cu,t),[M,F]=S.useState(null),[V,z]=S.useState(null),N=Et(e,ue=>F(ue)),[I,P]=S.useState(null),[D,L]=S.useState(null),H=Z_(t),[B,Q]=S.useState(!1),ie=S.useRef(!1);S.useEffect(()=>{if(M)return Y_(M)},[M]),z_();const $=S.useCallback(ue=>{const[He,...ve]=H().map(ot=>ot.ref.current),[Ge]=ve.slice(-1),st=document.activeElement;for(const ot of ue)if(ot===st||(ot==null||ot.scrollIntoView({block:"nearest"}),ot===He&&V&&(V.scrollTop=0),ot===Ge&&V&&(V.scrollTop=V.scrollHeight),ot==null||ot.focus(),document.activeElement!==st))return},[H,V]),ee=S.useCallback(()=>$([I,M]),[$,I,M]);S.useEffect(()=>{B&&ee()},[B,ee]);const{onOpenChange:q,triggerPointerDownPosRef:X}=O;S.useEffect(()=>{if(M){let ue={x:0,y:0};const He=Ge=>{var st,ot;ue={x:Math.abs(Math.round(Ge.pageX)-(((st=X.current)==null?void 0:st.x)??0)),y:Math.abs(Math.round(Ge.pageY)-(((ot=X.current)==null?void 0:ot.y)??0))}},ve=Ge=>{ue.x<=10&&ue.y<=10?Ge.preventDefault():M.contains(Ge.target)||q(!1),document.removeEventListener("pointermove",He),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",He),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",He),document.removeEventListener("pointerup",ve,{capture:!0})}}},[M,q,X]),S.useEffect(()=>{const ue=()=>q(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[q]);const[ge,W]=j4(ue=>{const He=H().filter(st=>!st.disabled),ve=He.find(st=>st.ref.current===document.activeElement),Ge=L4(He,ue,ve);Ge&&setTimeout(()=>Ge.ref.current.focus())}),ae=S.useCallback((ue,He,ve)=>{const Ge=!ie.current&&!ve;(O.value!==void 0&&O.value===He||Ge)&&(P(ue),Ge&&(ie.current=!0))},[O.value]),he=S.useCallback(()=>M==null?void 0:M.focus(),[M]),me=S.useCallback((ue,He,ve)=>{const Ge=!ie.current&&!ve;(O.value!==void 0&&O.value===He||Ge)&&L(ue)},[O.value]),Ie=r==="popper"?xS:x4,Ve=Ie===xS?{side:c,sideOffset:d,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:x,hideWhenDetached:E,avoidCollisions:C}:{};return h.jsx(b4,{scope:t,content:M,viewport:V,onViewportChange:z,itemRefCallback:ae,selectedItem:I,onItemLeave:he,itemTextRefCallback:me,focusSelectedItem:ee,selectedItemText:D,position:r,isPositioned:B,searchRef:ge,children:h.jsx(qp,{as:Wee,allowPinchZoom:!0,children:h.jsx(Up,{asChild:!0,trapped:O.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:De(s,ue=>{var He;(He=O.trigger)==null||He.focus({preventScroll:!0}),ue.preventDefault()}),children:h.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:h.jsx(Ie,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:ue=>ue.preventDefault(),...k,...Ve,onPlaced:()=>Q(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:De(k.onKeyDown,ue=>{const He=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!He&&ue.key.length===1&&W(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ge=H().filter(st=>!st.disabled).map(st=>st.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const st=ue.target,ot=Ge.indexOf(st);Ge=Ge.slice(ot+1)}setTimeout(()=>$(Ge)),ue.preventDefault()}})})})})})})});w4.displayName=Hee;var $ee="SelectItemAlignedPosition",x4=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,a=Xl(Cu,t),l=Zl(Cu,t),[c,d]=S.useState(null),[f,p]=S.useState(null),g=Et(e,N=>p(N)),v=Z_(t),w=S.useRef(!1),x=S.useRef(!0),{viewport:E,selectedItem:C,selectedItemText:k,focusSelectedItem:O}=l,M=S.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&f&&E&&C&&k){const N=a.trigger.getBoundingClientRect(),I=f.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),D=k.getBoundingClientRect();if(a.dir!=="rtl"){const st=D.left-I.left,ot=P.left-st,dn=N.left-ot,hn=N.width+dn,hr=Math.max(hn,I.width),rr=window.innerWidth-ci,jn=sS(ot,[ci,Math.max(ci,rr-hr)]);c.style.minWidth=hn+"px",c.style.left=jn+"px"}else{const st=I.right-D.right,ot=window.innerWidth-P.right-st,dn=window.innerWidth-N.right-ot,hn=N.width+dn,hr=Math.max(hn,I.width),rr=window.innerWidth-ci,jn=sS(ot,[ci,Math.max(ci,rr-hr)]);c.style.minWidth=hn+"px",c.style.right=jn+"px"}const L=v(),H=window.innerHeight-ci*2,B=E.scrollHeight,Q=window.getComputedStyle(f),ie=parseInt(Q.borderTopWidth,10),$=parseInt(Q.paddingTop,10),ee=parseInt(Q.borderBottomWidth,10),q=parseInt(Q.paddingBottom,10),X=ie+$+B+q+ee,ge=Math.min(C.offsetHeight*5,X),W=window.getComputedStyle(E),ae=parseInt(W.paddingTop,10),he=parseInt(W.paddingBottom,10),me=N.top+N.height/2-ci,Ie=H-me,Ve=C.offsetHeight/2,ue=C.offsetTop+Ve,He=ie+$+ue,ve=X-He;if(He<=me){const st=L.length>0&&C===L[L.length-1].ref.current;c.style.bottom="0px";const ot=f.clientHeight-E.offsetTop-E.offsetHeight,dn=Math.max(Ie,Ve+(st?he:0)+ot+ee),hn=He+dn;c.style.height=hn+"px"}else{const st=L.length>0&&C===L[0].ref.current;c.style.top="0px";const dn=Math.max(me,ie+E.offsetTop+(st?ae:0)+Ve)+ve;c.style.height=dn+"px",E.scrollTop=He-me+E.offsetTop}c.style.margin=`${ci}px 0`,c.style.minHeight=ge+"px",c.style.maxHeight=H+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[v,a.trigger,a.valueNode,c,f,E,C,k,a.dir,r]);xr(()=>M(),[M]);const[F,V]=S.useState();xr(()=>{f&&V(window.getComputedStyle(f).zIndex)},[f]);const z=S.useCallback(N=>{N&&x.current===!0&&(M(),O==null||O(),x.current=!1)},[M,O]);return h.jsx(Yee,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:z,children:h.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:h.jsx(rt.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});x4.displayName=$ee;var Gee="SelectPopperPosition",xS=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=ci,...a}=n,l=eb(t);return h.jsx(gE,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xS.displayName=Gee;var[Yee,bE]=ef(Cu,{}),SS="SelectViewport",S4=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,a=Zl(SS,t),l=bE(SS,t),c=Et(e,a.onViewportChange),d=S.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(X_.Slot,{scope:t,children:h.jsx(rt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:De(s.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&g){const w=Math.abs(d.current-p.scrollTop);if(w>0){const x=window.innerHeight-ci*2,E=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),k=Math.max(E,C);if(k<x){const O=k+w,M=Math.min(x,O),F=O-M;g.style.height=M+"px",g.style.bottom==="0px"&&(p.scrollTop=F>0?F:0,g.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});S4.displayName=SS;var E4="SelectGroup",[Kee,Qee]=ef(E4),Jee=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=_i();return h.jsx(Kee,{scope:t,id:s,children:h.jsx(rt.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Jee.displayName=E4;var T4="SelectLabel",Xee=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Qee(T4,t);return h.jsx(rt.div,{id:s.id,...r,ref:e})});Xee.displayName=T4;var Jv="SelectItem",[Zee,C4]=ef(Jv),R4=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:a,...l}=n,c=Xl(Jv,t),d=Zl(Jv,t),f=c.value===r,[p,g]=S.useState(a??""),[v,w]=S.useState(!1),x=Et(e,O=>{var M;return(M=d.itemRefCallback)==null?void 0:M.call(d,O,r,s)}),E=_i(),C=S.useRef("touch"),k=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(Zee,{scope:t,value:r,disabled:s,textId:E,isSelected:f,onItemTextChange:S.useCallback(O=>{g(M=>M||((O==null?void 0:O.textContent)??"").trim())},[]),children:h.jsx(X_.ItemSlot,{scope:t,value:r,disabled:s,textValue:p,children:h.jsx(rt.div,{role:"option","aria-labelledby":E,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:x,onFocus:De(l.onFocus,()=>w(!0)),onBlur:De(l.onBlur,()=>w(!1)),onClick:De(l.onClick,()=>{C.current!=="mouse"&&k()}),onPointerUp:De(l.onPointerUp,()=>{C.current==="mouse"&&k()}),onPointerDown:De(l.onPointerDown,O=>{C.current=O.pointerType}),onPointerMove:De(l.onPointerMove,O=>{var M;C.current=O.pointerType,s?(M=d.onItemLeave)==null||M.call(d):C.current==="mouse"&&O.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(l.onPointerLeave,O=>{var M;O.currentTarget===document.activeElement&&((M=d.onItemLeave)==null||M.call(d))}),onKeyDown:De(l.onKeyDown,O=>{var F;((F=d.searchRef)==null?void 0:F.current)!==""&&O.key===" "||(Lee.includes(O.key)&&k(),O.key===" "&&O.preventDefault())})})})})});R4.displayName=Jv;var Rm="SelectItemText",A4=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...a}=n,l=Xl(Rm,t),c=Zl(Rm,t),d=C4(Rm,t),f=Fee(Rm,t),[p,g]=S.useState(null),v=Et(e,k=>g(k),d.onItemTextChange,k=>{var O;return(O=c.itemTextRefCallback)==null?void 0:O.call(c,k,d.value,d.disabled)}),w=p==null?void 0:p.textContent,x=S.useMemo(()=>h.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:E,onNativeOptionRemove:C}=f;return xr(()=>(E(x),()=>C(x)),[E,C,x]),h.jsxs(h.Fragment,{children:[h.jsx(rt.span,{id:d.textId,...a,ref:v}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Bh.createPortal(a.children,l.valueNode):null]})});A4.displayName=Rm;var N4="SelectItemIndicator",I4=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return C4(N4,t).isSelected?h.jsx(rt.span,{"aria-hidden":!0,...r,ref:e}):null});I4.displayName=N4;var ES="SelectScrollUpButton",k4=S.forwardRef((n,e)=>{const t=Zl(ES,n.__scopeSelect),r=bE(ES,n.__scopeSelect),[s,a]=S.useState(!1),l=Et(e,r.onScrollButtonChange);return xr(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollTop>0;a(f)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?h.jsx(P4,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});k4.displayName=ES;var TS="SelectScrollDownButton",D4=S.forwardRef((n,e)=>{const t=Zl(TS,n.__scopeSelect),r=bE(TS,n.__scopeSelect),[s,a]=S.useState(!1),l=Et(e,r.onScrollButtonChange);return xr(()=>{if(t.viewport&&t.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;a(p)};const d=t.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?h.jsx(P4,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=t;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});D4.displayName=TS;var P4=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,a=Zl("SelectScrollButton",t),l=S.useRef(null),c=Z_(t),d=S.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return S.useEffect(()=>()=>d(),[d]),xr(()=>{var p;const f=c().find(g=>g.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[c]),h.jsx(rt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:De(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:De(s.onPointerMove,()=>{var f;(f=a.onItemLeave)==null||f.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:De(s.onPointerLeave,()=>{d()})})}),ete="SelectSeparator",tte=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return h.jsx(rt.div,{"aria-hidden":!0,...r,ref:e})});tte.displayName=ete;var CS="SelectArrow",nte=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=eb(t),a=Xl(CS,t),l=Zl(CS,t);return a.open&&l.position==="popper"?h.jsx(yE,{...s,...r,ref:e}):null});nte.displayName=CS;var rte="SelectBubbleInput",O4=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=S.useRef(null),a=Et(r,s),l=n4(e);return S.useEffect(()=>{const c=s.current;if(!c)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==e&&p){const g=new Event("change",{bubbles:!0});p.call(c,e),c.dispatchEvent(g)}},[l,e]),h.jsx(rt.select,{...t,style:{...d4,...t.style},ref:a,defaultValue:e})});O4.displayName=rte;function M4(n){return n===""||n===void 0}function j4(n){const e=br(n),t=S.useRef(""),r=S.useRef(0),s=S.useCallback(l=>{const c=t.current+l;e(c),(function d(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),a=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,a]}function L4(n,e,t){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=ste(n,Math.max(a,0));s.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function ste(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var ite=h4,ate=m4,ote=g4,lte=y4,cte=v4,ute=_4,dte=S4,hte=R4,fte=A4,mte=I4,pte=k4,gte=D4;function _a({id:n,onValueChange:e,...t}){const r=$t(e,()=>({componentType:"select",eventType:"value-change",componentInfo:{id:n}}));return h.jsx(ite,{"data-slot":"select",onValueChange:r,...t})}function ba({...n}){return h.jsx(ote,{"data-slot":"select-value",...n})}function wa({className:n,size:e="default",children:t,id:r,onClick:s,...a}){const l=$t(s,()=>({componentType:"select-trigger",eventType:"click",componentInfo:{id:r}}));return h.jsxs(ate,{"data-slot":"select-trigger","data-size":e,id:r,onClick:l,className:Ce("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...a,children:[t,h.jsx(lte,{asChild:!0,children:h.jsx(I_,{className:"size-4 opacity-50"})})]})}function xa({className:n,children:e,position:t="popper",id:r,onCloseAutoFocus:s,onEscapeKeyDown:a,...l}){const c=$t(s,()=>({componentType:"select-content",eventType:"close-autofocus",componentInfo:{id:r}})),d=$t(a,()=>({componentType:"select-content",eventType:"escape-keydown",componentInfo:{id:r}}));return h.jsx(cte,{children:h.jsxs(ute,{"data-slot":"select-content",onCloseAutoFocus:c,onEscapeKeyDown:d,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...l,children:[h.jsx(yte,{}),h.jsx(dte,{className:Ce("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),h.jsx(vte,{})]})})}function Wt({className:n,children:e,id:t,onClick:r,...s}){const a=$t(r,()=>({componentType:"select-item",eventType:"click",componentInfo:{id:t,value:s.value}}));return h.jsxs(hte,{"data-slot":"select-item",id:t,onClick:a,className:Ce("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...s,children:[h.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:h.jsx(mte,{children:h.jsx(TM,{className:"size-4"})})}),h.jsx(fte,{children:e})]})}function yte({className:n,...e}){return h.jsx(pte,{"data-slot":"select-scroll-up-button",className:Ce("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx($7,{className:"size-4"})})}function vte({className:n,...e}){return h.jsx(gte,{"data-slot":"select-scroll-down-button",className:Ce("flex cursor-default items-center justify-center py-1",n),...e,children:h.jsx(I_,{className:"size-4"})})}function _te(n){const e=bte(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(xte);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function bte(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=Ete(s),c=Ste(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var wte=Symbol("radix.slottable");function xte(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===wte}function Ste(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function Ete(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var tb="Dialog",[V4]=Di(tb),[Tte,Mi]=V4(tb),B4=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=n,c=S.useRef(null),d=S.useRef(null),[f,p]=ql({prop:r,defaultProp:s??!1,onChange:a,caller:tb});return h.jsx(Tte,{scope:e,triggerRef:c,contentRef:d,contentId:_i(),titleId:_i(),descriptionId:_i(),open:f,onOpenChange:p,onOpenToggle:S.useCallback(()=>p(g=>!g),[p]),modal:l,children:t})};B4.displayName=tb;var U4="DialogTrigger",F4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Mi(U4,t),a=Et(e,s.triggerRef);return h.jsx(rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":SE(s.open),...r,ref:a,onClick:De(n.onClick,s.onOpenToggle)})});F4.displayName=U4;var wE="DialogPortal",[Cte,z4]=V4(wE,{forceMount:void 0}),q4=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,a=Mi(wE,e);return h.jsx(Cte,{scope:e,forceMount:t,children:S.Children.map(r,l=>h.jsx(kr,{present:t||a.open,children:h.jsx(zp,{asChild:!0,container:s,children:l})}))})};q4.displayName=wE;var Xv="DialogOverlay",H4=S.forwardRef((n,e)=>{const t=z4(Xv,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Mi(Xv,n.__scopeDialog);return a.modal?h.jsx(kr,{present:r||a.open,children:h.jsx(Ate,{...s,ref:e})}):null});H4.displayName=Xv;var Rte=_te("DialogOverlay.RemoveScroll"),Ate=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Mi(Xv,t);return h.jsx(qp,{as:Rte,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(rt.div,{"data-state":SE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ru="DialogContent",W4=S.forwardRef((n,e)=>{const t=z4(Ru,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=Mi(Ru,n.__scopeDialog);return h.jsx(kr,{present:r||a.open,children:a.modal?h.jsx(Nte,{...s,ref:e}):h.jsx(Ite,{...s,ref:e})})});W4.displayName=Ru;var Nte=S.forwardRef((n,e)=>{const t=Mi(Ru,n.__scopeDialog),r=S.useRef(null),s=Et(e,t.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return Y_(a)},[]),h.jsx($4,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:De(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:De(n.onFocusOutside,a=>a.preventDefault())})}),Ite=S.forwardRef((n,e)=>{const t=Mi(Ru,n.__scopeDialog),r=S.useRef(!1),s=S.useRef(!1);return h.jsx($4,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var d,f;(d=n.onInteractOutside)==null||d.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((f=t.triggerRef.current)==null?void 0:f.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),$4=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=n,c=Mi(Ru,t),d=S.useRef(null),f=Et(e,d);return z_(),h.jsxs(h.Fragment,{children:[h.jsx(Up,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:h.jsx(Bp,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":SE(c.open),...l,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(kte,{titleId:c.titleId}),h.jsx(Pte,{contentRef:d,descriptionId:c.descriptionId})]})]})}),xE="DialogTitle",G4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Mi(xE,t);return h.jsx(rt.h2,{id:s.titleId,...r,ref:e})});G4.displayName=xE;var Y4="DialogDescription",K4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Mi(Y4,t);return h.jsx(rt.p,{id:s.descriptionId,...r,ref:e})});K4.displayName=Y4;var Q4="DialogClose",J4=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=Mi(Q4,t);return h.jsx(rt.button,{type:"button",...r,ref:e,onClick:De(n.onClick,()=>s.onOpenChange(!1))})});J4.displayName=Q4;function SE(n){return n?"open":"closed"}var X4="DialogTitleWarning",[oie,Z4]=LH(X4,{contentName:Ru,titleName:xE,docsSlug:"dialog"}),kte=({titleId:n})=>{const e=Z4(X4),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Dte="DialogDescriptionWarning",Pte=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z4(Dte).contentName}}.`;return S.useEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},eL=B4,Ote=F4,tL=q4,nL=H4,rL=W4,sL=G4,iL=K4,aL=J4;function bi({...n}){return h.jsx(eL,{"data-slot":"dialog",...n})}function Wp({id:n,onClick:e,...t}){const r=$t(e,()=>({componentType:"dialog-trigger",eventType:"click",componentInfo:{id:n}}));return h.jsx(Ote,{"data-slot":"dialog-trigger",id:n,onClick:r,...t})}function Mte({...n}){return h.jsx(tL,{"data-slot":"dialog-portal",...n})}function jte({id:n,onClick:e,...t}){const r=$t(e,()=>({componentType:"dialog-close",eventType:"click",componentInfo:{id:n}}));return h.jsx(aL,{"data-slot":"dialog-close",id:n,onClick:r,...t})}function Lte({className:n,...e}){return h.jsx(nL,{"data-slot":"dialog-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function wi({className:n,children:e,showCloseButton:t=!0,id:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}){const c=$t(s,()=>({componentType:"dialog-content",eventType:"open-focus",componentInfo:{id:r}})),d=$t(a,()=>({componentType:"dialog-content",eventType:"close-focus",componentInfo:{id:r}}));return h.jsxs(Mte,{"data-slot":"dialog-portal",children:[h.jsx(Lte,{}),h.jsxs(rL,{"data-slot":"dialog-content",id:r,onOpenAutoFocus:c,onCloseAutoFocus:d,className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...l,children:[e,t&&h.jsxs(jte,{"data-slot":"dialog-close",id:`${r}-close-button`,className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[h.jsx(B1,{}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function xi({className:n,id:e,onClick:t,...r}){const s=$t(t,()=>({componentType:"dialog-header",eventType:"click",componentInfo:{id:e}}));return h.jsx("div",{"data-slot":"dialog-header",id:e,onClick:s,className:Ce("flex flex-col gap-2 text-center sm:text-left",n),...r})}function Si({className:n,id:e,onClick:t,...r}){const s=$t(t,()=>({componentType:"dialog-footer",eventType:"click",componentInfo:{id:e}}));return h.jsx("div",{"data-slot":"dialog-footer",id:e,onClick:s,className:Ce("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n),...r})}function Ei({className:n,id:e,...t}){return h.jsx(sL,{"data-slot":"dialog-title",id:e,className:Ce("text-lg leading-none font-semibold",n),...t})}function Sa({className:n,id:e,...t}){return h.jsx(iL,{"data-slot":"dialog-description",id:e,className:Ce("text-muted-foreground text-sm",n),...t})}const Mh=[{value:"living_room",label:"Living Room"},{value:"bedroom",label:"Bedroom"},{value:"master_bedroom",label:"Master Bedroom"},{value:"kitchen",label:"Kitchen"},{value:"dining_room",label:"Dining Room"},{value:"bathroom",label:"Bathroom"},{value:"home_office",label:"Home Office"},{value:"garage",label:"Garage"},{value:"basement",label:"Basement"},{value:"attic",label:"Attic"},{value:"laundry_room",label:"Laundry Room"},{value:"kids_room",label:"Kids Room"},{value:"guest_room",label:"Guest Room"},{value:"storage",label:"Storage Area"},{value:"outdoor",label:"Outdoor/Patio"},{value:"other",label:"Other"}],oL=[{value:"furniture",label:"Furniture"},{value:"electronics",label:"Electronics"},{value:"appliances",label:"Appliances"},{value:"decor",label:"Decor"},{value:"storage",label:"Storage"},{value:"bedding",label:"Bedding"},{value:"kitchenware",label:"Kitchenware"},{value:"clothing",label:"Clothing"},{value:"books_media",label:"Books & Media"},{value:"sports_outdoor",label:"Sports & Outdoor"},{value:"fragile",label:"Fragile Items"},{value:"other",label:"Other"}];async function Vte(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{if(typeof r.result=="string"){const s=r.result.split(",")[1];e(s)}else t(new Error("Failed to read file as base64"))},r.onerror=()=>t(r.error),r.readAsDataURL(n)})}function Bte(n){return n.split(",")[1]}const Ute=Mh.map(n=>n.value);function Fte(n){const e=n.toLowerCase().trim().replace(/\s+/g,"_");if(!Ute.includes(e))throw new Error(`Invalid room type: "${n}". Must be one of: ${Mh.map(r=>r.label).join(", ")}`);const t=Mh.find(r=>r.value===e);return(t==null?void 0:t.label)||e}async function zte(n,e){const t="AIzaSyDf7V5lv79tKZbgOVwuDQCPKh7ImQi0YXk",s=`You are an expert moving company inventory specialist. Analyze this image of a ${Fte(e)} and identify all movable items that would need to be packed and transported during a home move.

For each item you identify, provide the following information in a valid JSON array format:
- name: The common name of the item
- category: One of these categories: "furniture", "electronics", "appliances", "decor", "storage", "bedding", "kitchenware", "clothing", "books_media", "sports_outdoor", "fragile", "other"
- quantity: How many of this item you can see (estimate if multiple similar items)
- description: Brief description if helpful
- estimatedSize: One of "small" (fits in a box), "medium" (needs 2 people), "large" (needs 3+ people), "extra-large" (may need special equipment)
- estimatedWeight: One of "light" (under 20 lbs), "medium" (20-50 lbs), "heavy" (over 50 lbs)
- fragile: true if the item is breakable or needs special care
- specialHandling: Any special notes for movers (e.g., "disassembly required", "keep upright", "temperature sensitive")

IMPORTANT: Return ONLY a valid JSON array with the items. No additional text, explanation, or markdown. Start with [ and end with ].

Example format:
[
  {
    "name": "Sofa",
    "category": "furniture",
    "quantity": 1,
    "description": "3-seater sectional sofa",
    "estimatedSize": "large",
    "estimatedWeight": "heavy",
    "fragile": false,
    "specialHandling": "may require disassembly for narrow doorways"
  }
]`,a=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${t}`,c=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:s},{inline_data:{mime_type:"image/jpeg",data:n}}]}]})});if(!c.ok){const p=await c.text();throw new Error(`Gemini API error: ${c.status} - ${p}`)}const d=await c.json();if(!d.candidates||d.candidates.length===0||!d.candidates[0].content||!d.candidates[0].content.parts||d.candidates[0].content.parts.length===0)throw new Error("No response content from Gemini API");const f=d.candidates[0].content.parts[0].text;try{const p=f.replace(/```json\n|\n```/g,"").replace(/```/g,"").trim(),g=p.indexOf("["),v=p.lastIndexOf("]")+1;if(g===-1||v===0)throw new Error("No JSON array found in response");const w=p.substring(g,v),x=JSON.parse(w);return Y$(x).map((C,k)=>({...C,id:`item-${Date.now()}-${k}`}))}catch(p){console.error("Failed to parse or validate Gemini response:",f);const g=p instanceof Error?p.message:"Unknown error";throw new Error(`Failed to process detected items: ${g}`)}}async function qte(n){return new Promise((e,t)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?e(r.result):t(new Error("Failed to read file as data URL"))},r.onerror=()=>t(r.error),r.readAsDataURL(n)})}function Hte(){return ur({mutationFn:async({imageFile:n,imageUrl:e,roomType:t})=>{let r="";if(n)r=await Vte(n);else if(e)if(e.startsWith("data:"))r=Bte(e);else throw new Error("Remote URL analysis not implemented for client-side Gemini yet. Please upload a file.");if(!r)throw new Error("No image data available for analysis");return zte(r,t)}})}function Zv({onInventoryChange:n,initialRooms:e=[],readOnly:t=!1}){const[r,s]=S.useState(e),[a,l]=S.useState(!1),[c,d]=S.useState(null),f=x=>{const E=[...r,x];s(E),n==null||n(E),l(!1)},p=(x,E)=>{const C=[...r];C[x]=E,s(C),n==null||n(C)},g=x=>{const E=r.filter((C,k)=>k!==x);s(E),n==null||n(E),c===x&&d(null)},v=r.reduce((x,E)=>x+E.items.length,0),w=r.reduce((x,E)=>x+E.items.filter(C=>C.quantity>0).length,0);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(en,{className:"flex items-center gap-2",children:[h.jsx(k_,{className:"h-5 w-5"}),"Room-by-Room Inventory"]}),h.jsx(dr,{children:"Take photos of each room and our AI will identify items to be moved"})]}),h.jsxs(Ee,{onClick:()=>l(!0),disabled:t,className:t?"hidden":"",children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"Add Room"]})]})}),h.jsx(jt,{children:h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold",children:r.length}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Rooms"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold",children:v}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Items Detected"})]}),h.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold",children:w}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Items Selected"})]})]})})]}),r.length===0?h.jsx(Mt,{children:h.jsxs(jt,{className:"py-12 text-center",children:[h.jsx(EM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No rooms added yet"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:t?"No inventory available for this quote.":"Start by adding a room and uploading a photo. Our AI will detect items automatically."}),!t&&h.jsxs(Ee,{onClick:()=>l(!0),children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"Add Your First Room"]})]})}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map((x,E)=>h.jsx(Wte,{room:x,onEdit:()=>d(E),onDelete:()=>g(E),readOnly:t},`${x.roomName}-${E}`))}),h.jsx($te,{open:a,onOpenChange:l,onAdd:f}),c!==null&&h.jsx(Gte,{open:c!==null,onOpenChange:x=>!x&&d(null),room:r[c],onSave:x=>{p(c,x),d(null)}})]})}function Wte({room:n,onEdit:e,onDelete:t,readOnly:r}){var l;const s=n.items.filter(c=>c.quantity>0),a=((l=Mh.find(c=>c.value===n.roomType))==null?void 0:l.label)||n.roomType;return h.jsxs(Mt,{className:"overflow-hidden",children:[n.imageUrl&&h.jsxs("div",{className:"aspect-video bg-muted relative",children:[h.jsx("img",{src:n.imageUrl,alt:n.roomName,className:"w-full h-full object-cover"}),h.jsx(xn,{className:"absolute top-2 right-2",variant:"secondary",children:a})]}),h.jsx(Zt,{className:"pb-2",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(en,{className:"text-lg",children:n.roomName}),!r&&h.jsxs("div",{className:"flex gap-1",children:[h.jsx(Ee,{variant:"ghost",size:"sm",onClick:e,children:h.jsx(NM,{className:"h-4 w-4"})}),h.jsx(Ee,{variant:"ghost",size:"sm",onClick:t,children:h.jsx(Ul,{className:"h-4 w-4"})})]})]})}),h.jsxs(jt,{children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("span",{className:"text-muted-foreground",children:[s.length," of ",n.items.length," items selected"]}),!r&&h.jsx(Ee,{variant:"link",size:"sm",className:"p-0 h-auto",onClick:e,children:"View Details"})]}),s.length>0&&h.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[s.slice(0,3).map(c=>h.jsx(xn,{variant:"outline",className:"text-xs",children:c.name},c.id)),s.length>3&&h.jsxs(xn,{variant:"outline",className:"text-xs",children:["+",s.length-3," more"]})]})]})]})}function $te({open:n,onOpenChange:e,onAdd:t}){const[r,s]=S.useState(""),[a,l]=S.useState(""),[c,d]=S.useState(null),[f,p]=S.useState(null),[g,v]=S.useState([]),[w,x]=S.useState("upload"),[E,C]=S.useState(null),k=Hte(),O=async N=>{var P;const I=(P=N.target.files)==null?void 0:P[0];if(I){d(I);const D=await qte(I);p(D),C(null)}},M=async()=>{if(!c||!a){C("Please select a room type and upload an image");return}x("analyzing"),C(null);try{const N=await k.mutateAsync({imageFile:c,roomType:a});v(N),x("select")}catch(N){C(N instanceof Error?N.message:"Failed to analyze image"),x("upload")}},F=()=>{var P;const N=g.filter(D=>D.quantity>0),I={roomName:r||((P=Mh.find(D=>D.value===a))==null?void 0:P.label)||"Room",roomType:a,imageUrl:f||void 0,items:N,totalItems:N.length,analyzedAt:new Date().toISOString()};t(I),V()},V=()=>{s(""),l(""),d(null),p(null),v([]),x("upload"),C(null)},z=()=>{V(),e(!1)};return h.jsx(bi,{open:n,onOpenChange:z,children:h.jsxs(wi,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs(xi,{children:[h.jsxs(Ei,{className:"flex items-center gap-2",children:[w==="upload"&&h.jsxs(h.Fragment,{children:[h.jsx(EM,{className:"h-5 w-5"}),"Add Room"]}),w==="analyzing"&&h.jsxs(h.Fragment,{children:[h.jsx(_I,{className:"h-5 w-5"}),"Analyzing Image..."]}),w==="select"&&h.jsxs(h.Fragment,{children:[h.jsx(Pp,{className:"h-5 w-5 text-green-500"}),"Select Items to Move"]})]}),h.jsxs(Sa,{children:[w==="upload"&&"Upload a photo of the room and our AI will detect items",w==="analyzing"&&"Please wait while we identify items in your photo",w==="select"&&`Found ${g.length} items. Select the ones you want to move.`]})]}),E&&h.jsxs(RG,{variant:"destructive",children:[h.jsx(Dv,{className:"h-4 w-4"}),h.jsx(AG,{children:E})]}),h.jsxs("div",{className:"flex-1 overflow-hidden",children:[w==="upload"&&h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"roomType",children:"Room Type"}),h.jsxs(_a,{value:a,onValueChange:l,children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select room type"})}),h.jsx(xa,{children:Mh.map(N=>h.jsx(Wt,{value:N.value,children:N.label},N.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"roomName",children:"Room Name (Optional)"}),h.jsx(ct,{id:"roomName",value:r,onChange:N=>s(N.target.value),placeholder:"e.g., Master Bedroom"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{children:"Room Photo"}),h.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:f?h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:f,alt:"Room preview",className:"max-h-64 mx-auto rounded-lg"}),h.jsx(Ee,{variant:"secondary",size:"sm",className:"absolute top-2 right-2",onClick:()=>{d(null),p(null)},children:h.jsx(B1,{className:"h-4 w-4"})})]}):h.jsxs("label",{className:"cursor-pointer block",children:[h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:O}),h.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[h.jsx(Z7,{className:"h-12 w-12"}),h.jsx("span",{className:"font-medium",children:"Click to upload a photo"}),h.jsx("span",{className:"text-sm",children:"or drag and drop"})]})]})})]})]}),w==="analyzing"&&h.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[h.jsx(rS,{className:"h-12 w-12 animate-spin text-primary mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"Identifying items in your room..."}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"This usually takes 10-30 seconds"})]}),w==="select"&&h.jsx(O_,{className:"h-[400px] pr-4",children:h.jsx(lL,{items:g,onItemsChange:v})})]}),h.jsxs(Si,{children:[w==="upload"&&h.jsxs(h.Fragment,{children:[h.jsx(Ee,{variant:"outline",onClick:z,children:"Cancel"}),h.jsxs(Ee,{onClick:M,disabled:!c||!a,children:[h.jsx(_I,{className:"h-4 w-4 mr-2"}),"Analyze Room"]})]}),w==="select"&&h.jsxs(h.Fragment,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>x("upload"),children:"Back"}),h.jsxs(Ee,{onClick:F,children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"Add Room (",g.filter(N=>N.quantity>0).length," items)"]})]})]})]})})}function Gte({open:n,onOpenChange:e,room:t,onSave:r}){const[s,a]=S.useState(t.items),[l,c]=S.useState(!1),d=()=>{r({...t,items:s.filter(p=>p.quantity>0),totalItems:s.filter(p=>p.quantity>0).length})},f=p=>{a([...s,p]),c(!1)};return h.jsx(bi,{open:n,onOpenChange:e,children:h.jsxs(wi,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[h.jsxs(xi,{children:[h.jsxs(Ei,{className:"flex items-center gap-2",children:[h.jsx(NM,{className:"h-5 w-5"}),"Edit ",t.roomName]}),h.jsx(Sa,{children:"Review and modify the items detected in this room"})]}),h.jsxs("div",{className:"flex gap-4 flex-1 overflow-hidden",children:[t.imageUrl&&h.jsx("div",{className:"w-1/3 flex-shrink-0",children:h.jsx("img",{src:t.imageUrl,alt:t.roomName,className:"w-full rounded-lg object-cover"})}),h.jsx(O_,{className:"flex-1 pr-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-sm font-medium",children:[s.filter(p=>p.quantity>0).length," items selected"]}),h.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"Add Item Manually"]})]}),h.jsx(lL,{items:s,onItemsChange:a})]})})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),h.jsx(Ee,{onClick:d,children:"Save Changes"})]}),l&&h.jsx(Yte,{open:l,onOpenChange:c,onAdd:f})]})})}function lL({items:n,onItemsChange:e}){const t=l=>{e(n.map(c=>c.id===l?{...c,quantity:c.quantity>0?0:1}:c))},r=(l,c)=>{e(n.map(d=>d.id===l?{...d,quantity:Math.max(0,c)}:d))},s=l=>{e(n.filter(c=>c.id!==l))},a=n.reduce((l,c)=>{const d=c.category||"other";return l[d]||(l[d]=[]),l[d].push(c),l},{});return h.jsx("div",{className:"space-y-4",children:Object.entries(a).map(([l,c])=>{var f;const d=((f=oL.find(p=>p.value===l))==null?void 0:f.label)||l;return h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-2 capitalize",children:d}),h.jsx("div",{className:"space-y-2",children:c.map(p=>h.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${p.quantity>0?"bg-primary/5 border-primary/20":"bg-muted/50"}`,children:[h.jsx(Vm,{checked:p.quantity>0,onCheckedChange:()=>t(p.id)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium",children:p.name}),p.fragile&&h.jsx(xn,{variant:"destructive",className:"text-xs",children:"Fragile"}),p.estimatedSize&&h.jsx(xn,{variant:"outline",className:"text-xs capitalize",children:p.estimatedSize})]}),p.description&&h.jsx("p",{className:"text-sm text-muted-foreground truncate",children:p.description}),p.specialHandling&&h.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[h.jsx(Dv,{className:"h-3 w-3 inline mr-1"}),p.specialHandling]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ze,{htmlFor:`qty-${p.id}`,className:"text-sm text-muted-foreground",children:"Qty:"}),h.jsx(ct,{id:`qty-${p.id}`,type:"number",min:"0",value:p.quantity,onChange:g=>r(p.id,parseInt(g.target.value)||0),className:"w-16 text-center"}),h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>s(p.id),children:h.jsx(Ul,{className:"h-4 w-4"})})]})]},p.id))}),h.jsx(rp,{className:"mt-4"})]},l)})})}function Yte({open:n,onOpenChange:e,onAdd:t}){const[r,s]=S.useState(""),[a,l]=S.useState("other"),[c,d]=S.useState(1),[f,p]=S.useState("medium"),[g,v]=S.useState(!1),[w,x]=S.useState(""),E=()=>{const C={id:`manual-${Date.now()}`,name:r,category:a,quantity:c,estimatedSize:f,fragile:g,specialHandling:w||void 0};t(C),s(""),l("other"),d(1),p("medium"),v(!1),x("")};return h.jsx(bi,{open:n,onOpenChange:e,children:h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsxs(Ei,{className:"flex items-center gap-2",children:[h.jsx(Xm,{className:"h-5 w-5"}),"Add Item Manually"]}),h.jsx(Sa,{children:"Add an item that wasn't detected in the photo"})]}),h.jsxs("div",{className:"space-y-4 py-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"itemName",children:"Item Name"}),h.jsx(ct,{id:"itemName",value:r,onChange:C=>s(C.target.value),placeholder:"e.g., Floor Lamp"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"category",children:"Category"}),h.jsxs(_a,{value:a,onValueChange:C=>l(C),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select category"})}),h.jsx(xa,{children:oL.map(C=>h.jsx(Wt,{value:C.value,children:C.label},C.value))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"quantity",children:"Quantity"}),h.jsx(ct,{id:"quantity",type:"number",min:"1",value:c,onChange:C=>d(parseInt(C.target.value)||1)})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"size",children:"Estimated Size"}),h.jsxs(_a,{value:f,onValueChange:C=>p(C),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select size"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:"small",children:"Small (fits in a box)"}),h.jsx(Wt,{value:"medium",children:"Medium (needs 2 people)"}),h.jsx(Wt,{value:"large",children:"Large (needs 3+ people)"}),h.jsx(Wt,{value:"extra-large",children:"Extra Large (special equipment)"})]})]})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Vm,{id:"fragile",checked:g,onCheckedChange:C=>v(C===!0)}),h.jsx(ze,{htmlFor:"fragile",children:"This item is fragile"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"specialHandling",children:"Special Handling Notes (Optional)"}),h.jsx(ct,{id:"specialHandling",value:w,onChange:C=>x(C.target.value),placeholder:"e.g., Keep upright, disassembly required"})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),h.jsx(Ee,{onClick:E,disabled:!r,children:"Add Item"})]})]})})}const jc=class jc{constructor(){an(this,"collectionName","quotes")}static getInstance(){return jc.instance||(jc.instance=new jc),jc.instance}getCurrentTime(){return new Date().toISOString()}async insertQuote(e){const t=be(_e(J,this.collectionName)),r=this.getCurrentTime(),s={...e,id:t.id,create_time:r,update_time:r,status:"PENDING"};return await un(t,s),s}async getQuotesByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async getQuotesByCustomerId(e){const t=Pe(_e(J,this.collectionName),Re("customer_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async getQuoteById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?r.data():null}async updateStatus(e,t){const r=be(J,this.collectionName,e);await un(r,{status:t,update_time:this.getCurrentTime()},{merge:!0})}};an(jc,"instance",null);let lp=jc;const Kte=nr("/get-quote")({component:Qte});function Qte(){const[n,e]=S.useState("logistics"),[t,r]=S.useState(""),[s,a]=S.useState(""),[l,c]=S.useState(void 0),[d,f]=S.useState(""),[p,g]=S.useState(""),[v,w]=S.useState(""),[x,E]=S.useState(""),[C,k]=S.useState(!1),[O,M]=S.useState([]),F=O.reduce((N,I)=>N+I.items.filter(P=>P.quantity>0).length,0),V=F*5,z=async()=>{if(!l){alert("Please select a moving date.");return}k(!0);try{const N=await lp.getInstance().insertQuote({pickup_address:t,dropoff_address:s,move_date:l.toISOString(),inventory_items:O,estimated_volume:V,estimated_price_min:450,estimated_price_max:600,customer_name:d,customer_email:p,customer_phone:v,company_id:"",status:"PENDING"});E(N.id),e("success")}catch(N){console.error("Failed to submit quote:",N),alert("Failed to submit quote. Please try again.")}finally{k(!1)}};return h.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[h.jsx("header",{className:"bg-white border-b py-4",children:h.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[h.jsxs("div",{className:"font-bold text-xl text-primary flex items-center gap-2",children:[h.jsx(ya,{className:"h-6 w-6"}),"Swift Movers"]}),h.jsx(fu,{to:"/login",children:h.jsx(Ee,{variant:"ghost",children:"Login"})})]})}),h.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8 max-w-4xl",children:[h.jsxs("div",{className:"mb-8 max-w-3xl mx-auto",children:[h.jsxs("div",{className:"flex justify-between text-sm font-medium mb-2 text-muted-foreground",children:[h.jsx("span",{className:Ce(n==="logistics"||n==="inventory"||n==="review"?"text-primary":""),children:"1. Logistics"}),h.jsx("span",{className:Ce(n==="inventory"||n==="review"?"text-primary":""),children:"2. Inventory"}),h.jsx("span",{className:Ce(n==="review"?"text-primary":""),children:"3. Review & Book"})]}),h.jsx("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-primary transition-all duration-300 ease-in-out",style:{width:n==="logistics"?"33%":n==="inventory"?"66%":n==="review"?"90%":"100%"}})})]}),n==="logistics"&&h.jsxs(Mt,{className:"max-w-3xl mx-auto",children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Where are you moving?"}),h.jsx(dr,{children:"Enter your pickup and dropoff locations and select a date."})]}),h.jsxs(jt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"pickup",children:"Pickup Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Zm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),h.jsx(ct,{id:"pickup",placeholder:"123 Main St, City, State",className:"pl-9",value:t,onChange:N=>r(N.target.value)})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"dropoff",children:"Dropoff Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Zm,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),h.jsx(ct,{id:"dropoff",placeholder:"456 New Home Ave, City, State",className:"pl-9",value:s,onChange:N=>a(N.target.value)})]})]}),h.jsxs("div",{className:"space-y-2 flex flex-col",children:[h.jsx(ze,{children:"Move Date"}),h.jsxs(Zj,{children:[h.jsx(e4,{asChild:!0,children:h.jsxs(Ee,{variant:"outline",className:Ce("w-full justify-start text-left font-normal",!l&&"text-muted-foreground"),children:[h.jsx(ju,{className:"mr-2 h-4 w-4"}),l?fa(l,"PPP"):h.jsx("span",{children:"Pick a date"})]})}),h.jsx(t4,{className:"w-auto p-0",children:h.jsx(MJ,{mode:"single",selected:l,onSelect:c,initialFocus:!0})})]})]})]}),h.jsx(Vv,{className:"flex justify-end",children:h.jsxs(Ee,{onClick:()=>e("inventory"),disabled:!t||!s||!l,children:["Next Step ",h.jsx(nS,{className:"ml-2 h-4 w-4"})]})})]}),n==="inventory"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx(Zv,{initialRooms:O,onInventoryChange:M}),h.jsxs("div",{className:"flex justify-between bg-white p-4 rounded-lg border shadow-sm sticky bottom-4",children:[h.jsxs(Ee,{variant:"outline",onClick:()=>e("logistics"),children:[h.jsx(tS,{className:"mr-2 h-4 w-4"})," Back"]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"text-sm text-muted-foreground hidden sm:block",children:["Total Items: ",h.jsx("strong",{children:F})]}),h.jsxs(Ee,{onClick:()=>e("review"),children:["Next Step ",h.jsx(nS,{className:"ml-2 h-4 w-4"})]})]})]})]}),n==="review"&&h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[h.jsxs(Mt,{className:"h-fit",children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Review Your Quote"}),h.jsx(dr,{children:"Estimated move based on details provided."})]}),h.jsx(jt,{className:"space-y-6",children:h.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg space-y-3",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"From"}),h.jsx("span",{className:"font-medium text-right",children:t})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"To"}),h.jsx("span",{className:"font-medium text-right",children:s})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Date"}),h.jsx("span",{className:"font-medium",children:l?fa(l,"PPP"):""})]}),h.jsx(rp,{}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total Items"}),h.jsx("span",{className:"font-medium",children:F})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Est. Volume"}),h.jsxs("span",{className:"font-medium",children:["~",V," cu. ft."]})]}),h.jsx(rp,{}),h.jsxs("div",{className:"pt-2",children:[h.jsx("div",{className:"text-sm font-medium mb-1",children:"Estimated Price Range"}),h.jsx("div",{className:"text-3xl font-bold text-primary",children:"$450 - $600"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Final price subject to verification"})]})]})})]}),h.jsxs(Mt,{children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Finalize Request"}),h.jsx(dr,{children:"Enter your contact details to receive this quote and book."})]}),h.jsxs(jt,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"name",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx(IM,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),h.jsx(ct,{id:"name",placeholder:"John Doe",className:"pl-9",value:d,onChange:N=>f(N.target.value)})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"email",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(iH,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),h.jsx(ct,{id:"email",type:"email",placeholder:"john@example.com",className:"pl-9",value:p,onChange:N=>g(N.target.value)})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"phone",children:"Phone Number"}),h.jsxs("div",{className:"relative",children:[h.jsx(dH,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),h.jsx(ct,{id:"phone",type:"tel",placeholder:"(555) 123-4567",className:"pl-9",value:v,onChange:N=>w(N.target.value)})]})]}),h.jsxs("div",{className:"pt-4",children:[h.jsx(Ee,{size:"lg",className:"w-full",onClick:z,disabled:C||!d||!p||!v,children:C?"Submitting...":"Send Request & Book"}),h.jsx("p",{className:"text-xs text-muted-foreground text-center mt-2",children:"By clicking, you agree to our Terms of Service."})]})]}),h.jsx(Vv,{className:"justify-center border-t pt-4",children:h.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>e("inventory"),children:[h.jsx(tS,{className:"mr-2 h-4 w-4"})," Back to Inventory"]})})]})]}),n==="success"&&h.jsxs(Mt,{className:"text-center py-10 max-w-2xl mx-auto",children:[h.jsx(Zt,{children:h.jsxs(en,{className:"text-2xl font-bold text-green-600 flex items-center justify-center gap-2",children:[h.jsx(Pp,{className:"h-8 w-8"}),"Booking Request Received!"]})}),h.jsxs(jt,{className:"space-y-4",children:[h.jsxs("p",{className:"text-muted-foreground",children:["Thank you, ",h.jsx("strong",{children:d}),". We have received your request. ",h.jsx("br",{}),"Your reference ID is ",h.jsxs("strong",{children:["#",x.slice(0,8).toUpperCase()]}),"."]}),h.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-blue-800 text-sm",children:[h.jsx("strong",{children:"Next Step:"})," Please create an account to track your move status and complete payment."]}),h.jsx(fu,{to:"/login",search:{tab:"signup",role:"customer",quoteId:x},children:h.jsx(Ee,{size:"lg",className:"w-full sm:w-auto",children:"Create Account & Track Move"})})]})]})]})]})}const Jte=nr("/foreman")({beforeLoad:()=>{const{status:n,role:e}=KW();if(n!=="authenticated")throw A0({to:"/login",search:{redirect:"/foreman"}});if(![Jr.Foreman,Jr.Manager,Jr.Admin].includes(e))throw A0({to:"/"})},component:Xte});function Xte(){const{user:n,role:e}=Ra();return h.jsxs("div",{className:"container mx-auto py-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Foreman Dashboard"}),h.jsxs("p",{className:"text-muted-foreground",children:["Welcome, ",n==null?void 0:n.email," (Role: ",e,")"]}),h.jsx("div",{className:"mt-8",children:h.jsx("p",{children:"Foreman features coming soon..."})})]})}var Ne=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Quote=1]="Quote",n[n.Booked=2]="Booked",n[n.InProgress=3]="InProgress",n[n.Completed=4]="Completed",n[n.Canceled=5]="Canceled",n[n.EnRoute=6]="EnRoute",n[n.Arrived=7]="Arrived",n[n.Loading=8]="Loading",n[n.onWayToDropoff=9]="onWayToDropoff",n[n.Unloading=10]="Unloading",n))(Ne||{});const Lc=class Lc{constructor(){an(this,"collectionName","jobs")}static getInstance(){return Lc.instance||(Lc.instance=new Lc),Lc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getJobByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteJobByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllJob(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getJobsByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async getJobsByCustomerId(e){const t=Pe(_e(J,this.collectionName),Re("customer_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertJob(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllJob(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listJob(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getJobById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setJobById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId();return[await R7(J,async c=>{const d=await c.get(r),f=d.exists()?d.data():null,p={...t,id:e,data_updater:a,update_time:s,data_creator:(f==null?void 0:f.data_creator)||t.data_creator||a,create_time:(f==null?void 0:f.create_time)||t.create_time||s};return c.set(r,p),p})]}async deleteJobById(e){await je(be(J,this.collectionName,e))}async getJobByCompanyIdStatus(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("status","==",t));return(await xe(r)).docs.map(a=>a.data())}async setJobByCompanyIdStatus(e,t,r){if(r.id)return this.setJobById(r.id,r);const s=await this.getJobByCompanyIdStatus(e,t);return s.length>0?this.setJobById(s[0].id,r):this.insertJob([r])}async deleteJobByCompanyIdStatus(e,t){const s=(await this.getJobByCompanyIdStatus(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getJobByCompanyIdScheduledDate(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("scheduled_date","==",t));return(await xe(r)).docs.map(a=>a.data())}async setJobByCompanyIdScheduledDate(e,t,r){if(r.id)return this.setJobById(r.id,r);const s=await this.getJobByCompanyIdScheduledDate(e,t);return s.length>0?this.setJobById(s[0].id,r):this.insertJob([r])}async deleteJobByCompanyIdScheduledDate(e,t){const s=(await this.getJobByCompanyIdScheduledDate(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getJobByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobByDataCreator(e,t){return t.id?this.setJobById(t.id,t):this.insertJob([t])}async deleteJobByDataCreator(e){const r=(await this.getJobByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobByDataUpdater(e,t){return t.id?this.setJobById(t.id,t):this.insertJob([t])}async deleteJobByDataUpdater(e){const r=(await this.getJobByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Lc,"instance",null);let ws=Lc;ws.getInstance();var ui=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Mover=1]="Mover",n[n.Driver=2]="Driver",n[n.Supervisor=3]="Supervisor",n))(ui||{}),ta=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Active=1]="Active",n[n.Inactive=2]="Inactive",n))(ta||{});const Vc=class Vc{constructor(){an(this,"collectionName","workers")}static getInstance(){return Vc.instance||(Vc.instance=new Vc),Vc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getWorkerByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteWorkerByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllWorker(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getWorkersByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertWorker(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllWorker(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listWorker(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getWorkerById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setWorkerById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteWorkerById(e){await je(be(J,this.collectionName,e))}async getWorkerByCompanyIdStatus(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("status","==",t));return(await xe(r)).docs.map(a=>a.data())}async setWorkerByCompanyIdStatus(e,t,r){if(r.id)return this.setWorkerById(r.id,r);const s=await this.getWorkerByCompanyIdStatus(e,t);return s.length>0?this.setWorkerById(s[0].id,r):this.insertWorker([r])}async deleteWorkerByCompanyIdStatus(e,t){const s=(await this.getWorkerByCompanyIdStatus(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getWorkerByCompanyIdRole(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("role","==",t));return(await xe(r)).docs.map(a=>a.data())}async setWorkerByCompanyIdRole(e,t,r){if(r.id)return this.setWorkerById(r.id,r);const s=await this.getWorkerByCompanyIdRole(e,t);return s.length>0?this.setWorkerById(s[0].id,r):this.insertWorker([r])}async deleteWorkerByCompanyIdRole(e,t){const s=(await this.getWorkerByCompanyIdRole(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getWorkerByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setWorkerByDataCreator(e,t){return t.id?this.setWorkerById(t.id,t):this.insertWorker([t])}async deleteWorkerByDataCreator(e){const r=(await this.getWorkerByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getWorkerByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setWorkerByDataUpdater(e,t){return t.id?this.setWorkerById(t.id,t):this.insertWorker([t])}async deleteWorkerByDataUpdater(e){const r=(await this.getWorkerByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Vc,"instance",null);let jh=Vc;jh.getInstance();var di=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Reusable=1]="Reusable",n[n.Consumable=2]="Consumable",n))(di||{});const Bc=class Bc{constructor(){an(this,"collectionName","equipment")}static getInstance(){return Bc.instance||(Bc.instance=new Bc),Bc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getEquipmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteEquipmentByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllEquipment(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getEquipmentByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertEquipment(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllEquipment(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listEquipment(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getEquipmentById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setEquipmentById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteEquipmentById(e){await je(be(J,this.collectionName,e))}async getEquipmentByCompanyIdName(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("name","==",t));return(await xe(r)).docs.map(a=>a.data())}async setEquipmentByCompanyIdName(e,t,r){if(r.id)return this.setEquipmentById(r.id,r);const s=await this.getEquipmentByCompanyIdName(e,t);return s.length>0?this.setEquipmentById(s[0].id,r):this.insertEquipment([r])}async deleteEquipmentByCompanyIdName(e,t){const s=(await this.getEquipmentByCompanyIdName(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getEquipmentByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setEquipmentByDataCreator(e,t){return t.id?this.setEquipmentById(t.id,t):this.insertEquipment([t])}async deleteEquipmentByDataCreator(e){const r=(await this.getEquipmentByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getEquipmentByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setEquipmentByDataUpdater(e,t){return t.id?this.setEquipmentById(t.id,t):this.insertEquipment([t])}async deleteEquipmentByDataUpdater(e){const r=(await this.getEquipmentByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Bc,"instance",null);let nh=Bc;var hs=(n=>(n[n.Unspecified=0]="Unspecified",n[n.BoxTruck16ft=1]="BoxTruck16ft",n[n.BoxTruck26ft=2]="BoxTruck26ft",n[n.CargoVan=3]="CargoVan",n[n.Flatbed=4]="Flatbed",n))(hs||{});const Uc=class Uc{constructor(){an(this,"collectionName","vehicles")}static getInstance(){return Uc.instance||(Uc.instance=new Uc),Uc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getVehicleByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteVehicleByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllVehicle(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getVehiclesByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertVehicle(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllVehicle(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listVehicle(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getVehicleById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setVehicleById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteVehicleById(e){await je(be(J,this.collectionName,e))}async getVehicleByCompanyIdVehicleName(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("vehicle_name","==",t));return(await xe(r)).docs.map(a=>a.data())}async setVehicleByCompanyIdVehicleName(e,t,r){if(r.id)return this.setVehicleById(r.id,r);const s=await this.getVehicleByCompanyIdVehicleName(e,t);return s.length>0?this.setVehicleById(s[0].id,r):this.insertVehicle([r])}async deleteVehicleByCompanyIdVehicleName(e,t){const s=(await this.getVehicleByCompanyIdVehicleName(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getVehicleByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setVehicleByDataCreator(e,t){return t.id?this.setVehicleById(t.id,t):this.insertVehicle([t])}async deleteVehicleByDataCreator(e){const r=(await this.getVehicleByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getVehicleByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setVehicleByDataUpdater(e,t){return t.id?this.setVehicleById(t.id,t):this.insertVehicle([t])}async deleteVehicleByDataUpdater(e){const r=(await this.getVehicleByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Uc,"instance",null);let cp=Uc;var Vs=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Draft=1]="Draft",n[n.Approved=2]="Approved",n[n.Paid=3]="Paid",n))(Vs||{});const Fc=class Fc{constructor(){an(this,"collectionName","payroll_records")}static getInstance(){return Fc.instance||(Fc.instance=new Fc),Fc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getPayrollRecordByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deletePayrollRecordByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllPayrollRecord(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getPayrollRecordsByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertPayrollRecord(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllPayrollRecord(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listPayrollRecord(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getPayrollRecordById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setPayrollRecordById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deletePayrollRecordById(e){await je(be(J,this.collectionName,e))}async getPayrollRecordByCompanyIdWorkerId(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("worker_id","==",t));return(await xe(r)).docs.map(a=>a.data())}async setPayrollRecordByCompanyIdWorkerId(e,t,r){if(r.id)return this.setPayrollRecordById(r.id,r);const s=await this.getPayrollRecordByCompanyIdWorkerId(e,t);return s.length>0?this.setPayrollRecordById(s[0].id,r):this.insertPayrollRecord([r])}async deletePayrollRecordByCompanyIdWorkerId(e,t){const s=(await this.getPayrollRecordByCompanyIdWorkerId(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getPayrollRecordByCompanyIdPayPeriodStart(e,t){const r=Pe(_e(J,this.collectionName),Re("company_id","==",e),Re("pay_period_start","==",t));return(await xe(r)).docs.map(a=>a.data())}async setPayrollRecordByCompanyIdPayPeriodStart(e,t,r){if(r.id)return this.setPayrollRecordById(r.id,r);const s=await this.getPayrollRecordByCompanyIdPayPeriodStart(e,t);return s.length>0?this.setPayrollRecordById(s[0].id,r):this.insertPayrollRecord([r])}async deletePayrollRecordByCompanyIdPayPeriodStart(e,t){const s=(await this.getPayrollRecordByCompanyIdPayPeriodStart(e,t)).map(a=>je(be(J,this.collectionName,a.id)));await Promise.all(s)}async getPayrollRecordByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setPayrollRecordByDataCreator(e,t){return t.id?this.setPayrollRecordById(t.id,t):this.insertPayrollRecord([t])}async deletePayrollRecordByDataCreator(e){const r=(await this.getPayrollRecordByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getPayrollRecordByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setPayrollRecordByDataUpdater(e,t){return t.id?this.setPayrollRecordById(t.id,t):this.insertPayrollRecord([t])}async deletePayrollRecordByDataUpdater(e){const r=(await this.getPayrollRecordByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Fc,"instance",null);let rh=Fc;const zc=class zc{constructor(){an(this,"collectionName","job_worker_assignments")}static getInstance(){return zc.instance||(zc.instance=new zc),zc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getJobWorkerAssignmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteJobWorkerAssignmentByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllJobWorkerAssignment(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getJobWorkerAssignmentByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertJobWorkerAssignment(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllJobWorkerAssignment(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listJobWorkerAssignment(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getJobWorkerAssignmentById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setJobWorkerAssignmentById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteJobWorkerAssignmentById(e){await je(be(J,this.collectionName,e))}async getJobWorkerAssignmentByJobId(e){const t=Pe(_e(J,this.collectionName),Re("job_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByJobId(e,t){if(t.id)return this.setJobWorkerAssignmentById(t.id,t);const r=await this.getJobWorkerAssignmentByJobId(e);return r.length>0?this.setJobWorkerAssignmentById(r[0].id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByJobId(e){const r=(await this.getJobWorkerAssignmentByJobId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByWorkerId(e){const t=Pe(_e(J,this.collectionName),Re("worker_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByWorkerId(e,t){if(t.id)return this.setJobWorkerAssignmentById(t.id,t);const r=await this.getJobWorkerAssignmentByWorkerId(e);return r.length>0?this.setJobWorkerAssignmentById(r[0].id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByWorkerId(e){const r=(await this.getJobWorkerAssignmentByWorkerId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByDataCreator(e,t){return t.id?this.setJobWorkerAssignmentById(t.id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByDataCreator(e){const r=(await this.getJobWorkerAssignmentByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobWorkerAssignmentByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobWorkerAssignmentByDataUpdater(e,t){return t.id?this.setJobWorkerAssignmentById(t.id,t):this.insertJobWorkerAssignment([t])}async deleteJobWorkerAssignmentByDataUpdater(e){const r=(await this.getJobWorkerAssignmentByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(zc,"instance",null);let Lh=zc;const qc=class qc{constructor(){an(this,"collectionName","job_vehicle_assignments")}static getInstance(){return qc.instance||(qc.instance=new qc),qc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getJobVehicleAssignmentByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteJobVehicleAssignmentByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllJobVehicleAssignment(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getJobVehicleAssignmentByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertJobVehicleAssignment(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllJobVehicleAssignment(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listJobVehicleAssignment(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getJobVehicleAssignmentById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setJobVehicleAssignmentById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteJobVehicleAssignmentById(e){await je(be(J,this.collectionName,e))}async getJobVehicleAssignmentByJobId(e){const t=Pe(_e(J,this.collectionName),Re("job_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByJobId(e,t){if(t.id)return this.setJobVehicleAssignmentById(t.id,t);const r=await this.getJobVehicleAssignmentByJobId(e);return r.length>0?this.setJobVehicleAssignmentById(r[0].id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByJobId(e){const r=(await this.getJobVehicleAssignmentByJobId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByVehicleId(e){const t=Pe(_e(J,this.collectionName),Re("vehicle_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByVehicleId(e,t){if(t.id)return this.setJobVehicleAssignmentById(t.id,t);const r=await this.getJobVehicleAssignmentByVehicleId(e);return r.length>0?this.setJobVehicleAssignmentById(r[0].id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByVehicleId(e){const r=(await this.getJobVehicleAssignmentByVehicleId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByDataCreator(e,t){return t.id?this.setJobVehicleAssignmentById(t.id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByDataCreator(e){const r=(await this.getJobVehicleAssignmentByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobVehicleAssignmentByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobVehicleAssignmentByDataUpdater(e,t){return t.id?this.setJobVehicleAssignmentById(t.id,t):this.insertJobVehicleAssignment([t])}async deleteJobVehicleAssignmentByDataUpdater(e){const r=(await this.getJobVehicleAssignmentByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(qc,"instance",null);let up=qc;const Hc=class Hc{constructor(){an(this,"collectionName","job_equipment_allocations")}static getInstance(){return Hc.instance||(Hc.instance=new Hc),Hc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getJobEquipmentAllocationByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteJobEquipmentAllocationByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllJobEquipmentAllocation(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async getJobEquipmentAllocationByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async insertJobEquipmentAllocation(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllJobEquipmentAllocation(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listJobEquipmentAllocation(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getJobEquipmentAllocationById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setJobEquipmentAllocationById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteJobEquipmentAllocationById(e){await je(be(J,this.collectionName,e))}async getJobEquipmentAllocationByJobId(e){const t=Pe(_e(J,this.collectionName),Re("job_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByJobId(e,t){if(t.id)return this.setJobEquipmentAllocationById(t.id,t);const r=await this.getJobEquipmentAllocationByJobId(e);return r.length>0?this.setJobEquipmentAllocationById(r[0].id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByJobId(e){const r=(await this.getJobEquipmentAllocationByJobId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByEquipmentId(e){const t=Pe(_e(J,this.collectionName),Re("equipment_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByEquipmentId(e,t){if(t.id)return this.setJobEquipmentAllocationById(t.id,t);const r=await this.getJobEquipmentAllocationByEquipmentId(e);return r.length>0?this.setJobEquipmentAllocationById(r[0].id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByEquipmentId(e){const r=(await this.getJobEquipmentAllocationByEquipmentId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByDataCreator(e,t){return t.id?this.setJobEquipmentAllocationById(t.id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByDataCreator(e){const r=(await this.getJobEquipmentAllocationByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getJobEquipmentAllocationByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setJobEquipmentAllocationByDataUpdater(e,t){return t.id?this.setJobEquipmentAllocationById(t.id,t):this.insertJobEquipmentAllocation([t])}async deleteJobEquipmentAllocationByDataUpdater(e){const r=(await this.getJobEquipmentAllocationByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Hc,"instance",null);let sh=Hc;function Au({className:n,id:e,onClick:t,...r}){const s=$t(t,()=>({componentType:"table",eventType:"click",componentInfo:{id:e}}));return h.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:h.jsx("table",{id:e,"data-slot":"table",className:Ce("w-full caption-bottom text-sm",n),onClick:s,...r})})}function Nu({className:n,...e}){return h.jsx("thead",{"data-slot":"table-header",className:Ce("[&_tr]:border-b",n),...e})}function Iu({className:n,...e}){return h.jsx("tbody",{"data-slot":"table-body",className:Ce("[&_tr:last-child]:border-0",n),...e})}function Qr({className:n,id:e,onClick:t,...r}){const s=$t(t,()=>({componentType:"table-row",eventType:"click",componentInfo:{id:e}}));return h.jsx("tr",{id:e,"data-slot":"table-row",className:Ce("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",n),onClick:s,...r})}function xt({className:n,...e}){return h.jsx("th",{"data-slot":"table-head",className:Ce("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e})}function St({className:n,id:e,onClick:t,...r}){const s=$t(t,()=>({componentType:"table-cell",eventType:"click",componentInfo:{id:e}}));return h.jsx("td",{id:e,"data-slot":"table-cell",className:Ce("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),onClick:s,...r})}function Zte({jobs:n,workers:e,equipment:t,vehicles:r,activeWorkers:s,upcomingJobs:a}){const l=c=>{const f={[Ne.Unspecified]:{variant:"outline",label:"Unspecified"},[Ne.Quote]:{variant:"secondary",label:"Quote"},[Ne.Booked]:{variant:"default",label:"Booked"},[Ne.InProgress]:{variant:"default",label:"In Progress"},[Ne.EnRoute]:{variant:"default",label:"En Route"},[Ne.Arrived]:{variant:"default",label:"Arrived"},[Ne.Loading]:{variant:"default",label:"Loading"},[Ne.onWayToDropoff]:{variant:"default",label:"Driving"},[Ne.Unloading]:{variant:"default",label:"Unloading"},[Ne.Completed]:{variant:"outline",label:"Completed"},[Ne.Canceled]:{variant:"destructive",label:"Canceled"}}[c];return h.jsx(xn,{variant:f.variant,children:f.label})};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs(Mt,{children:[h.jsx(Zt,{className:"pb-3",children:h.jsx(en,{className:"text-sm font-medium",children:"Total Jobs"})}),h.jsxs(jt,{children:[h.jsx("div",{className:"text-3xl font-bold",children:n.length}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.length," upcoming"]})]})]}),h.jsxs(Mt,{children:[h.jsx(Zt,{className:"pb-3",children:h.jsx(en,{className:"text-sm font-medium",children:"Active Workers"})}),h.jsxs(jt,{children:[h.jsx("div",{className:"text-3xl font-bold",children:s.length}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["of ",e.length," total"]})]})]}),h.jsxs(Mt,{children:[h.jsx(Zt,{className:"pb-3",children:h.jsx(en,{className:"text-sm font-medium",children:"Equipment Items"})}),h.jsxs(jt,{children:[h.jsx("div",{className:"text-3xl font-bold",children:t.reduce((c,d)=>c+d.total_quantity,0)}),h.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[t.length," types"]})]})]}),h.jsxs(Mt,{children:[h.jsx(Zt,{className:"pb-3",children:h.jsx(en,{className:"text-sm font-medium",children:"Fleet Vehicles"})}),h.jsxs(jt,{children:[h.jsx("div",{className:"text-3xl font-bold",children:r.length}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ready to deploy"})]})]})]}),h.jsxs(Mt,{children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Upcoming Jobs"}),h.jsx(dr,{children:"Jobs that are booked or in progress"})]}),h.jsx(jt,{children:a.length===0?h.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No upcoming jobs"}):h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Customer"}),h.jsx(xt,{children:"Date"}),h.jsx(xt,{children:"Route"}),h.jsx(xt,{children:"Status"}),h.jsx(xt,{className:"text-right",children:"Estimate"})]})}),h.jsx(Iu,{children:a.slice(0,5).map(c=>h.jsxs(Qr,{children:[h.jsx(St,{className:"font-medium",children:c.customer_name}),h.jsx(St,{children:new Date(parseInt(c.scheduled_date)*1e3).toLocaleDateString()}),h.jsx(St,{className:"text-sm",children:h.jsxs("div",{className:"max-w-xs truncate",children:[c.pickup_address,"  ",c.dropoff_address]})}),h.jsx(St,{children:l(c.status)}),h.jsx(St,{className:"text-right",children:c.estimated_cost?`$${c.estimated_cost.toFixed(2)}`:"-"})]},c.id))})]})})]})]})}var jd={},Zx={exports:{}},e0,jk;function ene(){if(jk)return e0;jk=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e0=n,e0}var t0,Lk;function tne(){if(Lk)return t0;Lk=1;var n=ene();function e(){}function t(){}return t.resetWarningCache=e,t0=function(){function r(l,c,d,f,p,g){if(g!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},t0}var Vk;function cL(){return Vk||(Vk=1,Zx.exports=tne()()),Zx.exports}var n0,Bk;function uL(){return Bk||(Bk=1,n0={L:1,M:0,Q:3,H:2}),n0}var r0,Uk;function dL(){return Uk||(Uk=1,r0={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),r0}var s0,Fk;function nne(){if(Fk)return s0;Fk=1;var n=dL();function e(t){this.mode=n.MODE_8BIT_BYTE,this.data=t}return e.prototype={getLength:function(t){return this.data.length},write:function(t){for(var r=0;r<this.data.length;r++)t.put(this.data.charCodeAt(r),8)}},s0=e,s0}var i0,zk;function rne(){if(zk)return i0;zk=1;var n=uL();function e(t,r){this.totalCount=t,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(t,r){var s=e.getRsBlockTable(t,r);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+r);for(var a=s.length/3,l=new Array,c=0;c<a;c++)for(var d=s[c*3+0],f=s[c*3+1],p=s[c*3+2],g=0;g<d;g++)l.push(new e(f,p));return l},e.getRsBlockTable=function(t,r){switch(r){case n.L:return e.RS_BLOCK_TABLE[(t-1)*4+0];case n.M:return e.RS_BLOCK_TABLE[(t-1)*4+1];case n.Q:return e.RS_BLOCK_TABLE[(t-1)*4+2];case n.H:return e.RS_BLOCK_TABLE[(t-1)*4+3];default:return}},i0=e,i0}var a0,qk;function sne(){if(qk)return a0;qk=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},a0=n,a0}var o0,Hk;function hL(){if(Hk)return o0;Hk=1;for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)n.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)n.EXP_TABLE[e]=n.EXP_TABLE[e-4]^n.EXP_TABLE[e-5]^n.EXP_TABLE[e-6]^n.EXP_TABLE[e-8];for(var e=0;e<255;e++)n.LOG_TABLE[n.EXP_TABLE[e]]=e;return o0=n,o0}var l0,Wk;function fL(){if(Wk)return l0;Wk=1;var n=hL();function e(t,r){if(t.length==null)throw new Error(t.length+"/"+r);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+r);for(var a=0;a<t.length-s;a++)this.num[a]=t[a+s]}return e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<t.getLength();a++)r[s+a]^=n.gexp(n.glog(this.get(s))+n.glog(t.get(a)));return new e(r,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=n.glog(this.get(0))-n.glog(t.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(var a=0;a<t.getLength();a++)s[a]^=n.gexp(n.glog(t.get(a))+r);return new e(s,0).mod(t)}},l0=e,l0}var c0,$k;function ine(){if($k)return c0;$k=1;var n=dL(),e=fL(),t=hL(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var l=a<<10;s.getBCHDigit(l)-s.getBCHDigit(s.G15)>=0;)l^=s.G15<<s.getBCHDigit(l)-s.getBCHDigit(s.G15);return(a<<10|l)^s.G15_MASK},getBCHTypeNumber:function(a){for(var l=a<<12;s.getBCHDigit(l)-s.getBCHDigit(s.G18)>=0;)l^=s.G18<<s.getBCHDigit(l)-s.getBCHDigit(s.G18);return a<<12|l},getBCHDigit:function(a){for(var l=0;a!=0;)l++,a>>>=1;return l},getPatternPosition:function(a){return s.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,l,c){switch(a){case r.PATTERN000:return(l+c)%2==0;case r.PATTERN001:return l%2==0;case r.PATTERN010:return c%3==0;case r.PATTERN011:return(l+c)%3==0;case r.PATTERN100:return(Math.floor(l/2)+Math.floor(c/3))%2==0;case r.PATTERN101:return l*c%2+l*c%3==0;case r.PATTERN110:return(l*c%2+l*c%3)%2==0;case r.PATTERN111:return(l*c%3+(l+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var l=new e([1],0),c=0;c<a;c++)l=l.multiply(new e([1,t.gexp(c)],0));return l},getLengthInBits:function(a,l){if(1<=l&&l<10)switch(a){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(l<27)switch(a){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(l<41)switch(a){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+l)},getLostPoint:function(a){for(var l=a.getModuleCount(),c=0,d=0;d<l;d++)for(var f=0;f<l;f++){for(var p=0,g=a.isDark(d,f),v=-1;v<=1;v++)if(!(d+v<0||l<=d+v))for(var w=-1;w<=1;w++)f+w<0||l<=f+w||v==0&&w==0||g==a.isDark(d+v,f+w)&&p++;p>5&&(c+=3+p-5)}for(var d=0;d<l-1;d++)for(var f=0;f<l-1;f++){var x=0;a.isDark(d,f)&&x++,a.isDark(d+1,f)&&x++,a.isDark(d,f+1)&&x++,a.isDark(d+1,f+1)&&x++,(x==0||x==4)&&(c+=3)}for(var d=0;d<l;d++)for(var f=0;f<l-6;f++)a.isDark(d,f)&&!a.isDark(d,f+1)&&a.isDark(d,f+2)&&a.isDark(d,f+3)&&a.isDark(d,f+4)&&!a.isDark(d,f+5)&&a.isDark(d,f+6)&&(c+=40);for(var f=0;f<l;f++)for(var d=0;d<l-6;d++)a.isDark(d,f)&&!a.isDark(d+1,f)&&a.isDark(d+2,f)&&a.isDark(d+3,f)&&a.isDark(d+4,f)&&!a.isDark(d+5,f)&&a.isDark(d+6,f)&&(c+=40);for(var E=0,f=0;f<l;f++)for(var d=0;d<l;d++)a.isDark(d,f)&&E++;var C=Math.abs(100*E/l/l-50)/5;return c+=C*10,c}};return c0=s,c0}var u0,Gk;function ane(){if(Gk)return u0;Gk=1;var n=nne(),e=rne(),t=sne(),r=ine(),s=fL();function a(c,d){this.typeNumber=c,this.errorCorrectLevel=d,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var l=a.prototype;return l.addData=function(c){var d=new n(c);this.dataList.push(d),this.dataCache=null},l.isDark=function(c,d){if(c<0||this.moduleCount<=c||d<0||this.moduleCount<=d)throw new Error(c+","+d);return this.modules[c][d]},l.getModuleCount=function(){return this.moduleCount},l.make=function(){if(this.typeNumber<1){var c=1;for(c=1;c<40;c++){for(var d=e.getRSBlocks(c,this.errorCorrectLevel),f=new t,p=0,g=0;g<d.length;g++)p+=d[g].dataCount;for(var g=0;g<this.dataList.length;g++){var v=this.dataList[g];f.put(v.mode,4),f.put(v.getLength(),r.getLengthInBits(v.mode,c)),v.write(f)}if(f.getLengthInBits()<=p*8)break}this.typeNumber=c}this.makeImpl(!1,this.getBestMaskPattern())},l.makeImpl=function(c,d){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var p=0;p<this.moduleCount;p++)this.modules[f][p]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(c,d),this.typeNumber>=7&&this.setupTypeNumber(c),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,d)},l.setupPositionProbePattern=function(c,d){for(var f=-1;f<=7;f++)if(!(c+f<=-1||this.moduleCount<=c+f))for(var p=-1;p<=7;p++)d+p<=-1||this.moduleCount<=d+p||(0<=f&&f<=6&&(p==0||p==6)||0<=p&&p<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=p&&p<=4?this.modules[c+f][d+p]=!0:this.modules[c+f][d+p]=!1)},l.getBestMaskPattern=function(){for(var c=0,d=0,f=0;f<8;f++){this.makeImpl(!0,f);var p=r.getLostPoint(this);(f==0||c>p)&&(c=p,d=f)}return d},l.createMovieClip=function(c,d,f){var p=c.createEmptyMovieClip(d,f),g=1;this.make();for(var v=0;v<this.modules.length;v++)for(var w=v*g,x=0;x<this.modules[v].length;x++){var E=x*g,C=this.modules[v][x];C&&(p.beginFill(0,100),p.moveTo(E,w),p.lineTo(E+g,w),p.lineTo(E+g,w+g),p.lineTo(E,w+g),p.endFill())}return p},l.setupTimingPattern=function(){for(var c=8;c<this.moduleCount-8;c++)this.modules[c][6]==null&&(this.modules[c][6]=c%2==0);for(var d=8;d<this.moduleCount-8;d++)this.modules[6][d]==null&&(this.modules[6][d]=d%2==0)},l.setupPositionAdjustPattern=function(){for(var c=r.getPatternPosition(this.typeNumber),d=0;d<c.length;d++)for(var f=0;f<c.length;f++){var p=c[d],g=c[f];if(this.modules[p][g]==null)for(var v=-2;v<=2;v++)for(var w=-2;w<=2;w++)v==-2||v==2||w==-2||w==2||v==0&&w==0?this.modules[p+v][g+w]=!0:this.modules[p+v][g+w]=!1}},l.setupTypeNumber=function(c){for(var d=r.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var p=!c&&(d>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=p}for(var f=0;f<18;f++){var p=!c&&(d>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=p}},l.setupTypeInfo=function(c,d){for(var f=this.errorCorrectLevel<<3|d,p=r.getBCHTypeInfo(f),g=0;g<15;g++){var v=!c&&(p>>g&1)==1;g<6?this.modules[g][8]=v:g<8?this.modules[g+1][8]=v:this.modules[this.moduleCount-15+g][8]=v}for(var g=0;g<15;g++){var v=!c&&(p>>g&1)==1;g<8?this.modules[8][this.moduleCount-g-1]=v:g<9?this.modules[8][15-g-1+1]=v:this.modules[8][15-g-1]=v}this.modules[this.moduleCount-8][8]=!c},l.mapData=function(c,d){for(var f=-1,p=this.moduleCount-1,g=7,v=0,w=this.moduleCount-1;w>0;w-=2)for(w==6&&w--;;){for(var x=0;x<2;x++)if(this.modules[p][w-x]==null){var E=!1;v<c.length&&(E=(c[v]>>>g&1)==1);var C=r.getMask(d,p,w-x);C&&(E=!E),this.modules[p][w-x]=E,g--,g==-1&&(v++,g=7)}if(p+=f,p<0||this.moduleCount<=p){p-=f,f=-f;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(c,d,f){for(var p=e.getRSBlocks(c,d),g=new t,v=0;v<f.length;v++){var w=f[v];g.put(w.mode,4),g.put(w.getLength(),r.getLengthInBits(w.mode,c)),w.write(g)}for(var x=0,v=0;v<p.length;v++)x+=p[v].dataCount;if(g.getLengthInBits()>x*8)throw new Error("code length overflow. ("+g.getLengthInBits()+">"+x*8+")");for(g.getLengthInBits()+4<=x*8&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=x*8||(g.put(a.PAD0,8),g.getLengthInBits()>=x*8));)g.put(a.PAD1,8);return a.createBytes(g,p)},a.createBytes=function(c,d){for(var f=0,p=0,g=0,v=new Array(d.length),w=new Array(d.length),x=0;x<d.length;x++){var E=d[x].dataCount,C=d[x].totalCount-E;p=Math.max(p,E),g=Math.max(g,C),v[x]=new Array(E);for(var k=0;k<v[x].length;k++)v[x][k]=255&c.buffer[k+f];f+=E;var O=r.getErrorCorrectPolynomial(C),M=new s(v[x],O.getLength()-1),F=M.mod(O);w[x]=new Array(O.getLength()-1);for(var k=0;k<w[x].length;k++){var V=k+F.getLength()-w[x].length;w[x][k]=V>=0?F.get(V):0}}for(var z=0,k=0;k<d.length;k++)z+=d[k].totalCount;for(var N=new Array(z),I=0,k=0;k<p;k++)for(var x=0;x<d.length;x++)k<v[x].length&&(N[I++]=v[x][k]);for(var k=0;k<g;k++)for(var x=0;x<d.length;x++)k<w[x].length&&(N[I++]=w[x][k]);return N},u0=a,u0}var jy={},Yk;function one(){if(Yk)return jy;Yk=1,Object.defineProperty(jy,"__esModule",{value:!0});var n=Object.assign||function(f){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(f[v]=g[v])}return f},e=cL(),t=a(e),r=ku(),s=a(r);function a(f){return f&&f.__esModule?f:{default:f}}function l(f,p){var g={};for(var v in f)p.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(f,v)&&(g[v]=f[v]);return g}var c={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},d=(0,r.forwardRef)(function(f,p){var g=f.bgColor,v=f.bgD,w=f.fgD,x=f.fgColor,E=f.size,C=f.title,k=f.viewBoxSize,O=f.xmlns,M=O===void 0?"http://www.w3.org/2000/svg":O,F=l(f,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",n({},F,{height:E,ref:p,viewBox:"0 0 "+k+" "+k,width:E,xmlns:M}),C?s.default.createElement("title",null,C):null,s.default.createElement("path",{d:v,fill:g}),s.default.createElement("path",{d:w,fill:x}))});return d.displayName="QRCodeSvg",d.propTypes=c,jy.default=d,jy}var Kk;function lne(){if(Kk)return jd;Kk=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.QRCode=void 0;var n=Object.assign||function(E){for(var C=1;C<arguments.length;C++){var k=arguments[C];for(var O in k)Object.prototype.hasOwnProperty.call(k,O)&&(E[O]=k[O])}return E},e=cL(),t=g(e),r=uL(),s=g(r),a=ane(),l=g(a),c=ku(),d=g(c),f=one(),p=g(f);function g(E){return E&&E.__esModule?E:{default:E}}function v(E,C){var k={};for(var O in E)C.indexOf(O)>=0||Object.prototype.hasOwnProperty.call(E,O)&&(k[O]=E[O]);return k}var w={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},x=(0,c.forwardRef)(function(E,C){var k=E.bgColor,O=k===void 0?"#FFFFFF":k,M=E.fgColor,F=M===void 0?"#000000":M,V=E.level,z=V===void 0?"L":V,N=E.size,I=N===void 0?256:N,P=E.value,D=v(E,["bgColor","fgColor","level","size","value"]),L=new l.default(-1,s.default[z]);L.addData(P),L.make();var H=L.modules;return d.default.createElement(p.default,n({},D,{bgColor:O,bgD:H.map(function(B,Q){return B.map(function(ie,$){return ie?"":"M "+$+" "+Q+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:F,fgD:H.map(function(B,Q){return B.map(function(ie,$){return ie?"M "+$+" "+Q+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:C,size:I,viewBoxSize:H.length}))});return jd.QRCode=x,x.displayName="QRCode",x.propTypes=w,jd.default=x,jd}var cne=lne();const une=r_(cne),Qk="google-maps-script";function dne(n={}){const[e,t]=S.useState(!1),[r,s]=S.useState(null),[a,l]=S.useState(!1),c=n.apiKey||"AIzaSyBQBn0DxrGy_BQeoJMDYaZ7c6sAOf1hXcA";S.useEffect(()=>{if(window.google&&window.google.maps){t(!0);return}const f=document.getElementById(Qk);if(f){f.addEventListener("load",()=>t(!0)),f.addEventListener("error",()=>s("Failed to load Google Maps script"));return}const p=document.createElement("script");return p.id=Qk,p.src=`https://maps.googleapis.com/maps/api/js?key=${c}&libraries=places`,p.async=!0,p.defer=!0,p.onload=()=>t(!0),p.onerror=()=>s("Failed to load Google Maps script"),document.head.appendChild(p),()=>{}},[c]);const d=S.useCallback(async(f,p)=>!e||!window.google?(s("Google Maps not loaded yet"),null):(l(!0),s(null),new Promise((g,v)=>{new window.google.maps.DistanceMatrixService().getDistanceMatrix({origins:[f],destinations:[p],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.IMPERIAL},(x,E)=>{if(l(!1),E!=="OK"){const k=`Distance Matrix failed: ${E}`;s(k),v(new Error(k));return}const C=x.rows[0].elements[0];if(C.status!=="OK"){const k=`Could not calculate distance: ${C.status}`;console.warn(k),g(null);return}g({distance:C.distance,duration:C.duration})})})),[e]);return{isLoaded:e,error:r,isLoading:a,calculateDistance:d,apiKey:c}}function hne({jobs:n,workers:e,vehicles:t,equipment:r,companyId:s}){const[a,l]=S.useState(!1),[c,d]=S.useState({customer_name:"",status:Ne.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0]}),[f,p]=S.useState(!1),[g,v]=S.useState("details"),[w,x]=S.useState({customer_name:"",status:Ne.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0],inventory_data:"[]"}),[E,C]=S.useState(null),[k,O]=S.useState(0),[M,F]=S.useState(null),[V,z]=S.useState(!1),N=Ii(),{calculateDistance:I}=dne(),P=n.filter(q=>q.status===Ne.Quote||q.status===Ne.Unspecified),D=n.filter(q=>q.status!==Ne.Quote&&q.status!==Ne.Unspecified&&q.status!==Ne.Canceled&&q.status!==Ne.Completed),L=ur({mutationFn:async q=>{const X={...q};if(X.inventory_data)try{const ae=JSON.parse(X.inventory_data).map(he=>{const{imageUrl:me,...Ie}=he;return Ie});X.inventory_data=JSON.stringify(ae)}catch(W){console.error("Failed to sanitize inventory data",W)}return await ws.getInstance().insertJob([{...X,company_id:s}])},onSuccess:()=>{N.invalidateQueries({queryKey:["jobs"]}),l(!1),p(!1),Q()},onError:q=>{console.error("Failed to create job/quote:",q),alert(`Failed to save quote: ${q instanceof Error?q.message:"Unknown error"}`)}}),H=ur({mutationFn:async({job:q,status:X})=>await ws.getInstance().setJobById(q.id,{...q,status:X}),onSuccess:()=>{N.invalidateQueries({queryKey:["jobs"]}),console.log("Job status updated successfully")}}),B=ur({mutationFn:async q=>{await ws.getInstance().deleteJobByIDs([q])},onSuccess:()=>{N.invalidateQueries({queryKey:["jobs"]}),M&&z(!1)}}),Q=()=>{d({customer_name:"",status:Ne.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0]}),x({customer_name:"",status:Ne.Quote,pickup_address:"",dropoff_address:"",scheduled_date:new Date().toISOString().split("T")[0],inventory_data:"[]"}),v("details"),C(null),O(0)},ie=async()=>{if(g==="details")v("inventory");else if(g==="inventory"){if(w.pickup_address&&w.dropoff_address)try{const q=await I(w.pickup_address,w.dropoff_address);if(q){C(q.distance);const ge=200+q.distance.value/1609.34*2;O(Math.round(ge)),x(W=>({...W,estimated_cost:Math.round(ge)}))}}catch(q){console.error(q)}v("review")}},$=q=>{F(q),z(!0)},ee=q=>{const ge={[Ne.Unspecified]:{variant:"outline",label:"Unspecified"},[Ne.Quote]:{variant:"secondary",label:"Quote"},[Ne.Booked]:{variant:"default",label:"Booked"},[Ne.InProgress]:{variant:"default",label:"In Progress"},[Ne.EnRoute]:{variant:"default",label:"En Route"},[Ne.Arrived]:{variant:"default",label:"Arrived"},[Ne.Loading]:{variant:"default",label:"Loading"},[Ne.onWayToDropoff]:{variant:"default",label:"Driving"},[Ne.Unloading]:{variant:"default",label:"Unloading"},[Ne.Completed]:{variant:"outline",label:"Completed"},[Ne.Canceled]:{variant:"destructive",label:"Canceled"}}[q];return h.jsx(xn,{variant:ge.variant,children:ge.label})};return h.jsxs(Mt,{className:"h-full flex flex-col border-none shadow-none bg-transparent",children:[h.jsx(Zt,{className:"px-0 pt-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(en,{children:"Jobs & Quotes"}),h.jsx(dr,{children:"Manage active jobs and incoming quotes"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ee,{onClick:()=>p(!0),variant:"outline",children:[h.jsx(gI,{className:"h-4 w-4 mr-2"}),"Create Quote with AI Inventory"]}),h.jsxs(bi,{open:a,onOpenChange:l,children:[h.jsx(Wp,{asChild:!0,children:h.jsxs(Ee,{children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"Quick Job"]})}),h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create New Job"}),h.jsx(Sa,{children:"Schedule a new moving job"})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quick-customer",children:"Customer Name"}),h.jsx(ct,{id:"quick-customer",value:c.customer_name,onChange:q=>d({...c,customer_name:q.target.value}),placeholder:"Jane Smith"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quick-pickup",children:"Pickup Address"}),h.jsx(ct,{id:"quick-pickup",value:c.pickup_address,onChange:q=>d({...c,pickup_address:q.target.value})})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quick-dropoff",children:"Dropoff Address"}),h.jsx(ct,{id:"quick-dropoff",value:c.dropoff_address,onChange:q=>d({...c,dropoff_address:q.target.value})})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quick-date",children:"Date"}),h.jsx(ct,{id:"quick-date",type:"date",value:c.scheduled_date,onChange:q=>d({...c,scheduled_date:q.target.value})})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),h.jsx(Ee,{onClick:()=>L.mutate(c),children:"Create Job"})]})]})]})]})]})}),h.jsx(jt,{className:"flex-1 overflow-auto px-0",children:h.jsxs(V_,{defaultValue:"active_jobs",className:"h-full flex flex-col",children:[h.jsxs(J1,{children:[h.jsxs(kh,{value:"active_jobs",children:["Active Jobs (",D.length,")"]}),h.jsxs(kh,{value:"quotes",children:["Quotes (",P.length,")"]})]}),h.jsx(mi,{value:"active_jobs",className:"flex-1 overflow-auto mt-4 p-1",children:D.length===0?h.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card",children:[h.jsx(ju,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("h3",{className:"text-lg font-semibold",children:"No active jobs."}),h.jsx("p",{className:"text-muted-foreground",children:"Jobs converted from quotes will appear here."})]}):h.jsx("div",{className:"border rounded-md",children:h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Customer"}),h.jsx(xt,{children:"Date"}),h.jsx(xt,{children:"Pickup"}),h.jsx(xt,{children:"Dropoff"}),h.jsx(xt,{children:"Cost"}),h.jsx(xt,{children:"Status"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:D.map(q=>{var X;return h.jsxs(Qr,{onClick:()=>$(q),className:"cursor-pointer hover:bg-muted/50",children:[h.jsx(St,{className:"font-medium",children:q.customer_name}),h.jsx(St,{children:(()=>{const ge=q.scheduled_date,W=parseInt(ge);return!isNaN(W)&&W>31536e4&&/^\d+$/.test(ge)?new Date(W*1e3).toLocaleDateString():new Date(ge).toLocaleDateString()})()}),h.jsx(St,{className:"truncate max-w-[150px]",title:q.pickup_address,children:q.pickup_address}),h.jsx(St,{className:"truncate max-w-[150px]",title:q.dropoff_address,children:q.dropoff_address}),h.jsxs(St,{children:["$",((X=q.estimated_cost)==null?void 0:X.toFixed(2))||"0.00"]}),h.jsx(St,{children:ee(q.status)}),h.jsx(St,{className:"text-right",children:h.jsx(Ee,{variant:"ghost",size:"sm",onClick:ge=>{ge.stopPropagation(),B.mutate(q.id)},children:h.jsx(Ul,{className:"h-4 w-4"})})})]},q.id)})})]})})}),h.jsx(mi,{value:"quotes",className:"flex-1 overflow-auto mt-4 p-1",children:P.length===0?h.jsxs("div",{className:"text-center py-12 border rounded-lg bg-card",children:[h.jsx(gI,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("h3",{className:"text-lg font-semibold",children:"No pending quotes."}),h.jsx("p",{className:"text-muted-foreground",children:"Create a quote or wait for customer submissions."})]}):h.jsx("div",{className:"border rounded-md",children:h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Customer"}),h.jsx(xt,{children:"Date"}),h.jsx(xt,{children:"Route"}),h.jsx(xt,{children:"Est. Cost"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:P.map(q=>{var X;return h.jsxs(Qr,{onClick:()=>$(q),className:"cursor-pointer hover:bg-muted/50",children:[h.jsx(St,{className:"font-medium",children:q.customer_name}),h.jsx(St,{children:(()=>{const ge=q.scheduled_date,W=parseInt(ge);return!isNaN(W)&&W>31536e4&&/^\d+$/.test(ge)?new Date(W*1e3).toLocaleDateString():new Date(ge).toLocaleDateString()})()}),h.jsx(St,{className:"text-sm",children:h.jsxs("div",{className:"max-w-xs truncate",title:`${q.pickup_address} -> ${q.dropoff_address}`,children:[q.pickup_address,"  ",q.dropoff_address]})}),h.jsxs(St,{children:["$",((X=q.estimated_cost)==null?void 0:X.toFixed(2))||"0.00"]}),h.jsxs(St,{className:"text-right space-x-2",children:[h.jsxs(Ee,{size:"sm",onClick:ge=>{ge.stopPropagation(),H.mutate({job:q,status:Ne.Booked})},className:"gap-2",children:[h.jsx(yI,{className:"h-4 w-4"}),"Book Job"]}),h.jsx(Ee,{variant:"ghost",size:"sm",onClick:ge=>{ge.stopPropagation(),B.mutate(q.id)},children:h.jsx(Ul,{className:"h-4 w-4"})})]})]},q.id)})})]})})})]})}),h.jsx(bi,{open:f,onOpenChange:p,children:h.jsxs(wi,{className:"max-w-4xl h-[800px] flex flex-col",children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create Quote with AI-Powered Inventory"}),h.jsxs(Sa,{children:[g==="details"&&"Step 1: Job Details",g==="inventory"&&"Step 2: Inventory Assessment",g==="review"&&"Step 3: Review Quote"]})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto py-4",children:[g==="details"&&h.jsxs("div",{className:"grid gap-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quote-customer",children:"Customer Name"}),h.jsx(ct,{id:"quote-customer",value:w.customer_name,onChange:q=>x({...w,customer_name:q.target.value}),placeholder:"John Doe"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quote-pickup",children:"Pickup Address"}),h.jsx(ct,{id:"quote-pickup",value:w.pickup_address,onChange:q=>x({...w,pickup_address:q.target.value}),placeholder:"123 Start St"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quote-dropoff",children:"Dropoff Address"}),h.jsx(ct,{id:"quote-dropoff",value:w.dropoff_address,onChange:q=>x({...w,dropoff_address:q.target.value}),placeholder:"456 End Ln"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"quote-date",children:"Preferred Move Date"}),h.jsx(ct,{id:"quote-date",type:"date",value:w.scheduled_date,onChange:q=>x({...w,scheduled_date:q.target.value})})]})]}),g==="inventory"&&h.jsx("div",{className:"h-full",children:h.jsx(Zv,{onInventoryChange:q=>{x({...w,inventory_data:JSON.stringify(q)})},initialRooms:w.inventory_data?JSON.parse(w.inventory_data):[]})}),g==="review"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"rounded-lg border p-4",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Move Details"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"From:"}),h.jsx("p",{className:"font-medium",children:w.pickup_address})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"To:"}),h.jsx("p",{className:"font-medium",children:w.dropoff_address})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Distance:"}),h.jsx("p",{className:"font-medium",children:(E==null?void 0:E.text)||"Not calculated"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-muted-foreground",children:"Date:"}),h.jsx("p",{className:"font-medium",children:w.scheduled_date})]})]})]}),h.jsx("div",{className:"rounded-lg border p-4 bg-muted/20",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Estimated Quote"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Adjust based on distance and inventory"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-2xl font-bold text-gray-500",children:"$"}),h.jsx(ct,{type:"number",className:"w-32 text-right text-2xl font-bold h-12",value:k,onChange:q=>{const X=parseFloat(q.target.value);O(isNaN(X)?0:X),x(ge=>({...ge,estimated_cost:isNaN(X)?0:X}))}})]})]})})]})]}),h.jsxs(Si,{children:[g==="details"&&h.jsx(Ee,{onClick:ie,children:"Next: Add Inventory"}),g==="inventory"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ee,{variant:"outline",onClick:()=>v("details"),children:"Back"}),h.jsx(Ee,{onClick:ie,children:"Next: Review Quote"})]}),g==="review"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ee,{variant:"outline",onClick:()=>v("inventory"),children:"Back"}),h.jsx(Ee,{onClick:()=>{const q={...w,estimated_cost:k};L.mutate(q)},disabled:!s,children:"Save Quote"})]})]})]})}),h.jsx(bi,{open:V,onOpenChange:z,children:h.jsxs(wi,{className:"max-w-4xl h-[800px] flex flex-col",children:[h.jsx(xi,{children:h.jsxs(Ei,{children:["Job Details: ",M==null?void 0:M.customer_name]})}),M&&h.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Job Details"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx(ze,{children:"Status"}),h.jsx("div",{className:"mt-1",children:ee(M.status)})]}),h.jsxs("div",{children:[h.jsx(ze,{children:"Date"}),h.jsx("div",{className:"mt-1 font-medium",children:(()=>{const q=M.scheduled_date,X=parseInt(q);return!isNaN(X)&&X>31536e4&&/^\d+$/.test(q)?new Date(X*1e3).toLocaleDateString():new Date(q).toLocaleDateString()})()})]}),h.jsxs("div",{children:[h.jsx(ze,{children:"Pickup"}),h.jsx("div",{className:"mt-1 font-medium",children:M.pickup_address})]}),h.jsxs("div",{children:[h.jsx(ze,{children:"Dropoff"}),h.jsx("div",{className:"mt-1 font-medium",children:M.dropoff_address})]})]})]}),M.inventory_data&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inventory & Images"}),h.jsxs("div",{className:"hidden",children:[JSON.parse(M.inventory_data).map((q,X)=>h.jsx("span",{children:q.roomName},X)),JSON.parse(M.inventory_data).flatMap(q=>q.items).map((q,X)=>h.jsx("span",{children:q.name},`item-${X}`))]}),h.jsx("div",{className:"border rounded-md p-4",children:h.jsx(Zv,{onInventoryChange:()=>{},initialRooms:JSON.parse(M.inventory_data)})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Job QR Code"}),h.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Scan to access job details on mobile"}),h.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-white border rounded-lg max-w-xs mx-auto","data-testid":"qr-code-container",children:[h.jsx(une,{value:`${window.location.origin}/jobs/${M.id}`}),h.jsx("p",{className:"mt-2 font-mono text-xs text-muted-foreground break-all text-center",children:`${window.location.host}/jobs/${M.id}`})]})]})]}),h.jsxs(Si,{className:"gap-2",children:[((M==null?void 0:M.status)===Ne.Quote||(M==null?void 0:M.status)===Ne.Unspecified)&&h.jsxs(Ee,{onClick:()=>{M&&(H.mutate({job:M,status:Ne.Booked}),z(!1))},children:[h.jsx(yI,{className:"h-4 w-4 mr-2"}),"Book Job"]}),h.jsx(Ee,{variant:"outline",onClick:()=>z(!1),children:"Close"})]})]})})]})}function fne({workers:n,companyId:e}){var g,v;const[t,r]=S.useState(!1),[s,a]=S.useState({full_name:"",role:ui.Mover,status:ta.Active}),l=Ii(),c=ur({mutationFn:async w=>await jh.getInstance().insertWorker([{...w,company_id:e}]),onSuccess:()=>{l.invalidateQueries({queryKey:["workers"]}),r(!1),a({full_name:"",role:ui.Mover,status:ta.Active})}}),d=ur({mutationFn:async w=>{await jh.getInstance().deleteWorkerByIDs([w])},onSuccess:()=>{l.invalidateQueries({queryKey:["workers"]})}}),f=w=>({[ui.Unspecified]:"Unspecified",[ui.Mover]:"Mover",[ui.Driver]:"Driver",[ui.Supervisor]:"Supervisor"})[w],p=w=>{const E={[ta.Unspecified]:{variant:"outline",label:"Unspecified"},[ta.Active]:{variant:"default",label:"Active"},[ta.Inactive]:{variant:"secondary",label:"Inactive"}}[w];return h.jsx(xn,{variant:E.variant,children:E.label})};return h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(en,{children:"Workers Management"}),h.jsx(dr,{children:"Manage your moving company workers"})]}),h.jsxs(bi,{open:t,onOpenChange:r,children:[h.jsx(Wp,{asChild:!0,children:h.jsxs(Ee,{children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"New Worker"]})}),h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create New Worker"}),h.jsx(Sa,{children:"Add a new worker to your team"})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"full_name",children:"Full Name"}),h.jsx(ct,{id:"full_name",value:s.full_name,onChange:w=>a({...s,full_name:w.target.value}),placeholder:"John Doe"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),h.jsx(ct,{id:"hourly_rate",type:"number",value:s.hourly_rate||"",onChange:w=>a({...s,hourly_rate:parseFloat(w.target.value)}),placeholder:"20.00"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"hourly_rate",children:"Hourly Rate ($)"}),h.jsx(ct,{id:"hourly_rate",type:"number",value:s.hourly_rate||"",onChange:w=>a({...s,hourly_rate:parseFloat(w.target.value)}),placeholder:"20.00"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"role",children:"Role"}),h.jsxs(_a,{value:(g=s.role)==null?void 0:g.toString(),onValueChange:w=>a({...s,role:parseInt(w)}),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select role"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:ui.Mover.toString(),children:"Mover"}),h.jsx(Wt,{value:ui.Driver.toString(),children:"Driver"}),h.jsx(Wt,{value:ui.Supervisor.toString(),children:"Supervisor"})]})]})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"status",children:"Status"}),h.jsxs(_a,{value:(v=s.status)==null?void 0:v.toString(),onValueChange:w=>a({...s,status:parseInt(w)}),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select status"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:ta.Active.toString(),children:"Active"}),h.jsx(Wt,{value:ta.Inactive.toString(),children:"Inactive"})]})]})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),h.jsx(Ee,{onClick:()=>c.mutate(s),children:"Create Worker"})]})]})]})]})}),h.jsx(jt,{children:n.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Pv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No workers yet. Add your first worker to get started."})]}):h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Name"}),h.jsx(xt,{children:"Role"}),h.jsx(xt,{children:"Status"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:n.map(w=>h.jsxs(Qr,{children:[h.jsx(St,{className:"font-medium",children:w.full_name}),h.jsx(St,{children:f(w.role)}),h.jsx(St,{children:p(w.status)}),h.jsx(St,{className:"text-right",children:h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>d.mutate(w.id),children:h.jsx(Ul,{className:"h-4 w-4"})})})]},w.id))})]})})]})}function mne(n){const e=pne(n),t=S.forwardRef((r,s)=>{const{children:a,...l}=r,c=S.Children.toArray(a),d=c.find(yne);if(d){const f=d.props.children,p=c.map(g=>g===d?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:g);return h.jsx(e,{...l,ref:s,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return h.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}function pne(n){const e=S.forwardRef((t,r)=>{const{children:s,...a}=t;if(S.isValidElement(s)){const l=_ne(s),c=vne(a,s.props);return s.type!==S.Fragment&&(c.ref=r?Ta(r,l):l),S.cloneElement(s,c)}return S.Children.count(s)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var gne=Symbol("radix.slottable");function yne(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===gne}function vne(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const d=a(...c);return s(...c),d}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function _ne(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var RS=["Enter"," "],bne=["ArrowDown","PageUp","Home"],mL=["ArrowUp","PageDown","End"],wne=[...bne,...mL],xne={ltr:[...RS,"ArrowRight"],rtl:[...RS,"ArrowLeft"]},Sne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$p="Menu",[dp,Ene,Tne]=K1($p),[Lu,pL]=Di($p,[Tne,Zh,j_]),nb=Zh(),gL=j_(),[Cne,Vu]=Lu($p),[Rne,Gp]=Lu($p),yL=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:a,modal:l=!0}=n,c=nb(e),[d,f]=S.useState(null),p=S.useRef(!1),g=br(a),v=Op(s);return S.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),h.jsx(pE,{...c,children:h.jsx(Cne,{scope:e,open:t,onOpenChange:g,content:d,onContentChange:f,children:h.jsx(Rne,{scope:e,onClose:S.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:l,children:r})})})};yL.displayName=$p;var Ane="MenuAnchor",EE=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=nb(t);return h.jsx(G_,{...s,...r,ref:e})});EE.displayName=Ane;var TE="MenuPortal",[Nne,vL]=Lu(TE,{forceMount:void 0}),_L=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,a=Vu(TE,e);return h.jsx(Nne,{scope:e,forceMount:t,children:h.jsx(kr,{present:t||a.open,children:h.jsx(zp,{asChild:!0,container:s,children:r})})})};_L.displayName=TE;var $s="MenuContent",[Ine,CE]=Lu($s),bL=S.forwardRef((n,e)=>{const t=vL($s,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=Vu($s,n.__scopeMenu),l=Gp($s,n.__scopeMenu);return h.jsx(dp.Provider,{scope:n.__scopeMenu,children:h.jsx(kr,{present:r||a.open,children:h.jsx(dp.Slot,{scope:n.__scopeMenu,children:l.modal?h.jsx(kne,{...s,ref:e}):h.jsx(Dne,{...s,ref:e})})})})}),kne=S.forwardRef((n,e)=>{const t=Vu($s,n.__scopeMenu),r=S.useRef(null),s=Et(e,r);return S.useEffect(()=>{const a=r.current;if(a)return Y_(a)},[]),h.jsx(RE,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:De(n.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),Dne=S.forwardRef((n,e)=>{const t=Vu($s,n.__scopeMenu);return h.jsx(RE,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Pne=mne("MenuContent.ScrollLock"),RE=S.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,disableOutsideScroll:x,...E}=n,C=Vu($s,t),k=Gp($s,t),O=nb(t),M=gL(t),F=Ene(t),[V,z]=S.useState(null),N=S.useRef(null),I=Et(e,N,C.onContentChange),P=S.useRef(0),D=S.useRef(""),L=S.useRef(0),H=S.useRef(null),B=S.useRef("right"),Q=S.useRef(0),ie=x?qp:S.Fragment,$=x?{as:Pne,allowPinchZoom:!0}:void 0,ee=X=>{var ue,He;const ge=D.current+X,W=F().filter(ve=>!ve.disabled),ae=document.activeElement,he=(ue=W.find(ve=>ve.ref.current===ae))==null?void 0:ue.textValue,me=W.map(ve=>ve.textValue),Ie=Wne(me,ge,he),Ve=(He=W.find(ve=>ve.textValue===Ie))==null?void 0:He.ref.current;(function ve(Ge){D.current=Ge,window.clearTimeout(P.current),Ge!==""&&(P.current=window.setTimeout(()=>ve(""),1e3))})(ge),Ve&&setTimeout(()=>Ve.focus())};S.useEffect(()=>()=>window.clearTimeout(P.current),[]),z_();const q=S.useCallback(X=>{var W,ae;return B.current===((W=H.current)==null?void 0:W.side)&&Gne(X,(ae=H.current)==null?void 0:ae.area)},[]);return h.jsx(Ine,{scope:t,searchRef:D,onItemEnter:S.useCallback(X=>{q(X)&&X.preventDefault()},[q]),onItemLeave:S.useCallback(X=>{var ge;q(X)||((ge=N.current)==null||ge.focus(),z(null))},[q]),onTriggerLeave:S.useCallback(X=>{q(X)&&X.preventDefault()},[q]),pointerGraceTimerRef:L,onPointerGraceIntentChange:S.useCallback(X=>{H.current=X},[]),children:h.jsx(ie,{...$,children:h.jsx(Up,{asChild:!0,trapped:s,onMountAutoFocus:De(a,X=>{var ge;X.preventDefault(),(ge=N.current)==null||ge.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:h.jsx(Bp,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,children:h.jsx(y2,{asChild:!0,...M,dir:k.dir,orientation:"vertical",loop:r,currentTabStopId:V,onCurrentTabStopIdChange:z,onEntryFocus:De(d,X=>{k.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(gE,{role:"menu","aria-orientation":"vertical","data-state":jL(C.open),"data-radix-menu-content":"",dir:k.dir,...O,...E,ref:I,style:{outline:"none",...E.style},onKeyDown:De(E.onKeyDown,X=>{const W=X.target.closest("[data-radix-menu-content]")===X.currentTarget,ae=X.ctrlKey||X.altKey||X.metaKey,he=X.key.length===1;W&&(X.key==="Tab"&&X.preventDefault(),!ae&&he&&ee(X.key));const me=N.current;if(X.target!==me||!wne.includes(X.key))return;X.preventDefault();const Ve=F().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);mL.includes(X.key)&&Ve.reverse(),qne(Ve)}),onBlur:De(n.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(P.current),D.current="")}),onPointerMove:De(n.onPointerMove,hp(X=>{const ge=X.target,W=Q.current!==X.clientX;if(X.currentTarget.contains(ge)&&W){const ae=X.clientX>Q.current?"right":"left";B.current=ae,Q.current=X.clientX}}))})})})})})})});bL.displayName=$s;var One="MenuGroup",AE=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(rt.div,{role:"group",...r,ref:e})});AE.displayName=One;var Mne="MenuLabel",wL=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(rt.div,{...r,ref:e})});wL.displayName=Mne;var e_="MenuItem",Jk="menu.itemSelect",rb=S.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...s}=n,a=S.useRef(null),l=Gp(e_,n.__scopeMenu),c=CE(e_,n.__scopeMenu),d=Et(e,a),f=S.useRef(!1),p=()=>{const g=a.current;if(!t&&g){const v=new CustomEvent(Jk,{bubbles:!0,cancelable:!0});g.addEventListener(Jk,w=>r==null?void 0:r(w),{once:!0}),kM(g,v),v.defaultPrevented?f.current=!1:l.onClose()}};return h.jsx(xL,{...s,ref:d,disabled:t,onClick:De(n.onClick,p),onPointerDown:g=>{var v;(v=n.onPointerDown)==null||v.call(n,g),f.current=!0},onPointerUp:De(n.onPointerUp,g=>{var v;f.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:De(n.onKeyDown,g=>{const v=c.searchRef.current!=="";t||v&&g.key===" "||RS.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});rb.displayName=e_;var xL=S.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:s,...a}=n,l=CE(e_,t),c=gL(t),d=S.useRef(null),f=Et(e,d),[p,g]=S.useState(!1),[v,w]=S.useState("");return S.useEffect(()=>{const x=d.current;x&&w((x.textContent??"").trim())},[a.children]),h.jsx(dp.ItemSlot,{scope:t,disabled:r,textValue:s??v,children:h.jsx(v2,{asChild:!0,...c,focusable:!r,children:h.jsx(rt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:f,onPointerMove:De(n.onPointerMove,hp(x=>{r?l.onItemLeave(x):(l.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(n.onPointerLeave,hp(x=>l.onItemLeave(x))),onFocus:De(n.onFocus,()=>g(!0)),onBlur:De(n.onBlur,()=>g(!1))})})})}),jne="MenuCheckboxItem",SL=S.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...s}=n;return h.jsx(AL,{scope:n.__scopeMenu,checked:t,children:h.jsx(rb,{role:"menuitemcheckbox","aria-checked":t_(t)?"mixed":t,...s,ref:e,"data-state":IE(t),onSelect:De(s.onSelect,()=>r==null?void 0:r(t_(t)?!0:!t),{checkForDefaultPrevented:!1})})})});SL.displayName=jne;var EL="MenuRadioGroup",[Lne,Vne]=Lu(EL,{value:void 0,onValueChange:()=>{}}),TL=S.forwardRef((n,e)=>{const{value:t,onValueChange:r,...s}=n,a=br(r);return h.jsx(Lne,{scope:n.__scopeMenu,value:t,onValueChange:a,children:h.jsx(AE,{...s,ref:e})})});TL.displayName=EL;var CL="MenuRadioItem",RL=S.forwardRef((n,e)=>{const{value:t,...r}=n,s=Vne(CL,n.__scopeMenu),a=t===s.value;return h.jsx(AL,{scope:n.__scopeMenu,checked:a,children:h.jsx(rb,{role:"menuitemradio","aria-checked":a,...r,ref:e,"data-state":IE(a),onSelect:De(r.onSelect,()=>{var l;return(l=s.onValueChange)==null?void 0:l.call(s,t)},{checkForDefaultPrevented:!1})})})});RL.displayName=CL;var NE="MenuItemIndicator",[AL,Bne]=Lu(NE,{checked:!1}),NL=S.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...s}=n,a=Bne(NE,t);return h.jsx(kr,{present:r||t_(a.checked)||a.checked===!0,children:h.jsx(rt.span,{...s,ref:e,"data-state":IE(a.checked)})})});NL.displayName=NE;var Une="MenuSeparator",IL=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return h.jsx(rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});IL.displayName=Une;var Fne="MenuArrow",kL=S.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,s=nb(t);return h.jsx(yE,{...s,...r,ref:e})});kL.displayName=Fne;var zne="MenuSub",[lie,DL]=Lu(zne),Am="MenuSubTrigger",PL=S.forwardRef((n,e)=>{const t=Vu(Am,n.__scopeMenu),r=Gp(Am,n.__scopeMenu),s=DL(Am,n.__scopeMenu),a=CE(Am,n.__scopeMenu),l=S.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=a,f={__scopeMenu:n.__scopeMenu},p=S.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return S.useEffect(()=>p,[p]),S.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),d(null)}},[c,d]),h.jsx(EE,{asChild:!0,...f,children:h.jsx(xL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":jL(t.open),...n,ref:Ta(e,s.onTriggerChange),onClick:g=>{var v;(v=n.onClick)==null||v.call(n,g),!(n.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:De(n.onPointerMove,hp(g=>{a.onItemEnter(g),!g.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(a.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),p()},100))})),onPointerLeave:De(n.onPointerLeave,hp(g=>{var w,x;p();const v=(w=t.content)==null?void 0:w.getBoundingClientRect();if(v){const E=(x=t.content)==null?void 0:x.dataset.side,C=E==="right",k=C?-5:5,O=v[C?"left":"right"],M=v[C?"right":"left"];a.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:O,y:v.top},{x:M,y:v.top},{x:M,y:v.bottom},{x:O,y:v.bottom}],side:E}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(g),g.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:De(n.onKeyDown,g=>{var w;const v=a.searchRef.current!=="";n.disabled||v&&g.key===" "||xne[r.dir].includes(g.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),g.preventDefault())})})})});PL.displayName=Am;var OL="MenuSubContent",ML=S.forwardRef((n,e)=>{const t=vL($s,n.__scopeMenu),{forceMount:r=t.forceMount,...s}=n,a=Vu($s,n.__scopeMenu),l=Gp($s,n.__scopeMenu),c=DL(OL,n.__scopeMenu),d=S.useRef(null),f=Et(e,d);return h.jsx(dp.Provider,{scope:n.__scopeMenu,children:h.jsx(kr,{present:r||a.open,children:h.jsx(dp.Slot,{scope:n.__scopeMenu,children:h.jsx(RE,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;l.isUsingKeyboardRef.current&&((g=d.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:De(n.onFocusOutside,p=>{p.target!==c.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:De(n.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:De(n.onKeyDown,p=>{var w;const g=p.currentTarget.contains(p.target),v=Sne[l.dir].includes(p.key);g&&v&&(a.onOpenChange(!1),(w=c.trigger)==null||w.focus(),p.preventDefault())})})})})})});ML.displayName=OL;function jL(n){return n?"open":"closed"}function t_(n){return n==="indeterminate"}function IE(n){return t_(n)?"indeterminate":n?"checked":"unchecked"}function qne(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function Hne(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Wne(n,e,t){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=Hne(n,Math.max(a,0));s.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function $ne(n,e){const{x:t,y:r}=n;let s=!1;for(let a=0,l=e.length-1;a<e.length;l=a++){const c=e[a],d=e[l],f=c.x,p=c.y,g=d.x,v=d.y;p>r!=v>r&&t<(g-f)*(r-p)/(v-p)+f&&(s=!s)}return s}function Gne(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return $ne(t,e)}function hp(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Yne=yL,Kne=EE,Qne=_L,Jne=bL,Xne=AE,Zne=wL,ere=rb,tre=SL,nre=TL,rre=RL,sre=NL,ire=IL,are=kL,ore=PL,lre=ML,sb="DropdownMenu",[cre]=Di(sb,[pL]),Lr=pL(),[ure,LL]=cre(sb),VL=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:a,onOpenChange:l,modal:c=!0}=n,d=Lr(e),f=S.useRef(null),[p,g]=ql({prop:s,defaultProp:a??!1,onChange:l,caller:sb});return h.jsx(ure,{scope:e,triggerId:_i(),triggerRef:f,contentId:_i(),open:p,onOpenChange:g,onOpenToggle:S.useCallback(()=>g(v=>!v),[g]),modal:c,children:h.jsx(Yne,{...d,open:p,onOpenChange:g,dir:r,modal:c,children:t})})};VL.displayName=sb;var BL="DropdownMenuTrigger",UL=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...s}=n,a=LL(BL,t),l=Lr(t);return h.jsx(Kne,{asChild:!0,...l,children:h.jsx(rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Ta(e,a.triggerRef),onPointerDown:De(n.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(a.onOpenToggle(),a.open||c.preventDefault())}),onKeyDown:De(n.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&a.onOpenToggle(),c.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});UL.displayName=BL;var dre="DropdownMenuPortal",FL=n=>{const{__scopeDropdownMenu:e,...t}=n,r=Lr(e);return h.jsx(Qne,{...r,...t})};FL.displayName=dre;var zL="DropdownMenuContent",qL=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=LL(zL,t),a=Lr(t),l=S.useRef(!1);return h.jsx(Jne,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:e,onCloseAutoFocus:De(n.onCloseAutoFocus,c=>{var d;l.current||(d=s.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:De(n.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!s.modal||p)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qL.displayName=zL;var hre="DropdownMenuGroup",fre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(Xne,{...s,...r,ref:e})});fre.displayName=hre;var mre="DropdownMenuLabel",pre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(Zne,{...s,...r,ref:e})});pre.displayName=mre;var gre="DropdownMenuItem",HL=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(ere,{...s,...r,ref:e})});HL.displayName=gre;var yre="DropdownMenuCheckboxItem",vre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(tre,{...s,...r,ref:e})});vre.displayName=yre;var _re="DropdownMenuRadioGroup",bre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(nre,{...s,...r,ref:e})});bre.displayName=_re;var wre="DropdownMenuRadioItem",xre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(rre,{...s,...r,ref:e})});xre.displayName=wre;var Sre="DropdownMenuItemIndicator",Ere=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(sre,{...s,...r,ref:e})});Ere.displayName=Sre;var Tre="DropdownMenuSeparator",Cre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(ire,{...s,...r,ref:e})});Cre.displayName=Tre;var Rre="DropdownMenuArrow",Are=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(are,{...s,...r,ref:e})});Are.displayName=Rre;var Nre="DropdownMenuSubTrigger",Ire=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(ore,{...s,...r,ref:e})});Ire.displayName=Nre;var kre="DropdownMenuSubContent",Dre=S.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,s=Lr(t);return h.jsx(lre,{...s,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Dre.displayName=kre;var Pre=VL,Ore=UL,Mre=FL,jre=qL,Lre=HL;function Vre({...n}){return h.jsx(Pre,{"data-slot":"dropdown-menu",...n})}function Bre({...n}){return h.jsx(Ore,{"data-slot":"dropdown-menu-trigger",...n})}function Ure({className:n,sideOffset:e=4,...t}){return h.jsx(Mre,{children:h.jsx(jre,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n),...t})})}function Xk({className:n,inset:e,variant:t="default",...r}){return h.jsx(Lre,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:Ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r})}function Fre({equipment:n,companyId:e}){var p;const[t,r]=S.useState(!1),[s,a]=S.useState({name:"",total_quantity:0,type:di.Reusable}),l=Ii(),c=ur({mutationFn:async g=>await nh.getInstance().insertEquipment([{...g,company_id:e,type:g.type||di.Reusable}]),onSuccess:()=>{l.invalidateQueries({queryKey:["equipment"]}),r(!1),a({name:"",total_quantity:0,type:di.Reusable})}}),d=ur({mutationFn:async g=>await nh.getInstance().setEquipmentById(g.id,g),onSuccess:()=>{l.invalidateQueries({queryKey:["equipment"]})}}),f=ur({mutationFn:async g=>{await nh.getInstance().deleteEquipmentByIDs([g])},onSuccess:()=>{l.invalidateQueries({queryKey:["equipment"]})}});return h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(en,{children:"Equipment Management"}),h.jsx(dr,{children:"Manage moving equipment and supplies"})]}),h.jsxs(bi,{open:t,onOpenChange:r,children:[h.jsx(Wp,{asChild:!0,children:h.jsxs(Ee,{children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"New Equipment"]})}),h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create New Equipment"}),h.jsx(Sa,{children:"Add new equipment to your inventory"})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"name",children:"Equipment Name"}),h.jsx(ct,{id:"name",value:s.name,onChange:g=>a({...s,name:g.target.value}),placeholder:"Dolly, Blankets, Straps, etc."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"type",children:"Type"}),h.jsxs(_a,{value:(p=s.type)==null?void 0:p.toString(),onValueChange:g=>a({...s,type:parseInt(g)}),children:[h.jsx(wa,{id:"type",children:h.jsx(ba,{placeholder:"Select type"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:di.Reusable.toString(),children:"Reusable"}),h.jsx(Wt,{value:di.Consumable.toString(),children:"Consumable"})]})]})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"total_quantity",children:"Total Quantity"}),h.jsx(ct,{id:"total_quantity",type:"number",value:s.total_quantity||"",onChange:g=>a({...s,total_quantity:parseInt(g.target.value)||0}),placeholder:"10"})]})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),h.jsx(Ee,{onClick:()=>c.mutate(s),children:"Create Equipment"})]})]})]})]})}),h.jsx(jt,{children:n.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(k_,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No equipment yet. Add your first equipment item to get started."})]}):h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Name"}),h.jsx(xt,{children:"Type"}),h.jsx(xt,{className:"text-right",children:"Total Quantity"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:n.map(g=>h.jsxs(Qr,{children:[h.jsx(St,{className:"font-medium",children:g.name}),h.jsx(St,{children:h.jsxs(Vre,{children:[h.jsx(Bre,{asChild:!0,children:h.jsxs(Ee,{variant:"ghost",className:"h-8 p-0 hover:bg-transparent -ml-2 px-2",children:[g.type===di.Consumable?h.jsxs(xn,{variant:"secondary",className:"gap-1 pointer-events-none",children:[h.jsx(Xm,{className:"h-3 w-3"})," Consumable"]}):h.jsxs(xn,{variant:"outline",className:"gap-1 pointer-events-none",children:[h.jsx(kv,{className:"h-3 w-3"})," Reusable"]}),h.jsx(I_,{className:"ml-1 h-3 w-3 opacity-30"})]})}),h.jsxs(Ure,{align:"start",children:[h.jsxs(Xk,{onClick:()=>d.mutate({...g,type:di.Reusable}),children:[h.jsx(kv,{className:"h-4 w-4 mr-2"})," Reusable"]}),h.jsxs(Xk,{onClick:()=>d.mutate({...g,type:di.Consumable}),children:[h.jsx(Xm,{className:"h-4 w-4 mr-2"})," Consumable"]})]})]})}),h.jsx(St,{className:"text-right",children:h.jsxs(Zj,{children:[h.jsx(e4,{asChild:!0,children:h.jsx(Ee,{variant:"ghost",className:"h-8 w-fit p-0 font-normal hover:bg-transparent underline decoration-dashed underline-offset-4 decoration-muted-foreground/30",children:g.total_quantity})}),h.jsx(t4,{className:"w-40 p-2",children:h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx(ze,{htmlFor:`qty-${g.id}`,className:"sr-only",children:"Quantity"}),h.jsx(ct,{id:`qty-${g.id}`,type:"number",defaultValue:g.total_quantity,className:"h-8",onKeyDown:v=>{v.key==="Enter"&&d.mutate({...g,total_quantity:parseInt(v.currentTarget.value)||0})},onBlur:v=>{const w=parseInt(v.target.value);!isNaN(w)&&w!==g.total_quantity&&d.mutate({...g,total_quantity:w})}})]})})]})}),h.jsx(St,{className:"text-right",children:h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>f.mutate(g.id),children:h.jsx(Ul,{className:"h-4 w-4"})})})]},g.id))})]})})]})}var us=(n=>(n[n.Unspecified=0]="Unspecified",n[n.Routine=1]="Routine",n[n.Repair=2]="Repair",n[n.Inspection=3]="Inspection",n[n.Upgrade=4]="Upgrade",n))(us||{});const Wc=class Wc{constructor(){an(this,"collectionName","maintenance_records")}static getInstance(){return Wc.instance||(Wc.instance=new Wc),Wc.instance}getCurrentUserId(){var t;const e=(t=Nr.currentUser)==null?void 0:t.uid;if(!e)throw new Error("Authentication required: Cannot perform database operation without authenticated user");return e}getCurrentTime(){return new Date().toISOString()}async getMaintenanceRecordByIDs(e){if(e.length===0)return[];const t=[],r=10;for(let s=0;s<e.length;s+=r){const a=e.slice(s,s+r),l=Pe(_e(J,this.collectionName),Re("id","in",a));(await xe(l)).forEach(d=>{t.push(d.data())})}return t}async deleteMaintenanceRecordByIDs(e){const t=e.map(r=>je(be(J,this.collectionName,r)));await Promise.all(t)}async getAllMaintenanceRecord(){return(await xe(_e(J,this.collectionName))).docs.map(t=>t.data())}async insertMaintenanceRecord(e){const t=[];for(const r of e){const s=be(_e(J,this.collectionName)),a=this.getCurrentTime(),l=this.getCurrentUserId(),c={...r,id:r.id||s.id,data_creator:l,data_updater:l,create_time:a,update_time:a};await un(s,c),t.push(c)}return t}async purgeAllMaintenanceRecord(){const t=(await xe(_e(J,this.collectionName))).docs.map(r=>je(r.ref));await Promise.all(t)}async listMaintenanceRecord(e,t,r){var d,f,p,g;let s=[];if(e!=null&&e.simples)for(const v of e.simples){let w;(d=v.value)!=null&&d.string?w=v.value.string:((f=v.value)==null?void 0:f.number)!==void 0?w=v.value.number:((p=v.value)==null?void 0:p.enumeration)!==void 0?w=v.value.enumeration:((g=v.value)==null?void 0:g.boolean)!==void 0&&(w=v.value.boolean),w!==void 0&&v.symbol===1&&s.push(Re(v.field,"==",w))}if(t!=null&&t.orders)for(const v of t.orders)s.push(Ea(v.field,v.symbol===1?"asc":"desc"));const a=Pe(_e(J,this.collectionName),...s),c=(await xe(a)).docs.map(v=>v.data());return[c,{number:1,size:c.length,total:c.length}]}async getMaintenanceRecordById(e){const t=be(J,this.collectionName,e),r=await In(t);return r.exists()?[r.data()]:[]}async setMaintenanceRecordById(e,t){const r=be(J,this.collectionName,e),s=this.getCurrentTime(),a=this.getCurrentUserId(),l=await In(r);let c=l.exists()?l.data():null;const d={...t,id:e,data_updater:a,update_time:s,data_creator:(c==null?void 0:c.data_creator)||t.data_creator||a,create_time:(c==null?void 0:c.create_time)||t.create_time||s};return await un(r,d),[d]}async deleteMaintenanceRecordById(e){await je(be(J,this.collectionName,e))}async getMaintenanceRecordByCompanyId(e){const t=Pe(_e(J,this.collectionName),Re("company_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setMaintenanceRecordByCompanyId(e,t){if(t.id)return this.setMaintenanceRecordById(t.id,t);const r=await this.getMaintenanceRecordByCompanyId(e);return r.length>0?this.setMaintenanceRecordById(r[0].id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByCompanyId(e){const r=(await this.getMaintenanceRecordByCompanyId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByVehicleId(e){const t=Pe(_e(J,this.collectionName),Re("vehicle_id","==",e));return(await xe(t)).docs.map(s=>s.data())}async setMaintenanceRecordByVehicleId(e,t){if(t.id)return this.setMaintenanceRecordById(t.id,t);const r=await this.getMaintenanceRecordByVehicleId(e);return r.length>0?this.setMaintenanceRecordById(r[0].id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByVehicleId(e){const r=(await this.getMaintenanceRecordByVehicleId(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByServiceDate(e){const t=Pe(_e(J,this.collectionName),Re("service_date","==",e));return(await xe(t)).docs.map(s=>s.data())}async setMaintenanceRecordByServiceDate(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByServiceDate(e){const r=(await this.getMaintenanceRecordByServiceDate(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByDataCreator(e){const t=Pe(_e(J,this.collectionName),Re("data_creator","==",e));return(await xe(t)).docs.map(s=>s.data())}async setMaintenanceRecordByDataCreator(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByDataCreator(e){const r=(await this.getMaintenanceRecordByDataCreator(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}async getMaintenanceRecordByDataUpdater(e){const t=Pe(_e(J,this.collectionName),Re("data_updater","==",e));return(await xe(t)).docs.map(s=>s.data())}async setMaintenanceRecordByDataUpdater(e,t){return t.id?this.setMaintenanceRecordById(t.id,t):this.insertMaintenanceRecord([t])}async deleteMaintenanceRecordByDataUpdater(e){const r=(await this.getMaintenanceRecordByDataUpdater(e)).map(s=>je(be(J,this.collectionName,s.id)));await Promise.all(r)}};an(Wc,"instance",null);let n_=Wc;function zre({...n}){return h.jsx(eL,{"data-slot":"sheet",...n})}function qre({...n}){return h.jsx(tL,{"data-slot":"sheet-portal",...n})}function Hre({className:n,...e}){return h.jsx(nL,{"data-slot":"sheet-overlay",className:Ce("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function Wre({className:n,children:e,side:t="right",...r}){return h.jsxs(qre,{children:[h.jsx(Hre,{}),h.jsxs(rL,{"data-slot":"sheet-content",className:Ce("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n),...r,children:[e,h.jsxs(aL,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[h.jsx(B1,{className:"size-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $re({className:n,...e}){return h.jsx("div",{"data-slot":"sheet-header",className:Ce("flex flex-col gap-1.5 p-4",n),...e})}function Gre({className:n,...e}){return h.jsx(sL,{"data-slot":"sheet-title",className:Ce("text-foreground font-semibold",n),...e})}function Yre({className:n,...e}){return h.jsx(iL,{"data-slot":"sheet-description",className:Ce("text-muted-foreground text-sm",n),...e})}function Kre({className:n,...e}){return h.jsx("textarea",{"data-slot":"textarea",className:Ce("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function Qre({vehicles:n,companyId:e}){var M,F;const[t,r]=S.useState(!1),[s,a]=S.useState(null),[l,c]=S.useState(!1),[d,f]=S.useState({vehicle_name:"",license_plate:"",type:hs.BoxTruck16ft,capacity_cft:0}),[p,g]=S.useState({service_date:fa(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:us.Routine,notes:""}),v=Ii(),{data:w}=Yr({queryKey:["maintenance",s==null?void 0:s.id],queryFn:async()=>s?(await n_.getInstance().getAllMaintenanceRecord()).filter(N=>N.vehicle_id===s.id):[],enabled:!!s}),x=ur({mutationFn:async V=>await cp.getInstance().insertVehicle([{...V,company_id:e}]),onSuccess:()=>{v.invalidateQueries({queryKey:["vehicles"]}),r(!1),f({vehicle_name:"",license_plate:"",type:hs.BoxTruck16ft,capacity_cft:0})}}),E=ur({mutationFn:async V=>{await cp.getInstance().deleteVehicleByIDs([V])},onSuccess:()=>{v.invalidateQueries({queryKey:["vehicles"]})}}),C=ur({mutationFn:async V=>{if(!s)throw new Error("No vehicle selected");return await n_.getInstance().insertMaintenanceRecord([{...V,vehicle_id:s.id,company_id:e}])},onSuccess:()=>{v.invalidateQueries({queryKey:["maintenance",s==null?void 0:s.id]}),g({service_date:fa(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:us.Routine,notes:""})}}),k=V=>({[hs.Unspecified]:"Unspecified",[hs.BoxTruck16ft]:"Box Truck 16ft",[hs.BoxTruck26ft]:"Box Truck 26ft",[hs.CargoVan]:"Cargo Van",[hs.Flatbed]:"Flatbed"})[V],O=V=>({[us.Unspecified]:"Unspecified",[us.Routine]:"Routine",[us.Repair]:"Repair",[us.Inspection]:"Inspection",[us.Upgrade]:"Upgrade"})[V];return h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(en,{children:"Vehicles Management"}),h.jsx(dr,{children:"Manage your fleet of moving vehicles"})]}),h.jsxs(bi,{open:t,onOpenChange:r,children:[h.jsx(Wp,{asChild:!0,children:h.jsxs(Ee,{children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"New Vehicle"]})}),h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create New Vehicle"}),h.jsx(Sa,{children:"Add a new vehicle to your fleet"})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"vehicle_name",children:"Vehicle Name"}),h.jsx(ct,{id:"vehicle_name",value:d.vehicle_name,onChange:V=>f({...d,vehicle_name:V.target.value}),placeholder:"Truck 1"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"license_plate",children:"License Plate"}),h.jsx(ct,{id:"license_plate",value:d.license_plate,onChange:V=>f({...d,license_plate:V.target.value}),placeholder:"ABC-1234"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"type",children:"Vehicle Type"}),h.jsxs(_a,{value:(M=d.type)==null?void 0:M.toString(),onValueChange:V=>f({...d,type:parseInt(V)}),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select type"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:hs.BoxTruck16ft.toString(),children:"Box Truck 16ft"}),h.jsx(Wt,{value:hs.BoxTruck26ft.toString(),children:"Box Truck 26ft"}),h.jsx(Wt,{value:hs.CargoVan.toString(),children:"Cargo Van"}),h.jsx(Wt,{value:hs.Flatbed.toString(),children:"Flatbed"})]})]})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"capacity_cft",children:"Capacity (cubic feet)"}),h.jsx(ct,{id:"capacity_cft",type:"number",value:d.capacity_cft||"",onChange:V=>f({...d,capacity_cft:parseFloat(V.target.value)||0}),placeholder:"1000"})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),h.jsx(Ee,{onClick:()=>x.mutate(d),children:"Create Vehicle"})]})]})]})]})}),h.jsx(jt,{children:n.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ya,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No vehicles yet. Add your first vehicle to get started."})]}):h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Name"}),h.jsx(xt,{children:"License Plate"}),h.jsx(xt,{children:"Type"}),h.jsx(xt,{className:"text-right",children:"Capacity (cu ft)"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:n.map(V=>h.jsxs(Qr,{children:[h.jsx(St,{className:"font-medium",children:V.vehicle_name}),h.jsx(St,{children:V.license_plate}),h.jsx(St,{children:k(V.type)}),h.jsx(St,{className:"text-right",children:V.capacity_cft||"-"}),h.jsx(St,{className:"text-right",children:h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{a(V),c(!0)},children:h.jsx(xH,{className:"h-4 w-4"})}),h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>E.mutate(V.id),children:h.jsx(Ul,{className:"h-4 w-4"})})]})})]},V.id))})]})}),h.jsx(zre,{open:l,onOpenChange:V=>{c(V),V||(a(null),g({service_date:fa(new Date,"yyyy-MM-dd"),description:"",cost:0,performed_by:"",odometer_reading:0,type:us.Routine,notes:""}))},children:h.jsxs(Wre,{className:"overflow-y-auto sm:max-w-xl",children:[h.jsxs($re,{children:[h.jsx(Gre,{children:"Maintenance Records"}),h.jsxs(Yre,{children:["Maintenance history for ",s==null?void 0:s.vehicle_name," (",s==null?void 0:s.license_plate,")"]})]}),h.jsxs("div",{className:"py-6 space-y-6",children:[h.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-muted/20",children:[h.jsx("h3",{className:"font-semibold text-sm",children:"Add Maintenance Log"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_date",children:"Date"}),h.jsx(ct,{id:"m_date",type:"date",value:p.service_date,onChange:V=>g({...p,service_date:V.target.value})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_type",children:"Type"}),h.jsxs(_a,{value:(F=p.type)==null?void 0:F.toString(),onValueChange:V=>g({...p,type:parseInt(V)}),children:[h.jsx(wa,{id:"m_type",children:h.jsx(ba,{})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:us.Routine.toString(),children:"Routine"}),h.jsx(Wt,{value:us.Repair.toString(),children:"Repair"}),h.jsx(Wt,{value:us.Inspection.toString(),children:"Inspection"}),h.jsx(Wt,{value:us.Upgrade.toString(),children:"Upgrade"})]})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_desc",children:"Description"}),h.jsx(ct,{id:"m_desc",value:p.description,onChange:V=>g({...p,description:V.target.value}),placeholder:"Oil change, brake pad replacement..."})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_cost",children:"Cost ($)"}),h.jsx(ct,{id:"m_cost",type:"number",value:p.cost,onChange:V=>g({...p,cost:parseFloat(V.target.value)||0})})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_odo",children:"Odometer"}),h.jsx(ct,{id:"m_odo",type:"number",value:p.odometer_reading||"",onChange:V=>g({...p,odometer_reading:parseFloat(V.target.value)||0})})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_performed",children:"Performed By"}),h.jsx(ct,{id:"m_performed",value:p.performed_by,onChange:V=>g({...p,performed_by:V.target.value}),placeholder:"Mechanic or shop name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(ze,{htmlFor:"m_notes",children:"Notes"}),h.jsx(Kre,{id:"m_notes",value:p.notes||"",onChange:V=>g({...p,notes:V.target.value})})]}),h.jsx(Ee,{className:"w-full",onClick:()=>C.mutate(p),disabled:!p.description||!p.service_date,children:"Add Record"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-sm mb-4",children:"History"}),!w||w.length===0?h.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No maintenance records found."}):h.jsx("div",{className:"space-y-4",children:w.map(V=>h.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("div",{className:"font-medium",children:V.description}),h.jsxs("div",{className:"text-sm font-semibold",children:["$",V.cost.toFixed(2)]})]}),h.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[h.jsxs("div",{children:["Date: ",V.service_date]}),h.jsxs("div",{children:["Type: ",O(V.type)]}),V.odometer_reading&&h.jsxs("div",{children:["Odo: ",V.odometer_reading]})]}),h.jsxs("div",{className:"text-xs text-muted-foreground",children:["By: ",V.performed_by]}),V.notes&&h.jsx("div",{className:"text-xs bg-muted p-2 rounded mt-2",children:V.notes})]},V.id))})]})]})]})})]})}function Jre({payrollRecords:n,workers:e,companyId:t}){const[r,s]=S.useState(!1),[a,l]=S.useState({worker_id:"",pay_period_start:"",pay_period_end:"",hourly_wage:0,hours_worked:0,total_pay:0,status:Vs.Draft}),c=Ii(),d=ur({mutationFn:async x=>{const E=rh.getInstance(),C=x.pay_period_start?Math.floor(new Date(x.pay_period_start).getTime()/1e3).toString():"",k=x.pay_period_end?Math.floor(new Date(x.pay_period_end).getTime()/1e3).toString():"";return await E.insertPayrollRecord([{...x,company_id:t,pay_period_start:C,pay_period_end:k,total_pay:(x.hourly_wage||0)*(x.hours_worked||0)}])},onSuccess:()=>{c.invalidateQueries({queryKey:["payrollRecords"]}),s(!1),l({worker_id:"",pay_period_start:"",pay_period_end:"",hourly_wage:0,hours_worked:0,total_pay:0,status:Vs.Draft})}}),f=ur({mutationFn:async({id:x,status:E})=>{const C=rh.getInstance(),k=await C.getPayrollRecordByIDs([x]);if(k.length>0){const O={...k[0],status:E};await C.setPayrollRecordById(x,O)}},onSuccess:()=>{c.invalidateQueries({queryKey:["payrollRecords"]})}}),p=ur({mutationFn:async x=>{await rh.getInstance().deletePayrollRecordByIDs([x])},onSuccess:()=>{c.invalidateQueries({queryKey:["payrollRecords"]})}}),g=()=>{d.mutate(a)},v=x=>{const C={[Vs.Unspecified]:{variant:"outline",label:"Unspecified"},[Vs.Draft]:{variant:"secondary",label:"Draft"},[Vs.Approved]:{variant:"default",label:"Approved"},[Vs.Paid]:{variant:"outline",label:"Paid"}}[x];return h.jsx(xn,{variant:C.variant,children:C.label})},w=x=>{const E=e.find(C=>C.id===x);return(E==null?void 0:E.full_name)||"Unknown Worker"};return h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(en,{children:"Payroll Management"}),h.jsx(dr,{children:"Manage worker wages and payroll records"})]}),h.jsxs(bi,{open:r,onOpenChange:s,children:[h.jsx(Wp,{asChild:!0,children:h.jsxs(Ee,{children:[h.jsx(go,{className:"h-4 w-4 mr-2"}),"New Payroll Record"]})}),h.jsxs(wi,{children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Create Payroll Record"}),h.jsx(Sa,{children:"Enter payroll details for a worker"})]}),h.jsxs("div",{className:"grid gap-4 py-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"worker_id",children:"Worker"}),h.jsxs(_a,{value:a.worker_id,onValueChange:x=>l({...a,worker_id:x}),children:[h.jsx(wa,{children:h.jsx(ba,{placeholder:"Select worker"})}),h.jsx(xa,{children:e.map(x=>h.jsx(Wt,{value:x.id,children:x.full_name},x.id))})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"pay_period_start",children:"Pay Period Start"}),h.jsx(ct,{id:"pay_period_start",type:"date",value:a.pay_period_start,onChange:x=>l({...a,pay_period_start:x.target.value})})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"pay_period_end",children:"Pay Period End"}),h.jsx(ct,{id:"pay_period_end",type:"date",value:a.pay_period_end,onChange:x=>l({...a,pay_period_end:x.target.value})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"hourly_wage",children:"Hourly Wage ($)"}),h.jsx(ct,{id:"hourly_wage",type:"number",value:a.hourly_wage||"",onChange:x=>l({...a,hourly_wage:parseFloat(x.target.value)||0}),placeholder:"25.00"})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{htmlFor:"hours_worked",children:"Hours Worked"}),h.jsx(ct,{id:"hours_worked",type:"number",value:a.hours_worked||"",onChange:x=>l({...a,hours_worked:parseFloat(x.target.value)||0}),placeholder:"40"})]})]}),h.jsxs("div",{className:"grid gap-2",children:[h.jsx(ze,{children:"Total Pay"}),h.jsxs("div",{className:"text-2xl font-bold",children:["$",((a.hourly_wage||0)*(a.hours_worked||0)).toFixed(2)]})]})]}),h.jsxs(Si,{children:[h.jsx(Ee,{variant:"outline",onClick:()=>s(!1),children:"Cancel"}),h.jsx(Ee,{onClick:g,children:"Create Payroll Record"})]})]})]})]})}),h.jsx(jt,{children:n.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(AM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No payroll records yet. Create your first payroll record to get started."})]}):h.jsxs(Au,{children:[h.jsx(Nu,{children:h.jsxs(Qr,{children:[h.jsx(xt,{children:"Worker"}),h.jsx(xt,{children:"Pay Period"}),h.jsx(xt,{children:"Hourly Wage"}),h.jsx(xt,{children:"Hours Worked"}),h.jsx(xt,{children:"Total Pay"}),h.jsx(xt,{children:"Status"}),h.jsx(xt,{className:"text-right",children:"Actions"})]})}),h.jsx(Iu,{children:n.map(x=>h.jsxs(Qr,{children:[h.jsx(St,{className:"font-medium",children:w(x.worker_id)}),h.jsxs(St,{children:[new Date(parseInt(x.pay_period_start)*1e3).toLocaleDateString()," - ",new Date(parseInt(x.pay_period_end)*1e3).toLocaleDateString()]}),h.jsxs(St,{children:["$",x.hourly_wage.toFixed(2)]}),h.jsx(St,{children:x.hours_worked}),h.jsxs(St,{className:"font-medium",children:["$",x.total_pay.toFixed(2)]}),h.jsx(St,{children:v(x.status)}),h.jsx(St,{className:"text-right",children:h.jsxs("div",{className:"flex gap-2 justify-end",children:[(x.status===Vs.Draft||x.status===Vs.Unspecified)&&h.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>f.mutate({id:x.id,status:Vs.Approved}),children:"Approve"}),x.status===Vs.Approved&&h.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>f.mutate({id:x.id,status:Vs.Paid}),children:"Mark Paid"}),h.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>p.mutate(x.id),children:h.jsx(Ul,{className:"h-4 w-4"})})]})})]},x.id))})]})})]})}function Xre({jobs:n,workers:e,equipment:t,vehicles:r,jobAssignments:s,vehicleAssignments:a,equipmentAllocations:l,companyId:c}){const[d,f]=S.useState(!1),[p,g]=S.useState(null),[v,w]=S.useState([]),[x,E]=S.useState([]),[C,k]=S.useState({}),O=Ii(),M=ur({mutationFn:async()=>{if(!p)return;const Q=p.id,ie=s.filter(ve=>ve.job_id===Q),$=ie.map(ve=>ve.worker_id),ee=v.filter(ve=>!$.includes(ve)),q=ie.filter(ve=>!v.includes(ve.worker_id));ee.length>0&&await Lh.getInstance().insertJobWorkerAssignment(ee.map(ve=>({job_id:Q,worker_id:ve,company_id:c}))),q.length>0&&await Lh.getInstance().deleteJobWorkerAssignmentByIDs(q.map(ve=>ve.id));const X=a.filter(ve=>ve.job_id===Q),ge=X.map(ve=>ve.vehicle_id),W=x.filter(ve=>!ge.includes(ve)),ae=X.filter(ve=>!x.includes(ve.vehicle_id));W.length>0&&await up.getInstance().insertJobVehicleAssignment(W.map(ve=>({job_id:Q,vehicle_id:ve,company_id:c}))),ae.length>0&&await up.getInstance().deleteJobVehicleAssignmentByIDs(ae.map(ve=>ve.id));const he=l.filter(ve=>ve.job_id===Q),me=new Map(he.map(ve=>[ve.equipment_id,ve])),Ie=Object.keys(C),Ve=Ie.filter(ve=>!me.has(ve)),ue=Ie.filter(ve=>{const Ge=me.get(ve);return Ge&&Ge.quantity_assigned!==C[ve]}),He=he.filter(ve=>!C[ve.equipment_id]);Ve.length>0&&await sh.getInstance().insertJobEquipmentAllocation(Ve.map(ve=>({job_id:Q,equipment_id:ve,quantity_assigned:C[ve],company_id:c}))),ue.length>0&&await Promise.all(ue.map(ve=>{const Ge=me.get(ve);return sh.getInstance().setJobEquipmentAllocationById(Ge.id,{...Ge,quantity_assigned:C[ve]})})),He.length>0&&await sh.getInstance().deleteJobEquipmentAllocationByIDs(He.map(ve=>ve.id))},onSuccess:()=>{O.invalidateQueries({queryKey:["jobAssignments"]}),O.invalidateQueries({queryKey:["vehicleAssignments"]}),O.invalidateQueries({queryKey:["equipmentAllocations"]}),f(!1),g(null)}}),F=Q=>{g(Q);const ie=s.filter(X=>X.job_id===Q.id).map(X=>X.worker_id);w(ie);const $=a.filter(X=>X.job_id===Q.id).map(X=>X.vehicle_id);E($);const ee=l.filter(X=>X.job_id===Q.id),q={};ee.forEach(X=>{q[X.equipment_id]=X.quantity_assigned}),k(q),f(!0)},V=Q=>{w(ie=>ie.includes(Q)?ie.filter($=>$!==Q):[...ie,Q])},z=Q=>{E(ie=>ie.includes(Q)?ie.filter($=>$!==Q):[...ie,Q])},N=Q=>{k(ie=>{const $={...ie};return $[Q]?delete $[Q]:$[Q]=1,$})},I=(Q,ie,$)=>{ie<1&&(ie=1),ie>$&&(ie=$),k(ee=>({...ee,[Q]:ie}))},P=n.filter(Q=>Q.status===Ne.Booked||Q.status===Ne.InProgress),D=Q=>{var ie;return((ie=e.find($=>$.id===Q))==null?void 0:ie.full_name)||"Unknown"},L=Q=>{var ie;return((ie=r.find($=>$.id===Q))==null?void 0:ie.vehicle_name)||"Unknown"},H=Q=>t.find(ie=>ie.id===Q),B=Q=>{var ie;return((ie=H(Q))==null?void 0:ie.name)||"Unknown"};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Mt,{children:[h.jsxs(Zt,{children:[h.jsx(en,{children:"Job Scheduling"}),h.jsx(dr,{children:"Manage daily job assignments"})]}),h.jsx(jt,{children:P.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(RM,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),h.jsx("p",{className:"text-muted-foreground",children:"No active jobs to schedule."})]}):h.jsx("div",{className:"grid gap-6",children:P.map(Q=>{const ie=s.filter(q=>q.job_id===Q.id),$=a.filter(q=>q.job_id===Q.id),ee=l.filter(q=>q.job_id===Q.id);return h.jsxs(Mt,{className:"overflow-hidden",children:[h.jsx(Zt,{className:"bg-muted/30 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsxs(en,{className:"text-lg flex items-center gap-2",children:[Q.customer_name,h.jsx(xn,{variant:Q.status===Ne.Booked?"default":"secondary",children:Q.status===Ne.Booked?"Booked":"In Progress"})]}),h.jsxs("div",{className:"flex items-center text-sm text-muted-foreground gap-4",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(ju,{className:"h-3 w-3"}),new Date(parseInt(Q.scheduled_date)*1e3).toLocaleDateString()]}),h.jsxs("span",{children:[Q.pickup_address," ",h.jsx("span",{className:"text-muted-foreground/50",children:""})," ",Q.dropoff_address]})]})]}),h.jsx(Ee,{onClick:()=>F(Q),children:"Manage Resources"})]})}),h.jsx(jt,{className:"pt-6",children:h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(Pv,{className:"h-4 w-4 text-muted-foreground"}),"Workers"]}),ie.length===0?h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"None assigned"}):h.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(q=>h.jsx(xn,{variant:"outline",children:D(q.worker_id)},q.id))})]}),h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(ya,{className:"h-4 w-4 text-muted-foreground"}),"Vehicles"]}),$.length===0?h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"None assigned"}):h.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(q=>h.jsx(xn,{variant:"secondary",children:L(q.vehicle_id)},q.id))})]}),h.jsxs("div",{children:[h.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[h.jsx(vI,{className:"h-4 w-4 text-muted-foreground"}),"Equipment"]}),ee.length===0?h.jsx("p",{className:"text-sm text-muted-foreground italic",children:"None assigned"}):h.jsx("div",{className:"flex flex-wrap gap-2",children:ee.map(q=>{const X=H(q.equipment_id);return h.jsxs(xn,{variant:"outline",className:"border-dashed gap-1",children:[(X==null?void 0:X.type)===di.Consumable?h.jsx(Xm,{className:"h-3 w-3"}):h.jsx(kv,{className:"h-3 w-3"}),B(q.equipment_id),h.jsxs("span",{className:"ml-1 text-muted-foreground border-l pl-1",children:["x",q.quantity_assigned]})]},q.id)})})]})]})})]},Q.id)})})})]}),h.jsx(bi,{open:d,onOpenChange:Q=>{Q||(f(!1),g(null))},children:h.jsxs(wi,{className:"max-w-4xl max-h-[85vh] flex flex-col",children:[h.jsxs(xi,{children:[h.jsx(Ei,{children:"Manage Resources"}),h.jsxs(Sa,{children:["Assign workers, vehicles, and equipment for ",p==null?void 0:p.customer_name]})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsx(O_,{className:"h-[500px] pr-4",children:h.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 font-medium pb-2 border-b",children:[h.jsx(Pv,{className:"h-4 w-4"}),"Workers",h.jsx(xn,{variant:"secondary",className:"ml-auto",children:v.length})]}),h.jsx("div",{className:"space-y-2",children:e.filter(Q=>Q.status===ta.Active).map(Q=>h.jsxs("div",{className:"flex items-start space-x-3 p-2 hover:bg-muted/50 rounded-md",children:[h.jsx(Vm,{id:`w - ${Q.id} `,checked:v.includes(Q.id),onCheckedChange:()=>V(Q.id)}),h.jsxs("div",{className:"grid gap-1.5 leading-none",children:[h.jsx(ze,{htmlFor:`w - ${Q.id} `,className:"cursor-pointer font-medium",children:Q.full_name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:ui[Q.role]})]})]},Q.id))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 font-medium pb-2 border-b",children:[h.jsx(ya,{className:"h-4 w-4"}),"Vehicles",h.jsx(xn,{variant:"secondary",className:"ml-auto",children:x.length})]}),h.jsx("div",{className:"space-y-2",children:r.map(Q=>h.jsxs("div",{className:"flex items-start space-x-3 p-2 hover:bg-muted/50 rounded-md",children:[h.jsx(Vm,{id:`v - ${Q.id} `,checked:x.includes(Q.id),onCheckedChange:()=>z(Q.id)}),h.jsxs("div",{className:"grid gap-1.5 leading-none",children:[h.jsx(ze,{htmlFor:`v - ${Q.id} `,className:"cursor-pointer font-medium",children:Q.vehicle_name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:hs[Q.type]})]})]},Q.id))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2 font-medium pb-2 border-b",children:[h.jsx(vI,{className:"h-4 w-4"}),"Equipment",h.jsx(xn,{variant:"secondary",className:"ml-auto",children:Object.keys(C).length})]}),h.jsx("div",{className:"space-y-2",children:t.map(Q=>{const ie=!!C[Q.id],$=C[Q.id]||0;return h.jsxs("div",{className:"flex flex-col gap-2 p-2 hover:bg-muted/50 rounded-md",children:[h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(Vm,{id:`e - ${Q.id} `,checked:ie,onCheckedChange:()=>N(Q.id)}),h.jsx("div",{className:"grid gap-1.5 leading-none flex-1",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(ze,{htmlFor:`e - ${Q.id} `,className:"cursor-pointer font-medium flex items-center gap-2",children:[Q.name,Q.type===di.Consumable?h.jsx(Xm,{className:"h-3 w-3 text-muted-foreground"}):h.jsx(kv,{className:"h-3 w-3 text-muted-foreground"})]}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["Max: ",Q.total_quantity]})]})})]}),ie&&h.jsx("div",{className:"pl-7 mt-1 animate-in slide-in-from-top-2 fade-in",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-muted-foreground",children:"Qty:"}),h.jsx(ct,{type:"number",value:$,min:1,max:Q.total_quantity,onChange:ee=>I(Q.id,parseInt(ee.target.value)||0,Q.total_quantity),className:"h-8 w-20"})]})})]},Q.id)})})]})]})})}),h.jsxs(Si,{className:"pt-4 border-t",children:[h.jsx(Ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),h.jsx(Ee,{onClick:()=>M.mutate(),disabled:M.isPending,children:M.isPending?"Saving...":"Save Assignments"})]})]})})]})}const Zre=nr("/")({component:ese});function ese(){const[n,e]=S.useState("dashboard");Ii();const{isAuthenticated:t,isLoading:r,companyId:s,role:a}=Ra(),l=ki();S.useEffect(()=>{r||(t?a==="customer"?l({to:"/portal"}):s||l({to:"/onboarding"}):l({to:"/login"}))},[r,t,s,a,l]);const{data:c}=Yr({queryKey:["company",s],enabled:!!s,queryFn:async()=>s&&(await ep.getInstance().getCompanyById(s))[0]||null}),{data:d=[]}=Yr({queryKey:["jobs",s],enabled:!!s,queryFn:async()=>s?await ws.getInstance().getJobsByCompanyId(s):[]}),{data:f=[]}=Yr({queryKey:["workers",s],enabled:!!s,queryFn:async()=>s?await jh.getInstance().getWorkersByCompanyId(s):[]}),{data:p=[]}=Yr({queryKey:["equipment",s],enabled:!!s,queryFn:async()=>s?await nh.getInstance().getEquipmentByCompanyId(s):[]}),{data:g=[]}=Yr({queryKey:["vehicles",s],enabled:!!s,queryFn:async()=>s?await cp.getInstance().getVehiclesByCompanyId(s):[]}),{data:v=[]}=Yr({queryKey:["payrollRecords",s],enabled:!!s,queryFn:async()=>s?await rh.getInstance().getPayrollRecordsByCompanyId(s):[]}),{data:w=[]}=Yr({queryKey:["jobAssignments",s],enabled:!!s,queryFn:async()=>s?await Lh.getInstance().getJobWorkerAssignmentByCompanyId(s):[]}),{data:x=[]}=Yr({queryKey:["vehicleAssignments",s],enabled:!!s,queryFn:async()=>s?await up.getInstance().getJobVehicleAssignmentByCompanyId(s):[]}),{data:E=[]}=Yr({queryKey:["equipmentAllocations",s],enabled:!!s,queryFn:async()=>s?await sh.getInstance().getJobEquipmentAllocationByCompanyId(s):[]}),C=f.filter(O=>O.status===ta.Active),k=d.filter(O=>O.status===Ne.Booked||O.status===Ne.InProgress);return r?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-lg font-medium",children:"Loading..."}),h.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Please wait"})]})}):!t&&!r?h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen gap-4 p-4",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Authentication Required"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"You need to be signed in to access this page"}),h.jsx(Ee,{onClick:()=>l({to:"/login"}),children:"Go to Login"})]})}):h.jsxs("div",{className:"flex min-h-[calc(100vh-3.5rem)]",children:[h.jsxs("aside",{className:"w-64 border-r bg-muted/30 p-4 shrink-0",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-lg font-bold tracking-tight px-2",children:(c==null?void 0:c.name)||"Loading..."}),h.jsx("p",{className:"text-sm text-muted-foreground px-2",children:"Moving Company Manager"})]}),h.jsxs("nav",{className:"space-y-1",children:[h.jsxs(Ee,{variant:n==="dashboard"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("dashboard"),children:[h.jsx(tH,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),h.jsxs(Ee,{variant:n==="jobs"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("jobs"),children:[h.jsx(ju,{className:"mr-2 h-4 w-4"}),"Jobs"]}),h.jsxs(Ee,{variant:n==="scheduling"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("scheduling"),children:[h.jsx(RM,{className:"mr-2 h-4 w-4"}),"Scheduling"]}),h.jsxs(Ee,{variant:n==="workers"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("workers"),children:[h.jsx(Pv,{className:"mr-2 h-4 w-4"}),"Workers"]}),h.jsxs(Ee,{variant:n==="equipment"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("equipment"),children:[h.jsx(k_,{className:"mr-2 h-4 w-4"}),"Equipment"]}),h.jsxs(Ee,{variant:n==="vehicles"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("vehicles"),children:[h.jsx(ya,{className:"mr-2 h-4 w-4"}),"Vehicles"]}),h.jsxs(Ee,{variant:n==="payroll"?"secondary":"ghost",className:"w-full justify-start",onClick:()=>e("payroll"),children:[h.jsx(AM,{className:"mr-2 h-4 w-4"}),"Payroll"]})]})]}),h.jsx("main",{className:"flex-1 p-6 overflow-auto",children:h.jsxs(V_,{value:n,onValueChange:e,className:"space-y-6",children:[h.jsx(mi,{value:"dashboard",className:"m-0",children:h.jsx(Zte,{jobs:d,workers:f,equipment:p,vehicles:g,activeWorkers:C,upcomingJobs:k})}),h.jsx(mi,{value:"jobs",className:"m-0",children:h.jsx(hne,{jobs:d,workers:f,vehicles:g,equipment:p,companyId:s||""})}),h.jsx(mi,{value:"scheduling",className:"m-0",children:h.jsx(Xre,{jobs:d,workers:f,equipment:p,vehicles:g,jobAssignments:w,vehicleAssignments:x,equipmentAllocations:E,companyId:s||""})}),h.jsx(mi,{value:"workers",className:"m-0",children:h.jsx(fne,{workers:f,companyId:s||""})}),h.jsx(mi,{value:"equipment",className:"m-0",children:h.jsx(Fre,{equipment:p,companyId:s||""})}),h.jsx(mi,{value:"vehicles",className:"m-0",children:h.jsx(Qre,{vehicles:g,companyId:s||""})}),h.jsx(mi,{value:"payroll",className:"m-0",children:h.jsx(Jre,{payrollRecords:v,workers:f,companyId:s||""})})]})})]})}function tse(){const{user:n}=Ra(),e=ki(),{data:t=[],isLoading:r}=Yr({queryKey:["worker-jobs",n==null?void 0:n.uid],enabled:!!(n!=null&&n.uid),queryFn:async()=>{if(!(n!=null&&n.uid))return[];const c=(await Lh.getInstance().getJobWorkerAssignmentByWorkerId(n.uid)).map(d=>d.job_id);return c.length===0?[]:await ws.getInstance().getJobByIDs(c)}}),s=new Date,a=t.filter(l=>{const c=new Date(l.scheduled_date);return c.getDate()===s.getDate()&&c.getMonth()===s.getMonth()&&c.getFullYear()===s.getFullYear()});return r?h.jsx("div",{className:"p-8 text-center",children:"Loading schedule..."}):h.jsxs("div",{className:"space-y-6 pb-20",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Good Morning!"}),h.jsxs("p",{className:"text-muted-foreground",children:["You have ",a.length," jobs today."]}),h.jsx(Ee,{variant:"destructive",className:"mt-4 w-full md:w-auto",onClick:()=>e({to:"/worker/report-incident"}),children:"Report Incident"})]}),h.jsx("div",{className:"space-y-4",children:a.length===0?h.jsx(Mt,{className:"bg-slate-50 border-dashed",children:h.jsx(jt,{className:"p-8 text-center text-muted-foreground",children:"No jobs scheduled for today."})}):a.map(l=>h.jsxs(Mt,{className:"overflow-hidden border-l-4 border-l-primary shadow-sm hover:shadow-md transition-shadow",children:[h.jsxs(Zt,{className:"bg-white pb-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx(xn,{variant:"outline",className:"mb-2",children:fa(new Date(l.scheduled_date),"p")}),h.jsx(nse,{status:l.status})]}),h.jsx(en,{className:"text-lg",children:l.customer_name}),h.jsxs(dr,{children:["Job #",l.id.slice(0,6)]})]}),h.jsxs(jt,{className:"pt-4 space-y-4",children:[h.jsxs("div",{className:"space-y-3 relative pl-4 border-l-2 border-slate-100 ml-2",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute -left-[21px] top-1 h-3 w-3 rounded-full bg-green-500 ring-4 ring-white"}),h.jsx("div",{className:"text-sm font-medium",children:"Pickup"}),h.jsx("div",{className:"text-sm text-muted-foreground truncate",children:l.pickup_address})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute -left-[21px] top-1 h-3 w-3 rounded-full bg-red-500 ring-4 ring-white"}),h.jsx("div",{className:"text-sm font-medium",children:"Dropoff"}),h.jsx("div",{className:"text-sm text-muted-foreground truncate",children:l.dropoff_address})]})]}),h.jsxs(Ee,{className:"w-full",size:"lg",onClick:()=>e({to:`/worker/jobs/${l.id}`}),children:["Start Job ",h.jsx(CM,{className:"ml-2 h-4 w-4"})]})]})]},l.id))}),t.length>a.length&&h.jsxs("div",{className:"pt-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Upcoming"}),h.jsx("div",{className:"space-y-3",children:t.filter(l=>!a.includes(l)).map(l=>h.jsx(Mt,{className:"bg-slate-50",children:h.jsxs(jt,{className:"p-4 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:fa(new Date(l.scheduled_date),"PPP")}),h.jsx("div",{className:"text-sm text-muted-foreground",children:l.pickup_address})]}),h.jsx(xn,{variant:"secondary",children:Ne[l.status]})]})},l.id))})]})]})}function nse({status:n}){const e={[Ne.Unspecified]:"Wait",[Ne.Quote]:"Quote",[Ne.Booked]:"Scheduled",[Ne.InProgress]:"Active",[Ne.EnRoute]:"En Route",[Ne.Arrived]:"Arrived",[Ne.Loading]:"Loading",[Ne.onWayToDropoff]:"Driving",[Ne.Unloading]:"Unloading",[Ne.Completed]:"Done",[Ne.Canceled]:"Canceled"};return h.jsx(xn,{children:e[n]||"Unknown"})}const rse=nr("/worker/")({component:tse}),sse=nr("/team/")({component:ise});function ise(){return h.jsx("div",{children:'Hello "/team/"!'})}function ase(){const{user:n}=Ra(),e=Ii(),t=ki(),{data:r=[],isLoading:s}=Yr({queryKey:["customer-quotes",n==null?void 0:n.uid],enabled:!!(n!=null&&n.uid),queryFn:async()=>n!=null&&n.uid?await lp.getInstance().getQuotesByCustomerId(n.uid):[]}),{data:a=[],isLoading:l}=Yr({queryKey:["customer-jobs",n==null?void 0:n.uid],enabled:!!(n!=null&&n.uid),queryFn:async()=>n!=null&&n.uid?await ws.getInstance().getJobsByCustomerId(n.uid):[]}),c=ur({mutationFn:async d=>{if(d.customer_id&&d.customer_id!==n.uid)throw new Error("Unauthorized: You can only book your own quotes");if(!d.customer_name||d.customer_name.trim().length===0)throw new Error("Customer name is required");if(!Array.isArray(d.inventory_items))throw new Error("Invalid inventory data");const f={id:"",data_creator:n.uid,data_updater:n.uid,create_time:new Date().toISOString(),update_time:new Date().toISOString(),company_id:d.company_id||"PENDING_ASSIGNMENT",customer_name:d.customer_name.trim(),customer_id:n.uid,status:Ne.Quote,scheduled_date:d.move_date,pickup_address:d.pickup_address,dropoff_address:d.dropoff_address,estimated_cost:d.estimated_price_min,inventory_data:JSON.stringify(d.inventory_items)},[p]=await ws.getInstance().insertJob([f]);return await lp.getInstance().updateStatus(d.id,"BOOKED"),p},onSuccess:()=>{e.invalidateQueries({queryKey:["customer-quotes"]}),e.invalidateQueries({queryKey:["customer-jobs"]}),alert("Booking Confirmed! A mover will be assigned shortly.")},onError:d=>{console.error("Booking failed:",d),alert("Failed to book. Please try again.")}});return s||l?h.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Loading your dashboard..."}):h.jsxs("div",{className:"space-y-6",children:[h.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"My Move Dashboard"}),h.jsxs(V_,{defaultValue:"quotes",className:"w-full",children:[h.jsxs(J1,{className:"grid w-full grid-cols-2 max-w-[400px]",children:[h.jsxs(kh,{value:"quotes",children:["My Quotes (",r.length,")"]}),h.jsxs(kh,{value:"jobs",children:["Active Jobs (",a.length,")"]})]}),h.jsx(mi,{value:"quotes",className:"space-y-4 mt-6",children:r.length===0?h.jsx(Mt,{children:h.jsxs(jt,{className:"p-8 text-center",children:[h.jsx("p",{className:"text-muted-foreground mb-4",children:"You haven't requested any quotes yet."}),h.jsx(Ee,{onClick:()=>t({to:"/get-quote"}),children:"Get a Quote"})]})}):r.map(d=>h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(en,{className:"flex items-center gap-2",children:[h.jsx(ju,{className:"h-5 w-5 text-muted-foreground"}),fa(new Date(d.move_date),"PPP")]}),h.jsxs(dr,{children:["Created: ",fa(new Date(d.create_time),"PP")]})]}),h.jsx(xn,{variant:d.status==="BOOKED"?"secondary":"default",children:d.status})]})}),h.jsxs(jt,{children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Pickup"}),h.jsx("div",{children:d.pickup_address})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Dropoff"}),h.jsx("div",{children:d.dropoff_address})]})]}),h.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[h.jsxs("div",{className:"text-lg font-bold",children:["$",d.estimated_price_min," - $",d.estimated_price_max]}),d.status==="PENDING"&&h.jsxs(Ee,{onClick:()=>c.mutate(d),disabled:c.isPending,children:[c.isPending?"Booking...":"Book Now",h.jsx(nS,{className:"ml-2 h-4 w-4"})]}),d.status==="BOOKED"&&h.jsxs("div",{className:"flex items-center text-green-600 font-medium",children:[h.jsx(Pp,{className:"mr-2 h-5 w-5"}),"Booked"]})]})]})]},d.id))}),h.jsx(mi,{value:"jobs",className:"space-y-4 mt-6",children:a.length===0?h.jsx(Mt,{children:h.jsx(jt,{className:"p-8 text-center text-muted-foreground",children:"No active jobs found. Book a quote to get started!"})}):a.map(d=>h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(en,{className:"flex items-center gap-2",children:[h.jsx(ya,{className:"h-5 w-5 text-primary"}),"Move on ",fa(new Date(d.scheduled_date),"PPP")]}),h.jsxs(dr,{children:["Job ID: ",d.id.slice(0,8)]})]}),h.jsx(ose,{status:d.status})]})}),h.jsx(jt,{children:h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Locations"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"From:"})," ",d.pickup_address," ",h.jsx("br",{}),h.jsx("span",{className:"text-muted-foreground",children:"To:"})," ",d.dropoff_address]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Status Details"}),h.jsxs("div",{className:"text-sm",children:["Your move is currently ",h.jsx("strong",{children:Ne[d.status]}),".",d.company_id==="PENDING_ASSIGNMENT"&&h.jsx("span",{className:"block text-amber-600",children:"Waiting for company assignment."})]})]})]})})]},d.id))})]})]})}function ose({status:n}){const e={[Ne.Unspecified]:"bg-gray-100 text-gray-800",[Ne.Quote]:"bg-blue-100 text-blue-800",[Ne.Booked]:"bg-purple-100 text-purple-800",[Ne.InProgress]:"bg-yellow-100 text-yellow-800",[Ne.EnRoute]:"bg-yellow-100 text-yellow-800",[Ne.Arrived]:"bg-yellow-100 text-yellow-800",[Ne.Loading]:"bg-yellow-100 text-yellow-800",[Ne.onWayToDropoff]:"bg-yellow-100 text-yellow-800",[Ne.Unloading]:"bg-yellow-100 text-yellow-800",[Ne.Completed]:"bg-green-100 text-green-800",[Ne.Canceled]:"bg-red-100 text-red-800"};return h.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-medium ${e[n]||e[0]}`,children:Ne[n]})}const lse=nr("/portal/")({component:ase}),cse=nr("/foreman/")({component:use});function use(){return h.jsx("div",{children:'Hello "/foreman/"!'})}const dse=nr("/worker/report-incident")({component:hse});function hse(){return h.jsx("div",{children:'Hello "/worker/report-incident"!'})}function fse(){const{jobId:n}=o_({from:"/jobs/$jobId"}),[e,t]=S.useState(null),[r,s]=S.useState(null),[a,l]=S.useState(!0),[c,d]=S.useState(null);return S.useEffect(()=>{n&&(async()=>{try{const g=await ws.getInstance().getJobById(n);if(g.length===0)d("Job not found");else if(t(g[0]),g[0].company_id){const w=await ep.getInstance().getCompanyById(g[0].company_id);w.length>0&&s(w[0])}}catch(p){console.error(p),d("Failed to load job details")}finally{l(!1)}})()},[n]),a?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading job details..."}):c||!e?h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Error"}),h.jsx("p",{className:"text-muted-foreground",children:c||"Job not found"})]}):h.jsx("div",{className:"min-h-screen bg-gray-50/50 p-4 md:p-8",children:h.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx("h1",{className:"text-2xl font-bold",children:(r==null?void 0:r.name)||"Moving Company"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Job Details & Inventory"})]}),h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx(en,{children:e.customer_name}),h.jsxs(dr,{children:["Move scheduled for ",new Date(e.scheduled_date).toLocaleDateString()]})]}),h.jsx(xn,{variant:e.status===1?"secondary":"default",children:e.status===1?"Quote":"Booked"})]})}),h.jsxs(jt,{className:"space-y-6",children:[h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(pm,{icon:Zm,label:"Pickup Location"}),h.jsx("p",{className:"font-medium",children:e.pickup_address})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(pm,{icon:Zm,label:"Dropoff Location"}),h.jsx("p",{className:"font-medium",children:e.dropoff_address})]})]}),h.jsx(rp,{}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx(pm,{icon:ju,label:"Date"}),h.jsx("p",{className:"font-medium",children:new Date(e.scheduled_date).toLocaleDateString()})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(pm,{icon:ya,label:"Distance"}),h.jsx("p",{className:"font-medium",children:e.estimated_cost?"Calculated":"Pending"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx(pm,{icon:k_,label:"Items"}),h.jsxs("p",{className:"font-medium",children:[e.inventory_data?JSON.parse(e.inventory_data).reduce((f,p)=>f+p.totalItems,0):0," items"]})]})]}),h.jsx(rp,{}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Inventory"}),e.inventory_data?h.jsx(Zv,{initialRooms:JSON.parse(e.inventory_data),readOnly:!0,onInventoryChange:()=>{}}):h.jsx("p",{className:"text-muted-foreground text-sm",children:"No inventory data available."})]})]})]})]})})}function pm({icon:n,label:e}){return h.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[h.jsx(n,{className:"w-4 h-4 mr-1"}),h.jsx("span",{children:e})]})}const mse=nr("/jobs/$jobId")({component:fse}),pse=nr("/worker/jobs/$jobId")({component:gse});function gse(){return h.jsx("div",{children:'Hello "/worker/jobs/$jobId"!'})}function yse(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let AS=1;class vse{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:AS++,l=this.toasts.find(d=>d.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(d=>d.id===a?(this.publish({...d,...e,id:a,title:r}),{...d,...e,id:a,dismissible:c,title:r}):d):this.addToast({title:r,...s,dismissible:c,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const c=s.then(async f=>{if(l=["resolve",f],we.isValidElement(f))a=!1,this.create({id:r,type:"default",message:f});else if(bse(f)&&!f.ok){a=!1;const g=typeof t.error=="function"?await t.error(`HTTP error! status: ${f.status}`):t.error,v=typeof t.description=="function"?await t.description(`HTTP error! status: ${f.status}`):t.description,x=typeof g=="object"&&!we.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:v,...x})}else if(f instanceof Error){a=!1;const g=typeof t.error=="function"?await t.error(f):t.error,v=typeof t.description=="function"?await t.description(f):t.description,x=typeof g=="object"&&!we.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:v,...x})}else if(t.success!==void 0){a=!1;const g=typeof t.success=="function"?await t.success(f):t.success,v=typeof t.description=="function"?await t.description(f):t.description,x=typeof g=="object"&&!we.isValidElement(g)?g:{message:g};this.create({id:r,type:"success",description:v,...x})}}).catch(async f=>{if(l=["reject",f],t.error!==void 0){a=!1;const p=typeof t.error=="function"?await t.error(f):t.error,g=typeof t.description=="function"?await t.description(f):t.description,w=typeof p=="object"&&!we.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:g,...w})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,p)=>c.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||AS++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Us=new vse,_se=(n,e)=>{const t=(e==null?void 0:e.id)||AS++;return Us.addToast({title:n,...e,id:t}),t},bse=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",wse=_se,xse=()=>Us.toasts,Sse=()=>Us.getActiveToasts(),Zk=Object.assign(wse,{success:Us.success,info:Us.info,warning:Us.warning,error:Us.error,custom:Us.custom,message:Us.message,promise:Us.promise,dismiss:Us.dismiss,loading:Us.loading},{getHistory:xse,getToasts:Sse});yse("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const WL=nr("/foreman/jobs/$jobId")({component:Ese});function Ese(){const{jobId:n}=WL.useParams(),e=Ii(),{data:t,isLoading:r}=Yr({queryKey:["job",n],queryFn:async()=>(await ws.getInstance().getJobById(n))[0]||null}),s=ur({mutationFn:async a=>{if(!t)return;await ws.getInstance().setJobById(t.id,{...t,status:a})},onSuccess:()=>{e.invalidateQueries({queryKey:["job",n]}),Zk.success("Job status updated")},onError:()=>{Zk.error("Failed to update status")}});return r?h.jsx("div",{className:"p-8 flex justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?h.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx(Ee,{variant:"ghost",asChild:!0,className:"mb-4 pl-0 hover:bg-transparent hover:underline",children:h.jsxs(fu,{to:"/foreman",children:[h.jsx(tS,{className:"mr-2 h-4 w-4"})," Back to My Jobs"]})}),h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold",children:t.customer_name}),h.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1",children:["Job ID: ",h.jsx("span",{className:"font-mono text-xs bg-muted px-1.5 py-0.5 rounded",children:t.id.slice(0,8)})]})]}),h.jsxs(_a,{value:t.status.toString(),onValueChange:a=>s.mutate(parseInt(a)),disabled:s.isPending,children:[h.jsx(wa,{className:"w-[200px]",children:h.jsx(ba,{placeholder:"Status"})}),h.jsxs(xa,{children:[h.jsx(Wt,{value:Ne.Booked.toString(),children:"Booked"}),h.jsx(Wt,{value:Ne.EnRoute.toString(),children:"En Route"}),h.jsx(Wt,{value:Ne.Arrived.toString(),children:"Arrived"}),h.jsx(Wt,{value:Ne.InProgress.toString(),children:"In Progress"}),h.jsx(Wt,{value:Ne.Loading.toString(),children:"Loading"}),h.jsx(Wt,{value:Ne.onWayToDropoff.toString(),children:"Driving"}),h.jsx(Wt,{value:Ne.Unloading.toString(),children:"Unloading"}),h.jsx(Wt,{value:Ne.Completed.toString(),children:"Completed"})]})]})]})]}),h.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs(en,{className:"text-lg flex items-center gap-2",children:[h.jsx(Zm,{className:"h-5 w-5 text-primary"}),"Locations"]})}),h.jsxs(jt,{className:"space-y-6",children:[h.jsxs("div",{className:"relative border-l-2 border-muted pl-6 pb-6 last:pb-0",children:[h.jsx("div",{className:"absolute -left-[5px] top-0 h-3 w-3 rounded-full bg-primary"}),h.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase opacity-70 mb-1",children:"Pickup"}),h.jsx("p",{className:"text-lg",children:t.pickup_address})]}),h.jsxs("div",{className:"relative border-l-2 border-muted pl-6",children:[h.jsx("div",{className:"absolute -left-[5px] top-0 h-3 w-3 rounded-full border-2 border-primary bg-background"}),h.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase opacity-70 mb-1",children:"Dropoff"}),h.jsx("p",{className:"text-lg",children:t.dropoff_address})]})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs(en,{className:"text-lg flex items-center gap-2",children:[h.jsx(ju,{className:"h-5 w-5 text-primary"}),"Schedule"]})}),h.jsx(jt,{children:h.jsx("div",{className:"text-2xl font-bold mb-1",children:t.scheduled_date?new Date(parseInt(t.scheduled_date)*1e3).toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"}):"Unscheduled"})})]}),h.jsxs(Mt,{children:[h.jsx(Zt,{children:h.jsxs(en,{className:"text-lg flex items-center gap-2",children:[h.jsx(Pp,{className:"h-5 w-5 text-primary"}),"Actions"]})}),h.jsxs(jt,{className:"flex flex-col gap-3",children:[h.jsxs(Ee,{variant:"outline",className:"justify-start",children:[h.jsx(ya,{className:"mr-2 h-4 w-4"}),"Vehicle Checklist"]}),h.jsxs(Ee,{variant:"outline",className:"justify-start",children:[h.jsx(lH,{className:"mr-2 h-4 w-4"}),"Navigate to Pickup"]})]})]})]})]})]}):h.jsx("div",{className:"p-8 text-center",children:"Job not found"})}const ib=a$.update({id:"/worker",path:"/worker",getParentRoute:()=>Pi}),$L=l$.update({id:"/team",path:"/team",getParentRoute:()=>Pi}),GL=u$.update({id:"/portal",path:"/portal",getParentRoute:()=>Pi}),Tse=Q$.update({id:"/onboarding",path:"/onboarding",getParentRoute:()=>Pi}),Cse=TG.update({id:"/login",path:"/login",getParentRoute:()=>Pi}),Rse=NG.update({id:"/invite",path:"/invite",getParentRoute:()=>Pi}),Ase=Kte.update({id:"/get-quote",path:"/get-quote",getParentRoute:()=>Pi}),kE=Jte.update({id:"/foreman",path:"/foreman",getParentRoute:()=>Pi}),Nse=Zre.update({id:"/",path:"/",getParentRoute:()=>Pi}),Ise=rse.update({id:"/",path:"/",getParentRoute:()=>ib}),kse=sse.update({id:"/",path:"/",getParentRoute:()=>$L}),Dse=lse.update({id:"/",path:"/",getParentRoute:()=>GL}),Pse=cse.update({id:"/",path:"/",getParentRoute:()=>kE}),Ose=dse.update({id:"/report-incident",path:"/report-incident",getParentRoute:()=>ib}),Mse=mse.update({id:"/jobs/$jobId",path:"/jobs/$jobId",getParentRoute:()=>Pi}),jse=pse.update({id:"/jobs/$jobId",path:"/jobs/$jobId",getParentRoute:()=>ib}),Lse=WL.update({id:"/jobs/$jobId",path:"/jobs/$jobId",getParentRoute:()=>kE}),Vse={ForemanIndexRoute:Pse,ForemanJobsJobIdRoute:Lse},Bse=kE._addFileChildren(Vse),Use={PortalIndexRoute:Dse},Fse=GL._addFileChildren(Use),zse={TeamIndexRoute:kse},qse=$L._addFileChildren(zse),Hse={WorkerReportIncidentRoute:Ose,WorkerIndexRoute:Ise,WorkerJobsJobIdRoute:jse},Wse=ib._addFileChildren(Hse),$se={IndexRoute:Nse,ForemanRoute:Bse,GetQuoteRoute:Ase,InviteRoute:Rse,LoginRoute:Cse,OnboardingRoute:Tse,PortalRoute:Fse,TeamRoute:qse,WorkerRoute:Wse,JobsJobIdRoute:Mse},Gse=Pi._addFileChildren($se)._addFileTypes();Yse();function Yse(){const n=Kse();return window.APP_CONFIG=n,console.log("App Configuration:",{userId:n.userId,projectId:n.projectId,taskId:n.taskId,workspaceId:n.workspaceId,uploadFolder:n.uploadFolder,baseUrl:n.baseUrl,isValidBuildUrl:n.isValidBuildUrl,currentUrl:window.location.href}),Promise.resolve().then(()=>{QW()}),n}function Kse(){const n=window.location.href,e=/^(https?:\/\/[^\/]+)\/builds\/([^\/]+)\/([^\/]+)\/([^\/]+)\/dist/,t=n.match(e);if(t){const[,r,s,a,l]=t,c=`${a}-${l}`;return{userId:s,projectId:a,taskId:l,workspaceId:c,uploadFolder:"resources",baseUrl:r,isValidBuildUrl:!0}}return{userId:null,projectId:null,taskId:null,workspaceId:null,uploadFolder:null,baseUrl:null,isValidBuildUrl:!1}}const Qse=new X3({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3,retry:1,refetchOnWindowFocus:!1}}}),Jse=J5({routeTree:Gse,context:{},defaultPreload:"intent",scrollRestoration:!0,defaultStructuralSharing:!0,defaultPreloadStaleTime:0,basepath:"/"}),d0=document.getElementById("app");d0&&!d0.innerHTML&&aB.createRoot(d0).render(h.jsx(S.StrictMode,{children:h.jsx(e6,{client:Qse,children:h.jsx(eB,{router:Jse})})}));
