import { r as __toESM } from "./chunk-DUEDWNxO.js";
import { t as require_react } from "./react-BHLv0ZoK.js";
import "./react-dom-C-iIx5HX.js";
import { t as require_jsx_runtime } from "./jsx-runtime-CQYnrtyT.js";
import "./root-Cnc0EdA4.js";
import { it as useRouter, rt as useRouterState } from "./esm-DgSd4c73.js";
import { h as createComponent, n as ShadowDomTargetContext, t as DevtoolsOnCloseContext, u as render, x as lazy, y as createSignal } from "./context-FZz8yN4n.js";

//#region node_modules/@tanstack/router-devtools-core/dist/esm/TanStackRouterDevtoolsCore.js
var __typeError$1 = (msg) => {
	throw TypeError(msg);
};
var __accessCheck$1 = (obj, member, msg) => member.has(obj) || __typeError$1("Cannot " + msg);
var __privateGet$1 = (obj, member, getter) => (__accessCheck$1(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd$1 = (obj, member, value) => member.has(obj) ? __typeError$1("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet$1 = (obj, member, value, setter) => (__accessCheck$1(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var _router$1, _routerState$1, _position, _initialIsOpen, _shadowDOMTarget$1, _panelProps, _closeButtonProps, _toggleButtonProps, _isMounted$1, _Component$1, _dispose$1;
var TanStackRouterDevtoolsCore = class {
	constructor(config) {
		__privateAdd$1(this, _router$1);
		__privateAdd$1(this, _routerState$1);
		__privateAdd$1(this, _position);
		__privateAdd$1(this, _initialIsOpen);
		__privateAdd$1(this, _shadowDOMTarget$1);
		__privateAdd$1(this, _panelProps);
		__privateAdd$1(this, _closeButtonProps);
		__privateAdd$1(this, _toggleButtonProps);
		__privateAdd$1(this, _isMounted$1, false);
		__privateAdd$1(this, _Component$1);
		__privateAdd$1(this, _dispose$1);
		__privateSet$1(this, _router$1, createSignal(config.router));
		__privateSet$1(this, _routerState$1, createSignal(config.routerState));
		__privateSet$1(this, _position, config.position ?? "bottom-left");
		__privateSet$1(this, _initialIsOpen, config.initialIsOpen ?? false);
		__privateSet$1(this, _shadowDOMTarget$1, config.shadowDOMTarget);
		__privateSet$1(this, _panelProps, config.panelProps);
		__privateSet$1(this, _closeButtonProps, config.closeButtonProps);
		__privateSet$1(this, _toggleButtonProps, config.toggleButtonProps);
	}
	mount(el) {
		if (__privateGet$1(this, _isMounted$1)) throw new Error("Devtools is already mounted");
		const dispose = render(() => {
			const [router] = __privateGet$1(this, _router$1);
			const [routerState] = __privateGet$1(this, _routerState$1);
			const position = __privateGet$1(this, _position);
			const initialIsOpen = __privateGet$1(this, _initialIsOpen);
			const shadowDOMTarget = __privateGet$1(this, _shadowDOMTarget$1);
			const panelProps = __privateGet$1(this, _panelProps);
			const closeButtonProps = __privateGet$1(this, _closeButtonProps);
			const toggleButtonProps = __privateGet$1(this, _toggleButtonProps);
			let Devtools;
			if (__privateGet$1(this, _Component$1)) Devtools = __privateGet$1(this, _Component$1);
			else {
				Devtools = lazy(() => import("./FloatingTanStackRouterDevtools-BUJ-1n1h.js"));
				__privateSet$1(this, _Component$1, Devtools);
			}
			return createComponent(Devtools, {
				position,
				initialIsOpen,
				shadowDOMTarget,
				router,
				routerState,
				panelProps,
				closeButtonProps,
				toggleButtonProps
			});
		}, el);
		__privateSet$1(this, _isMounted$1, true);
		__privateSet$1(this, _dispose$1, dispose);
	}
	unmount() {
		var _a;
		if (!__privateGet$1(this, _isMounted$1)) throw new Error("Devtools is not mounted");
		(_a = __privateGet$1(this, _dispose$1)) == null || _a.call(this);
		__privateSet$1(this, _isMounted$1, false);
	}
	setRouter(router) {
		__privateGet$1(this, _router$1)[1](router);
	}
	setRouterState(routerState) {
		__privateGet$1(this, _routerState$1)[1](routerState);
	}
	setOptions(options) {
		if (options.position !== void 0) __privateSet$1(this, _position, options.position);
		if (options.initialIsOpen !== void 0) __privateSet$1(this, _initialIsOpen, options.initialIsOpen);
		if (options.shadowDOMTarget !== void 0) __privateSet$1(this, _shadowDOMTarget$1, options.shadowDOMTarget);
	}
};
_router$1 = /* @__PURE__ */ new WeakMap();
_routerState$1 = /* @__PURE__ */ new WeakMap();
_position = /* @__PURE__ */ new WeakMap();
_initialIsOpen = /* @__PURE__ */ new WeakMap();
_shadowDOMTarget$1 = /* @__PURE__ */ new WeakMap();
_panelProps = /* @__PURE__ */ new WeakMap();
_closeButtonProps = /* @__PURE__ */ new WeakMap();
_toggleButtonProps = /* @__PURE__ */ new WeakMap();
_isMounted$1 = /* @__PURE__ */ new WeakMap();
_Component$1 = /* @__PURE__ */ new WeakMap();
_dispose$1 = /* @__PURE__ */ new WeakMap();

//#endregion
//#region node_modules/@tanstack/router-devtools-core/dist/esm/TanStackRouterDevtoolsPanelCore.js
var __typeError = (msg) => {
	throw TypeError(msg);
};
var __accessCheck = (obj, member, msg) => member.has(obj) || __typeError("Cannot " + msg);
var __privateGet = (obj, member, getter) => (__accessCheck(obj, member, "read from private field"), getter ? getter.call(obj) : member.get(obj));
var __privateAdd = (obj, member, value) => member.has(obj) ? __typeError("Cannot add the same private member more than once") : member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
var __privateSet = (obj, member, value, setter) => (__accessCheck(obj, member, "write to private field"), setter ? setter.call(obj, value) : member.set(obj, value), value);
var _router, _routerState, _shadowDOMTarget, _isMounted, _setIsOpen, _dispose, _Component;
var TanStackRouterDevtoolsPanelCore = class {
	constructor(config) {
		__privateAdd(this, _router);
		__privateAdd(this, _routerState);
		__privateAdd(this, _shadowDOMTarget);
		__privateAdd(this, _isMounted, false);
		__privateAdd(this, _setIsOpen);
		__privateAdd(this, _dispose);
		__privateAdd(this, _Component);
		const { router, routerState, shadowDOMTarget, setIsOpen } = config;
		__privateSet(this, _router, createSignal(router));
		__privateSet(this, _routerState, createSignal(routerState));
		__privateSet(this, _shadowDOMTarget, shadowDOMTarget);
		__privateSet(this, _setIsOpen, setIsOpen);
	}
	mount(el) {
		if (__privateGet(this, _isMounted)) throw new Error("Devtools is already mounted");
		const dispose = render(() => {
			const [router] = __privateGet(this, _router);
			const [routerState] = __privateGet(this, _routerState);
			const shadowDOMTarget = __privateGet(this, _shadowDOMTarget);
			const setIsOpen = __privateGet(this, _setIsOpen);
			let BaseTanStackRouterDevtoolsPanel;
			if (__privateGet(this, _Component)) BaseTanStackRouterDevtoolsPanel = __privateGet(this, _Component);
			else {
				BaseTanStackRouterDevtoolsPanel = lazy(() => import("./BaseTanStackRouterDevtoolsPanel-BM7K6KgE.js"));
				__privateSet(this, _Component, BaseTanStackRouterDevtoolsPanel);
			}
			return createComponent(ShadowDomTargetContext.Provider, {
				value: shadowDOMTarget,
				get children() {
					return createComponent(DevtoolsOnCloseContext.Provider, {
						value: { onCloseClick: () => {} },
						get children() {
							return createComponent(BaseTanStackRouterDevtoolsPanel, {
								router,
								routerState,
								shadowDOMTarget,
								setIsOpen
							});
						}
					});
				}
			});
		}, el);
		__privateSet(this, _isMounted, true);
		__privateSet(this, _dispose, dispose);
	}
	unmount() {
		var _a;
		if (!__privateGet(this, _isMounted)) throw new Error("Devtools is not mounted");
		(_a = __privateGet(this, _dispose)) == null || _a.call(this);
		__privateSet(this, _isMounted, false);
	}
	setRouter(router) {
		__privateGet(this, _router)[1](router);
	}
	setRouterState(routerState) {
		__privateGet(this, _routerState)[1](routerState);
	}
	setOptions(options) {
		if (options.shadowDOMTarget !== void 0) __privateSet(this, _shadowDOMTarget, options.shadowDOMTarget);
		if (options.router !== void 0) this.setRouter(options.router);
		if (options.routerState !== void 0) this.setRouterState(options.routerState);
	}
};
_router = /* @__PURE__ */ new WeakMap();
_routerState = /* @__PURE__ */ new WeakMap();
_shadowDOMTarget = /* @__PURE__ */ new WeakMap();
_isMounted = /* @__PURE__ */ new WeakMap();
_setIsOpen = /* @__PURE__ */ new WeakMap();
_dispose = /* @__PURE__ */ new WeakMap();
_Component = /* @__PURE__ */ new WeakMap();

//#endregion
//#region node_modules/@tanstack/react-router-devtools/dist/esm/TanStackRouterDevtools.js
var import_jsx_runtime = /* @__PURE__ */ __toESM(require_jsx_runtime(), 1);
var import_react = /* @__PURE__ */ __toESM(require_react(), 1);
function TanStackRouterDevtools$1(props) {
	const { initialIsOpen, panelProps, closeButtonProps, toggleButtonProps, position, containerElement, shadowDOMTarget, router: propsRouter } = props;
	const hookRouter = useRouter({ warn: false });
	const activeRouter = propsRouter ?? hookRouter;
	const activeRouterState = useRouterState({ router: activeRouter });
	const devToolRef = (0, import_react.useRef)(null);
	const [devtools] = (0, import_react.useState)(() => new TanStackRouterDevtoolsCore({
		initialIsOpen,
		panelProps,
		closeButtonProps,
		toggleButtonProps,
		position,
		containerElement,
		shadowDOMTarget,
		router: activeRouter,
		routerState: activeRouterState
	}));
	(0, import_react.useEffect)(() => {
		devtools.setRouter(activeRouter);
	}, [devtools, activeRouter]);
	(0, import_react.useEffect)(() => {
		devtools.setRouterState(activeRouterState);
	}, [devtools, activeRouterState]);
	(0, import_react.useEffect)(() => {
		devtools.setOptions({
			initialIsOpen,
			panelProps,
			closeButtonProps,
			toggleButtonProps,
			position,
			containerElement,
			shadowDOMTarget
		});
	}, [
		devtools,
		initialIsOpen,
		panelProps,
		closeButtonProps,
		toggleButtonProps,
		position,
		containerElement,
		shadowDOMTarget
	]);
	(0, import_react.useEffect)(() => {
		if (devToolRef.current) devtools.mount(devToolRef.current);
		return () => {
			devtools.unmount();
		};
	}, [devtools]);
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_react.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)("div", { ref: devToolRef }) });
}

//#endregion
//#region node_modules/@tanstack/react-router-devtools/dist/esm/TanStackRouterDevtoolsPanel.js
var TanStackRouterDevtoolsPanel$1 = (props) => {
	const { router: propsRouter,...rest } = props;
	const hookRouter = useRouter({ warn: false });
	const activeRouter = propsRouter ?? hookRouter;
	const activeRouterState = useRouterState({ router: activeRouter });
	const devToolRef = (0, import_react.useRef)(null);
	const [devtools] = (0, import_react.useState)(() => new TanStackRouterDevtoolsPanelCore({
		...rest,
		router: activeRouter,
		routerState: activeRouterState
	}));
	(0, import_react.useEffect)(() => {
		devtools.setRouter(activeRouter);
	}, [devtools, activeRouter]);
	(0, import_react.useEffect)(() => {
		devtools.setRouterState(activeRouterState);
	}, [devtools, activeRouterState]);
	(0, import_react.useEffect)(() => {
		devtools.setOptions({
			className: props.className,
			style: props.style,
			shadowDOMTarget: props.shadowDOMTarget
		});
	}, [
		devtools,
		props.className,
		props.style,
		props.shadowDOMTarget
	]);
	(0, import_react.useEffect)(() => {
		if (devToolRef.current) devtools.mount(devToolRef.current);
		return () => {
			devtools.unmount();
		};
	}, [devtools]);
	return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children: /* @__PURE__ */ (0, import_jsx_runtime.jsx)("div", { ref: devToolRef }) });
};

//#endregion
//#region node_modules/@tanstack/react-router-devtools/dist/esm/index.js
var TanStackRouterDevtools = TanStackRouterDevtools$1;
var TanStackRouterDevtoolsInProd = TanStackRouterDevtools$1;
var TanStackRouterDevtoolsPanel = TanStackRouterDevtoolsPanel$1;
var TanStackRouterDevtoolsPanelInProd = TanStackRouterDevtoolsPanel$1;

//#endregion
export { TanStackRouterDevtools, TanStackRouterDevtoolsInProd, TanStackRouterDevtoolsPanel, TanStackRouterDevtoolsPanelInProd };
//# sourceMappingURL=@tanstack_react-router-devtools.js.map